!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="build/",n(n.s=93)}([function(e,t,n){var r;void 0===(r=function(e){"use strict";function t(e,t){return null!=e?e:t}t.EMPTY_OBJECT=Object.freeze({}),e.defaultValue=t,e.defined=function(e){return null!=e}}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r,i;r=[t,n(0)],void 0===(i=function(e,t){"use strict";function n(e){let t;this.name="DeveloperError",this.message=e;try{throw new Error}catch(e){t=e.stack}this.stack=t}t.defined(Object.create)&&(n.prototype=Object.create(Error.prototype),n.prototype.constructor=n),n.prototype.toString=function(){let e=`${this.name}: ${this.message}`;return t.defined(this.stack)&&(e+="\n"+this.stack.toString()),e},n.throwInstantiationError=function(){throw new n("This function defines an interface and should not be called directly.")};const r={};function i(e,t,n){return`Expected ${n} to be typeof ${t}, actual typeof was ${e}`}function a(e){let t;this.name="RuntimeError",this.message=e;try{throw new Error}catch(e){t=e.stack}this.stack=t}r.typeOf={},r.defined=function(e,r){if(!t.defined(r))throw new n(function(e){return e+" is required, actual value was undefined"}(e))},r.typeOf.func=function(e,t){if("function"!=typeof t)throw new n(i(typeof t,"function",e))},r.typeOf.string=function(e,t){if("string"!=typeof t)throw new n(i(typeof t,"string",e))},r.typeOf.number=function(e,t){if("number"!=typeof t)throw new n(i(typeof t,"number",e))},r.typeOf.number.lessThan=function(e,t,i){if(r.typeOf.number(e,t),t>=i)throw new n(`Expected ${e} to be less than ${i}, actual value was ${t}`)},r.typeOf.number.lessThanOrEquals=function(e,t,i){if(r.typeOf.number(e,t),t>i)throw new n(`Expected ${e} to be less than or equal to ${i}, actual value was ${t}`)},r.typeOf.number.greaterThan=function(e,t,i){if(r.typeOf.number(e,t),t<=i)throw new n(`Expected ${e} to be greater than ${i}, actual value was ${t}`)},r.typeOf.number.greaterThanOrEquals=function(e,t,i){if(r.typeOf.number(e,t),t<i)throw new n(`Expected ${e} to be greater than or equal to ${i}, actual value was ${t}`)},r.typeOf.object=function(e,t){if("object"!=typeof t)throw new n(i(typeof t,"object",e))},r.typeOf.bool=function(e,t){if("boolean"!=typeof t)throw new n(i(typeof t,"boolean",e))},r.typeOf.bigint=function(e,t){if("bigint"!=typeof t)throw new n(i(typeof t,"bigint",e))},r.typeOf.number.equals=function(e,t,i,a){if(r.typeOf.number(e,i),r.typeOf.number(t,a),i!==a)throw new n(`${e} must be equal to ${t}, the actual values are ${i} and ${a}`)},t.defined(Object.create)&&(a.prototype=Object.create(Error.prototype),a.prototype.constructor=a),a.prototype.toString=function(){let e=`${this.name}: ${this.message}`;return t.defined(this.stack)&&(e+="\n"+this.stack.toString()),e},e.Check=r,e.DeveloperError=n,e.RuntimeError=a}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(1),n(0),n(3)],void 0===(i=function(e,t,n,r){"use strict";function i(e,t,r){this.x=n.defaultValue(e,0),this.y=n.defaultValue(t,0),this.z=n.defaultValue(r,0)}i.fromSpherical=function(e,t){n.defined(t)||(t=new i);const r=e.clock,a=e.cone,o=n.defaultValue(e.magnitude,1),s=o*Math.sin(a);return t.x=s*Math.cos(r),t.y=s*Math.sin(r),t.z=o*Math.cos(a),t},i.fromElements=function(e,t,r,a){return n.defined(a)?(a.x=e,a.y=t,a.z=r,a):new i(e,t,r)},i.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t):new i(e.x,e.y,e.z)},i.fromCartesian4=i.clone,i.packedLength=3,i.pack=function(e,t,r){return r=n.defaultValue(r,0),t[r++]=e.x,t[r++]=e.y,t[r]=e.z,t},i.unpack=function(e,t,r){return t=n.defaultValue(t,0),n.defined(r)||(r=new i),r.x=e[t++],r.y=e[t++],r.z=e[t],r},i.packArray=function(e,t){const r=e.length,a=3*r;n.defined(t)?(Array.isArray(t)||t.length===a)&&t.length!==a&&(t.length=a):t=new Array(a);for(let n=0;n<r;++n)i.pack(e[n],t,3*n);return t},i.unpackArray=function(e,t){const r=e.length;n.defined(t)?t.length=r/3:t=new Array(r/3);for(let n=0;n<r;n+=3){const r=n/3;t[r]=i.unpack(e,n,t[r])}return t},i.fromArray=i.unpack,i.maximumComponent=function(e){return Math.max(e.x,e.y,e.z)},i.minimumComponent=function(e){return Math.min(e.x,e.y,e.z)},i.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n},i.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n},i.clamp=function(e,t,n,i){const a=r.CesiumMath.clamp(e.x,t.x,n.x),o=r.CesiumMath.clamp(e.y,t.y,n.y),s=r.CesiumMath.clamp(e.z,t.z,n.z);return i.x=a,i.y=o,i.z=s,i},i.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},i.magnitude=function(e){return Math.sqrt(i.magnitudeSquared(e))};const a=new i;i.distance=function(e,t){return i.subtract(e,t,a),i.magnitude(a)},i.distanceSquared=function(e,t){return i.subtract(e,t,a),i.magnitudeSquared(a)},i.normalize=function(e,t){const n=i.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t},i.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z},i.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n},i.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n},i.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n},i.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n},i.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n},i.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},i.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t},i.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t};const o=new i;i.lerp=function(e,t,n,r){return i.multiplyByScalar(t,n,o),r=i.multiplyByScalar(e,1-n,r),i.add(o,r,r)};const s=new i,u=new i;i.angleBetween=function(e,t){i.normalize(e,s),i.normalize(t,u);const n=i.dot(s,u),r=i.magnitude(i.cross(s,u,s));return Math.atan2(r,n)};const l=new i;i.mostOrthogonalAxis=function(e,t){const n=i.normalize(e,l);return i.abs(n,n),t=n.x<=n.y?n.x<=n.z?i.clone(i.UNIT_X,t):i.clone(i.UNIT_Z,t):n.y<=n.z?i.clone(i.UNIT_Y,t):i.clone(i.UNIT_Z,t)},i.projectVector=function(e,t,n){const r=i.dot(e,t)/i.dot(t,t);return i.multiplyByScalar(t,r,n)},i.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z},i.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]},i.equalsEpsilon=function(e,t,i,a){return e===t||n.defined(e)&&n.defined(t)&&r.CesiumMath.equalsEpsilon(e.x,t.x,i,a)&&r.CesiumMath.equalsEpsilon(e.y,t.y,i,a)&&r.CesiumMath.equalsEpsilon(e.z,t.z,i,a)},i.cross=function(e,t,n){const r=e.x,i=e.y,a=e.z,o=t.x,s=t.y,u=t.z,l=i*u-a*s,c=a*o-r*u,f=r*s-i*o;return n.x=l,n.y=c,n.z=f,n},i.midpoint=function(e,t,n){return n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y),n.z=.5*(e.z+t.z),n},i.fromDegrees=function(e,t,n,a,o){return e=r.CesiumMath.toRadians(e),t=r.CesiumMath.toRadians(t),i.fromRadians(e,t,n,a,o)};let c=new i,f=new i;const d=new i(40680631590769,40680631590769,40408299984661.445);i.fromRadians=function(e,t,r,a,o){r=n.defaultValue(r,0);const s=n.defined(a)?a.radiiSquared:d,u=Math.cos(t);c.x=u*Math.cos(e),c.y=u*Math.sin(e),c.z=Math.sin(t),c=i.normalize(c,c),i.multiplyComponents(s,c,f);const l=Math.sqrt(i.dot(c,f));return f=i.divideByScalar(f,l,f),c=i.multiplyByScalar(c,r,c),n.defined(o)||(o=new i),i.add(f,c,o)},i.fromDegreesArray=function(e,t,r){const a=e.length;n.defined(r)?r.length=a/2:r=new Array(a/2);for(let n=0;n<a;n+=2){const a=e[n],o=e[n+1],s=n/2;r[s]=i.fromDegrees(a,o,0,t,r[s])}return r},i.fromRadiansArray=function(e,t,r){const a=e.length;n.defined(r)?r.length=a/2:r=new Array(a/2);for(let n=0;n<a;n+=2){const a=e[n],o=e[n+1],s=n/2;r[s]=i.fromRadians(a,o,0,t,r[s])}return r},i.fromDegreesArrayHeights=function(e,t,r){const a=e.length;n.defined(r)?r.length=a/3:r=new Array(a/3);for(let n=0;n<a;n+=3){const a=e[n],o=e[n+1],s=e[n+2],u=n/3;r[u]=i.fromDegrees(a,o,s,t,r[u])}return r},i.fromRadiansArrayHeights=function(e,t,r){const a=e.length;n.defined(r)?r.length=a/3:r=new Array(a/3);for(let n=0;n<a;n+=3){const a=e[n],o=e[n+1],s=e[n+2],u=n/3;r[u]=i.fromRadians(a,o,s,t,r[u])}return r},i.ZERO=Object.freeze(new i(0,0,0)),i.ONE=Object.freeze(new i(1,1,1)),i.UNIT_X=Object.freeze(new i(1,0,0)),i.UNIT_Y=Object.freeze(new i(0,1,0)),i.UNIT_Z=Object.freeze(new i(0,0,1)),i.prototype.clone=function(e){return i.clone(this,e)},i.prototype.equals=function(e){return i.equals(this,e)},i.prototype.equalsEpsilon=function(e,t,n){return i.equalsEpsilon(this,e,t,n)},i.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z})`};const p=new i,h=new i;function m(e,t,a,o,s){const u=e.x,l=e.y,c=e.z,f=t.x,d=t.y,m=t.z,_=u*u*f*f,y=l*l*d*d,g=c*c*m*m,C=_+y+g,b=Math.sqrt(1/C),A=i.multiplyByScalar(e,b,p);if(C<o)return isFinite(b)?i.clone(A,s):void 0;const E=a.x,w=a.y,T=a.z,x=h;x.x=A.x*E*2,x.y=A.y*w*2,x.z=A.z*T*2;let v,R,O,M,S,I,P,N,L,D,F,G=(1-b)*i.magnitude(e)/(.5*i.magnitude(x)),B=0;do{G-=B,O=1/(1+G*E),M=1/(1+G*w),S=1/(1+G*T),I=O*O,P=M*M,N=S*S,L=I*O,D=P*M,F=N*S,v=_*I+y*P+g*N-1,R=_*L*E+y*D*w+g*F*T;B=v/(-2*R)}while(Math.abs(v)>r.CesiumMath.EPSILON12);return n.defined(s)?(s.x=u*O,s.y=l*M,s.z=c*S,s):new i(u*O,l*M,c*S)}function _(e,t,r){this.longitude=n.defaultValue(e,0),this.latitude=n.defaultValue(t,0),this.height=n.defaultValue(r,0)}_.fromRadians=function(e,t,r,i){return r=n.defaultValue(r,0),n.defined(i)?(i.longitude=e,i.latitude=t,i.height=r,i):new _(e,t,r)},_.fromDegrees=function(e,t,n,i){return e=r.CesiumMath.toRadians(e),t=r.CesiumMath.toRadians(t),_.fromRadians(e,t,n,i)};const y=new i,g=new i,C=new i,b=new i(1/6378137,1/6378137,1/6356752.314245179),A=new i(1/40680631590769,1/40680631590769,1/40408299984661.445),E=r.CesiumMath.EPSILON1;function w(e,t,a,o){t=n.defaultValue(t,0),a=n.defaultValue(a,0),o=n.defaultValue(o,0),e._radii=new i(t,a,o),e._radiiSquared=new i(t*t,a*a,o*o),e._radiiToTheFourth=new i(t*t*t*t,a*a*a*a,o*o*o*o),e._oneOverRadii=new i(0===t?0:1/t,0===a?0:1/a,0===o?0:1/o),e._oneOverRadiiSquared=new i(0===t?0:1/(t*t),0===a?0:1/(a*a),0===o?0:1/(o*o)),e._minimumRadius=Math.min(t,a,o),e._maximumRadius=Math.max(t,a,o),e._centerToleranceSquared=r.CesiumMath.EPSILON1,0!==e._radiiSquared.z&&(e._squaredXOverSquaredZ=e._radiiSquared.x/e._radiiSquared.z)}function T(e,t,n){this._radii=void 0,this._radiiSquared=void 0,this._radiiToTheFourth=void 0,this._oneOverRadii=void 0,this._oneOverRadiiSquared=void 0,this._minimumRadius=void 0,this._maximumRadius=void 0,this._centerToleranceSquared=void 0,this._squaredXOverSquaredZ=void 0,w(this,e,t,n)}_.fromCartesian=function(e,t,a){const o=n.defined(t)?t.oneOverRadii:b,s=n.defined(t)?t.oneOverRadiiSquared:A,u=m(e,o,s,n.defined(t)?t._centerToleranceSquared:E,g);if(!n.defined(u))return;let l=i.multiplyComponents(u,s,y);l=i.normalize(l,l);const c=i.subtract(e,u,C),f=Math.atan2(l.y,l.x),d=Math.asin(l.z),p=r.CesiumMath.sign(i.dot(c,e))*i.magnitude(c);return n.defined(a)?(a.longitude=f,a.latitude=d,a.height=p,a):new _(f,d,p)},_.toCartesian=function(e,t,n){return i.fromRadians(e.longitude,e.latitude,e.height,t,n)},_.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.longitude=e.longitude,t.latitude=e.latitude,t.height=e.height,t):new _(e.longitude,e.latitude,e.height)},_.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.longitude===t.longitude&&e.latitude===t.latitude&&e.height===t.height},_.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e.longitude-t.longitude)<=r&&Math.abs(e.latitude-t.latitude)<=r&&Math.abs(e.height-t.height)<=r},_.ZERO=Object.freeze(new _(0,0,0)),_.prototype.clone=function(e){return _.clone(this,e)},_.prototype.equals=function(e){return _.equals(this,e)},_.prototype.equalsEpsilon=function(e,t){return _.equalsEpsilon(this,e,t)},_.prototype.toString=function(){return`(${this.longitude}, ${this.latitude}, ${this.height})`},Object.defineProperties(T.prototype,{radii:{get:function(){return this._radii}},radiiSquared:{get:function(){return this._radiiSquared}},radiiToTheFourth:{get:function(){return this._radiiToTheFourth}},oneOverRadii:{get:function(){return this._oneOverRadii}},oneOverRadiiSquared:{get:function(){return this._oneOverRadiiSquared}},minimumRadius:{get:function(){return this._minimumRadius}},maximumRadius:{get:function(){return this._maximumRadius}}}),T.clone=function(e,t){if(!n.defined(e))return;const r=e._radii;return n.defined(t)?(i.clone(r,t._radii),i.clone(e._radiiSquared,t._radiiSquared),i.clone(e._radiiToTheFourth,t._radiiToTheFourth),i.clone(e._oneOverRadii,t._oneOverRadii),i.clone(e._oneOverRadiiSquared,t._oneOverRadiiSquared),t._minimumRadius=e._minimumRadius,t._maximumRadius=e._maximumRadius,t._centerToleranceSquared=e._centerToleranceSquared,t):new T(r.x,r.y,r.z)},T.fromCartesian3=function(e,t){return n.defined(t)||(t=new T),n.defined(e)?(w(t,e.x,e.y,e.z),t):t},T.WGS84=Object.freeze(new T(6378137,6378137,6356752.314245179)),T.UNIT_SPHERE=Object.freeze(new T(1,1,1)),T.MOON=Object.freeze(new T(r.CesiumMath.LUNAR_RADIUS,r.CesiumMath.LUNAR_RADIUS,r.CesiumMath.LUNAR_RADIUS)),T.prototype.clone=function(e){return T.clone(this,e)},T.packedLength=i.packedLength,T.pack=function(e,t,r){return r=n.defaultValue(r,0),i.pack(e._radii,t,r),t},T.unpack=function(e,t,r){t=n.defaultValue(t,0);const a=i.unpack(e,t);return T.fromCartesian3(a,r)},T.prototype.geocentricSurfaceNormal=i.normalize,T.prototype.geodeticSurfaceNormalCartographic=function(e,t){const r=e.longitude,a=e.latitude,o=Math.cos(a),s=o*Math.cos(r),u=o*Math.sin(r),l=Math.sin(a);return n.defined(t)||(t=new i),t.x=s,t.y=u,t.z=l,i.normalize(t,t)},T.prototype.geodeticSurfaceNormal=function(e,t){if(!i.equalsEpsilon(e,i.ZERO,r.CesiumMath.EPSILON14))return n.defined(t)||(t=new i),t=i.multiplyComponents(e,this._oneOverRadiiSquared,t),i.normalize(t,t)};const x=new i,v=new i;T.prototype.cartographicToCartesian=function(e,t){const r=x,a=v;this.geodeticSurfaceNormalCartographic(e,r),i.multiplyComponents(this._radiiSquared,r,a);const o=Math.sqrt(i.dot(r,a));return i.divideByScalar(a,o,a),i.multiplyByScalar(r,e.height,r),n.defined(t)||(t=new i),i.add(a,r,t)},T.prototype.cartographicArrayToCartesianArray=function(e,t){const r=e.length;n.defined(t)?t.length=r:t=new Array(r);for(let n=0;n<r;n++)t[n]=this.cartographicToCartesian(e[n],t[n]);return t};const R=new i,O=new i,M=new i;T.prototype.cartesianToCartographic=function(e,t){const a=this.scaleToGeodeticSurface(e,O);if(!n.defined(a))return;const o=this.geodeticSurfaceNormal(a,R),s=i.subtract(e,a,M),u=Math.atan2(o.y,o.x),l=Math.asin(o.z),c=r.CesiumMath.sign(i.dot(s,e))*i.magnitude(s);return n.defined(t)?(t.longitude=u,t.latitude=l,t.height=c,t):new _(u,l,c)},T.prototype.cartesianArrayToCartographicArray=function(e,t){const r=e.length;n.defined(t)?t.length=r:t=new Array(r);for(let n=0;n<r;++n)t[n]=this.cartesianToCartographic(e[n],t[n]);return t},T.prototype.scaleToGeodeticSurface=function(e,t){return m(e,this._oneOverRadii,this._oneOverRadiiSquared,this._centerToleranceSquared,t)},T.prototype.scaleToGeocentricSurface=function(e,t){n.defined(t)||(t=new i);const r=e.x,a=e.y,o=e.z,s=this._oneOverRadiiSquared,u=1/Math.sqrt(r*r*s.x+a*a*s.y+o*o*s.z);return i.multiplyByScalar(e,u,t)},T.prototype.transformPositionToScaledSpace=function(e,t){return n.defined(t)||(t=new i),i.multiplyComponents(e,this._oneOverRadii,t)},T.prototype.transformPositionFromScaledSpace=function(e,t){return n.defined(t)||(t=new i),i.multiplyComponents(e,this._radii,t)},T.prototype.equals=function(e){return this===e||n.defined(e)&&i.equals(this._radii,e._radii)},T.prototype.toString=function(){return this._radii.toString()},T.prototype.getSurfaceNormalIntersectionWithZAxis=function(e,t,r){t=n.defaultValue(t,0);const a=this._squaredXOverSquaredZ;if(n.defined(r)||(r=new i),r.x=0,r.y=0,r.z=e.z*(1-a),!(Math.abs(r.z)>=this._radii.z-t))return r};const S=[.14887433898163,.43339539412925,.67940956829902,.86506336668898,.97390652851717,0],I=[.29552422471475,.26926671930999,.21908636251598,.14945134915058,.066671344308684,0];function P(e,t,n){const r=.5*(t+e),i=.5*(t-e);let a=0;for(let e=0;e<5;e++){const t=i*S[e];a+=I[e]*(n(r+t)+n(r-t))}return a*=i,a}function N(e,t,r,i,a,o,s,u,l){this[0]=n.defaultValue(e,0),this[1]=n.defaultValue(i,0),this[2]=n.defaultValue(s,0),this[3]=n.defaultValue(t,0),this[4]=n.defaultValue(a,0),this[5]=n.defaultValue(u,0),this[6]=n.defaultValue(r,0),this[7]=n.defaultValue(o,0),this[8]=n.defaultValue(l,0)}T.prototype.surfaceArea=function(e){const t=e.west;let n=e.east;const i=e.south,a=e.north;for(;n<t;)n+=r.CesiumMath.TWO_PI;const o=this._radiiSquared,s=o.x,u=o.y,l=o.z,c=s*u;return P(i,a,(function(e){const r=Math.cos(e),i=Math.sin(e);return Math.cos(e)*P(t,n,(function(e){const t=Math.cos(e),n=Math.sin(e);return Math.sqrt(c*i*i+l*(u*t*t+s*n*n)*r*r)}))}))},N.packedLength=9,N.pack=function(e,t,r){return r=n.defaultValue(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t},N.unpack=function(e,t,r){return t=n.defaultValue(t,0),n.defined(r)||(r=new N),r[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r[4]=e[t++],r[5]=e[t++],r[6]=e[t++],r[7]=e[t++],r[8]=e[t++],r},N.packArray=function(e,t){const r=e.length,i=9*r;n.defined(t)?(Array.isArray(t)||t.length===i)&&t.length!==i&&(t.length=i):t=new Array(i);for(let n=0;n<r;++n)N.pack(e[n],t,9*n);return t},N.unpackArray=function(e,t){const r=e.length;n.defined(t)?t.length=r/9:t=new Array(r/9);for(let n=0;n<r;n+=9){const r=n/9;t[r]=N.unpack(e,n,t[r])}return t},N.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):new N(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])},N.fromArray=N.unpack,N.fromColumnMajorArray=function(e,t){return N.clone(e,t)},N.fromRowMajorArray=function(e,t){return n.defined(t)?(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],t):new N(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},N.fromQuaternion=function(e,t){const r=e.x*e.x,i=e.x*e.y,a=e.x*e.z,o=e.x*e.w,s=e.y*e.y,u=e.y*e.z,l=e.y*e.w,c=e.z*e.z,f=e.z*e.w,d=e.w*e.w,p=r-s-c+d,h=2*(i-f),m=2*(a+l),_=2*(i+f),y=-r+s-c+d,g=2*(u-o),C=2*(a-l),b=2*(u+o),A=-r-s+c+d;return n.defined(t)?(t[0]=p,t[1]=_,t[2]=C,t[3]=h,t[4]=y,t[5]=b,t[6]=m,t[7]=g,t[8]=A,t):new N(p,h,m,_,y,g,C,b,A)},N.fromHeadingPitchRoll=function(e,t){const r=Math.cos(-e.pitch),i=Math.cos(-e.heading),a=Math.cos(e.roll),o=Math.sin(-e.pitch),s=Math.sin(-e.heading),u=Math.sin(e.roll),l=r*i,c=-a*s+u*o*i,f=u*s+a*o*i,d=r*s,p=a*i+u*o*s,h=-u*i+a*o*s,m=-o,_=u*r,y=a*r;return n.defined(t)?(t[0]=l,t[1]=d,t[2]=m,t[3]=c,t[4]=p,t[5]=_,t[6]=f,t[7]=h,t[8]=y,t):new N(l,c,f,d,p,h,m,_,y)},N.fromScale=function(e,t){return n.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=e.y,t[5]=0,t[6]=0,t[7]=0,t[8]=e.z,t):new N(e.x,0,0,0,e.y,0,0,0,e.z)},N.fromUniformScale=function(e,t){return n.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=e,t[5]=0,t[6]=0,t[7]=0,t[8]=e,t):new N(e,0,0,0,e,0,0,0,e)},N.fromCrossProduct=function(e,t){return n.defined(t)?(t[0]=0,t[1]=e.z,t[2]=-e.y,t[3]=-e.z,t[4]=0,t[5]=e.x,t[6]=e.y,t[7]=-e.x,t[8]=0,t):new N(0,-e.z,e.y,e.z,0,-e.x,-e.y,e.x,0)},N.fromRotationX=function(e,t){const r=Math.cos(e),i=Math.sin(e);return n.defined(t)?(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=r,t[5]=i,t[6]=0,t[7]=-i,t[8]=r,t):new N(1,0,0,0,r,-i,0,i,r)},N.fromRotationY=function(e,t){const r=Math.cos(e),i=Math.sin(e);return n.defined(t)?(t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=1,t[5]=0,t[6]=i,t[7]=0,t[8]=r,t):new N(r,0,i,0,1,0,-i,0,r)},N.fromRotationZ=function(e,t){const r=Math.cos(e),i=Math.sin(e);return n.defined(t)?(t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t):new N(r,-i,0,i,r,0,0,0,1)},N.toArray=function(e,t){return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},N.getElementIndex=function(e,t){return 3*e+t},N.getColumn=function(e,t,n){const r=3*t,i=e[r],a=e[r+1],o=e[r+2];return n.x=i,n.y=a,n.z=o,n},N.setColumn=function(e,t,n,r){const i=3*t;return(r=N.clone(e,r))[i]=n.x,r[i+1]=n.y,r[i+2]=n.z,r},N.getRow=function(e,t,n){const r=e[t],i=e[t+3],a=e[t+6];return n.x=r,n.y=i,n.z=a,n},N.setRow=function(e,t,n,r){return(r=N.clone(e,r))[t]=n.x,r[t+3]=n.y,r[t+6]=n.z,r};const L=new i;N.setScale=function(e,t,n){const r=N.getScale(e,L),i=t.x/r.x,a=t.y/r.y,o=t.z/r.z;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*a,n[4]=e[4]*a,n[5]=e[5]*a,n[6]=e[6]*o,n[7]=e[7]*o,n[8]=e[8]*o,n};const D=new i;N.setUniformScale=function(e,t,n){const r=N.getScale(e,D),i=t/r.x,a=t/r.y,o=t/r.z;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*a,n[4]=e[4]*a,n[5]=e[5]*a,n[6]=e[6]*o,n[7]=e[7]*o,n[8]=e[8]*o,n};const F=new i;N.getScale=function(e,t){return t.x=i.magnitude(i.fromElements(e[0],e[1],e[2],F)),t.y=i.magnitude(i.fromElements(e[3],e[4],e[5],F)),t.z=i.magnitude(i.fromElements(e[6],e[7],e[8],F)),t};const G=new i;N.getMaximumScale=function(e){return N.getScale(e,G),i.maximumComponent(G)};const B=new i;N.setRotation=function(e,t,n){const r=N.getScale(e,B);return n[0]=t[0]*r.x,n[1]=t[1]*r.x,n[2]=t[2]*r.x,n[3]=t[3]*r.y,n[4]=t[4]*r.y,n[5]=t[5]*r.y,n[6]=t[6]*r.z,n[7]=t[7]*r.z,n[8]=t[8]*r.z,n};const U=new i;N.getRotation=function(e,t){const n=N.getScale(e,U);return t[0]=e[0]/n.x,t[1]=e[1]/n.x,t[2]=e[2]/n.x,t[3]=e[3]/n.y,t[4]=e[4]/n.y,t[5]=e[5]/n.y,t[6]=e[6]/n.z,t[7]=e[7]/n.z,t[8]=e[8]/n.z,t},N.multiply=function(e,t,n){const r=e[0]*t[0]+e[3]*t[1]+e[6]*t[2],i=e[1]*t[0]+e[4]*t[1]+e[7]*t[2],a=e[2]*t[0]+e[5]*t[1]+e[8]*t[2],o=e[0]*t[3]+e[3]*t[4]+e[6]*t[5],s=e[1]*t[3]+e[4]*t[4]+e[7]*t[5],u=e[2]*t[3]+e[5]*t[4]+e[8]*t[5],l=e[0]*t[6]+e[3]*t[7]+e[6]*t[8],c=e[1]*t[6]+e[4]*t[7]+e[7]*t[8],f=e[2]*t[6]+e[5]*t[7]+e[8]*t[8];return n[0]=r,n[1]=i,n[2]=a,n[3]=o,n[4]=s,n[5]=u,n[6]=l,n[7]=c,n[8]=f,n},N.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n},N.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n},N.multiplyByVector=function(e,t,n){const r=t.x,i=t.y,a=t.z,o=e[0]*r+e[3]*i+e[6]*a,s=e[1]*r+e[4]*i+e[7]*a,u=e[2]*r+e[5]*i+e[8]*a;return n.x=o,n.y=s,n.z=u,n},N.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},N.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.x,n[3]=e[3]*t.y,n[4]=e[4]*t.y,n[5]=e[5]*t.y,n[6]=e[6]*t.z,n[7]=e[7]*t.z,n[8]=e[8]*t.z,n},N.multiplyByUniformScale=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n},N.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t},N.transpose=function(e,t){const n=e[0],r=e[3],i=e[6],a=e[1],o=e[4],s=e[7],u=e[2],l=e[5],c=e[8];return t[0]=n,t[1]=r,t[2]=i,t[3]=a,t[4]=o,t[5]=s,t[6]=u,t[7]=l,t[8]=c,t};const k=[1,0,0],V=[2,2,1];function z(e){let t=0;for(let n=0;n<3;++n){const r=e[N.getElementIndex(V[n],k[n])];t+=2*r*r}return Math.sqrt(t)}function j(e,t){const n=r.CesiumMath.EPSILON15;let i=0,a=1;for(let t=0;t<3;++t){const n=Math.abs(e[N.getElementIndex(V[t],k[t])]);n>i&&(a=t,i=n)}let o=1,s=0;const u=k[a],l=V[a];if(Math.abs(e[N.getElementIndex(l,u)])>n){const t=(e[N.getElementIndex(l,l)]-e[N.getElementIndex(u,u)])/2/e[N.getElementIndex(l,u)];let n;n=t<0?-1/(-t+Math.sqrt(1+t*t)):1/(t+Math.sqrt(1+t*t)),o=1/Math.sqrt(1+n*n),s=n*o}return(t=N.clone(N.IDENTITY,t))[N.getElementIndex(u,u)]=t[N.getElementIndex(l,l)]=o,t[N.getElementIndex(l,u)]=s,t[N.getElementIndex(u,l)]=-s,t}const H=new N,q=new N;N.computeEigenDecomposition=function(e,t){const i=r.CesiumMath.EPSILON20;let a=0,o=0;n.defined(t)||(t={});const s=t.unitary=N.clone(N.IDENTITY,t.unitary),u=t.diagonal=N.clone(e,t.diagonal),l=i*function(e){let t=0;for(let n=0;n<9;++n){const r=e[n];t+=r*r}return Math.sqrt(t)}(u);for(;o<10&&z(u)>l;)j(u,H),N.transpose(H,q),N.multiply(u,H,u),N.multiply(q,u,u),N.multiply(s,H,s),++a>2&&(++o,a=0);return t},N.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t},N.determinant=function(e){const t=e[0],n=e[3],r=e[6],i=e[1],a=e[4],o=e[7],s=e[2],u=e[5],l=e[8];return t*(a*l-u*o)+i*(u*r-n*l)+s*(n*o-a*r)},N.inverse=function(e,t){const n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=N.determinant(e);t[0]=o*c-l*s,t[1]=l*i-r*c,t[2]=r*s-o*i,t[3]=u*s-a*c,t[4]=n*c-u*i,t[5]=a*i-n*s,t[6]=a*l-u*o,t[7]=u*r-n*l,t[8]=n*o-a*r;const d=1/f;return N.multiplyByScalar(t,d,t)};const W=new N;function K(e,t,r,i){this.x=n.defaultValue(e,0),this.y=n.defaultValue(t,0),this.z=n.defaultValue(r,0),this.w=n.defaultValue(i,0)}N.inverseTranspose=function(e,t){return N.inverse(N.transpose(e,W),t)},N.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]},N.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r},N.IDENTITY=Object.freeze(new N(1,0,0,0,1,0,0,0,1)),N.ZERO=Object.freeze(new N(0,0,0,0,0,0,0,0,0)),N.COLUMN0ROW0=0,N.COLUMN0ROW1=1,N.COLUMN0ROW2=2,N.COLUMN1ROW0=3,N.COLUMN1ROW1=4,N.COLUMN1ROW2=5,N.COLUMN2ROW0=6,N.COLUMN2ROW1=7,N.COLUMN2ROW2=8,Object.defineProperties(N.prototype,{length:{get:function(){return N.packedLength}}}),N.prototype.clone=function(e){return N.clone(this,e)},N.prototype.equals=function(e){return N.equals(this,e)},N.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]},N.prototype.equalsEpsilon=function(e,t){return N.equalsEpsilon(this,e,t)},N.prototype.toString=function(){return`(${this[0]}, ${this[3]}, ${this[6]})\n(${this[1]}, ${this[4]}, ${this[7]})\n(${this[2]}, ${this[5]}, ${this[8]})`},K.fromElements=function(e,t,r,i,a){return n.defined(a)?(a.x=e,a.y=t,a.z=r,a.w=i,a):new K(e,t,r,i)},K.fromColor=function(e,t){return n.defined(t)?(t.x=e.red,t.y=e.green,t.z=e.blue,t.w=e.alpha,t):new K(e.red,e.green,e.blue,e.alpha)},K.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new K(e.x,e.y,e.z,e.w)},K.packedLength=4,K.pack=function(e,t,r){return r=n.defaultValue(r,0),t[r++]=e.x,t[r++]=e.y,t[r++]=e.z,t[r]=e.w,t},K.unpack=function(e,t,r){return t=n.defaultValue(t,0),n.defined(r)||(r=new K),r.x=e[t++],r.y=e[t++],r.z=e[t++],r.w=e[t],r},K.packArray=function(e,t){const r=e.length,i=4*r;n.defined(t)?(Array.isArray(t)||t.length===i)&&t.length!==i&&(t.length=i):t=new Array(i);for(let n=0;n<r;++n)K.pack(e[n],t,4*n);return t},K.unpackArray=function(e,t){const r=e.length;n.defined(t)?t.length=r/4:t=new Array(r/4);for(let n=0;n<r;n+=4){const r=n/4;t[r]=K.unpack(e,n,t[r])}return t},K.fromArray=K.unpack,K.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},K.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},K.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n.z=Math.min(e.z,t.z),n.w=Math.min(e.w,t.w),n},K.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n.z=Math.max(e.z,t.z),n.w=Math.max(e.w,t.w),n},K.clamp=function(e,t,n,i){const a=r.CesiumMath.clamp(e.x,t.x,n.x),o=r.CesiumMath.clamp(e.y,t.y,n.y),s=r.CesiumMath.clamp(e.z,t.z,n.z),u=r.CesiumMath.clamp(e.w,t.w,n.w);return i.x=a,i.y=o,i.z=s,i.w=u,i},K.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},K.magnitude=function(e){return Math.sqrt(K.magnitudeSquared(e))};const Y=new K;K.distance=function(e,t){return K.subtract(e,t,Y),K.magnitude(Y)},K.distanceSquared=function(e,t){return K.subtract(e,t,Y),K.magnitudeSquared(Y)},K.normalize=function(e,t){const n=K.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},K.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},K.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n.z=e.z*t.z,n.w=e.w*t.w,n},K.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n.z=e.z/t.z,n.w=e.w/t.w,n},K.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},K.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},K.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},K.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},K.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},K.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t.z=Math.abs(e.z),t.w=Math.abs(e.w),t};const X=new K;K.lerp=function(e,t,n,r){return K.multiplyByScalar(t,n,X),r=K.multiplyByScalar(e,1-n,r),K.add(X,r,r)};const Z=new K;K.mostOrthogonalAxis=function(e,t){const n=K.normalize(e,Z);return K.abs(n,n),t=n.x<=n.y?n.x<=n.z?n.x<=n.w?K.clone(K.UNIT_X,t):K.clone(K.UNIT_W,t):n.z<=n.w?K.clone(K.UNIT_Z,t):K.clone(K.UNIT_W,t):n.y<=n.z?n.y<=n.w?K.clone(K.UNIT_Y,t):K.clone(K.UNIT_W,t):n.z<=n.w?K.clone(K.UNIT_Z,t):K.clone(K.UNIT_W,t)},K.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},K.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]&&e.z===t[n+2]&&e.w===t[n+3]},K.equalsEpsilon=function(e,t,i,a){return e===t||n.defined(e)&&n.defined(t)&&r.CesiumMath.equalsEpsilon(e.x,t.x,i,a)&&r.CesiumMath.equalsEpsilon(e.y,t.y,i,a)&&r.CesiumMath.equalsEpsilon(e.z,t.z,i,a)&&r.CesiumMath.equalsEpsilon(e.w,t.w,i,a)},K.ZERO=Object.freeze(new K(0,0,0,0)),K.ONE=Object.freeze(new K(1,1,1,1)),K.UNIT_X=Object.freeze(new K(1,0,0,0)),K.UNIT_Y=Object.freeze(new K(0,1,0,0)),K.UNIT_Z=Object.freeze(new K(0,0,1,0)),K.UNIT_W=Object.freeze(new K(0,0,0,1)),K.prototype.clone=function(e){return K.clone(this,e)},K.prototype.equals=function(e){return K.equals(this,e)},K.prototype.equalsEpsilon=function(e,t,n){return K.equalsEpsilon(this,e,t,n)},K.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};const Q=new Float32Array(1),$=new Uint8Array(Q.buffer),J=new Uint32Array([287454020]),ee=68===new Uint8Array(J.buffer)[0];function te(e,t,r,i,a,o,s,u,l,c,f,d,p,h,m,_){this[0]=n.defaultValue(e,0),this[1]=n.defaultValue(a,0),this[2]=n.defaultValue(l,0),this[3]=n.defaultValue(p,0),this[4]=n.defaultValue(t,0),this[5]=n.defaultValue(o,0),this[6]=n.defaultValue(c,0),this[7]=n.defaultValue(h,0),this[8]=n.defaultValue(r,0),this[9]=n.defaultValue(s,0),this[10]=n.defaultValue(f,0),this[11]=n.defaultValue(m,0),this[12]=n.defaultValue(i,0),this[13]=n.defaultValue(u,0),this[14]=n.defaultValue(d,0),this[15]=n.defaultValue(_,0)}K.packFloat=function(e,t){return n.defined(t)||(t=new K),Q[0]=e,ee?(t.x=$[0],t.y=$[1],t.z=$[2],t.w=$[3]):(t.x=$[3],t.y=$[2],t.z=$[1],t.w=$[0]),t},K.unpackFloat=function(e){return ee?($[0]=e.x,$[1]=e.y,$[2]=e.z,$[3]=e.w):($[0]=e.w,$[1]=e.z,$[2]=e.y,$[3]=e.x),Q[0]},te.packedLength=16,te.pack=function(e,t,r){return r=n.defaultValue(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t[r++]=e[4],t[r++]=e[5],t[r++]=e[6],t[r++]=e[7],t[r++]=e[8],t[r++]=e[9],t[r++]=e[10],t[r++]=e[11],t[r++]=e[12],t[r++]=e[13],t[r++]=e[14],t[r]=e[15],t},te.unpack=function(e,t,r){return t=n.defaultValue(t,0),n.defined(r)||(r=new te),r[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r[4]=e[t++],r[5]=e[t++],r[6]=e[t++],r[7]=e[t++],r[8]=e[t++],r[9]=e[t++],r[10]=e[t++],r[11]=e[t++],r[12]=e[t++],r[13]=e[t++],r[14]=e[t++],r[15]=e[t],r},te.packArray=function(e,t){const r=e.length,i=16*r;n.defined(t)?(Array.isArray(t)||t.length===i)&&t.length!==i&&(t.length=i):t=new Array(i);for(let n=0;n<r;++n)te.pack(e[n],t,16*n);return t},te.unpackArray=function(e,t){const r=e.length;n.defined(t)?t.length=r/16:t=new Array(r/16);for(let n=0;n<r;n+=16){const r=n/16;t[r]=te.unpack(e,n,t[r])}return t},te.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):new te(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])},te.fromArray=te.unpack,te.fromColumnMajorArray=function(e,t){return te.clone(e,t)},te.fromRowMajorArray=function(e,t){return n.defined(t)?(t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15],t):new te(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])},te.fromRotationTranslation=function(e,t,r){return t=n.defaultValue(t,i.ZERO),n.defined(r)?(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=0,r[4]=e[3],r[5]=e[4],r[6]=e[5],r[7]=0,r[8]=e[6],r[9]=e[7],r[10]=e[8],r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,r):new te(e[0],e[3],e[6],t.x,e[1],e[4],e[7],t.y,e[2],e[5],e[8],t.z,0,0,0,1)},te.fromTranslationQuaternionRotationScale=function(e,t,r,i){n.defined(i)||(i=new te);const a=r.x,o=r.y,s=r.z,u=t.x*t.x,l=t.x*t.y,c=t.x*t.z,f=t.x*t.w,d=t.y*t.y,p=t.y*t.z,h=t.y*t.w,m=t.z*t.z,_=t.z*t.w,y=t.w*t.w,g=u-d-m+y,C=2*(l-_),b=2*(c+h),A=2*(l+_),E=-u+d-m+y,w=2*(p-f),T=2*(c-h),x=2*(p+f),v=-u-d+m+y;return i[0]=g*a,i[1]=A*a,i[2]=T*a,i[3]=0,i[4]=C*o,i[5]=E*o,i[6]=x*o,i[7]=0,i[8]=b*s,i[9]=w*s,i[10]=v*s,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,i},te.fromTranslationRotationScale=function(e,t){return te.fromTranslationQuaternionRotationScale(e.translation,e.rotation,e.scale,t)},te.fromTranslation=function(e,t){return te.fromRotationTranslation(N.IDENTITY,e,t)},te.fromScale=function(e,t){return n.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e.y,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e.z,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new te(e.x,0,0,0,0,e.y,0,0,0,0,e.z,0,0,0,0,1)},te.fromUniformScale=function(e,t){return n.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t):new te(e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1)},te.fromRotation=function(e,t){return n.defined(t)||(t=new te),t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=0,t[4]=e[3],t[5]=e[4],t[6]=e[5],t[7]=0,t[8]=e[6],t[9]=e[7],t[10]=e[8],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};const ne=new i,re=new i,ie=new i;te.fromCamera=function(e,t){const r=e.position,a=e.direction,o=e.up;i.normalize(a,ne),i.normalize(i.cross(ne,o,re),re),i.normalize(i.cross(re,ne,ie),ie);const s=re.x,u=re.y,l=re.z,c=ne.x,f=ne.y,d=ne.z,p=ie.x,h=ie.y,m=ie.z,_=r.x,y=r.y,g=r.z,C=s*-_+u*-y+l*-g,b=p*-_+h*-y+m*-g,A=c*_+f*y+d*g;return n.defined(t)?(t[0]=s,t[1]=p,t[2]=-c,t[3]=0,t[4]=u,t[5]=h,t[6]=-f,t[7]=0,t[8]=l,t[9]=m,t[10]=-d,t[11]=0,t[12]=C,t[13]=b,t[14]=A,t[15]=1,t):new te(s,u,l,C,p,h,m,b,-c,-f,-d,A,0,0,0,1)},te.computePerspectiveFieldOfView=function(e,t,n,r,i){const a=1/Math.tan(.5*e),o=a/t,s=(r+n)/(n-r),u=2*r*n/(n-r);return i[0]=o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=a,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=s,i[11]=-1,i[12]=0,i[13]=0,i[14]=u,i[15]=0,i},te.computeOrthographicOffCenter=function(e,t,n,r,i,a,o){let s=1/(t-e),u=1/(r-n),l=1/(a-i);const c=-(t+e)*s,f=-(r+n)*u,d=-(a+i)*l;return s*=2,u*=2,l*=-2,o[0]=s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=l,o[11]=0,o[12]=c,o[13]=f,o[14]=d,o[15]=1,o},te.computePerspectiveOffCenter=function(e,t,n,r,i,a,o){const s=2*i/(t-e),u=2*i/(r-n),l=(t+e)/(t-e),c=(r+n)/(r-n),f=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=u,o[6]=0,o[7]=0,o[8]=l,o[9]=c,o[10]=f,o[11]=-1,o[12]=0,o[13]=0,o[14]=d,o[15]=0,o},te.computeInfinitePerspectiveOffCenter=function(e,t,n,r,i,a){const o=2*i/(t-e),s=2*i/(r-n),u=(t+e)/(t-e),l=(r+n)/(r-n),c=-2*i;return a[0]=o,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=s,a[6]=0,a[7]=0,a[8]=u,a[9]=l,a[10]=-1,a[11]=-1,a[12]=0,a[13]=0,a[14]=c,a[15]=0,a},te.computeViewportTransformation=function(e,t,r,i){n.defined(i)||(i=new te),e=n.defaultValue(e,n.defaultValue.EMPTY_OBJECT);const a=n.defaultValue(e.x,0),o=n.defaultValue(e.y,0),s=n.defaultValue(e.width,0),u=n.defaultValue(e.height,0);t=n.defaultValue(t,0);const l=.5*s,c=.5*u,f=.5*((r=n.defaultValue(r,1))-t),d=l,p=c,h=f,m=a+l,_=o+c,y=t+f;return i[0]=d,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=p,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=h,i[11]=0,i[12]=m,i[13]=_,i[14]=y,i[15]=1,i},te.computeView=function(e,t,n,r,a){return a[0]=r.x,a[1]=n.x,a[2]=-t.x,a[3]=0,a[4]=r.y,a[5]=n.y,a[6]=-t.y,a[7]=0,a[8]=r.z,a[9]=n.z,a[10]=-t.z,a[11]=0,a[12]=-i.dot(r,e),a[13]=-i.dot(n,e),a[14]=i.dot(t,e),a[15]=1,a},te.toArray=function(e,t){return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t):[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},te.getElementIndex=function(e,t){return 4*e+t},te.getColumn=function(e,t,n){const r=4*t,i=e[r],a=e[r+1],o=e[r+2],s=e[r+3];return n.x=i,n.y=a,n.z=o,n.w=s,n},te.setColumn=function(e,t,n,r){const i=4*t;return(r=te.clone(e,r))[i]=n.x,r[i+1]=n.y,r[i+2]=n.z,r[i+3]=n.w,r},te.getRow=function(e,t,n){const r=e[t],i=e[t+4],a=e[t+8],o=e[t+12];return n.x=r,n.y=i,n.z=a,n.w=o,n},te.setRow=function(e,t,n,r){return(r=te.clone(e,r))[t]=n.x,r[t+4]=n.y,r[t+8]=n.z,r[t+12]=n.w,r},te.setTranslation=function(e,t,n){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=e[15],n};const ae=new i;te.setScale=function(e,t,n){const r=te.getScale(e,ae),i=t.x/r.x,a=t.y/r.y,o=t.z/r.z;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3],n[4]=e[4]*a,n[5]=e[5]*a,n[6]=e[6]*a,n[7]=e[7],n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n};const oe=new i;te.setUniformScale=function(e,t,n){const r=te.getScale(e,oe),i=t/r.x,a=t/r.y,o=t/r.z;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3],n[4]=e[4]*a,n[5]=e[5]*a,n[6]=e[6]*a,n[7]=e[7],n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n};const se=new i;te.getScale=function(e,t){return t.x=i.magnitude(i.fromElements(e[0],e[1],e[2],se)),t.y=i.magnitude(i.fromElements(e[4],e[5],e[6],se)),t.z=i.magnitude(i.fromElements(e[8],e[9],e[10],se)),t};const ue=new i;te.getMaximumScale=function(e){return te.getScale(e,ue),i.maximumComponent(ue)};const le=new i;te.setRotation=function(e,t,n){const r=te.getScale(e,le);return n[0]=t[0]*r.x,n[1]=t[1]*r.x,n[2]=t[2]*r.x,n[3]=e[3],n[4]=t[3]*r.y,n[5]=t[4]*r.y,n[6]=t[5]*r.y,n[7]=e[7],n[8]=t[6]*r.z,n[9]=t[7]*r.z,n[10]=t[8]*r.z,n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n};const ce=new i;te.getRotation=function(e,t){const n=te.getScale(e,ce);return t[0]=e[0]/n.x,t[1]=e[1]/n.x,t[2]=e[2]/n.x,t[3]=e[4]/n.y,t[4]=e[5]/n.y,t[5]=e[6]/n.y,t[6]=e[8]/n.z,t[7]=e[9]/n.z,t[8]=e[10]/n.z,t},te.multiply=function(e,t,n){const r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],f=e[8],d=e[9],p=e[10],h=e[11],m=e[12],_=e[13],y=e[14],g=e[15],C=t[0],b=t[1],A=t[2],E=t[3],w=t[4],T=t[5],x=t[6],v=t[7],R=t[8],O=t[9],M=t[10],S=t[11],I=t[12],P=t[13],N=t[14],L=t[15],D=r*C+s*b+f*A+m*E,F=i*C+u*b+d*A+_*E,G=a*C+l*b+p*A+y*E,B=o*C+c*b+h*A+g*E,U=r*w+s*T+f*x+m*v,k=i*w+u*T+d*x+_*v,V=a*w+l*T+p*x+y*v,z=o*w+c*T+h*x+g*v,j=r*R+s*O+f*M+m*S,H=i*R+u*O+d*M+_*S,q=a*R+l*O+p*M+y*S,W=o*R+c*O+h*M+g*S,K=r*I+s*P+f*N+m*L,Y=i*I+u*P+d*N+_*L,X=a*I+l*P+p*N+y*L,Z=o*I+c*P+h*N+g*L;return n[0]=D,n[1]=F,n[2]=G,n[3]=B,n[4]=U,n[5]=k,n[6]=V,n[7]=z,n[8]=j,n[9]=H,n[10]=q,n[11]=W,n[12]=K,n[13]=Y,n[14]=X,n[15]=Z,n},te.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n[4]=e[4]+t[4],n[5]=e[5]+t[5],n[6]=e[6]+t[6],n[7]=e[7]+t[7],n[8]=e[8]+t[8],n[9]=e[9]+t[9],n[10]=e[10]+t[10],n[11]=e[11]+t[11],n[12]=e[12]+t[12],n[13]=e[13]+t[13],n[14]=e[14]+t[14],n[15]=e[15]+t[15],n},te.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n[4]=e[4]-t[4],n[5]=e[5]-t[5],n[6]=e[6]-t[6],n[7]=e[7]-t[7],n[8]=e[8]-t[8],n[9]=e[9]-t[9],n[10]=e[10]-t[10],n[11]=e[11]-t[11],n[12]=e[12]-t[12],n[13]=e[13]-t[13],n[14]=e[14]-t[14],n[15]=e[15]-t[15],n},te.multiplyTransformation=function(e,t,n){const r=e[0],i=e[1],a=e[2],o=e[4],s=e[5],u=e[6],l=e[8],c=e[9],f=e[10],d=e[12],p=e[13],h=e[14],m=t[0],_=t[1],y=t[2],g=t[4],C=t[5],b=t[6],A=t[8],E=t[9],w=t[10],T=t[12],x=t[13],v=t[14],R=r*m+o*_+l*y,O=i*m+s*_+c*y,M=a*m+u*_+f*y,S=r*g+o*C+l*b,I=i*g+s*C+c*b,P=a*g+u*C+f*b,N=r*A+o*E+l*w,L=i*A+s*E+c*w,D=a*A+u*E+f*w,F=r*T+o*x+l*v+d,G=i*T+s*x+c*v+p,B=a*T+u*x+f*v+h;return n[0]=R,n[1]=O,n[2]=M,n[3]=0,n[4]=S,n[5]=I,n[6]=P,n[7]=0,n[8]=N,n[9]=L,n[10]=D,n[11]=0,n[12]=F,n[13]=G,n[14]=B,n[15]=1,n},te.multiplyByMatrix3=function(e,t,n){const r=e[0],i=e[1],a=e[2],o=e[4],s=e[5],u=e[6],l=e[8],c=e[9],f=e[10],d=t[0],p=t[1],h=t[2],m=t[3],_=t[4],y=t[5],g=t[6],C=t[7],b=t[8],A=r*d+o*p+l*h,E=i*d+s*p+c*h,w=a*d+u*p+f*h,T=r*m+o*_+l*y,x=i*m+s*_+c*y,v=a*m+u*_+f*y,R=r*g+o*C+l*b,O=i*g+s*C+c*b,M=a*g+u*C+f*b;return n[0]=A,n[1]=E,n[2]=w,n[3]=0,n[4]=T,n[5]=x,n[6]=v,n[7]=0,n[8]=R,n[9]=O,n[10]=M,n[11]=0,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},te.multiplyByTranslation=function(e,t,n){const r=t.x,i=t.y,a=t.z,o=r*e[0]+i*e[4]+a*e[8]+e[12],s=r*e[1]+i*e[5]+a*e[9]+e[13],u=r*e[2]+i*e[6]+a*e[10]+e[14];return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=o,n[13]=s,n[14]=u,n[15]=e[15],n},te.multiplyByScale=function(e,t,n){const r=t.x,i=t.y,a=t.z;return 1===r&&1===i&&1===a?te.clone(e,n):(n[0]=r*e[0],n[1]=r*e[1],n[2]=r*e[2],n[3]=e[3],n[4]=i*e[4],n[5]=i*e[5],n[6]=i*e[6],n[7]=e[7],n[8]=a*e[8],n[9]=a*e[9],n[10]=a*e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n)},te.multiplyByUniformScale=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3],n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7],n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n},te.multiplyByVector=function(e,t,n){const r=t.x,i=t.y,a=t.z,o=t.w,s=e[0]*r+e[4]*i+e[8]*a+e[12]*o,u=e[1]*r+e[5]*i+e[9]*a+e[13]*o,l=e[2]*r+e[6]*i+e[10]*a+e[14]*o,c=e[3]*r+e[7]*i+e[11]*a+e[15]*o;return n.x=s,n.y=u,n.z=l,n.w=c,n},te.multiplyByPointAsVector=function(e,t,n){const r=t.x,i=t.y,a=t.z,o=e[0]*r+e[4]*i+e[8]*a,s=e[1]*r+e[5]*i+e[9]*a,u=e[2]*r+e[6]*i+e[10]*a;return n.x=o,n.y=s,n.z=u,n},te.multiplyByPoint=function(e,t,n){const r=t.x,i=t.y,a=t.z,o=e[0]*r+e[4]*i+e[8]*a+e[12],s=e[1]*r+e[5]*i+e[9]*a+e[13],u=e[2]*r+e[6]*i+e[10]*a+e[14];return n.x=o,n.y=s,n.z=u,n},te.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n[4]=e[4]*t,n[5]=e[5]*t,n[6]=e[6]*t,n[7]=e[7]*t,n[8]=e[8]*t,n[9]=e[9]*t,n[10]=e[10]*t,n[11]=e[11]*t,n[12]=e[12]*t,n[13]=e[13]*t,n[14]=e[14]*t,n[15]=e[15]*t,n},te.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=-e[7],t[8]=-e[8],t[9]=-e[9],t[10]=-e[10],t[11]=-e[11],t[12]=-e[12],t[13]=-e[13],t[14]=-e[14],t[15]=-e[15],t},te.transpose=function(e,t){const n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];return t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[10]=e[10],t[11]=e[14],t[12]=i,t[13]=o,t[14]=s,t[15]=e[15],t},te.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t[4]=Math.abs(e[4]),t[5]=Math.abs(e[5]),t[6]=Math.abs(e[6]),t[7]=Math.abs(e[7]),t[8]=Math.abs(e[8]),t[9]=Math.abs(e[9]),t[10]=Math.abs(e[10]),t[11]=Math.abs(e[11]),t[12]=Math.abs(e[12]),t[13]=Math.abs(e[13]),t[14]=Math.abs(e[14]),t[15]=Math.abs(e[15]),t},te.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[3]===t[3]&&e[7]===t[7]&&e[11]===t[11]&&e[15]===t[15]},te.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r&&Math.abs(e[4]-t[4])<=r&&Math.abs(e[5]-t[5])<=r&&Math.abs(e[6]-t[6])<=r&&Math.abs(e[7]-t[7])<=r&&Math.abs(e[8]-t[8])<=r&&Math.abs(e[9]-t[9])<=r&&Math.abs(e[10]-t[10])<=r&&Math.abs(e[11]-t[11])<=r&&Math.abs(e[12]-t[12])<=r&&Math.abs(e[13]-t[13])<=r&&Math.abs(e[14]-t[14])<=r&&Math.abs(e[15]-t[15])<=r},te.getTranslation=function(e,t){return t.x=e[12],t.y=e[13],t.z=e[14],t},te.getMatrix3=function(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};const fe=new N,de=new N,pe=new K,he=new K(0,0,0,1);te.inverse=function(e,n){const i=e[0],a=e[4],o=e[8],s=e[12],u=e[1],l=e[5],c=e[9],f=e[13],d=e[2],p=e[6],h=e[10],m=e[14],_=e[3],y=e[7],g=e[11],C=e[15];let b=h*C,A=m*g,E=p*C,w=m*y,T=p*g,x=h*y,v=d*C,R=m*_,O=d*g,M=h*_,S=d*y,I=p*_;const P=b*l+w*c+T*f-(A*l+E*c+x*f),L=A*u+v*c+M*f-(b*u+R*c+O*f),D=E*u+R*l+S*f-(w*u+v*l+I*f),F=x*u+O*l+I*c-(T*u+M*l+S*c),G=A*a+E*o+x*s-(b*a+w*o+T*s),B=b*i+R*o+O*s-(A*i+v*o+M*s),U=w*i+v*a+I*s-(E*i+R*a+S*s),k=T*i+M*a+S*o-(x*i+O*a+I*o);b=o*f,A=s*c,E=a*f,w=s*l,T=a*c,x=o*l,v=i*f,R=s*u,O=i*c,M=o*u,S=i*l,I=a*u;const V=b*y+w*g+T*C-(A*y+E*g+x*C),z=A*_+v*g+M*C-(b*_+R*g+O*C),j=E*_+R*y+S*C-(w*_+v*y+I*C),H=x*_+O*y+I*g-(T*_+M*y+S*g),q=E*h+x*m+A*p-(T*m+b*p+w*h),W=O*m+b*d+R*h-(v*h+M*m+A*d),Y=v*p+I*m+w*d-(S*m+E*d+R*p),X=S*h+T*d+M*p-(O*p+I*h+x*d);let Z=i*P+a*L+o*D+s*F;if(Math.abs(Z)<r.CesiumMath.EPSILON21){if(N.equalsEpsilon(te.getMatrix3(e,fe),de,r.CesiumMath.EPSILON7)&&K.equals(te.getRow(e,3,pe),he))return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=0,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=-e[12],n[13]=-e[13],n[14]=-e[14],n[15]=1,n;throw new t.RuntimeError("matrix is not invertible because its determinate is zero.")}return Z=1/Z,n[0]=P*Z,n[1]=L*Z,n[2]=D*Z,n[3]=F*Z,n[4]=G*Z,n[5]=B*Z,n[6]=U*Z,n[7]=k*Z,n[8]=V*Z,n[9]=z*Z,n[10]=j*Z,n[11]=H*Z,n[12]=q*Z,n[13]=W*Z,n[14]=Y*Z,n[15]=X*Z,n},te.inverseTransformation=function(e,t){const n=e[0],r=e[1],i=e[2],a=e[4],o=e[5],s=e[6],u=e[8],l=e[9],c=e[10],f=e[12],d=e[13],p=e[14],h=-n*f-r*d-i*p,m=-a*f-o*d-s*p,_=-u*f-l*d-c*p;return t[0]=n,t[1]=a,t[2]=u,t[3]=0,t[4]=r,t[5]=o,t[6]=l,t[7]=0,t[8]=i,t[9]=s,t[10]=c,t[11]=0,t[12]=h,t[13]=m,t[14]=_,t[15]=1,t};const me=new te;function _e(e,t,r,i){this.west=n.defaultValue(e,0),this.south=n.defaultValue(t,0),this.east=n.defaultValue(r,0),this.north=n.defaultValue(i,0)}te.inverseTranspose=function(e,t){return te.inverse(te.transpose(e,me),t)},te.IDENTITY=Object.freeze(new te(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),te.ZERO=Object.freeze(new te(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)),te.COLUMN0ROW0=0,te.COLUMN0ROW1=1,te.COLUMN0ROW2=2,te.COLUMN0ROW3=3,te.COLUMN1ROW0=4,te.COLUMN1ROW1=5,te.COLUMN1ROW2=6,te.COLUMN1ROW3=7,te.COLUMN2ROW0=8,te.COLUMN2ROW1=9,te.COLUMN2ROW2=10,te.COLUMN2ROW3=11,te.COLUMN3ROW0=12,te.COLUMN3ROW1=13,te.COLUMN3ROW2=14,te.COLUMN3ROW3=15,Object.defineProperties(te.prototype,{length:{get:function(){return te.packedLength}}}),te.prototype.clone=function(e){return te.clone(this,e)},te.prototype.equals=function(e){return te.equals(this,e)},te.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]&&e[4]===t[n+4]&&e[5]===t[n+5]&&e[6]===t[n+6]&&e[7]===t[n+7]&&e[8]===t[n+8]&&e[9]===t[n+9]&&e[10]===t[n+10]&&e[11]===t[n+11]&&e[12]===t[n+12]&&e[13]===t[n+13]&&e[14]===t[n+14]&&e[15]===t[n+15]},te.prototype.equalsEpsilon=function(e,t){return te.equalsEpsilon(this,e,t)},te.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})\n(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})\n(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})\n(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`},Object.defineProperties(_e.prototype,{width:{get:function(){return _e.computeWidth(this)}},height:{get:function(){return _e.computeHeight(this)}}}),_e.packedLength=4,_e.pack=function(e,t,r){return r=n.defaultValue(r,0),t[r++]=e.west,t[r++]=e.south,t[r++]=e.east,t[r]=e.north,t},_e.unpack=function(e,t,r){return t=n.defaultValue(t,0),n.defined(r)||(r=new _e),r.west=e[t++],r.south=e[t++],r.east=e[t++],r.north=e[t],r},_e.computeWidth=function(e){let t=e.east;const n=e.west;return t<n&&(t+=r.CesiumMath.TWO_PI),t-n},_e.computeHeight=function(e){return e.north-e.south},_e.fromDegrees=function(e,t,i,a,o){return e=r.CesiumMath.toRadians(n.defaultValue(e,0)),t=r.CesiumMath.toRadians(n.defaultValue(t,0)),i=r.CesiumMath.toRadians(n.defaultValue(i,0)),a=r.CesiumMath.toRadians(n.defaultValue(a,0)),n.defined(o)?(o.west=e,o.south=t,o.east=i,o.north=a,o):new _e(e,t,i,a)},_e.fromRadians=function(e,t,r,i,a){return n.defined(a)?(a.west=n.defaultValue(e,0),a.south=n.defaultValue(t,0),a.east=n.defaultValue(r,0),a.north=n.defaultValue(i,0),a):new _e(e,t,r,i)},_e.fromCartographicArray=function(e,t){let i=Number.MAX_VALUE,a=-Number.MAX_VALUE,o=Number.MAX_VALUE,s=-Number.MAX_VALUE,u=Number.MAX_VALUE,l=-Number.MAX_VALUE;for(let t=0,n=e.length;t<n;t++){const n=e[t];i=Math.min(i,n.longitude),a=Math.max(a,n.longitude),u=Math.min(u,n.latitude),l=Math.max(l,n.latitude);const c=n.longitude>=0?n.longitude:n.longitude+r.CesiumMath.TWO_PI;o=Math.min(o,c),s=Math.max(s,c)}return a-i>s-o&&(i=o,a=s,a>r.CesiumMath.PI&&(a-=r.CesiumMath.TWO_PI),i>r.CesiumMath.PI&&(i-=r.CesiumMath.TWO_PI)),n.defined(t)?(t.west=i,t.south=u,t.east=a,t.north=l,t):new _e(i,u,a,l)},_e.fromCartesianArray=function(e,t,i){t=n.defaultValue(t,T.WGS84);let a=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=Number.MAX_VALUE,u=-Number.MAX_VALUE,l=Number.MAX_VALUE,c=-Number.MAX_VALUE;for(let n=0,i=e.length;n<i;n++){const i=t.cartesianToCartographic(e[n]);a=Math.min(a,i.longitude),o=Math.max(o,i.longitude),l=Math.min(l,i.latitude),c=Math.max(c,i.latitude);const f=i.longitude>=0?i.longitude:i.longitude+r.CesiumMath.TWO_PI;s=Math.min(s,f),u=Math.max(u,f)}return o-a>u-s&&(a=s,o=u,o>r.CesiumMath.PI&&(o-=r.CesiumMath.TWO_PI),a>r.CesiumMath.PI&&(a-=r.CesiumMath.TWO_PI)),n.defined(i)?(i.west=a,i.south=l,i.east=o,i.north=c,i):new _e(a,l,o,c)},_e.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.west=e.west,t.south=e.south,t.east=e.east,t.north=e.north,t):new _e(e.west,e.south,e.east,e.north)},_e.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e.west-t.west)<=r&&Math.abs(e.south-t.south)<=r&&Math.abs(e.east-t.east)<=r&&Math.abs(e.north-t.north)<=r},_e.prototype.clone=function(e){return _e.clone(this,e)},_e.prototype.equals=function(e){return _e.equals(this,e)},_e.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.west===t.west&&e.south===t.south&&e.east===t.east&&e.north===t.north},_e.prototype.equalsEpsilon=function(e,t){return _e.equalsEpsilon(this,e,t)},_e.validate=function(e){},_e.southwest=function(e,t){return n.defined(t)?(t.longitude=e.west,t.latitude=e.south,t.height=0,t):new _(e.west,e.south)},_e.northwest=function(e,t){return n.defined(t)?(t.longitude=e.west,t.latitude=e.north,t.height=0,t):new _(e.west,e.north)},_e.northeast=function(e,t){return n.defined(t)?(t.longitude=e.east,t.latitude=e.north,t.height=0,t):new _(e.east,e.north)},_e.southeast=function(e,t){return n.defined(t)?(t.longitude=e.east,t.latitude=e.south,t.height=0,t):new _(e.east,e.south)},_e.center=function(e,t){let i=e.east;const a=e.west;i<a&&(i+=r.CesiumMath.TWO_PI);const o=r.CesiumMath.negativePiToPi(.5*(a+i)),s=.5*(e.south+e.north);return n.defined(t)?(t.longitude=o,t.latitude=s,t.height=0,t):new _(o,s)},_e.intersection=function(e,t,i){let a=e.east,o=e.west,s=t.east,u=t.west;a<o&&s>0?a+=r.CesiumMath.TWO_PI:s<u&&a>0&&(s+=r.CesiumMath.TWO_PI),a<o&&u<0?u+=r.CesiumMath.TWO_PI:s<u&&o<0&&(o+=r.CesiumMath.TWO_PI);const l=r.CesiumMath.negativePiToPi(Math.max(o,u)),c=r.CesiumMath.negativePiToPi(Math.min(a,s));if((e.west<e.east||t.west<t.east)&&c<=l)return;const f=Math.max(e.south,t.south),d=Math.min(e.north,t.north);return f>=d?void 0:n.defined(i)?(i.west=l,i.south=f,i.east=c,i.north=d,i):new _e(l,f,c,d)},_e.simpleIntersection=function(e,t,r){const i=Math.max(e.west,t.west),a=Math.max(e.south,t.south),o=Math.min(e.east,t.east),s=Math.min(e.north,t.north);if(!(a>=s||i>=o))return n.defined(r)?(r.west=i,r.south=a,r.east=o,r.north=s,r):new _e(i,a,o,s)},_e.union=function(e,t,i){n.defined(i)||(i=new _e);let a=e.east,o=e.west,s=t.east,u=t.west;a<o&&s>0?a+=r.CesiumMath.TWO_PI:s<u&&a>0&&(s+=r.CesiumMath.TWO_PI),a<o&&u<0?u+=r.CesiumMath.TWO_PI:s<u&&o<0&&(o+=r.CesiumMath.TWO_PI);const l=r.CesiumMath.negativePiToPi(Math.min(o,u)),c=r.CesiumMath.negativePiToPi(Math.max(a,s));return i.west=l,i.south=Math.min(e.south,t.south),i.east=c,i.north=Math.max(e.north,t.north),i},_e.expand=function(e,t,r){return n.defined(r)||(r=new _e),r.west=Math.min(e.west,t.longitude),r.south=Math.min(e.south,t.latitude),r.east=Math.max(e.east,t.longitude),r.north=Math.max(e.north,t.latitude),r},_e.contains=function(e,t){let n=t.longitude;const i=t.latitude,a=e.west;let o=e.east;return o<a&&(o+=r.CesiumMath.TWO_PI,n<0&&(n+=r.CesiumMath.TWO_PI)),(n>a||r.CesiumMath.equalsEpsilon(n,a,r.CesiumMath.EPSILON14))&&(n<o||r.CesiumMath.equalsEpsilon(n,o,r.CesiumMath.EPSILON14))&&i>=e.south&&i<=e.north};const ye=new _;function ge(e,t){this.x=n.defaultValue(e,0),this.y=n.defaultValue(t,0)}_e.subsample=function(e,t,i,a){t=n.defaultValue(t,T.WGS84),i=n.defaultValue(i,0),n.defined(a)||(a=[]);let o=0;const s=e.north,u=e.south,l=e.east,c=e.west,f=ye;f.height=i,f.longitude=c,f.latitude=s,a[o]=t.cartographicToCartesian(f,a[o]),o++,f.longitude=l,a[o]=t.cartographicToCartesian(f,a[o]),o++,f.latitude=u,a[o]=t.cartographicToCartesian(f,a[o]),o++,f.longitude=c,a[o]=t.cartographicToCartesian(f,a[o]),o++,f.latitude=s<0?s:u>0?u:0;for(let n=1;n<8;++n)f.longitude=-Math.PI+n*r.CesiumMath.PI_OVER_TWO,_e.contains(e,f)&&(a[o]=t.cartographicToCartesian(f,a[o]),o++);return 0===f.latitude&&(f.longitude=c,a[o]=t.cartographicToCartesian(f,a[o]),o++,f.longitude=l,a[o]=t.cartographicToCartesian(f,a[o]),o++),a.length=o,a},_e.subsection=function(e,t,i,a,o,s){if(n.defined(s)||(s=new _e),e.west<=e.east){const n=e.east-e.west;s.west=e.west+t*n,s.east=e.west+a*n}else{const n=r.CesiumMath.TWO_PI+e.east-e.west;s.west=r.CesiumMath.negativePiToPi(e.west+t*n),s.east=r.CesiumMath.negativePiToPi(e.west+a*n)}const u=e.north-e.south;return s.south=e.south+i*u,s.north=e.south+o*u,1===t&&(s.west=e.east),1===a&&(s.east=e.east),1===i&&(s.south=e.north),1===o&&(s.north=e.north),s},_e.MAX_VALUE=Object.freeze(new _e(-Math.PI,-r.CesiumMath.PI_OVER_TWO,Math.PI,r.CesiumMath.PI_OVER_TWO)),ge.fromElements=function(e,t,r){return n.defined(r)?(r.x=e,r.y=t,r):new ge(e,t)},ge.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.x=e.x,t.y=e.y,t):new ge(e.x,e.y)},ge.fromCartesian3=ge.clone,ge.fromCartesian4=ge.clone,ge.packedLength=2,ge.pack=function(e,t,r){return r=n.defaultValue(r,0),t[r++]=e.x,t[r]=e.y,t},ge.unpack=function(e,t,r){return t=n.defaultValue(t,0),n.defined(r)||(r=new ge),r.x=e[t++],r.y=e[t],r},ge.packArray=function(e,t){const r=e.length,i=2*r;n.defined(t)?(Array.isArray(t)||t.length===i)&&t.length!==i&&(t.length=i):t=new Array(i);for(let n=0;n<r;++n)ge.pack(e[n],t,2*n);return t},ge.unpackArray=function(e,t){const r=e.length;n.defined(t)?t.length=r/2:t=new Array(r/2);for(let n=0;n<r;n+=2){const r=n/2;t[r]=ge.unpack(e,n,t[r])}return t},ge.fromArray=ge.unpack,ge.maximumComponent=function(e){return Math.max(e.x,e.y)},ge.minimumComponent=function(e){return Math.min(e.x,e.y)},ge.minimumByComponent=function(e,t,n){return n.x=Math.min(e.x,t.x),n.y=Math.min(e.y,t.y),n},ge.maximumByComponent=function(e,t,n){return n.x=Math.max(e.x,t.x),n.y=Math.max(e.y,t.y),n},ge.clamp=function(e,t,n,i){const a=r.CesiumMath.clamp(e.x,t.x,n.x),o=r.CesiumMath.clamp(e.y,t.y,n.y);return i.x=a,i.y=o,i},ge.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},ge.magnitude=function(e){return Math.sqrt(ge.magnitudeSquared(e))};const Ce=new ge;ge.distance=function(e,t){return ge.subtract(e,t,Ce),ge.magnitude(Ce)},ge.distanceSquared=function(e,t){return ge.subtract(e,t,Ce),ge.magnitudeSquared(Ce)},ge.normalize=function(e,t){const n=ge.magnitude(e);return t.x=e.x/n,t.y=e.y/n,t},ge.dot=function(e,t){return e.x*t.x+e.y*t.y},ge.cross=function(e,t){return e.x*t.y-e.y*t.x},ge.multiplyComponents=function(e,t,n){return n.x=e.x*t.x,n.y=e.y*t.y,n},ge.divideComponents=function(e,t,n){return n.x=e.x/t.x,n.y=e.y/t.y,n},ge.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n},ge.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n},ge.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n},ge.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n},ge.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t},ge.abs=function(e,t){return t.x=Math.abs(e.x),t.y=Math.abs(e.y),t};const be=new ge;ge.lerp=function(e,t,n,r){return ge.multiplyByScalar(t,n,be),r=ge.multiplyByScalar(e,1-n,r),ge.add(be,r,r)};const Ae=new ge,Ee=new ge;ge.angleBetween=function(e,t){return ge.normalize(e,Ae),ge.normalize(t,Ee),r.CesiumMath.acosClamped(ge.dot(Ae,Ee))};const we=new ge;function Te(e,t,r,i){this[0]=n.defaultValue(e,0),this[1]=n.defaultValue(r,0),this[2]=n.defaultValue(t,0),this[3]=n.defaultValue(i,0)}ge.mostOrthogonalAxis=function(e,t){const n=ge.normalize(e,we);return ge.abs(n,n),t=n.x<=n.y?ge.clone(ge.UNIT_X,t):ge.clone(ge.UNIT_Y,t)},ge.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.x===t.x&&e.y===t.y},ge.equalsArray=function(e,t,n){return e.x===t[n]&&e.y===t[n+1]},ge.equalsEpsilon=function(e,t,i,a){return e===t||n.defined(e)&&n.defined(t)&&r.CesiumMath.equalsEpsilon(e.x,t.x,i,a)&&r.CesiumMath.equalsEpsilon(e.y,t.y,i,a)},ge.ZERO=Object.freeze(new ge(0,0)),ge.ONE=Object.freeze(new ge(1,1)),ge.UNIT_X=Object.freeze(new ge(1,0)),ge.UNIT_Y=Object.freeze(new ge(0,1)),ge.prototype.clone=function(e){return ge.clone(this,e)},ge.prototype.equals=function(e){return ge.equals(this,e)},ge.prototype.equalsEpsilon=function(e,t,n){return ge.equalsEpsilon(this,e,t,n)},ge.prototype.toString=function(){return`(${this.x}, ${this.y})`},Te.packedLength=4,Te.pack=function(e,t,r){return r=n.defaultValue(r,0),t[r++]=e[0],t[r++]=e[1],t[r++]=e[2],t[r++]=e[3],t},Te.unpack=function(e,t,r){return t=n.defaultValue(t,0),n.defined(r)||(r=new Te),r[0]=e[t++],r[1]=e[t++],r[2]=e[t++],r[3]=e[t++],r},Te.packArray=function(e,t){const r=e.length,i=4*r;n.defined(t)?(Array.isArray(t)||t.length===i)&&t.length!==i&&(t.length=i):t=new Array(i);for(let n=0;n<r;++n)Te.pack(e[n],t,4*n);return t},Te.unpackArray=function(e,t){const r=e.length;n.defined(t)?t.length=r/4:t=new Array(r/4);for(let n=0;n<r;n+=4){const r=n/4;t[r]=Te.unpack(e,n,t[r])}return t},Te.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):new Te(e[0],e[2],e[1],e[3])},Te.fromArray=Te.unpack,Te.fromColumnMajorArray=function(e,t){return Te.clone(e,t)},Te.fromRowMajorArray=function(e,t){return n.defined(t)?(t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3],t):new Te(e[0],e[1],e[2],e[3])},Te.fromScale=function(e,t){return n.defined(t)?(t[0]=e.x,t[1]=0,t[2]=0,t[3]=e.y,t):new Te(e.x,0,0,e.y)},Te.fromUniformScale=function(e,t){return n.defined(t)?(t[0]=e,t[1]=0,t[2]=0,t[3]=e,t):new Te(e,0,0,e)},Te.fromRotation=function(e,t){const r=Math.cos(e),i=Math.sin(e);return n.defined(t)?(t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t):new Te(r,-i,i,r)},Te.toArray=function(e,t){return n.defined(t)?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):[e[0],e[1],e[2],e[3]]},Te.getElementIndex=function(e,t){return 2*e+t},Te.getColumn=function(e,t,n){const r=2*t,i=e[r],a=e[r+1];return n.x=i,n.y=a,n},Te.setColumn=function(e,t,n,r){const i=2*t;return(r=Te.clone(e,r))[i]=n.x,r[i+1]=n.y,r},Te.getRow=function(e,t,n){const r=e[t],i=e[t+2];return n.x=r,n.y=i,n},Te.setRow=function(e,t,n,r){return(r=Te.clone(e,r))[t]=n.x,r[t+2]=n.y,r};const xe=new ge;Te.setScale=function(e,t,n){const r=Te.getScale(e,xe),i=t.x/r.x,a=t.y/r.y;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*a,n[3]=e[3]*a,n};const ve=new ge;Te.setUniformScale=function(e,t,n){const r=Te.getScale(e,ve),i=t/r.x,a=t/r.y;return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*a,n[3]=e[3]*a,n};const Re=new ge;Te.getScale=function(e,t){return t.x=ge.magnitude(ge.fromElements(e[0],e[1],Re)),t.y=ge.magnitude(ge.fromElements(e[2],e[3],Re)),t};const Oe=new ge;Te.getMaximumScale=function(e){return Te.getScale(e,Oe),ge.maximumComponent(Oe)};const Me=new ge;Te.setRotation=function(e,t,n){const r=Te.getScale(e,Me);return n[0]=t[0]*r.x,n[1]=t[1]*r.x,n[2]=t[2]*r.y,n[3]=t[3]*r.y,n};const Se=new ge;Te.getRotation=function(e,t){const n=Te.getScale(e,Se);return t[0]=e[0]/n.x,t[1]=e[1]/n.x,t[2]=e[2]/n.y,t[3]=e[3]/n.y,t},Te.multiply=function(e,t,n){const r=e[0]*t[0]+e[2]*t[1],i=e[0]*t[2]+e[2]*t[3],a=e[1]*t[0]+e[3]*t[1],o=e[1]*t[2]+e[3]*t[3];return n[0]=r,n[1]=a,n[2]=i,n[3]=o,n},Te.add=function(e,t,n){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3],n},Te.subtract=function(e,t,n){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],n[3]=e[3]-t[3],n},Te.multiplyByVector=function(e,t,n){const r=e[0]*t.x+e[2]*t.y,i=e[1]*t.x+e[3]*t.y;return n.x=r,n.y=i,n},Te.multiplyByScalar=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n},Te.multiplyByScale=function(e,t,n){return n[0]=e[0]*t.x,n[1]=e[1]*t.x,n[2]=e[2]*t.y,n[3]=e[3]*t.y,n},Te.multiplyByUniformScale=function(e,t,n){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n},Te.negate=function(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},Te.transpose=function(e,t){const n=e[0],r=e[2],i=e[1],a=e[3];return t[0]=n,t[1]=r,t[2]=i,t[3]=a,t},Te.abs=function(e,t){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t[3]=Math.abs(e[3]),t},Te.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},Te.equalsArray=function(e,t,n){return e[0]===t[n]&&e[1]===t[n+1]&&e[2]===t[n+2]&&e[3]===t[n+3]},Te.equalsEpsilon=function(e,t,r){return r=n.defaultValue(r,0),e===t||n.defined(e)&&n.defined(t)&&Math.abs(e[0]-t[0])<=r&&Math.abs(e[1]-t[1])<=r&&Math.abs(e[2]-t[2])<=r&&Math.abs(e[3]-t[3])<=r},Te.IDENTITY=Object.freeze(new Te(1,0,0,1)),Te.ZERO=Object.freeze(new Te(0,0,0,0)),Te.COLUMN0ROW0=0,Te.COLUMN0ROW1=1,Te.COLUMN1ROW0=2,Te.COLUMN1ROW1=3,Object.defineProperties(Te.prototype,{length:{get:function(){return Te.packedLength}}}),Te.prototype.clone=function(e){return Te.clone(this,e)},Te.prototype.equals=function(e){return Te.equals(this,e)},Te.prototype.equalsEpsilon=function(e,t){return Te.equalsEpsilon(this,e,t)},Te.prototype.toString=function(){return`(${this[0]}, ${this[2]})\n(${this[1]}, ${this[3]})`},e.Cartesian2=ge,e.Cartesian3=i,e.Cartesian4=K,e.Cartographic=_,e.Ellipsoid=T,e.Matrix2=Te,e.Matrix3=N,e.Matrix4=te,e.Rectangle=_e}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(1),n(0),n(5)],void 0===(i=function(e,t,n,r){"use strict";var i=function(e){null==e&&(e=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,e.constructor==Array?this.init_by_array(e,e.length):this.init_seed(e)};i.prototype.init_seed=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++){e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0}},i.prototype.init_by_array=function(e,t){var n,r,i;for(this.init_seed(19650218),n=1,r=0,i=this.N>t?this.N:t;i;i--){var a=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1664525*((4294901760&a)>>>16)<<16)+1664525*(65535&a))+e[r]+r,this.mt[n]>>>=0,r++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),r>=t&&(r=0)}for(i=this.N-1;i;i--){a=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1566083941*((4294901760&a)>>>16)<<16)+1566083941*(65535&a))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1)}this.mt[0]=2147483648},i.prototype.random_int=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti==this.N+1&&this.init_seed(5489),n=0;n<this.N-this.M;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^e>>>1^t[1&e];for(;n<this.N-1;n++)e=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},i.prototype.random_int31=function(){return this.random_int()>>>1},i.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},i.prototype.random=function(){return this.random_int()*(1/4294967296)},i.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},i.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)};var a=i;const o={EPSILON1:.1,EPSILON2:.01,EPSILON3:.001,EPSILON4:1e-4,EPSILON5:1e-5,EPSILON6:1e-6,EPSILON7:1e-7,EPSILON8:1e-8,EPSILON9:1e-9,EPSILON10:1e-10,EPSILON11:1e-11,EPSILON12:1e-12,EPSILON13:1e-13,EPSILON14:1e-14,EPSILON15:1e-15,EPSILON16:1e-16,EPSILON17:1e-17,EPSILON18:1e-18,EPSILON19:1e-19,EPSILON20:1e-20,EPSILON21:1e-21,GRAVITATIONALPARAMETER:3986004418e5,SOLAR_RADIUS:6955e5,LUNAR_RADIUS:1737400,SIXTY_FOUR_KILOBYTES:65536,FOUR_GIGABYTES:4294967296};o.sign=n.defaultValue(Math.sign,(function(e){return 0===(e=+e)||e!=e?e:e>0?1:-1})),o.signNotZero=function(e){return e<0?-1:1},o.toSNorm=function(e,t){return t=n.defaultValue(t,255),Math.round((.5*o.clamp(e,-1,1)+.5)*t)},o.fromSNorm=function(e,t){return t=n.defaultValue(t,255),o.clamp(e,0,t)/t*2-1},o.normalize=function(e,t,n){return 0===(n=Math.max(n-t,0))?0:o.clamp((e-t)/n,0,1)},o.sinh=n.defaultValue(Math.sinh,(function(e){return(Math.exp(e)-Math.exp(-e))/2})),o.cosh=n.defaultValue(Math.cosh,(function(e){return(Math.exp(e)+Math.exp(-e))/2})),o.lerp=function(e,t,n){return(1-n)*e+n*t},o.PI=Math.PI,o.ONE_OVER_PI=1/Math.PI,o.PI_OVER_TWO=Math.PI/2,o.PI_OVER_THREE=Math.PI/3,o.PI_OVER_FOUR=Math.PI/4,o.PI_OVER_SIX=Math.PI/6,o.THREE_PI_OVER_TWO=3*Math.PI/2,o.TWO_PI=2*Math.PI,o.ONE_OVER_TWO_PI=1/(2*Math.PI),o.RADIANS_PER_DEGREE=Math.PI/180,o.DEGREES_PER_RADIAN=180/Math.PI,o.RADIANS_PER_ARCSECOND=o.RADIANS_PER_DEGREE/3600,o.toRadians=function(e){return e*o.RADIANS_PER_DEGREE},o.toDegrees=function(e){return e*o.DEGREES_PER_RADIAN},o.convertLongitudeRange=function(e){const t=o.TWO_PI,n=e-Math.floor(e/t)*t;return n<-Math.PI?n+t:n>=Math.PI?n-t:n},o.clampToLatitudeRange=function(e){return o.clamp(e,-1*o.PI_OVER_TWO,o.PI_OVER_TWO)},o.negativePiToPi=function(e){return e>=-o.PI&&e<=o.PI?e:o.zeroToTwoPi(e+o.PI)-o.PI},o.zeroToTwoPi=function(e){if(e>=0&&e<=o.TWO_PI)return e;const t=o.mod(e,o.TWO_PI);return Math.abs(t)<o.EPSILON14&&Math.abs(e)>o.EPSILON14?o.TWO_PI:t},o.mod=function(e,t){return o.sign(e)===o.sign(t)&&Math.abs(e)<Math.abs(t)?e:(e%t+t)%t},o.equalsEpsilon=function(e,t,r,i){r=n.defaultValue(r,0),i=n.defaultValue(i,r);const a=Math.abs(e-t);return a<=i||a<=r*Math.max(Math.abs(e),Math.abs(t))},o.lessThan=function(e,t,n){return e-t<-n},o.lessThanOrEquals=function(e,t,n){return e-t<n},o.greaterThan=function(e,t,n){return e-t>n},o.greaterThanOrEquals=function(e,t,n){return e-t>-n};const s=[1];o.factorial=function(e){const t=s.length;if(e>=t){let n=s[t-1];for(let r=t;r<=e;r++){const e=n*r;s.push(e),n=e}}return s[e]},o.incrementWrap=function(e,t,r){return r=n.defaultValue(r,0),++e>t&&(e=r),e},o.isPowerOfTwo=function(e){return 0!==e&&0==(e&e-1)},o.nextPowerOfTwo=function(e){return--e,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},o.previousPowerOfTwo=function(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e=((e|=e>>32)>>>0)-(e>>>1)},o.clamp=function(e,t,n){return e<t?t:e>n?n:e};let u=new a;o.setRandomNumberSeed=function(e){u=new a(e)},o.nextRandomNumber=function(){return u.random()},o.randomBetween=function(e,t){return o.nextRandomNumber()*(t-e)+e},o.acosClamped=function(e){return Math.acos(o.clamp(e,-1,1))},o.asinClamped=function(e){return Math.asin(o.clamp(e,-1,1))},o.chordLength=function(e,t){return 2*t*Math.sin(.5*e)},o.logBase=function(e,t){return Math.log(e)/Math.log(t)},o.cbrt=n.defaultValue(Math.cbrt,(function(e){const t=Math.pow(Math.abs(e),1/3);return e<0?-t:t})),o.log2=n.defaultValue(Math.log2,(function(e){return Math.log(e)*Math.LOG2E})),o.fog=function(e,t){const n=e*t;return 1-Math.exp(-n*n)},o.fastApproximateAtan=function(e){return e*(-.1784*Math.abs(e)-.0663*e*e+1.0301)},o.fastApproximateAtan2=function(e,t){let n,r=Math.abs(e);n=Math.abs(t);const i=Math.max(r,n);n=Math.min(r,n);const a=n/i;return r=o.fastApproximateAtan(a),r=Math.abs(t)>Math.abs(e)?o.PI_OVER_TWO-r:r,r=e<0?o.PI-r:r,r=t<0?-r:r,r};const l={BYTE:r.WebGLConstants.BYTE,UNSIGNED_BYTE:r.WebGLConstants.UNSIGNED_BYTE,SHORT:r.WebGLConstants.SHORT,UNSIGNED_SHORT:r.WebGLConstants.UNSIGNED_SHORT,INT:r.WebGLConstants.INT,UNSIGNED_INT:r.WebGLConstants.UNSIGNED_INT,FLOAT:r.WebGLConstants.FLOAT,DOUBLE:r.WebGLConstants.DOUBLE,getSizeInBytes:function(e){switch(e){case l.BYTE:return Int8Array.BYTES_PER_ELEMENT;case l.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case l.SHORT:return Int16Array.BYTES_PER_ELEMENT;case l.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case l.INT:return Int32Array.BYTES_PER_ELEMENT;case l.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case l.FLOAT:return Float32Array.BYTES_PER_ELEMENT;case l.DOUBLE:return Float64Array.BYTES_PER_ELEMENT}},fromTypedArray:function(e){return e instanceof Int8Array?l.BYTE:e instanceof Uint8Array?l.UNSIGNED_BYTE:e instanceof Int16Array?l.SHORT:e instanceof Uint16Array?l.UNSIGNED_SHORT:e instanceof Int32Array?l.INT:e instanceof Uint32Array?l.UNSIGNED_INT:e instanceof Float32Array?l.FLOAT:e instanceof Float64Array?l.DOUBLE:void 0},validate:function(e){return n.defined(e)&&(e===l.BYTE||e===l.UNSIGNED_BYTE||e===l.SHORT||e===l.UNSIGNED_SHORT||e===l.INT||e===l.UNSIGNED_INT||e===l.FLOAT||e===l.DOUBLE)},createTypedArray:function(e,t){switch(e){case l.BYTE:return new Int8Array(t);case l.UNSIGNED_BYTE:return new Uint8Array(t);case l.SHORT:return new Int16Array(t);case l.UNSIGNED_SHORT:return new Uint16Array(t);case l.INT:return new Int32Array(t);case l.UNSIGNED_INT:return new Uint32Array(t);case l.FLOAT:return new Float32Array(t);case l.DOUBLE:return new Float64Array(t)}},createArrayBufferView:function(e,t,r,i){switch(r=n.defaultValue(r,0),i=n.defaultValue(i,(t.byteLength-r)/l.getSizeInBytes(e)),e){case l.BYTE:return new Int8Array(t,r,i);case l.UNSIGNED_BYTE:return new Uint8Array(t,r,i);case l.SHORT:return new Int16Array(t,r,i);case l.UNSIGNED_SHORT:return new Uint16Array(t,r,i);case l.INT:return new Int32Array(t,r,i);case l.UNSIGNED_INT:return new Uint32Array(t,r,i);case l.FLOAT:return new Float32Array(t,r,i);case l.DOUBLE:return new Float64Array(t,r,i)}},fromName:function(e){switch(e){case"BYTE":return l.BYTE;case"UNSIGNED_BYTE":return l.UNSIGNED_BYTE;case"SHORT":return l.SHORT;case"UNSIGNED_SHORT":return l.UNSIGNED_SHORT;case"INT":return l.INT;case"UNSIGNED_INT":return l.UNSIGNED_INT;case"FLOAT":return l.FLOAT;case"DOUBLE":return l.DOUBLE}}};var c=Object.freeze(l);e.CesiumMath=o,e.ComponentDatatype=c}.apply(t,r))||(e.exports=i)},function(e,t,n){(function(r){var i,a;i=[t,n(2),n(1),n(0),n(3),n(9),n(7)],void 0===(a=function(e,t,i,a,o,s,u){"use strict";function l(e){this._ellipsoid=a.defaultValue(e,t.Ellipsoid.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(l.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),l.prototype.project=function(e,n){const r=this._semimajorAxis,i=e.longitude*r,o=e.latitude*r,s=e.height;return a.defined(n)?(n.x=i,n.y=o,n.z=s,n):new t.Cartesian3(i,o,s)},l.prototype.unproject=function(e,n){const r=this._oneOverSemimajorAxis,i=e.x*r,o=e.y*r,s=e.z;return a.defined(n)?(n.longitude=i,n.latitude=o,n.height=s,n):new t.Cartographic(i,o,s)};var c=Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1});function f(e,t){this.start=a.defaultValue(e,0),this.stop=a.defaultValue(t,0)}function d(e,n){this.center=t.Cartesian3.clone(a.defaultValue(e,t.Cartesian3.ZERO)),this.radius=a.defaultValue(n,0)}const p=new t.Cartesian3,h=new t.Cartesian3,m=new t.Cartesian3,_=new t.Cartesian3,y=new t.Cartesian3,g=new t.Cartesian3,C=new t.Cartesian3,b=new t.Cartesian3,A=new t.Cartesian3,E=new t.Cartesian3,w=new t.Cartesian3,T=new t.Cartesian3,x=4/3*o.CesiumMath.PI;d.fromPoints=function(e,n){if(a.defined(n)||(n=new d),!a.defined(e)||0===e.length)return n.center=t.Cartesian3.clone(t.Cartesian3.ZERO,n.center),n.radius=0,n;const r=t.Cartesian3.clone(e[0],C),i=t.Cartesian3.clone(r,p),o=t.Cartesian3.clone(r,h),s=t.Cartesian3.clone(r,m),u=t.Cartesian3.clone(r,_),l=t.Cartesian3.clone(r,y),c=t.Cartesian3.clone(r,g),f=e.length;let x;for(x=1;x<f;x++){t.Cartesian3.clone(e[x],r);const n=r.x,a=r.y,f=r.z;n<i.x&&t.Cartesian3.clone(r,i),n>u.x&&t.Cartesian3.clone(r,u),a<o.y&&t.Cartesian3.clone(r,o),a>l.y&&t.Cartesian3.clone(r,l),f<s.z&&t.Cartesian3.clone(r,s),f>c.z&&t.Cartesian3.clone(r,c)}const v=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(u,i,b)),R=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(l,o,b)),O=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(c,s,b));let M=i,S=u,I=v;R>I&&(I=R,M=o,S=l),O>I&&(I=O,M=s,S=c);const P=A;P.x=.5*(M.x+S.x),P.y=.5*(M.y+S.y),P.z=.5*(M.z+S.z);let N=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(S,P,b)),L=Math.sqrt(N);const D=E;D.x=i.x,D.y=o.y,D.z=s.z;const F=w;F.x=u.x,F.y=l.y,F.z=c.z;const G=t.Cartesian3.midpoint(D,F,T);let B=0;for(x=0;x<f;x++){t.Cartesian3.clone(e[x],r);const n=t.Cartesian3.magnitude(t.Cartesian3.subtract(r,G,b));n>B&&(B=n);const i=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(r,P,b));if(i>N){const e=Math.sqrt(i);L=.5*(L+e),N=L*L;const t=e-L;P.x=(L*P.x+t*r.x)/e,P.y=(L*P.y+t*r.y)/e,P.z=(L*P.z+t*r.z)/e}}return L<B?(t.Cartesian3.clone(P,n.center),n.radius=L):(t.Cartesian3.clone(G,n.center),n.radius=B),n};const v=new l,R=new t.Cartesian3,O=new t.Cartesian3,M=new t.Cartographic,S=new t.Cartographic;d.fromRectangle2D=function(e,t,n){return d.fromRectangleWithHeights2D(e,t,0,0,n)},d.fromRectangleWithHeights2D=function(e,n,r,i,o){if(a.defined(o)||(o=new d),!a.defined(e))return o.center=t.Cartesian3.clone(t.Cartesian3.ZERO,o.center),o.radius=0,o;n=a.defaultValue(n,v),t.Rectangle.southwest(e,M),M.height=r,t.Rectangle.northeast(e,S),S.height=i;const s=n.project(M,R),u=n.project(S,O),l=u.x-s.x,c=u.y-s.y,f=u.z-s.z;o.radius=.5*Math.sqrt(l*l+c*c+f*f);const p=o.center;return p.x=s.x+.5*l,p.y=s.y+.5*c,p.z=s.z+.5*f,o};const I=[];d.fromRectangle3D=function(e,n,r,i){if(n=a.defaultValue(n,t.Ellipsoid.WGS84),r=a.defaultValue(r,0),a.defined(i)||(i=new d),!a.defined(e))return i.center=t.Cartesian3.clone(t.Cartesian3.ZERO,i.center),i.radius=0,i;const o=t.Rectangle.subsample(e,n,r,I);return d.fromPoints(o,i)},d.fromVertices=function(e,n,r,i){if(a.defined(i)||(i=new d),!a.defined(e)||0===e.length)return i.center=t.Cartesian3.clone(t.Cartesian3.ZERO,i.center),i.radius=0,i;n=a.defaultValue(n,t.Cartesian3.ZERO),r=a.defaultValue(r,3);const o=C;o.x=e[0]+n.x,o.y=e[1]+n.y,o.z=e[2]+n.z;const s=t.Cartesian3.clone(o,p),u=t.Cartesian3.clone(o,h),l=t.Cartesian3.clone(o,m),c=t.Cartesian3.clone(o,_),f=t.Cartesian3.clone(o,y),x=t.Cartesian3.clone(o,g),v=e.length;let R;for(R=0;R<v;R+=r){const r=e[R]+n.x,i=e[R+1]+n.y,a=e[R+2]+n.z;o.x=r,o.y=i,o.z=a,r<s.x&&t.Cartesian3.clone(o,s),r>c.x&&t.Cartesian3.clone(o,c),i<u.y&&t.Cartesian3.clone(o,u),i>f.y&&t.Cartesian3.clone(o,f),a<l.z&&t.Cartesian3.clone(o,l),a>x.z&&t.Cartesian3.clone(o,x)}const O=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(c,s,b)),M=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(f,u,b)),S=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(x,l,b));let I=s,P=c,N=O;M>N&&(N=M,I=u,P=f),S>N&&(N=S,I=l,P=x);const L=A;L.x=.5*(I.x+P.x),L.y=.5*(I.y+P.y),L.z=.5*(I.z+P.z);let D=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(P,L,b)),F=Math.sqrt(D);const G=E;G.x=s.x,G.y=u.y,G.z=l.z;const B=w;B.x=c.x,B.y=f.y,B.z=x.z;const U=t.Cartesian3.midpoint(G,B,T);let k=0;for(R=0;R<v;R+=r){o.x=e[R]+n.x,o.y=e[R+1]+n.y,o.z=e[R+2]+n.z;const r=t.Cartesian3.magnitude(t.Cartesian3.subtract(o,U,b));r>k&&(k=r);const i=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(o,L,b));if(i>D){const e=Math.sqrt(i);F=.5*(F+e),D=F*F;const t=e-F;L.x=(F*L.x+t*o.x)/e,L.y=(F*L.y+t*o.y)/e,L.z=(F*L.z+t*o.z)/e}}return F<k?(t.Cartesian3.clone(L,i.center),i.radius=F):(t.Cartesian3.clone(U,i.center),i.radius=k),i},d.fromEncodedCartesianVertices=function(e,n,r){if(a.defined(r)||(r=new d),!a.defined(e)||!a.defined(n)||e.length!==n.length||0===e.length)return r.center=t.Cartesian3.clone(t.Cartesian3.ZERO,r.center),r.radius=0,r;const i=C;i.x=e[0]+n[0],i.y=e[1]+n[1],i.z=e[2]+n[2];const o=t.Cartesian3.clone(i,p),s=t.Cartesian3.clone(i,h),u=t.Cartesian3.clone(i,m),l=t.Cartesian3.clone(i,_),c=t.Cartesian3.clone(i,y),f=t.Cartesian3.clone(i,g),x=e.length;let v;for(v=0;v<x;v+=3){const r=e[v]+n[v],a=e[v+1]+n[v+1],d=e[v+2]+n[v+2];i.x=r,i.y=a,i.z=d,r<o.x&&t.Cartesian3.clone(i,o),r>l.x&&t.Cartesian3.clone(i,l),a<s.y&&t.Cartesian3.clone(i,s),a>c.y&&t.Cartesian3.clone(i,c),d<u.z&&t.Cartesian3.clone(i,u),d>f.z&&t.Cartesian3.clone(i,f)}const R=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(l,o,b)),O=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(c,s,b)),M=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(f,u,b));let S=o,I=l,P=R;O>P&&(P=O,S=s,I=c),M>P&&(P=M,S=u,I=f);const N=A;N.x=.5*(S.x+I.x),N.y=.5*(S.y+I.y),N.z=.5*(S.z+I.z);let L=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(I,N,b)),D=Math.sqrt(L);const F=E;F.x=o.x,F.y=s.y,F.z=u.z;const G=w;G.x=l.x,G.y=c.y,G.z=f.z;const B=t.Cartesian3.midpoint(F,G,T);let U=0;for(v=0;v<x;v+=3){i.x=e[v]+n[v],i.y=e[v+1]+n[v+1],i.z=e[v+2]+n[v+2];const r=t.Cartesian3.magnitude(t.Cartesian3.subtract(i,B,b));r>U&&(U=r);const a=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(i,N,b));if(a>L){const e=Math.sqrt(a);D=.5*(D+e),L=D*D;const t=e-D;N.x=(D*N.x+t*i.x)/e,N.y=(D*N.y+t*i.y)/e,N.z=(D*N.z+t*i.z)/e}}return D<U?(t.Cartesian3.clone(N,r.center),r.radius=D):(t.Cartesian3.clone(B,r.center),r.radius=U),r},d.fromCornerPoints=function(e,n,r){a.defined(r)||(r=new d);const i=t.Cartesian3.midpoint(e,n,r.center);return r.radius=t.Cartesian3.distance(i,n),r},d.fromEllipsoid=function(e,n){return a.defined(n)||(n=new d),t.Cartesian3.clone(t.Cartesian3.ZERO,n.center),n.radius=e.maximumRadius,n};const P=new t.Cartesian3;d.fromBoundingSpheres=function(e,n){if(a.defined(n)||(n=new d),!a.defined(e)||0===e.length)return n.center=t.Cartesian3.clone(t.Cartesian3.ZERO,n.center),n.radius=0,n;const r=e.length;if(1===r)return d.clone(e[0],n);if(2===r)return d.union(e[0],e[1],n);const i=[];let o;for(o=0;o<r;o++)i.push(e[o].center);const s=(n=d.fromPoints(i,n)).center;let u=n.radius;for(o=0;o<r;o++){const n=e[o];u=Math.max(u,t.Cartesian3.distance(s,n.center,P)+n.radius)}return n.radius=u,n};const N=new t.Cartesian3,L=new t.Cartesian3,D=new t.Cartesian3;d.fromOrientedBoundingBox=function(e,n){a.defined(n)||(n=new d);const r=e.halfAxes,i=t.Matrix3.getColumn(r,0,N),o=t.Matrix3.getColumn(r,1,L),s=t.Matrix3.getColumn(r,2,D);return t.Cartesian3.add(i,o,i),t.Cartesian3.add(i,s,i),n.center=t.Cartesian3.clone(e.center,n.center),n.radius=t.Cartesian3.magnitude(i),n};const F=new t.Cartesian3,G=new t.Cartesian3;d.fromTransformation=function(e,n){a.defined(n)||(n=new d);const r=t.Matrix4.getTranslation(e,F),i=t.Matrix4.getScale(e,G),o=.5*t.Cartesian3.magnitude(i);return n.center=t.Cartesian3.clone(r,n.center),n.radius=o,n},d.clone=function(e,n){if(a.defined(e))return a.defined(n)?(n.center=t.Cartesian3.clone(e.center,n.center),n.radius=e.radius,n):new d(e.center,e.radius)},d.packedLength=4,d.pack=function(e,t,n){n=a.defaultValue(n,0);const r=e.center;return t[n++]=r.x,t[n++]=r.y,t[n++]=r.z,t[n]=e.radius,t},d.unpack=function(e,t,n){t=a.defaultValue(t,0),a.defined(n)||(n=new d);const r=n.center;return r.x=e[t++],r.y=e[t++],r.z=e[t++],n.radius=e[t],n};const B=new t.Cartesian3,U=new t.Cartesian3;d.union=function(e,n,r){a.defined(r)||(r=new d);const i=e.center,o=e.radius,s=n.center,u=n.radius,l=t.Cartesian3.subtract(s,i,B),c=t.Cartesian3.magnitude(l);if(o>=c+u)return e.clone(r),r;if(u>=c+o)return n.clone(r),r;const f=.5*(o+c+u),p=t.Cartesian3.multiplyByScalar(l,(-o+f)/c,U);return t.Cartesian3.add(p,i,p),t.Cartesian3.clone(p,r.center),r.radius=f,r};const k=new t.Cartesian3;d.expand=function(e,n,r){r=d.clone(e,r);const i=t.Cartesian3.magnitude(t.Cartesian3.subtract(n,r.center,k));return i>r.radius&&(r.radius=i),r},d.intersectPlane=function(e,n){const r=e.center,i=e.radius,a=n.normal,o=t.Cartesian3.dot(a,r)+n.distance;return o<-i?c.OUTSIDE:o<i?c.INTERSECTING:c.INSIDE},d.transform=function(e,n,r){return a.defined(r)||(r=new d),r.center=t.Matrix4.multiplyByPoint(n,e.center,r.center),r.radius=t.Matrix4.getMaximumScale(n)*e.radius,r};const V=new t.Cartesian3;d.distanceSquaredTo=function(e,n){const r=t.Cartesian3.subtract(e.center,n,V),i=t.Cartesian3.magnitude(r)-e.radius;return i<=0?0:i*i},d.transformWithoutScale=function(e,n,r){return a.defined(r)||(r=new d),r.center=t.Matrix4.multiplyByPoint(n,e.center,r.center),r.radius=e.radius,r};const z=new t.Cartesian3;d.computePlaneDistances=function(e,n,r,i){a.defined(i)||(i=new f);const o=t.Cartesian3.subtract(e.center,n,z),s=t.Cartesian3.dot(r,o);return i.start=s-e.radius,i.stop=s+e.radius,i};const j=new t.Cartesian3,H=new t.Cartesian3,q=new t.Cartesian3,W=new t.Cartesian3,K=new t.Cartesian3,Y=new t.Cartographic,X=new Array(8);for(let e=0;e<8;++e)X[e]=new t.Cartesian3;const Z=new l;function Q(){let e,t;const n=new Promise((function(n,r){e=n,t=r}));return{resolve:e,reject:t,promise:n}}let $;d.projectTo2D=function(e,n,r){const i=(n=a.defaultValue(n,Z)).ellipsoid;let o=e.center;const s=e.radius;let u;u=t.Cartesian3.equals(o,t.Cartesian3.ZERO)?t.Cartesian3.clone(t.Cartesian3.UNIT_X,j):i.geodeticSurfaceNormal(o,j);const l=t.Cartesian3.cross(t.Cartesian3.UNIT_Z,u,H);t.Cartesian3.normalize(l,l);const c=t.Cartesian3.cross(u,l,q);t.Cartesian3.normalize(c,c),t.Cartesian3.multiplyByScalar(u,s,u),t.Cartesian3.multiplyByScalar(c,s,c),t.Cartesian3.multiplyByScalar(l,s,l);const f=t.Cartesian3.negate(c,K),p=t.Cartesian3.negate(l,W),h=X;let m=h[0];t.Cartesian3.add(u,c,m),t.Cartesian3.add(m,l,m),m=h[1],t.Cartesian3.add(u,c,m),t.Cartesian3.add(m,p,m),m=h[2],t.Cartesian3.add(u,f,m),t.Cartesian3.add(m,p,m),m=h[3],t.Cartesian3.add(u,f,m),t.Cartesian3.add(m,l,m),t.Cartesian3.negate(u,u),m=h[4],t.Cartesian3.add(u,c,m),t.Cartesian3.add(m,l,m),m=h[5],t.Cartesian3.add(u,c,m),t.Cartesian3.add(m,p,m),m=h[6],t.Cartesian3.add(u,f,m),t.Cartesian3.add(m,p,m),m=h[7],t.Cartesian3.add(u,f,m),t.Cartesian3.add(m,l,m);const _=h.length;for(let e=0;e<_;++e){const r=h[e];t.Cartesian3.add(o,r,r);const a=i.cartesianToCartographic(r,Y);n.project(a,r)}o=(r=d.fromPoints(h,r)).center;const y=o.x,g=o.y,C=o.z;return o.x=C,o.y=y,o.z=g,r},d.isOccluded=function(e,t){return!t.isBoundingSphereVisible(e)},d.equals=function(e,n){return e===n||a.defined(e)&&a.defined(n)&&t.Cartesian3.equals(e.center,n.center)&&e.radius===n.radius},d.prototype.intersectPlane=function(e){return d.intersectPlane(this,e)},d.prototype.distanceSquaredTo=function(e){return d.distanceSquaredTo(this,e)},d.prototype.computePlaneDistances=function(e,t,n){return d.computePlaneDistances(this,e,t,n)},d.prototype.isOccluded=function(e){return d.isOccluded(this,e)},d.prototype.equals=function(e){return d.equals(this,e)},d.prototype.clone=function(e){return d.clone(this,e)},d.prototype.volume=function(){const e=this.radius;return x*e*e*e};const J={requestFullscreen:void 0,exitFullscreen:void 0,fullscreenEnabled:void 0,fullscreenElement:void 0,fullscreenchange:void 0,fullscreenerror:void 0},ee={};let te,ne,re,ie,ae,oe,se,ue,le,ce,fe,de,pe,he,me,_e,ye;function ge(e){const t=e.split(".");for(let e=0,n=t.length;e<n;++e)t[e]=parseInt(t[e],10);return t}function Ce(){if(!a.defined(ne)&&(ne=!1,!we())){const e=/ Chrome\/([\.0-9]+)/.exec(te.userAgent);null!==e&&(ne=!0,re=ge(e[1]))}return ne}function be(){if(!a.defined(ie)&&(ie=!1,!Ce()&&!we()&&/ Safari\/[\.0-9]+/.test(te.userAgent))){const e=/ Version\/([\.0-9]+)/.exec(te.userAgent);null!==e&&(ie=!0,ae=ge(e[1]))}return ie}function Ae(){if(!a.defined(oe)){oe=!1;const e=/ AppleWebKit\/([\.0-9]+)(\+?)/.exec(te.userAgent);null!==e&&(oe=!0,se=ge(e[1]),se.isNightly=!!e[2])}return oe}function Ee(){if(!a.defined(ue)){let e;ue=!1,"Microsoft Internet Explorer"===te.appName?(e=/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(te.userAgent),null!==e&&(ue=!0,le=ge(e[1]))):"Netscape"===te.appName&&(e=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(te.userAgent),null!==e&&(ue=!0,le=ge(e[1])))}return ue}function we(){if(!a.defined(ce)){ce=!1;const e=/ Edge\/([\.0-9]+)/.exec(te.userAgent);null!==e&&(ce=!0,fe=ge(e[1]))}return ce}function Te(){if(!a.defined(de)){de=!1;const e=/Firefox\/([\.0-9]+)/.exec(te.userAgent);null!==e&&(de=!0,pe=ge(e[1]))}return de}function xe(){if(!a.defined(ye)){const e=document.createElement("canvas");e.setAttribute("style","image-rendering: -moz-crisp-edges;image-rendering: pixelated;");const t=e.style.imageRendering;ye=a.defined(t)&&""!==t,ye&&(_e=t)}return ye}function ve(){return ve._result}Object.defineProperties(ee,{element:{get:function(){if(ee.supportsFullscreen())return document[J.fullscreenElement]}},changeEventName:{get:function(){if(ee.supportsFullscreen())return J.fullscreenchange}},errorEventName:{get:function(){if(ee.supportsFullscreen())return J.fullscreenerror}},enabled:{get:function(){if(ee.supportsFullscreen())return document[J.fullscreenEnabled]}},fullscreen:{get:function(){if(ee.supportsFullscreen())return null!==ee.element}}}),ee.supportsFullscreen=function(){if(a.defined($))return $;$=!1;const e=document.body;if("function"==typeof e.requestFullscreen)return J.requestFullscreen="requestFullscreen",J.exitFullscreen="exitFullscreen",J.fullscreenEnabled="fullscreenEnabled",J.fullscreenElement="fullscreenElement",J.fullscreenchange="fullscreenchange",J.fullscreenerror="fullscreenerror",$=!0,$;const t=["webkit","moz","o","ms","khtml"];let n;for(let r=0,i=t.length;r<i;++r){const i=t[r];n=i+"RequestFullscreen","function"==typeof e[n]?(J.requestFullscreen=n,$=!0):(n=i+"RequestFullScreen","function"==typeof e[n]&&(J.requestFullscreen=n,$=!0)),n=i+"ExitFullscreen","function"==typeof document[n]?J.exitFullscreen=n:(n=i+"CancelFullScreen","function"==typeof document[n]&&(J.exitFullscreen=n)),n=i+"FullscreenEnabled",void 0!==document[n]?J.fullscreenEnabled=n:(n=i+"FullScreenEnabled",void 0!==document[n]&&(J.fullscreenEnabled=n)),n=i+"FullscreenElement",void 0!==document[n]?J.fullscreenElement=n:(n=i+"FullScreenElement",void 0!==document[n]&&(J.fullscreenElement=n)),n=i+"fullscreenchange",void 0!==document["on"+n]&&("ms"===i&&(n="MSFullscreenChange"),J.fullscreenchange=n),n=i+"fullscreenerror",void 0!==document["on"+n]&&("ms"===i&&(n="MSFullscreenError"),J.fullscreenerror=n)}return $},ee.requestFullscreen=function(e,t){ee.supportsFullscreen()&&e[J.requestFullscreen]({vrDisplay:t})},ee.exitFullscreen=function(){ee.supportsFullscreen()&&document[J.exitFullscreen]()},ee._names=J,te="undefined"!=typeof navigator?navigator:{},ve._promise=void 0,ve._result=void 0,ve.initialize=function(){if(a.defined(ve._promise))return ve._promise;const e=Q();if(ve._promise=e.promise,we())return ve._result=!1,e.resolve(ve._result),e.promise;const t=new Image;return t.onload=function(){ve._result=t.width>0&&t.height>0,e.resolve(ve._result)},t.onerror=function(){ve._result=!1,e.resolve(ve._result)},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.promise},Object.defineProperties(ve,{initialized:{get:function(){return a.defined(ve._result)}}});const Re=[];"undefined"!=typeof ArrayBuffer&&(Re.push(Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array),"undefined"!=typeof Uint8ClampedArray&&Re.push(Uint8ClampedArray),"undefined"!=typeof Uint8ClampedArray&&Re.push(Uint8ClampedArray),"undefined"!=typeof BigInt64Array&&Re.push(BigInt64Array),"undefined"!=typeof BigUint64Array&&Re.push(BigUint64Array));const Oe={isChrome:Ce,chromeVersion:function(){return Ce()&&re},isSafari:be,safariVersion:function(){return be()&&ae},isWebkit:Ae,webkitVersion:function(){return Ae()&&se},isInternetExplorer:Ee,internetExplorerVersion:function(){return Ee()&&le},isEdge:we,edgeVersion:function(){return we()&&fe},isFirefox:Te,firefoxVersion:function(){return Te()&&pe},isWindows:function(){return a.defined(he)||(he=/Windows/i.test(te.appVersion)),he},hardwareConcurrency:a.defaultValue(te.hardwareConcurrency,3),supportsPointerEvents:function(){return a.defined(me)||(me=!Te()&&"undefined"!=typeof PointerEvent&&(!a.defined(te.pointerEnabled)||te.pointerEnabled)),me},supportsImageRenderingPixelated:xe,supportsWebP:ve,imageRenderingValue:function(){return xe()?_e:void 0},typedArrayTypes:Re};function Me(e,t,n,r){this.x=a.defaultValue(e,0),this.y=a.defaultValue(t,0),this.z=a.defaultValue(n,0),this.w=a.defaultValue(r,0)}Oe.supportsBasis=function(e){return Oe.supportsWebAssembly()&&e.context.supportsBasis},Oe.supportsFullscreen=function(){return ee.supportsFullscreen()},Oe.supportsTypedArrays=function(){return"undefined"!=typeof ArrayBuffer},Oe.supportsBigInt64Array=function(){return"undefined"!=typeof BigInt64Array},Oe.supportsBigUint64Array=function(){return"undefined"!=typeof BigUint64Array},Oe.supportsBigInt=function(){return"undefined"!=typeof BigInt},Oe.supportsWebWorkers=function(){return"undefined"!=typeof Worker},Oe.supportsWebAssembly=function(){return"undefined"!=typeof WebAssembly&&!Oe.isEdge()};let Se=new t.Cartesian3;Me.fromAxisAngle=function(e,n,r){const i=n/2,o=Math.sin(i);Se=t.Cartesian3.normalize(e,Se);const s=Se.x*o,u=Se.y*o,l=Se.z*o,c=Math.cos(i);return a.defined(r)?(r.x=s,r.y=u,r.z=l,r.w=c,r):new Me(s,u,l,c)};const Ie=[1,2,0],Pe=new Array(3);Me.fromRotationMatrix=function(e,n){let r,i,o,s,u;const l=e[t.Matrix3.COLUMN0ROW0],c=e[t.Matrix3.COLUMN1ROW1],f=e[t.Matrix3.COLUMN2ROW2],d=l+c+f;if(d>0)r=Math.sqrt(d+1),u=.5*r,r=.5/r,i=(e[t.Matrix3.COLUMN1ROW2]-e[t.Matrix3.COLUMN2ROW1])*r,o=(e[t.Matrix3.COLUMN2ROW0]-e[t.Matrix3.COLUMN0ROW2])*r,s=(e[t.Matrix3.COLUMN0ROW1]-e[t.Matrix3.COLUMN1ROW0])*r;else{const n=Ie;let a=0;c>l&&(a=1),f>l&&f>c&&(a=2);const d=n[a],p=n[d];r=Math.sqrt(e[t.Matrix3.getElementIndex(a,a)]-e[t.Matrix3.getElementIndex(d,d)]-e[t.Matrix3.getElementIndex(p,p)]+1);const h=Pe;h[a]=.5*r,r=.5/r,u=(e[t.Matrix3.getElementIndex(p,d)]-e[t.Matrix3.getElementIndex(d,p)])*r,h[d]=(e[t.Matrix3.getElementIndex(d,a)]+e[t.Matrix3.getElementIndex(a,d)])*r,h[p]=(e[t.Matrix3.getElementIndex(p,a)]+e[t.Matrix3.getElementIndex(a,p)])*r,i=-h[0],o=-h[1],s=-h[2]}return a.defined(n)?(n.x=i,n.y=o,n.z=s,n.w=u,n):new Me(i,o,s,u)};const Ne=new Me;let Le=new Me,De=new Me,Fe=new Me;Me.fromHeadingPitchRoll=function(e,n){return Fe=Me.fromAxisAngle(t.Cartesian3.UNIT_X,e.roll,Ne),De=Me.fromAxisAngle(t.Cartesian3.UNIT_Y,-e.pitch,n),n=Me.multiply(De,Fe,De),Le=Me.fromAxisAngle(t.Cartesian3.UNIT_Z,-e.heading,Ne),Me.multiply(Le,n,n)};const Ge=new t.Cartesian3,Be=new t.Cartesian3,Ue=new Me,ke=new Me,Ve=new Me;Me.packedLength=4,Me.pack=function(e,t,n){return n=a.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.z,t[n]=e.w,t},Me.unpack=function(e,t,n){return t=a.defaultValue(t,0),a.defined(n)||(n=new Me),n.x=e[t],n.y=e[t+1],n.z=e[t+2],n.w=e[t+3],n},Me.packedInterpolationLength=3,Me.convertPackedArrayForInterpolation=function(e,t,n,r){Me.unpack(e,4*n,Ve),Me.conjugate(Ve,Ve);for(let i=0,o=n-t+1;i<o;i++){const n=3*i;Me.unpack(e,4*(t+i),Ue),Me.multiply(Ue,Ve,Ue),Ue.w<0&&Me.negate(Ue,Ue),Me.computeAxis(Ue,Ge);const o=Me.computeAngle(Ue);a.defined(r)||(r=[]),r[n]=Ge.x*o,r[n+1]=Ge.y*o,r[n+2]=Ge.z*o}},Me.unpackInterpolationResult=function(e,n,r,i,o){a.defined(o)||(o=new Me),t.Cartesian3.fromArray(e,0,Be);const s=t.Cartesian3.magnitude(Be);return Me.unpack(n,4*i,ke),0===s?Me.clone(Me.IDENTITY,Ue):Me.fromAxisAngle(Be,s,Ue),Me.multiply(Ue,ke,o)},Me.clone=function(e,t){if(a.defined(e))return a.defined(t)?(t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t):new Me(e.x,e.y,e.z,e.w)},Me.conjugate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=e.w,t},Me.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},Me.magnitude=function(e){return Math.sqrt(Me.magnitudeSquared(e))},Me.normalize=function(e,t){const n=1/Me.magnitude(e),r=e.x*n,i=e.y*n,a=e.z*n,o=e.w*n;return t.x=r,t.y=i,t.z=a,t.w=o,t},Me.inverse=function(e,t){const n=Me.magnitudeSquared(e);return t=Me.conjugate(e,t),Me.multiplyByScalar(t,1/n,t)},Me.add=function(e,t,n){return n.x=e.x+t.x,n.y=e.y+t.y,n.z=e.z+t.z,n.w=e.w+t.w,n},Me.subtract=function(e,t,n){return n.x=e.x-t.x,n.y=e.y-t.y,n.z=e.z-t.z,n.w=e.w-t.w,n},Me.negate=function(e,t){return t.x=-e.x,t.y=-e.y,t.z=-e.z,t.w=-e.w,t},Me.dot=function(e,t){return e.x*t.x+e.y*t.y+e.z*t.z+e.w*t.w},Me.multiply=function(e,t,n){const r=e.x,i=e.y,a=e.z,o=e.w,s=t.x,u=t.y,l=t.z,c=t.w,f=o*s+r*c+i*l-a*u,d=o*u-r*l+i*c+a*s,p=o*l+r*u-i*s+a*c,h=o*c-r*s-i*u-a*l;return n.x=f,n.y=d,n.z=p,n.w=h,n},Me.multiplyByScalar=function(e,t,n){return n.x=e.x*t,n.y=e.y*t,n.z=e.z*t,n.w=e.w*t,n},Me.divideByScalar=function(e,t,n){return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},Me.computeAxis=function(e,t){const n=e.w;if(Math.abs(n-1)<o.CesiumMath.EPSILON6)return t.x=t.y=t.z=0,t;const r=1/Math.sqrt(1-n*n);return t.x=e.x*r,t.y=e.y*r,t.z=e.z*r,t},Me.computeAngle=function(e){return Math.abs(e.w-1)<o.CesiumMath.EPSILON6?0:2*Math.acos(e.w)};let ze=new Me;Me.lerp=function(e,t,n,r){return ze=Me.multiplyByScalar(t,n,ze),r=Me.multiplyByScalar(e,1-n,r),Me.add(ze,r,r)};let je=new Me,He=new Me,qe=new Me;Me.slerp=function(e,t,n,r){let i=Me.dot(e,t),a=t;if(i<0&&(i=-i,a=je=Me.negate(t,je)),1-i<o.CesiumMath.EPSILON6)return Me.lerp(e,a,n,r);const s=Math.acos(i);return He=Me.multiplyByScalar(e,Math.sin((1-n)*s),He),qe=Me.multiplyByScalar(a,Math.sin(n*s),qe),r=Me.add(He,qe,r),Me.multiplyByScalar(r,1/Math.sin(s),r)},Me.log=function(e,n){const r=o.CesiumMath.acosClamped(e.w);let i=0;return 0!==r&&(i=r/Math.sin(r)),t.Cartesian3.multiplyByScalar(e,i,n)},Me.exp=function(e,n){const r=t.Cartesian3.magnitude(e);let i=0;return 0!==r&&(i=Math.sin(r)/r),n.x=e.x*i,n.y=e.y*i,n.z=e.z*i,n.w=Math.cos(r),n};const We=new t.Cartesian3,Ke=new t.Cartesian3,Ye=new Me,Xe=new Me;Me.computeInnerQuadrangle=function(e,n,r,i){const a=Me.conjugate(n,Ye);Me.multiply(a,r,Xe);const o=Me.log(Xe,We);Me.multiply(a,e,Xe);const s=Me.log(Xe,Ke);return t.Cartesian3.add(o,s,o),t.Cartesian3.multiplyByScalar(o,.25,o),t.Cartesian3.negate(o,o),Me.exp(o,Ye),Me.multiply(n,Ye,i)},Me.squad=function(e,t,n,r,i,a){const o=Me.slerp(e,t,i,Ye),s=Me.slerp(n,r,i,Xe);return Me.slerp(o,s,2*i*(1-i),a)};const Ze=new Me,Qe=1.9011074535173003,$e=Oe.supportsTypedArrays()?new Float32Array(8):[],Je=Oe.supportsTypedArrays()?new Float32Array(8):[],et=Oe.supportsTypedArrays()?new Float32Array(8):[],tt=Oe.supportsTypedArrays()?new Float32Array(8):[];for(let e=0;e<7;++e){const t=e+1,n=2*t+1;$e[e]=1/(t*n),Je[e]=t/n}function nt(e,t,n){let r,i,a=0,o=e.length-1;for(;a<=o;)if(r=~~((a+o)/2),i=n(e[r],t),i<0)a=r+1;else{if(!(i>0))return r;o=r-1}return~(o+1)}function rt(e,t,n,r,i){this.xPoleWander=e,this.yPoleWander=t,this.xPoleOffset=n,this.yPoleOffset=r,this.ut1MinusUtc=i}function it(e,t,n,r,i,a,o,s){this.year=e,this.month=t,this.day=n,this.hour=r,this.minute=i,this.second=a,this.millisecond=o,this.isLeapSecond=s}function at(e){return e%4==0&&e%100!=0||e%400==0}function ot(e,t){this.julianDate=e,this.offset=t}$e[7]=Qe/136,Je[7]=8*Qe/17,Me.fastSlerp=function(e,t,n,r){let i,a=Me.dot(e,t);a>=0?i=1:(i=-1,a=-a);const o=a-1,s=1-n,u=n*n,l=s*s;for(let e=7;e>=0;--e)et[e]=($e[e]*u-Je[e])*o,tt[e]=($e[e]*l-Je[e])*o;const c=i*n*(1+et[0]*(1+et[1]*(1+et[2]*(1+et[3]*(1+et[4]*(1+et[5]*(1+et[6]*(1+et[7])))))))),f=s*(1+tt[0]*(1+tt[1]*(1+tt[2]*(1+tt[3]*(1+tt[4]*(1+tt[5]*(1+tt[6]*(1+tt[7])))))))),d=Me.multiplyByScalar(e,f,Ze);return Me.multiplyByScalar(t,c,r),Me.add(d,r,r)},Me.fastSquad=function(e,t,n,r,i,a){const o=Me.fastSlerp(e,t,i,Ye),s=Me.fastSlerp(n,r,i,Xe);return Me.fastSlerp(o,s,2*i*(1-i),a)},Me.equals=function(e,t){return e===t||a.defined(e)&&a.defined(t)&&e.x===t.x&&e.y===t.y&&e.z===t.z&&e.w===t.w},Me.equalsEpsilon=function(e,t,n){return n=a.defaultValue(n,0),e===t||a.defined(e)&&a.defined(t)&&Math.abs(e.x-t.x)<=n&&Math.abs(e.y-t.y)<=n&&Math.abs(e.z-t.z)<=n&&Math.abs(e.w-t.w)<=n},Me.ZERO=Object.freeze(new Me(0,0,0,0)),Me.IDENTITY=Object.freeze(new Me(0,0,0,1)),Me.prototype.clone=function(e){return Me.clone(this,e)},Me.prototype.equals=function(e){return Me.equals(this,e)},Me.prototype.equalsEpsilon=function(e,t){return Me.equalsEpsilon(this,e,t)},Me.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};var st=Object.freeze({SECONDS_PER_MILLISECOND:.001,SECONDS_PER_MINUTE:60,MINUTES_PER_HOUR:60,HOURS_PER_DAY:24,SECONDS_PER_HOUR:3600,MINUTES_PER_DAY:1440,SECONDS_PER_DAY:86400,DAYS_PER_JULIAN_CENTURY:36525,PICOSECOND:1e-9,MODIFIED_JULIAN_DATE_DIFFERENCE:2400000.5});var ut=Object.freeze({UTC:0,TAI:1});const lt=new it,ct=[31,28,31,30,31,30,31,31,30,31,30,31];function ft(e,t){return vt.compare(e.julianDate,t.julianDate)}const dt=new ot;function pt(e){dt.julianDate=e;const t=vt.leapSeconds;let n=nt(t,dt,ft);n<0&&(n=~n),n>=t.length&&(n=t.length-1);let r=t[n].offset;if(n>0){vt.secondsDifference(t[n].julianDate,e)>r&&(n--,r=t[n].offset)}vt.addSeconds(e,r,e)}function ht(e,t){dt.julianDate=e;const n=vt.leapSeconds;let r=nt(n,dt,ft);if(r<0&&(r=~r),0===r)return vt.addSeconds(e,-n[0].offset,t);if(r>=n.length)return vt.addSeconds(e,-n[r-1].offset,t);const i=vt.secondsDifference(n[r].julianDate,e);return 0===i?vt.addSeconds(e,-n[r].offset,t):i<=1?void 0:vt.addSeconds(e,-n[--r].offset,t)}function mt(e,t,n){const r=t/st.SECONDS_PER_DAY|0;return e+=r,(t-=st.SECONDS_PER_DAY*r)<0&&(e--,t+=st.SECONDS_PER_DAY),n.dayNumber=e,n.secondsOfDay=t,n}function _t(e,t,n,r,i,a,o){const s=(t-14)/12|0,u=e+4800+s;let l=(1461*u/4|0)+(367*(t-2-12*s)/12|0)-(3*((u+100)/100|0)/4|0)+n-32075;(r-=12)<0&&(r+=24);const c=a+(r*st.SECONDS_PER_HOUR+i*st.SECONDS_PER_MINUTE+o*st.SECONDS_PER_MILLISECOND);return c>=43200&&(l-=1),[l,c]}const yt=/^(\d{4})$/,gt=/^(\d{4})-(\d{2})$/,Ct=/^(\d{4})-?(\d{3})$/,bt=/^(\d{4})-?W(\d{2})-?(\d{1})?$/,At=/^(\d{4})-?(\d{2})-?(\d{2})$/,Et=/([Z+\-])?(\d{2})?:?(\d{2})?$/,wt=/^(\d{2})(\.\d+)?/.source+Et.source,Tt=/^(\d{2}):?(\d{2})(\.\d+)?/.source+Et.source,xt=/^(\d{2}):?(\d{2}):?(\d{2})(\.\d+)?/.source+Et.source;function vt(e,t,n){this.dayNumber=void 0,this.secondsOfDay=void 0,e=a.defaultValue(e,0),t=a.defaultValue(t,0),n=a.defaultValue(n,ut.UTC);const r=0|e;mt(r,t+=(e-r)*st.SECONDS_PER_DAY,this),n===ut.UTC&&pt(this)}vt.fromGregorianDate=function(e,t){const n=_t(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);return a.defined(t)?(mt(n[0],n[1],t),pt(t),t):new vt(n[0],n[1],ut.UTC)},vt.fromDate=function(e,t){const n=_t(e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds());return a.defined(t)?(mt(n[0],n[1],t),pt(t),t):new vt(n[0],n[1],ut.UTC)},vt.fromIso8601=function(e,t){let n,r=(e=e.replace(",",".")).split("T"),i=1,o=1,s=0,u=0,l=0,c=0;const f=r[0],d=r[1];let p,h,m;if(r=f.match(At),null!==r)n=+r[1],i=+r[2],o=+r[3];else if(r=f.match(gt),null!==r)n=+r[1],i=+r[2];else if(r=f.match(yt),null!==r)n=+r[1];else{let e;if(r=f.match(Ct),null!==r)n=+r[1],e=+r[2],h=at(n);else if(r=f.match(bt),null!==r){n=+r[1];e=7*+r[2]+(+r[3]||0)-new Date(Date.UTC(n,0,4)).getUTCDay()-3}p=new Date(Date.UTC(n,0,1)),p.setUTCDate(e),i=p.getUTCMonth()+1,o=p.getUTCDate()}if(h=at(n),a.defined(d)){r=d.match(xt),null!==r?(s=+r[1],u=+r[2],l=+r[3],c=1e3*+(r[4]||0),m=5):(r=d.match(Tt),null!==r?(s=+r[1],u=+r[2],l=60*+(r[3]||0),m=4):(r=d.match(wt),null!==r&&(s=+r[1],u=60*+(r[2]||0),m=3)));const e=r[m],t=+r[m+1],a=+(r[m+2]||0);switch(e){case"+":s-=t,u-=a;break;case"-":s+=t,u+=a;break;case"Z":break;default:u+=new Date(Date.UTC(n,i-1,o,s,u)).getTimezoneOffset()}}const _=60===l;for(_&&l--;u>=60;)u-=60,s++;for(;s>=24;)s-=24,o++;for(p=h&&2===i?29:ct[i-1];o>p;)o-=p,i++,i>12&&(i-=12,n++),p=h&&2===i?29:ct[i-1];for(;u<0;)u+=60,s--;for(;s<0;)s+=24,o--;for(;o<1;)i--,i<1&&(i+=12,n--),p=h&&2===i?29:ct[i-1],o+=p;const y=_t(n,i,o,s,u,l,c);return a.defined(t)?(mt(y[0],y[1],t),pt(t)):t=new vt(y[0],y[1],ut.UTC),_&&vt.addSeconds(t,1,t),t},vt.now=function(e){return vt.fromDate(new Date,e)};const Rt=new vt(0,0,ut.TAI);vt.toGregorianDate=function(e,t){let n=!1,r=ht(e,Rt);a.defined(r)||(vt.addSeconds(e,-1,Rt),r=ht(Rt,Rt),n=!0);let i=r.dayNumber;const o=r.secondsOfDay;o>=43200&&(i+=1);let s=i+68569|0;const u=4*s/146097|0;s=s-((146097*u+3)/4|0)|0;const l=4e3*(s+1)/1461001|0;s=s-(1461*l/4|0)+31|0;const c=80*s/2447|0,f=s-(2447*c/80|0)|0;s=c/11|0;const d=c+2-12*s|0,p=100*(u-49)+l+s|0;let h=o/st.SECONDS_PER_HOUR|0,m=o-h*st.SECONDS_PER_HOUR;const _=m/st.SECONDS_PER_MINUTE|0;m-=_*st.SECONDS_PER_MINUTE;let y=0|m;const g=(m-y)/st.SECONDS_PER_MILLISECOND;return h+=12,h>23&&(h-=24),n&&(y+=1),a.defined(t)?(t.year=p,t.month=d,t.day=f,t.hour=h,t.minute=_,t.second=y,t.millisecond=g,t.isLeapSecond=n,t):new it(p,d,f,h,_,y,g,n)},vt.toDate=function(e){const t=vt.toGregorianDate(e,lt);let n=t.second;return t.isLeapSecond&&(n-=1),new Date(Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,n,t.millisecond))},vt.toIso8601=function(e,t){const n=vt.toGregorianDate(e,lt);let r=n.year,i=n.month,o=n.day,s=n.hour;const u=n.minute,l=n.second,c=n.millisecond;let f;return 1e4===r&&1===i&&1===o&&0===s&&0===u&&0===l&&0===c&&(r=9999,i=12,o=31,s=24),a.defined(t)||0===c?a.defined(t)&&0!==t?(f=(.01*c).toFixed(t).replace(".","").slice(0,t),`${r.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${o.toString().padStart(2,"0")}T${s.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}.${f}Z`):`${r.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${o.toString().padStart(2,"0")}T${s.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}Z`:(f=(.01*c).toString().replace(".",""),`${r.toString().padStart(4,"0")}-${i.toString().padStart(2,"0")}-${o.toString().padStart(2,"0")}T${s.toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}.${f}Z`)},vt.clone=function(e,t){if(a.defined(e))return a.defined(t)?(t.dayNumber=e.dayNumber,t.secondsOfDay=e.secondsOfDay,t):new vt(e.dayNumber,e.secondsOfDay,ut.TAI)},vt.compare=function(e,t){const n=e.dayNumber-t.dayNumber;return 0!==n?n:e.secondsOfDay-t.secondsOfDay},vt.equals=function(e,t){return e===t||a.defined(e)&&a.defined(t)&&e.dayNumber===t.dayNumber&&e.secondsOfDay===t.secondsOfDay},vt.equalsEpsilon=function(e,t,n){return n=a.defaultValue(n,0),e===t||a.defined(e)&&a.defined(t)&&Math.abs(vt.secondsDifference(e,t))<=n},vt.totalDays=function(e){return e.dayNumber+e.secondsOfDay/st.SECONDS_PER_DAY},vt.secondsDifference=function(e,t){return(e.dayNumber-t.dayNumber)*st.SECONDS_PER_DAY+(e.secondsOfDay-t.secondsOfDay)},vt.daysDifference=function(e,t){return e.dayNumber-t.dayNumber+(e.secondsOfDay-t.secondsOfDay)/st.SECONDS_PER_DAY},vt.computeTaiMinusUtc=function(e){dt.julianDate=e;const t=vt.leapSeconds;let n=nt(t,dt,ft);return n<0&&(n=~n,--n,n<0&&(n=0)),t[n].offset},vt.addSeconds=function(e,t,n){return mt(e.dayNumber,e.secondsOfDay+t,n)},vt.addMinutes=function(e,t,n){const r=e.secondsOfDay+t*st.SECONDS_PER_MINUTE;return mt(e.dayNumber,r,n)},vt.addHours=function(e,t,n){const r=e.secondsOfDay+t*st.SECONDS_PER_HOUR;return mt(e.dayNumber,r,n)},vt.addDays=function(e,t,n){return mt(e.dayNumber+t,e.secondsOfDay,n)},vt.lessThan=function(e,t){return vt.compare(e,t)<0},vt.lessThanOrEquals=function(e,t){return vt.compare(e,t)<=0},vt.greaterThan=function(e,t){return vt.compare(e,t)>0},vt.greaterThanOrEquals=function(e,t){return vt.compare(e,t)>=0},vt.prototype.clone=function(e){return vt.clone(this,e)},vt.prototype.equals=function(e){return vt.equals(this,e)},vt.prototype.equalsEpsilon=function(e,t){return vt.equalsEpsilon(this,e,t)},vt.prototype.toString=function(){return vt.toIso8601(this)},vt.leapSeconds=[new ot(new vt(2441317,43210,ut.TAI),10),new ot(new vt(2441499,43211,ut.TAI),11),new ot(new vt(2441683,43212,ut.TAI),12),new ot(new vt(2442048,43213,ut.TAI),13),new ot(new vt(2442413,43214,ut.TAI),14),new ot(new vt(2442778,43215,ut.TAI),15),new ot(new vt(2443144,43216,ut.TAI),16),new ot(new vt(2443509,43217,ut.TAI),17),new ot(new vt(2443874,43218,ut.TAI),18),new ot(new vt(2444239,43219,ut.TAI),19),new ot(new vt(2444786,43220,ut.TAI),20),new ot(new vt(2445151,43221,ut.TAI),21),new ot(new vt(2445516,43222,ut.TAI),22),new ot(new vt(2446247,43223,ut.TAI),23),new ot(new vt(2447161,43224,ut.TAI),24),new ot(new vt(2447892,43225,ut.TAI),25),new ot(new vt(2448257,43226,ut.TAI),26),new ot(new vt(2448804,43227,ut.TAI),27),new ot(new vt(2449169,43228,ut.TAI),28),new ot(new vt(2449534,43229,ut.TAI),29),new ot(new vt(2450083,43230,ut.TAI),30),new ot(new vt(2450630,43231,ut.TAI),31),new ot(new vt(2451179,43232,ut.TAI),32),new ot(new vt(2453736,43233,ut.TAI),33),new ot(new vt(2454832,43234,ut.TAI),34),new ot(new vt(2456109,43235,ut.TAI),35),new ot(new vt(2457204,43236,ut.TAI),36),new ot(new vt(2457754,43237,ut.TAI),37)];var Ot=s.createCommonjsModule((function(e,t){!function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,a="object"==typeof s.commonjsGlobal&&s.commonjsGlobal;a.global!==a&&a.window!==a&&a.self!==a||(n=a);var o,u,l=2147483647,c=/^xn--/,f=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,m=String.fromCharCode;function _(e){throw new RangeError(p[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(d,".")).split("."),t).join(".")}function C(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return y(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=36)e=h(e/35);return h(r+36*e/(e+38))}function w(e){var t,n,r,i,a,o,s,u,c,f,d,p=[],m=e.length,y=0,g=128,C=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&_("not-basic"),p.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(a=y,o=1,s=36;i>=m&&_("invalid-input"),((u=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||u>h((l-y)/o))&&_("overflow"),y+=u*o,!(u<(c=s<=C?1:s>=C+26?26:s-C));s+=36)o>h(l/(f=36-c))&&_("overflow"),o*=f;C=E(y-a,t=p.length+1,0==a),h(y/t)>l-g&&_("overflow"),g+=h(y/t),y%=t,p.splice(y++,0,g)}return b(p)}function T(e){var t,n,r,i,a,o,s,u,c,f,d,p,y,g,b,w=[];for(p=(e=C(e)).length,t=128,n=0,a=72,o=0;o<p;++o)(d=e[o])<128&&w.push(m(d));for(r=i=w.length,i&&w.push("-");r<p;){for(s=l,o=0;o<p;++o)(d=e[o])>=t&&d<s&&(s=d);for(s-t>h((l-n)/(y=r+1))&&_("overflow"),n+=(s-t)*y,t=s,o=0;o<p;++o)if((d=e[o])<t&&++n>l&&_("overflow"),d==t){for(u=n,c=36;!(u<(f=c<=a?1:c>=a+26?26:c-a));c+=36)b=u-f,g=36-f,w.push(m(A(f+b%g,0))),u=h(b/g);w.push(m(A(u,0))),a=E(n,y,r==i),n=0,++r}++n,++t}return w.join("")}if(o={version:"1.3.2",ucs2:{decode:C,encode:b},decode:w,encode:T,toASCII:function(e){return g(e,(function(e){return f.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?w(e.slice(4).toLowerCase()):e}))}},r&&i)if(e.exports==r)i.exports=o;else for(u in o)o.hasOwnProperty(u)&&(r[u]=o[u]);else n.punycode=o}(s.commonjsGlobal)})),Mt=s.createCommonjsModule((function(e){
/*!
   * URI.js - Mutating URLs
   * IPv6 Support
   *
   * Version: 1.19.11
   *
   * Author: Rodney Rehm
   * Web: http://medialize.github.io/URI.js/
   *
   * Licensed under
   *   MIT License http://www.opensource.org/licenses/mit-license
   *
   */
!function(t,n){e.exports?e.exports=n():t.IPv6=n(t)}(s.commonjsGlobal,(function(e){var t=e&&e.IPv6;return{best:function(e){var t,n,r=e.toLowerCase().split(":"),i=r.length,a=8;for(""===r[0]&&""===r[1]&&""===r[2]?(r.shift(),r.shift()):""===r[0]&&""===r[1]?r.shift():""===r[i-1]&&""===r[i-2]&&r.pop(),-1!==r[(i=r.length)-1].indexOf(".")&&(a=7),t=0;t<i&&""!==r[t];t++);if(t<a)for(r.splice(t,1,"0000");r.length<a;)r.splice(t,0,"0000");for(var o=0;o<a;o++){n=r[o].split("");for(var s=0;s<3&&("0"===n[0]&&n.length>1);s++)n.splice(0,1);r[o]=n.join("")}var u=-1,l=0,c=0,f=-1,d=!1;for(o=0;o<a;o++)d?"0"===r[o]?c+=1:(d=!1,c>l&&(u=f,l=c)):"0"===r[o]&&(d=!0,f=o,c=1);c>l&&(u=f,l=c),l>1&&r.splice(u,l,""),i=r.length;var p="";for(""===r[0]&&(p=":"),o=0;o<i&&(p+=r[o],o!==i-1);o++)p+=":";return""===r[i-1]&&(p+=":"),p},noConflict:function(){return e.IPv6===this&&(e.IPv6=t),this}}}))})),St=s.createCommonjsModule((function(e){
/*!
   * URI.js - Mutating URLs
   * Second Level Domain (SLD) Support
   *
   * Version: 1.19.11
   *
   * Author: Rodney Rehm
   * Web: http://medialize.github.io/URI.js/
   *
   * Licensed under
   *   MIT License http://www.opensource.org/licenses/mit-license
   *
   */
!function(t,n){e.exports?e.exports=n():t.SecondLevelDomains=n(t)}(s.commonjsGlobal,(function(e){var t=e&&e.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ",do:" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ",in:" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch ",com:"ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za ",net:"gb jp se uk ",org:"ae",de:"com "},has:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return!1;var i=n.list[e.slice(t+1)];return!!i&&i.indexOf(" "+e.slice(r+1,t)+" ")>=0},is:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return!1;if(e.lastIndexOf(".",t-1)>=0)return!1;var r=n.list[e.slice(t+1)];return!!r&&r.indexOf(" "+e.slice(0,t)+" ")>=0},get:function(e){var t=e.lastIndexOf(".");if(t<=0||t>=e.length-1)return null;var r=e.lastIndexOf(".",t-1);if(r<=0||r>=t-1)return null;var i=n.list[e.slice(t+1)];return i?i.indexOf(" "+e.slice(r+1,t)+" ")<0?null:e.slice(r+1):null},noConflict:function(){return e.SecondLevelDomains===this&&(e.SecondLevelDomains=t),this}};return n}))})),It=s.createCommonjsModule((function(e){
/*!
   * URI.js - Mutating URLs
   *
   * Version: 1.19.11
   *
   * Author: Rodney Rehm
   * Web: http://medialize.github.io/URI.js/
   *
   * Licensed under
   *   MIT License http://www.opensource.org/licenses/mit-license
   *
   */
!function(t,n){e.exports?e.exports=n(Ot,Mt,St):t.URI=n(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(s.commonjsGlobal,(function(e,t,n,r){var i=r&&r.URI;function a(e,t){var n=arguments.length>=1,r=arguments.length>=2;if(!(this instanceof a))return n?r?new a(e,t):new a(e):new a;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}if(null===e&&n)throw new TypeError("null is not a valid argument for URI");return this.href(e),void 0!==t?this.absoluteTo(t):this}a.version="1.19.11";var o=a.prototype,s=Object.prototype.hasOwnProperty;function u(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function l(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function c(e){return"Array"===l(e)}function f(e,t){var n,r,i={};if("RegExp"===l(t))i=null;else if(c(t))for(n=0,r=t.length;n<r;n++)i[t[n]]=!0;else i[t]=!0;for(n=0,r=e.length;n<r;n++){(i&&void 0!==i[e[n]]||!i&&t.test(e[n]))&&(e.splice(n,1),r--,n--)}return e}function d(e,t){var n,r;if(c(t)){for(n=0,r=t.length;n<r;n++)if(!d(e,t[n]))return!1;return!0}var i=l(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function p(e,t){if(!c(e)||!c(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function h(e){return e.replace(/^\/+|\/+$/g,"")}function m(e){return escape(e)}function _(e){return encodeURIComponent(e).replace(/[!'()*]/g,m).replace(/\*/g,"%2A")}a._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,preventInvalidHostname:a.preventInvalidHostname,duplicateQueryParameters:a.duplicateQueryParameters,escapeQuerySpace:a.escapeQuerySpace}},a.preventInvalidHostname=!1,a.duplicateQueryParameters=!1,a.escapeQuerySpace=!0,a.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,a.idn_expression=/[^a-z0-9\._-]/i,a.punycode_expression=/(xn--)/i,a.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,a.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,a.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/,parens:/(\([^\)]*\)|\[[^\]]*\]|\{[^}]*\}|<[^>]*>)/g},a.leading_whitespace_expression=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a.ascii_tab_whitespace=/[\u0009\u000A\u000D]+/g,a.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},a.hostProtocols=["http","https"],a.invalid_hostname_characters=/[^a-zA-Z0-9\.\-:_]/,a.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},a.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return a.domAttributes[t]}},a.encode=_,a.decode=decodeURIComponent,a.iso8859=function(){a.encode=escape,a.decode=unescape},a.unicode=function(){a.encode=_,a.decode=decodeURIComponent},a.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},a.encodeQuery=function(e,t){var n=a.encode(e+"");return void 0===t&&(t=a.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},a.decodeQuery=function(e,t){e+="",void 0===t&&(t=a.escapeQuerySpace);try{return a.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}};var y,g={encode:"encode",decode:"decode"},C=function(e,t){return function(n){try{return a[t](n+"").replace(a.characters[e][t].expression,(function(n){return a.characters[e][t].map[n]}))}catch(e){return n}}};for(y in g)a[y+"PathSegment"]=C("pathname",g[y]),a[y+"UrnPathSegment"]=C("urnpath",g[y]);var b=function(e,t,n){return function(r){var i;i=n?function(e){return a[t](a[n](e))}:a[t];for(var o=(r+"").split(e),s=0,u=o.length;s<u;s++)o[s]=i(o[s]);return o.join(e)}};function A(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function E(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="").charAt(0)===t&&(n=n.substring(1)),this._parts[e]=n,this.build(!r),this)}}a.decodePath=b("/","decodePathSegment"),a.decodeUrnPath=b(":","decodeUrnPathSegment"),a.recodePath=b("/","encodePathSegment","decode"),a.recodeUrnPath=b(":","encodeUrnPathSegment","decode"),a.encodeReserved=C("reserved","encode"),a.parse=function(e,t){var n;return t||(t={preventInvalidHostname:a.preventInvalidHostname}),(n=(e=(e=e.replace(a.leading_whitespace_expression,"")).replace(a.ascii_tab_whitespace,"")).indexOf("#"))>-1&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),(n=e.indexOf("?"))>-1&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===(e=(e=e.replace(/^(https?|ftp|wss?)?:+[/\\]*/i,"$1://")).replace(/^[/\\]{2,}/i,"//")).substring(0,2)?(t.protocol=null,e=e.substring(2),e=a.parseAuthority(e,t)):(n=e.indexOf(":"))>-1&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(a.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3).replace(/\\/g,"/")?(e=e.substring(n+3),e=a.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},a.parseHost=function(e,t){e||(e="");var n,r,i=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===i&&(i=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,i)||null,"/"===t.port&&(t.port=null);else{var o=e.indexOf(":"),s=e.indexOf("/"),u=e.indexOf(":",o+1);-1!==u&&(-1===s||u<s)?(t.hostname=e.substring(0,i)||null,t.port=null):(r=e.substring(0,i).split(":"),t.hostname=r[0]||null,t.port=r[1]||null)}return t.hostname&&"/"!==e.substring(i).charAt(0)&&(i++,e="/"+e),t.preventInvalidHostname&&a.ensureValidHostname(t.hostname,t.protocol),t.port&&a.ensureValidPort(t.port),e.substring(i)||"/"},a.parseAuthority=function(e,t){return e=a.parseUserinfo(e,t),a.parseHost(e,t)},a.parseUserinfo=function(e,t){var n=e;-1!==e.indexOf("\\")&&(e=e.replace(/\\/g,"/"));var r,i=e.indexOf("/"),o=e.lastIndexOf("@",i>-1?i:e.length-1);return o>-1&&(-1===i||o<i)?(r=e.substring(0,o).split(":"),t.username=r[0]?a.decode(r[0]):null,r.shift(),t.password=r[0]?a.decode(r.join(":")):null,e=n.substring(o+1)):(t.username=null,t.password=null),e},a.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,i,o={},u=e.split("&"),l=u.length,c=0;c<l;c++)n=u[c].split("="),r=a.decodeQuery(n.shift(),t),i=n.length?a.decodeQuery(n.join("="),t):null,"__proto__"!==r&&(s.call(o,r)?("string"!=typeof o[r]&&null!==o[r]||(o[r]=[o[r]]),o[r].push(i)):o[r]=i);return o},a.build=function(e){var t="",n=!1;return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//",n=!0),t+=a.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&n&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},a.buildHost=function(e){var t="";return e.hostname?(a.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},a.buildAuthority=function(e){return a.buildUserinfo(e)+a.buildHost(e)},a.buildUserinfo=function(e){var t="";return e.username&&(t+=a.encode(e.username)),e.password&&(t+=":"+a.encode(e.password)),t&&(t+="@"),t},a.buildQuery=function(e,t,n){var r,i,o,u,l="";for(i in e)if("__proto__"!==i&&s.call(e,i))if(c(e[i]))for(r={},o=0,u=e[i].length;o<u;o++)void 0!==e[i][o]&&void 0===r[e[i][o]+""]&&(l+="&"+a.buildQueryParameter(i,e[i][o],n),!0!==t&&(r[e[i][o]+""]=!0));else void 0!==e[i]&&(l+="&"+a.buildQueryParameter(i,e[i],n));return l.substring(1)},a.buildQueryParameter=function(e,t,n){return a.encodeQuery(e,n)+(null!==t?"="+a.encodeQuery(t,n):"")},a.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&a.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),c(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},a.setQuery=function(e,t,n){if("object"==typeof t)for(var r in t)s.call(t,r)&&a.setQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.setQuery() accepts an object, string as the name parameter");e[t]=void 0===n?null:n}},a.removeQuery=function(e,t,n){var r,i,o;if(c(t))for(r=0,i=t.length;r<i;r++)e[t[r]]=void 0;else if("RegExp"===l(t))for(o in e)t.test(o)&&(e[o]=void 0);else if("object"==typeof t)for(o in t)s.call(t,o)&&a.removeQuery(e,o,t[o]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===l(n)?!c(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=f(e[t],n):e[t]!==String(n)||c(n)&&1!==n.length?c(e[t])&&(e[t]=f(e[t],n)):e[t]=void 0:e[t]=void 0}},a.hasQuery=function(e,t,n,r){switch(l(t)){case"String":break;case"RegExp":for(var i in e)if(s.call(e,i)&&t.test(i)&&(void 0===n||a.hasQuery(e,i,n)))return!0;return!1;case"Object":for(var o in t)if(s.call(t,o)&&!a.hasQuery(e,o,t[o]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(l(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(c(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!c(e[t])&&(r?d:p)(e[t],n);case"RegExp":return c(e[t])?!!r&&d(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return c(e[t])?!!r&&d(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},a.joinPaths=function(){for(var e=[],t=[],n=0,r=0;r<arguments.length;r++){var i=new a(arguments[r]);e.push(i);for(var o=i.segment(),s=0;s<o.length;s++)"string"==typeof o[s]&&t.push(o[s]),o[s]&&n++}if(!t.length||!n)return new a("");var u=new a("").segment(t);return""!==e[0].path()&&"/"!==e[0].path().slice(0,1)||u.path("/"+u.path()),u.normalize()},a.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},a.withinString=function(e,t,n){n||(n={});var r=n.start||a.findUri.start,i=n.end||a.findUri.end,o=n.trim||a.findUri.trim,s=n.parens||a.findUri.parens,u=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var l=r.exec(e);if(!l)break;var c=l.index;if(n.ignoreHtml){var f=e.slice(Math.max(c-3,0),c);if(f&&u.test(f))continue}for(var d=c+e.slice(c).search(i),p=e.slice(c,d),h=-1;;){var m=s.exec(p);if(!m)break;var _=m.index+m[0].length;h=Math.max(h,_)}if(!((p=h>-1?p.slice(0,h)+p.slice(h).replace(o,""):p.replace(o,"")).length<=l[0].length||n.ignore&&n.ignore.test(p))){var y=t(p,c,d=c+p.length,e);void 0!==y?(y=String(y),e=e.slice(0,c)+y+e.slice(d),r.lastIndex=c+y.length):r.lastIndex=d}}return r.lastIndex=0,e},a.ensureValidHostname=function(t,n){var r=!!t,i=!1;if(!!n&&(i=d(a.hostProtocols,n)),i&&!r)throw new TypeError("Hostname cannot be empty, if protocol is "+n);if(t&&t.match(a.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_] and Punycode.js is not available');if(e.toASCII(t).match(a.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-:_]')}},a.ensureValidPort=function(e){if(e){var t=Number(e);if(!(/^[0-9]+$/.test(t)&&t>0&&t<65536))throw new TypeError('Port "'+e+'" is not a valid port')}},a.noConflict=function(e){if(e){var t={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t}return r.URI===this&&(r.URI=i),this},o.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=a.build(this._parts),this._deferred_build=!1),this},o.clone=function(){return new a(this)},o.valueOf=o.toString=function(){return this.build(!1)._string},o.protocol=A("protocol"),o.username=A("username"),o.password=A("password"),o.hostname=A("hostname"),o.port=A("port"),o.query=E("query","?"),o.fragment=E("fragment","#"),o.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},o.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},o.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?a.decodeUrnPath:a.decodePath)(n):n}return this._parts.urn?this._parts.path=e?a.recodeUrnPath(e):"":this._parts.path=e?a.recodePath(e):"/",this.build(!t),this},o.path=o.pathname,o.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=a._parts();var r=e instanceof a,i="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[a.getDomAttribute(e)]||"",i=!1);if(!r&&i&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=a.parse(String(e),this._parts);else{if(!r&&!i)throw new TypeError("invalid input");var o=r?e._parts:e;for(n in o)"query"!==n&&s.call(this._parts,n)&&(this._parts[n]=o[n]);o.query&&this.query(o.query,!1)}return this.build(!t),this},o.is=function(e){var t=!1,r=!1,i=!1,o=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=a.ip4_expression.test(this._parts.hostname),i=a.ip6_expression.test(this._parts.hostname),s=(o=!(t=r||i))&&n&&n.has(this._parts.hostname),u=o&&a.idn_expression.test(this._parts.hostname),l=o&&a.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return i;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var w=o.protocol,T=o.port,x=o.hostname;o.protocol=function(e,t){if(e&&!(e=e.replace(/:(\/\/)?$/,"")).match(a.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return w.call(this,e,t)},o.scheme=o.protocol,o.port=function(e,t){return this._parts.urn?void 0===e?"":this:(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),a.ensureValidPort(e))),T.call(this,e,t))},o.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={preventInvalidHostname:this._parts.preventInvalidHostname};if("/"!==a.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname,this._parts.preventInvalidHostname&&a.ensureValidHostname(e,this._parts.protocol)}return x.call(this,e,t)},o.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var r=a(e);return this.protocol(r.protocol()).authority(r.authority()).build(!t),this},o.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?a.buildHost(this._parts):"";if("/"!==a.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},o.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?a.buildAuthority(this._parts):"";if("/"!==a.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},o.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=a.buildUserinfo(this._parts);return n?n.substring(0,n.length-1):n}return"@"!==e[e.length-1]&&(e+="@"),a.parseUserinfo(e,this._parts),this.build(!t),this},o.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=a.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},o.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,i=this._parts.hostname.substring(0,r),o=new RegExp("^"+u(i));if(e&&"."!==e.charAt(e.length-1)&&(e+="."),-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");return e&&a.ensureValidHostname(e,this._parts.protocol),this._parts.hostname=this._parts.hostname.replace(o,e),this.build(!t),this},o.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(t).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!e)throw new TypeError("cannot set domain empty");if(-1!==e.indexOf(":"))throw new TypeError("Domains cannot contain colons");if(a.ensureValidHostname(e,this._parts.protocol),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var i=new RegExp(u(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(i,e)}return this.build(!t),this},o.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[i.toLowerCase()]&&n.get(this._parts.hostname)||i}var a;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');a=new RegExp(u(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(u(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,e)}return this.build(!t),this},o.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?a.decodePath(r):r}var i=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,i),s=new RegExp("^"+u(o));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=a.recodePath(e),this._parts.path=this._parts.path.replace(s,e),this.build(!t),this},o.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("string"!=typeof e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return e?a.decodePathSegment(r):r}var i=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(i=!0);var o=new RegExp(u(this.filename())+"$");return e=a.recodePath(e),this._parts.path=this._parts.path.replace(o,e),i?this.normalizePath(t):this.build(!t),this},o.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,i=this.filename(),o=i.lastIndexOf(".");return-1===o?"":(n=i.substring(o+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",e?a.decodePathSegment(r):r)}"."===e.charAt(0)&&(e=e.substring(1));var s,l=this.suffix();if(l)s=e?new RegExp(u(l)+"$"):new RegExp(u("."+l)+"$");else{if(!e)return this;this._parts.path+="."+a.recodePath(e)}return s&&(e=a.recodePath(e),this._parts.path=this._parts.path.replace(s,e)),this.build(!t),this},o.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),a="/"===i.substring(0,1),o=i.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(a&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(c(t)){o=[];for(var s=0,u=t.length;s<u;s++)(t[s].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(h(t[s])))}else(t||"string"==typeof t)&&(t=h(t),""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=h(t):o.splice(e,1);return a&&o.unshift(""),this.path(o.join(r),n)},o.segmentCoded=function(e,t,n){var r,i,o;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(c(r=this.segment(e,t,n)))for(i=0,o=r.length;i<o;i++)r[i]=a.decode(r[i]);else r=void 0!==r?a.decode(r):void 0;return r}if(c(t))for(i=0,o=t.length;i<o;i++)t[i]=a.encode(t[i]);else t="string"==typeof t||t instanceof String?a.encode(t):t;return this.segment(e,t,n)};var v=o.query;return o.query=function(e,t){if(!0===e)return a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=a.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=a.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):v.call(this,e,t)},o.setQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in e)s.call(e,i)&&(r[i]=e[i])}return this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},o.addQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.addQuery(r,e,void 0===t?null:t),this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},o.removeQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.removeQuery(r,e,t),this._parts.query=a.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},o.hasQuery=function(e,t,n){var r=a.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return a.hasQuery(r,e,t,n)},o.setSearch=o.setQuery,o.addSearch=o.addQuery,o.removeSearch=o.removeQuery,o.hasSearch=o.hasQuery,o.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},o.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},o.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},o.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===a.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},o.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=a.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var r,i,o="";for("/"!==(n=a.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(o=n.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);-1!==(r=n.search(/\/\.\.(\/|$)/));)0!==r?(-1===(i=n.substring(0,r).lastIndexOf("/"))&&(i=r),n=n.substring(0,i)+n.substring(r+3)):n=n.substring(3);return t&&this.is("relative")&&(n=o+n.substring(1)),this._parts.path=n,this.build(!e),this},o.normalizePathname=o.normalizePath,o.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(a.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},o.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},o.normalizeSearch=o.normalizeQuery,o.normalizeHash=o.normalizeFragment,o.iso8859=function(){var e=a.encode,t=a.decode;a.encode=escape,a.decode=decodeURIComponent;try{this.normalize()}finally{a.encode=e,a.decode=t}return this},o.unicode=function(){var e=a.encode,t=a.decode;a.encode=_,a.decode=unescape;try{this.normalize()}finally{a.encode=e,a.decode=t}return this},o.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",i=0,o=t._parts.query.split("&"),s=o.length;i<s;i++){var u=(o[i]||"").split("=");r+="&"+a.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(r+="="+a.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=a.decodeQuery(t.hash(),!0)},o.absoluteTo=function(e){var t,n,r,i=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof a||(e=new a(e)),i._parts.protocol)return i;if(i._parts.protocol=e._parts.protocol,this._parts.hostname)return i;for(n=0;r=o[n];n++)i._parts[r]=e._parts[r];return i._parts.path?(".."===i._parts.path.substring(-2)&&(i._parts.path+="/"),"/"!==i.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),i._parts.path=(t?t+"/":"")+i._parts.path,i.normalizePath())):(i._parts.path=e._parts.path,i._parts.query||(i._parts.query=e._parts.query)),i.build(),i},o.relativeTo=function(e){var t,n,r,i,o,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new a(e).normalize(),t=s._parts,n=e._parts,i=s.path(),o=e.path(),"/"!==i.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return s.build();if(null!==t.protocol||null!==t.username||null!==t.password)return s.build();if(t.hostname!==n.hostname||t.port!==n.port)return s.build();if(t.hostname=null,t.port=null,i===o)return t.path="",s.build();if(!(r=a.commonPath(i,o)))return s.build();var u=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=u+t.path.substring(r.length)||"./",s.build()},o.equals=function(e){var t,n,r,i,o,u=this.clone(),l=new a(e),f={};if(u.normalize(),l.normalize(),u.toString()===l.toString())return!0;if(r=u.query(),i=l.query(),u.query(""),l.query(""),u.toString()!==l.toString())return!1;if(r.length!==i.length)return!1;for(o in t=a.parseQuery(r,this._parts.escapeQuerySpace),n=a.parseQuery(i,this._parts.escapeQuerySpace),t)if(s.call(t,o)){if(c(t[o])){if(!p(t[o],n[o]))return!1}else if(t[o]!==n[o])return!1;f[o]=!0}for(o in n)if(s.call(n,o)&&!f[o])return!1;return!0},o.preventInvalidHostname=function(e){return this._parts.preventInvalidHostname=!!e,this},o.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},o.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},a}))}));function Pt(e,t){if(null===e||"object"!=typeof e)return e;t=a.defaultValue(t,!1);const n=new e.constructor;for(const r in e)if(e.hasOwnProperty(r)){let i=e[r];t&&(i=Pt(i,t)),n[r]=i}return n}function Nt(e,t){let n;return"undefined"!=typeof document&&(n=document),Nt._implementation(e,t,n)}Nt._implementation=function(e,t,n){if(!a.defined(t)){if(void 0===n)return e;t=a.defaultValue(n.baseURI,n.location.href)}const r=new It(e);return""!==r.scheme()?r.toString():r.absoluteTo(t).toString()};const Lt={};function Dt(e,t,n){a.defined(t)||(t=e.width),a.defined(n)||(n=e.height);let r=Lt[t];a.defined(r)||(r={},Lt[t]=r);let i=r[n];if(!a.defined(i)){const e=document.createElement("canvas");e.width=t,e.height=n,i=e.getContext("2d"),i.globalCompositeOperation="copy",r[n]=i}return i.drawImage(e,0,0,t,n),i.getImageData(0,0,t,n).data}const Ft=/^blob:/i;function Gt(e){return Ft.test(e)}let Bt;const Ut=/^data:/i;function kt(e){return Ut.test(e)}var Vt=Object.freeze({UNISSUED:0,ISSUED:1,ACTIVE:2,RECEIVED:3,CANCELLED:4,FAILED:5});var zt=Object.freeze({TERRAIN:0,IMAGERY:1,TILES3D:2,OTHER:3});function jt(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT);const t=a.defaultValue(e.throttleByServer,!1),n=a.defaultValue(e.throttle,!1);this.url=e.url,this.requestFunction=e.requestFunction,this.cancelFunction=e.cancelFunction,this.priorityFunction=e.priorityFunction,this.priority=a.defaultValue(e.priority,0),this.throttle=n,this.throttleByServer=t,this.type=a.defaultValue(e.type,zt.OTHER),this.serverKey=void 0,this.state=Vt.UNISSUED,this.deferred=void 0,this.cancelled=!1}function Ht(e,t,n){this.statusCode=e,this.response=t,this.responseHeaders=n,"string"==typeof this.responseHeaders&&(this.responseHeaders=function(e){const t={};if(!e)return t;const n=e.split("\r\n");for(let e=0;e<n.length;++e){const r=n[e],i=r.indexOf(": ");if(i>0){const e=r.substring(0,i),n=r.substring(i+2);t[e]=n}}return t}(this.responseHeaders))}function qt(){this._listeners=[],this._scopes=[],this._toRemove=[],this._insideRaiseEvent=!1}function Wt(e,t){return t-e}function Kt(e){this._comparator=e.comparator,this._array=[],this._length=0,this._maximumLength=void 0}function Yt(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}jt.prototype.cancel=function(){this.cancelled=!0},jt.prototype.clone=function(e){return a.defined(e)?(e.url=this.url,e.requestFunction=this.requestFunction,e.cancelFunction=this.cancelFunction,e.priorityFunction=this.priorityFunction,e.priority=this.priority,e.throttle=this.throttle,e.throttleByServer=this.throttleByServer,e.type=this.type,e.serverKey=this.serverKey,e.state=this.RequestState.UNISSUED,e.deferred=void 0,e.cancelled=!1,e):new jt(this)},Ht.prototype.toString=function(){let e="Request has failed.";return a.defined(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},Object.defineProperties(qt.prototype,{numberOfListeners:{get:function(){return this._listeners.length-this._toRemove.length}}}),qt.prototype.addEventListener=function(e,t){this._listeners.push(e),this._scopes.push(t);const n=this;return function(){n.removeEventListener(e,t)}},qt.prototype.removeEventListener=function(e,t){const n=this._listeners,r=this._scopes;let i=-1;for(let a=0;a<n.length;a++)if(n[a]===e&&r[a]===t){i=a;break}return-1!==i&&(this._insideRaiseEvent?(this._toRemove.push(i),n[i]=void 0,r[i]=void 0):(n.splice(i,1),r.splice(i,1)),!0)},qt.prototype.raiseEvent=function(){let e;this._insideRaiseEvent=!0;const t=this._listeners,n=this._scopes;let r=t.length;for(e=0;e<r;e++){const r=t[e];a.defined(r)&&t[e].apply(n[e],arguments)}const i=this._toRemove;if(r=i.length,r>0){for(i.sort(Wt),e=0;e<r;e++){const r=i[e];t.splice(r,1),n.splice(r,1)}i.length=0}this._insideRaiseEvent=!1},Object.defineProperties(Kt.prototype,{length:{get:function(){return this._length}},internalArray:{get:function(){return this._array}},maximumLength:{get:function(){return this._maximumLength},set:function(e){const t=this._length;if(e<t){const n=this._array;for(let r=e;r<t;++r)n[r]=void 0;this._length=e,n.length=e}this._maximumLength=e}},comparator:{get:function(){return this._comparator}}}),Kt.prototype.reserve=function(e){e=a.defaultValue(e,this._length),this._array.length=e},Kt.prototype.heapify=function(e){e=a.defaultValue(e,0);const t=this._length,n=this._comparator,r=this._array;let i=-1,o=!0;for(;o;){const a=2*(e+1),s=a-1;i=s<t&&n(r[s],r[e])<0?s:e,a<t&&n(r[a],r[i])<0&&(i=a),i!==e?(Yt(r,i,e),e=i):o=!1}},Kt.prototype.resort=function(){const e=this._length;for(let t=Math.ceil(e/2);t>=0;--t)this.heapify(t)},Kt.prototype.insert=function(e){const t=this._array,n=this._comparator,r=this._maximumLength;let i,o=this._length++;for(o<t.length?t[o]=e:t.push(e);0!==o;){const e=Math.floor((o-1)/2);if(!(n(t[o],t[e])<0))break;Yt(t,o,e),o=e}return a.defined(r)&&this._length>r&&(i=t[r],this._length=r),i},Kt.prototype.pop=function(e){if(e=a.defaultValue(e,0),0===this._length)return;const t=this._array,n=t[e];return Yt(t,e,--this._length),this.heapify(e),t[this._length]=void 0,n};const Xt={numberOfAttemptedRequests:0,numberOfActiveRequests:0,numberOfCancelledRequests:0,numberOfCancelledActiveRequests:0,numberOfFailedRequests:0,numberOfActiveRequestsEver:0,lastNumberOfActiveRequests:0};let Zt=20;const Qt=new Kt({comparator:function(e,t){return e.priority-t.priority}});Qt.maximumLength=Zt,Qt.reserve(Zt);const $t=[];let Jt={};const en="undefined"!=typeof document?new It(document.location.href):new It,tn=new qt;function nn(){}function rn(e){a.defined(e.priorityFunction)&&(e.priority=e.priorityFunction())}function an(e){return e.state===Vt.UNISSUED&&(e.state=Vt.ISSUED,e.deferred=Q()),e.deferred.promise}function on(e){return function(t){e.state!==Vt.CANCELLED&&(++Xt.numberOfFailedRequests,--Xt.numberOfActiveRequests,--Jt[e.serverKey],tn.raiseEvent(t),e.state=Vt.FAILED,e.deferred.reject(t))}}function sn(e){const t=an(e);e.state=Vt.ACTIVE,$t.push(e),++Xt.numberOfActiveRequests,++Xt.numberOfActiveRequestsEver,++Jt[e.serverKey];try{e.requestFunction().then(function(e){return function(t){if(e.state===Vt.CANCELLED)return;const n=e.deferred;--Xt.numberOfActiveRequests,--Jt[e.serverKey],tn.raiseEvent(),e.state=Vt.RECEIVED,e.deferred=void 0,n.resolve(t)}}(e)).catch(on(e))}catch(t){on(e)(t)}return t}function un(e){const t=e.state===Vt.ACTIVE;if(e.state=Vt.CANCELLED,++Xt.numberOfCancelledRequests,a.defined(e.deferred)){const t=e.deferred;e.deferred=void 0,t.reject()}t&&(--Xt.numberOfActiveRequests,--Jt[e.serverKey],++Xt.numberOfCancelledActiveRequests),a.defined(e.cancelFunction)&&e.cancelFunction()}nn.maximumRequests=50,nn.maximumRequestsPerServer=6,nn.requestsByServer={"api.cesium.com:443":18,"assets.cesium.com:443":18},nn.throttleRequests=!0,nn.debugShowStatistics=!1,nn.requestCompletedEvent=tn,Object.defineProperties(nn,{statistics:{get:function(){return Xt}},priorityHeapLength:{get:function(){return Zt},set:function(e){if(e<Zt)for(;Qt.length>e;){un(Qt.pop())}Zt=e,Qt.maximumLength=e,Qt.reserve(e)}}}),nn.serverHasOpenSlots=function(e,t){t=a.defaultValue(t,1);const n=a.defaultValue(nn.requestsByServer[e],nn.maximumRequestsPerServer);return Jt[e]+t<=n},nn.heapHasOpenSlots=function(e){return Qt.length+e<=Zt},nn.update=function(){let e,t,n=0;const r=$t.length;for(e=0;e<r;++e)t=$t[e],t.cancelled&&un(t),t.state===Vt.ACTIVE?n>0&&($t[e-n]=t):++n;$t.length-=n;const i=Qt.internalArray,a=Qt.length;for(e=0;e<a;++e)rn(i[e]);Qt.resort();const o=Math.max(nn.maximumRequests-$t.length,0);let s=0;for(;s<o&&Qt.length>0;)t=Qt.pop(),t.cancelled?un(t):!t.throttleByServer||nn.serverHasOpenSlots(t.serverKey)?(sn(t),++s):un(t);!function(){if(!nn.debugShowStatistics)return;0===Xt.numberOfActiveRequests&&Xt.lastNumberOfActiveRequests>0&&(Xt.numberOfAttemptedRequests>0&&(console.log("Number of attempted requests: "+Xt.numberOfAttemptedRequests),Xt.numberOfAttemptedRequests=0),Xt.numberOfCancelledRequests>0&&(console.log("Number of cancelled requests: "+Xt.numberOfCancelledRequests),Xt.numberOfCancelledRequests=0),Xt.numberOfCancelledActiveRequests>0&&(console.log("Number of cancelled active requests: "+Xt.numberOfCancelledActiveRequests),Xt.numberOfCancelledActiveRequests=0),Xt.numberOfFailedRequests>0&&(console.log("Number of failed requests: "+Xt.numberOfFailedRequests),Xt.numberOfFailedRequests=0));Xt.lastNumberOfActiveRequests=Xt.numberOfActiveRequests}()},nn.getServerKey=function(e){let t=new It(e);""===t.scheme()&&(t=new It(e).absoluteTo(en),t.normalize());let n=t.authority();/:/.test(n)||(n=`${n}:${"https"===t.scheme()?"443":"80"}`);const r=Jt[n];return a.defined(r)||(Jt[n]=0),n},nn.request=function(e){if(kt(e.url)||Gt(e.url))return tn.raiseEvent(),e.state=Vt.RECEIVED,e.requestFunction();if(++Xt.numberOfAttemptedRequests,a.defined(e.serverKey)||(e.serverKey=nn.getServerKey(e.url)),nn.throttleRequests&&e.throttleByServer&&!nn.serverHasOpenSlots(e.serverKey))return;if(!nn.throttleRequests||!e.throttle)return sn(e);if($t.length>=nn.maximumRequests)return;rn(e);const t=Qt.insert(e);if(a.defined(t)){if(t===e)return;un(t)}return an(e)},nn.clearForSpecs=function(){for(;Qt.length>0;){un(Qt.pop())}const e=$t.length;for(let t=0;t<e;++t)un($t[t]);$t.length=0,Jt={},Xt.numberOfAttemptedRequests=0,Xt.numberOfActiveRequests=0,Xt.numberOfCancelledRequests=0,Xt.numberOfCancelledActiveRequests=0,Xt.numberOfFailedRequests=0,Xt.numberOfActiveRequestsEver=0,Xt.lastNumberOfActiveRequests=0},nn.numberOfActiveRequestsByServer=function(e){return Jt[e]},nn.requestHeap=Qt;const ln={};let cn={};ln.add=function(e,t){const n=`${e.toLowerCase()}:${t}`;a.defined(cn[n])||(cn[n]=!0)},ln.remove=function(e,t){const n=`${e.toLowerCase()}:${t}`;a.defined(cn[n])&&delete cn[n]},ln.contains=function(e){const t=function(e){const t=new It(e);t.normalize();let n=t.authority();if(0!==n.length){if(t.authority(n),-1!==n.indexOf("@")){const e=n.split("@");n=e[1]}if(-1===n.indexOf(":")){let e=t.scheme();if(0===e.length&&(e=window.location.protocol,e=e.substring(0,e.length-1)),"http"===e)n+=":80";else{if("https"!==e)return;n+=":443"}}return n}}(e);return!(!a.defined(t)||!a.defined(cn[t]))},ln.clear=function(){cn={}};const fn=function(){try{const e=new XMLHttpRequest;return e.open("GET","#",!0),e.responseType="blob","blob"===e.responseType}catch(e){return!1}}();function dn(e,t,n,r){const i=e.query();if(0===i.length)return{};let o;if(-1===i.indexOf("=")){const e={};e[i]=void 0,o=e}else o=function(e){const t={};if(""===e)return t;const n=e.replace(/\+/g,"%20").split(/[&;]/);for(let e=0,r=n.length;e<r;++e){const r=n[e].split("="),i=decodeURIComponent(r[0]);let o=r[1];o=a.defined(o)?decodeURIComponent(o):"";const s=t[i];"string"==typeof s?t[i]=[s,o]:Array.isArray(s)?s.push(o):t[i]=o}return t}(i);t._queryParameters=n?_n(o,t._queryParameters,r):o,e.search("")}function pn(e,t){const n=t._queryParameters,r=Object.keys(n);1!==r.length||a.defined(n[r[0]])?e.search(function(e){let t="";for(const n in e)if(e.hasOwnProperty(n)){const r=e[n],i=encodeURIComponent(n)+"=";if(Array.isArray(r))for(let e=0,n=r.length;e<n;++e)t+=i+encodeURIComponent(r[e])+"&";else t+=i+encodeURIComponent(r)+"&"}return t=t.slice(0,-1),t}(n)):e.search(r[0])}function hn(e,t){return a.defined(e)?a.defined(e.clone)?e.clone():Pt(e):t}function mn(e){if(e.state===Vt.ISSUED||e.state===Vt.ACTIVE)throw new i.RuntimeError("The Resource is already being fetched.");e.state=Vt.UNISSUED,e.deferred=void 0}function _n(e,t,n){if(!n)return u.combine(e,t);const r=Pt(e,!0);for(const e in t)if(t.hasOwnProperty(e)){let n=r[e];const i=t[e];a.defined(n)?(Array.isArray(n)||(n=r[e]=[n]),r[e]=n.concat(i)):r[e]=Array.isArray(i)?i.slice():i}return r}function yn(e){"string"==typeof(e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT))&&(e={url:e}),this._url=void 0,this._templateValues=hn(e.templateValues,{}),this._queryParameters=hn(e.queryParameters,{}),this.headers=hn(e.headers,{}),this.request=a.defaultValue(e.request,new jt),this.proxy=e.proxy,this.retryCallback=e.retryCallback,this.retryAttempts=a.defaultValue(e.retryAttempts,0),this._retryCount=0;let t=e.url.indexOf("%7B");this._containsPlaceholders=!(t>=0&&t<e.url.indexOf("%7D"));const n=new It(e.url);dn(n,this,!0,!0),n.fragment(""),this._url=n.toString()}let gn;function Cn(e){const t=e.resource,n=e.flipY,r=e.skipColorSpaceConversion,i=e.preferImageBitmap,o=t.request;o.url=t.url,o.requestFunction=function(){let e=!1;t.isDataUri||t.isBlobUri||(e=t.isCrossOriginUrl);const a=Q();return yn._Implementations.createImage(o,e,a,n,r,i),a.promise};const s=nn.request(o);if(a.defined(s))return s.catch((function(e){return o.state!==Vt.FAILED?Promise.reject(e):t.retryOnError(e).then((function(a){return a?(o.state=Vt.UNISSUED,o.deferred=void 0,Cn({resource:t,flipY:n,skipColorSpaceConversion:r,preferImageBitmap:i})):Promise.reject(e)}))}))}yn.createIfNeeded=function(e){return e instanceof yn?e.getDerivedResource({request:e.request}):"string"!=typeof e?e:new yn({url:e})},yn.supportsImageBitmapOptions=function(){if(a.defined(gn))return gn;if("function"!=typeof createImageBitmap)return gn=Promise.resolve(!1),gn;return gn=yn.fetchBlob({url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAABGdBTUEAAE4g3rEiDgAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAADElEQVQI12Ng6GAAAAEUAIngE3ZiAAAAAElFTkSuQmCC"}).then((function(e){return Promise.all([createImageBitmap(e,{imageOrientation:"flipY",premultiplyAlpha:"none",colorSpaceConversion:"none"}),createImageBitmap(e)])})).then((function(e){const t=Dt(e[0]),n=Dt(e[1]);return t[1]!==n[1]})).catch((function(){return!1})),gn},Object.defineProperties(yn,{isBlobSupported:{get:function(){return fn}}}),Object.defineProperties(yn.prototype,{queryParameters:{get:function(){return this._queryParameters}},templateValues:{get:function(){return this._templateValues}},url:{get:function(){return this.getUrlComponent(!0,!0)},set:function(e){const t=new It(e);dn(t,this,!1),t.fragment(""),this._url=t.toString()}},extension:{get:function(){return function(e){const t=new It(e);t.normalize();let n=t.path(),r=n.lastIndexOf("/");return-1!==r&&(n=n.substr(r+1)),r=n.lastIndexOf("."),n=-1===r?"":n.substr(r+1),n}(this._url)}},isDataUri:{get:function(){return kt(this._url)}},isBlobUri:{get:function(){return Gt(this._url)}},isCrossOriginUrl:{get:function(){return function(e){a.defined(Bt)||(Bt=document.createElement("a")),Bt.href=window.location.href;const t=Bt.host,n=Bt.protocol;return Bt.href=e,Bt.href=Bt.href,n!==Bt.protocol||t!==Bt.host}(this._url)}},hasHeaders:{get:function(){return Object.keys(this.headers).length>0}}}),yn.prototype.toString=function(){return this.getUrlComponent(!0,!0)},yn.prototype.getUrlComponent=function(e,t){if(this.isDataUri)return this._url;const n=new It(this._url);e&&pn(n,this);let r=n.toString();this._containsPlaceholders&&(r=r.replace(/%7B/g,"{").replace(/%7D/g,"}"));const i=this._templateValues;return r=r.replace(/{(.*?)}/g,(function(e,t){const n=i[t];return a.defined(n)?encodeURIComponent(n):e})),t&&a.defined(this.proxy)&&(r=this.proxy.getURL(r)),r},yn.prototype.setQueryParameters=function(e,t){this._queryParameters=t?_n(this._queryParameters,e,!1):_n(e,this._queryParameters,!1)},yn.prototype.appendQueryParameters=function(e){this._queryParameters=_n(e,this._queryParameters,!0)},yn.prototype.setTemplateValues=function(e,t){this._templateValues=t?u.combine(this._templateValues,e):u.combine(e,this._templateValues)},yn.prototype.getDerivedResource=function(e){const t=this.clone();if(t._retryCount=0,a.defined(e.url)){const n=new It(e.url);dn(n,t,!0,a.defaultValue(e.preserveQueryParameters,!1)),n.fragment(""),""!==n.scheme()?t._url=n.toString():t._url=n.absoluteTo(new It(Nt(this._url))).toString()}return a.defined(e.queryParameters)&&(t._queryParameters=u.combine(e.queryParameters,t._queryParameters)),a.defined(e.templateValues)&&(t._templateValues=u.combine(e.templateValues,t.templateValues)),a.defined(e.headers)&&(t.headers=u.combine(e.headers,t.headers)),a.defined(e.proxy)&&(t.proxy=e.proxy),a.defined(e.request)&&(t.request=e.request),a.defined(e.retryCallback)&&(t.retryCallback=e.retryCallback),a.defined(e.retryAttempts)&&(t.retryAttempts=e.retryAttempts),t},yn.prototype.retryOnError=function(e){const t=this.retryCallback;if("function"!=typeof t||this._retryCount>=this.retryAttempts)return Promise.resolve(!1);const n=this;return Promise.resolve(t(this,e)).then((function(e){return++n._retryCount,e}))},yn.prototype.clone=function(e){return a.defined(e)||(e=new yn({url:this._url})),e._url=this._url,e._queryParameters=Pt(this._queryParameters),e._templateValues=Pt(this._templateValues),e.headers=Pt(this.headers),e.proxy=this.proxy,e.retryCallback=this.retryCallback,e.retryAttempts=this.retryAttempts,e._retryCount=0,e.request=this.request.clone(),e._containsPlaceholders=this._containsPlaceholders,e},yn.prototype.getBaseUri=function(e){return function(e,t){let n="";const r=e.lastIndexOf("/");return-1!==r&&(n=e.substring(0,r+1)),t?(0!==(e=new It(e)).query().length&&(n+="?"+e.query()),0!==e.fragment().length&&(n+="#"+e.fragment()),n):n}(this.getUrlComponent(e),e)},yn.prototype.appendForwardSlash=function(){var e;this._url=(0!==(e=this._url).length&&"/"===e[e.length-1]||(e+="/"),e)},yn.prototype.fetchArrayBuffer=function(){return this.fetch({responseType:"arraybuffer"})},yn.fetchArrayBuffer=function(e){return new yn(e).fetchArrayBuffer()},yn.prototype.fetchBlob=function(){return this.fetch({responseType:"blob"})},yn.fetchBlob=function(e){return new yn(e).fetchBlob()},yn.prototype.fetchImage=function(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT);const t=a.defaultValue(e.preferImageBitmap,!1),n=a.defaultValue(e.preferBlob,!1),r=a.defaultValue(e.flipY,!1),i=a.defaultValue(e.skipColorSpaceConversion,!1);if(mn(this.request),!fn||this.isDataUri||this.isBlobUri||!this.hasHeaders&&!n)return Cn({resource:this,flipY:r,skipColorSpaceConversion:i,preferImageBitmap:t});const o=this.fetchBlob();if(!a.defined(o))return;let s,u,l,c;return yn.supportsImageBitmapOptions().then((function(e){return s=e,u=s&&t,o})).then((function(e){if(!a.defined(e))return;if(c=e,u)return yn.createImageBitmapFromBlob(e,{flipY:r,premultiplyAlpha:!1,skipColorSpaceConversion:i});const t=window.URL.createObjectURL(e);return l=new yn({url:t}),Cn({resource:l,flipY:r,skipColorSpaceConversion:i,preferImageBitmap:!1})})).then((function(e){if(a.defined(e))return e.blob=c,u||window.URL.revokeObjectURL(l.url),e})).catch((function(e){return a.defined(l)&&window.URL.revokeObjectURL(l.url),e.blob=c,Promise.reject(e)}))},yn.fetchImage=function(e){return new yn(e).fetchImage({flipY:e.flipY,skipColorSpaceConversion:e.skipColorSpaceConversion,preferBlob:e.preferBlob,preferImageBitmap:e.preferImageBitmap})},yn.prototype.fetchText=function(){return this.fetch({responseType:"text"})},yn.fetchText=function(e){return new yn(e).fetchText()},yn.prototype.fetchJson=function(){const e=this.fetch({responseType:"text",headers:{Accept:"application/json,*/*;q=0.01"}});if(a.defined(e))return e.then((function(e){if(a.defined(e))return JSON.parse(e)}))},yn.fetchJson=function(e){return new yn(e).fetchJson()},yn.prototype.fetchXML=function(){return this.fetch({responseType:"document",overrideMimeType:"text/xml"})},yn.fetchXML=function(e){return new yn(e).fetchXML()},yn.prototype.fetchJsonp=function(e){let t;e=a.defaultValue(e,"callback"),mn(this.request);do{t="loadJsonp"+o.CesiumMath.nextRandomNumber().toString().substring(2,8)}while(a.defined(window[t]));return function e(t,n,r){const i={};i[n]=r,t.setQueryParameters(i);const o=t.request;o.url=t.url,o.requestFunction=function(){const e=Q();return window[r]=function(t){e.resolve(t);try{delete window[r]}catch(e){window[r]=void 0}},yn._Implementations.loadAndExecuteScript(t.url,r,e),e.promise};const s=nn.request(o);if(!a.defined(s))return;return s.catch((function(i){return o.state!==Vt.FAILED?Promise.reject(i):t.retryOnError(i).then((function(a){return a?(o.state=Vt.UNISSUED,o.deferred=void 0,e(t,n,r)):Promise.reject(i)}))}))}(this,e,t)},yn.fetchJsonp=function(e){return new yn(e).fetchJsonp(e.callbackParameterName)},yn.prototype.fetchXHR=function(e){return(e=hn(e,{})).method="GET",this._makeRequest(e)},yn.fetchXHR=function(e){return new yn(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout,returnType:e.returnType})},yn.prototype._makeRequest=function(e){const t=this;mn(t.request);const n=t.request;n.url=t.url,n.requestFunction=function(){const r=e.responseType,i=u.combine(e.headers,t.headers),o=e.overrideMimeType,s=e.method,l=e.timeout,c=e.data,f=e.returnType,d=Q(),p=yn._Implementations.loadWithXhr(t.url,r,s,c,i,d,o,l,f);return a.defined(p)&&a.defined(p.abort)&&(n.cancelFunction=function(){p.abort()}),d.promise};const r=nn.request(n);if(a.defined(r))return r.then((function(e){return n.cancelFunction=void 0,e})).catch((function(r){return n.cancelFunction=void 0,n.state!==Vt.FAILED?Promise.reject(r):t.retryOnError(r).then((function(i){return i?(n.state=Vt.UNISSUED,n.deferred=void 0,t.fetch(e)):Promise.reject(r)}))}))};const bn=/^data:(.*?)(;base64)?,(.*)$/;function An(e,t){const n=decodeURIComponent(t);return e?atob(n):n}function En(e,t){const n=An(e,t),r=new ArrayBuffer(n.length),i=new Uint8Array(r);for(let e=0;e<n.length;e++)i[e]=n.charCodeAt(e);return r}function wn(e,t){switch(t){case"text":return e.toString("utf8");case"json":return JSON.parse(e.toString("utf8"));default:return new Uint8Array(e).buffer}}function Tn(e){if(e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),this._dates=void 0,this._samples=void 0,this._dateColumn=-1,this._xPoleWanderRadiansColumn=-1,this._yPoleWanderRadiansColumn=-1,this._ut1MinusUtcSecondsColumn=-1,this._xCelestialPoleOffsetRadiansColumn=-1,this._yCelestialPoleOffsetRadiansColumn=-1,this._taiMinusUtcSecondsColumn=-1,this._columnCount=0,this._lastIndex=-1,this._downloadPromise=void 0,this._dataError=void 0,this._addNewLeapSeconds=a.defaultValue(e.addNewLeapSeconds,!0),a.defined(e.data))vn(this,e.data);else if(a.defined(e.url)){const t=yn.createIfNeeded(e.url),n=this;this._downloadPromise=t.fetchJson().then((function(e){vn(n,e)})).catch((function(){n._dataError=`An error occurred while retrieving the EOP data from the URL ${t.url}.`}))}else vn(this,{columnNames:["dateIso8601","modifiedJulianDateUtc","xPoleWanderRadians","yPoleWanderRadians","ut1MinusUtcSeconds","lengthOfDayCorrectionSeconds","xCelestialPoleOffsetRadians","yCelestialPoleOffsetRadians","taiMinusUtcSeconds"],samples:[]})}function xn(e,t){return vt.compare(e.julianDate,t)}function vn(e,t){if(!a.defined(t.columnNames))return void(e._dataError="Error in loaded EOP data: The columnNames property is required.");if(!a.defined(t.samples))return void(e._dataError="Error in loaded EOP data: The samples property is required.");const n=t.columnNames.indexOf("modifiedJulianDateUtc"),r=t.columnNames.indexOf("xPoleWanderRadians"),i=t.columnNames.indexOf("yPoleWanderRadians"),o=t.columnNames.indexOf("ut1MinusUtcSeconds"),s=t.columnNames.indexOf("xCelestialPoleOffsetRadians"),u=t.columnNames.indexOf("yCelestialPoleOffsetRadians"),l=t.columnNames.indexOf("taiMinusUtcSeconds");if(n<0||r<0||i<0||o<0||s<0||u<0||l<0)return void(e._dataError="Error in loaded EOP data: The columnNames property must include modifiedJulianDateUtc, xPoleWanderRadians, yPoleWanderRadians, ut1MinusUtcSeconds, xCelestialPoleOffsetRadians, yCelestialPoleOffsetRadians, and taiMinusUtcSeconds columns");const c=e._samples=t.samples,f=e._dates=[];let d;e._dateColumn=n,e._xPoleWanderRadiansColumn=r,e._yPoleWanderRadiansColumn=i,e._ut1MinusUtcSecondsColumn=o,e._xCelestialPoleOffsetRadiansColumn=s,e._yCelestialPoleOffsetRadiansColumn=u,e._taiMinusUtcSecondsColumn=l,e._columnCount=t.columnNames.length,e._lastIndex=void 0;const p=e._addNewLeapSeconds;for(let t=0,r=c.length;t<r;t+=e._columnCount){const e=c[t+n],r=c[t+l],i=new vt(e+st.MODIFIED_JULIAN_DATE_DIFFERENCE,r,ut.TAI);if(f.push(i),p){if(r!==d&&a.defined(d)){const e=vt.leapSeconds,t=nt(e,i,xn);if(t<0){const n=new ot(i,r);e.splice(~t,0,n)}}d=r}}}function Rn(e,t,n,r,i){const a=n*r;i.xPoleWander=t[a+e._xPoleWanderRadiansColumn],i.yPoleWander=t[a+e._yPoleWanderRadiansColumn],i.xPoleOffset=t[a+e._xCelestialPoleOffsetRadiansColumn],i.yPoleOffset=t[a+e._yCelestialPoleOffsetRadiansColumn],i.ut1MinusUtc=t[a+e._ut1MinusUtcSecondsColumn]}function On(e,t,n){return t+e*(n-t)}function Mn(e,t,n,r,i,a,o){const s=e._columnCount;if(a>t.length-1)return o.xPoleWander=0,o.yPoleWander=0,o.xPoleOffset=0,o.yPoleOffset=0,o.ut1MinusUtc=0,o;const u=t[i],l=t[a];if(u.equals(l)||r.equals(u))return Rn(e,n,i,s,o),o;if(r.equals(l))return Rn(e,n,a,s,o),o;const c=vt.secondsDifference(r,u)/vt.secondsDifference(l,u),f=i*s,d=a*s;let p=n[f+e._ut1MinusUtcSecondsColumn],h=n[d+e._ut1MinusUtcSecondsColumn];const m=h-p;if(m>.5||m<-.5){const t=n[f+e._taiMinusUtcSecondsColumn],i=n[d+e._taiMinusUtcSecondsColumn];t!==i&&(l.equals(r)?p=h:h-=i-t)}return o.xPoleWander=On(c,n[f+e._xPoleWanderRadiansColumn],n[d+e._xPoleWanderRadiansColumn]),o.yPoleWander=On(c,n[f+e._yPoleWanderRadiansColumn],n[d+e._yPoleWanderRadiansColumn]),o.xPoleOffset=On(c,n[f+e._xCelestialPoleOffsetRadiansColumn],n[d+e._xCelestialPoleOffsetRadiansColumn]),o.yPoleOffset=On(c,n[f+e._yCelestialPoleOffsetRadiansColumn],n[d+e._yCelestialPoleOffsetRadiansColumn]),o.ut1MinusUtc=On(c,p,h),o}function Sn(e,t,n){this.heading=a.defaultValue(e,0),this.pitch=a.defaultValue(t,0),this.roll=a.defaultValue(n,0)}yn.prototype.fetch=function(e){return(e=hn(e,{})).method="GET",this._makeRequest(e)},yn.fetch=function(e){return new yn(e).fetch({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},yn.prototype.delete=function(e){return(e=hn(e,{})).method="DELETE",this._makeRequest(e)},yn.delete=function(e){return new yn(e).delete({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout,data:e.data})},yn.prototype.head=function(e){return(e=hn(e,{})).method="HEAD",this._makeRequest(e)},yn.head=function(e){return new yn(e).head({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},yn.prototype.options=function(e){return(e=hn(e,{})).method="OPTIONS",this._makeRequest(e)},yn.options=function(e){return new yn(e).options({responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},yn.prototype.post=function(e,t){return i.Check.defined("data",e),(t=hn(t,{})).method="POST",t.data=e,this._makeRequest(t)},yn.post=function(e){return new yn(e).post(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},yn.prototype.put=function(e,t){return i.Check.defined("data",e),(t=hn(t,{})).method="PUT",t.data=e,this._makeRequest(t)},yn.put=function(e){return new yn(e).put(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},yn.prototype.patch=function(e,t){return i.Check.defined("data",e),(t=hn(t,{})).method="PATCH",t.data=e,this._makeRequest(t)},yn.patch=function(e){return new yn(e).patch(e.data,{responseType:e.responseType,overrideMimeType:e.overrideMimeType,timeout:e.timeout})},yn._Implementations={},yn._Implementations.loadImageElement=function(e,t,n){const r=new Image;r.onload=function(){0===r.naturalWidth&&0===r.naturalHeight&&0===r.width&&0===r.height&&(r.width=300,r.height=150),n.resolve(r)},r.onerror=function(e){n.reject(e)},t&&(ln.contains(e)?r.crossOrigin="use-credentials":r.crossOrigin=""),r.src=e},yn._Implementations.createImage=function(e,t,n,r,o,s){const u=e.url;yn.supportsImageBitmapOptions().then((function(l){if(!l||!s)return void yn._Implementations.loadImageElement(u,t,n);const c=Q(),f=yn._Implementations.loadWithXhr(u,"blob","GET",void 0,void 0,c,void 0,void 0,void 0);return a.defined(f)&&a.defined(f.abort)&&(e.cancelFunction=function(){f.abort()}),c.promise.then((function(e){if(a.defined(e))return yn.createImageBitmapFromBlob(e,{flipY:r,premultiplyAlpha:!1,skipColorSpaceConversion:o});n.reject(new i.RuntimeError(`Successfully retrieved ${u} but it contained no content.`))})).then((function(e){n.resolve(e)}))})).catch((function(e){n.reject(e)}))},yn.createImageBitmapFromBlob=function(e,t){return i.Check.defined("options",t),i.Check.typeOf.bool("options.flipY",t.flipY),i.Check.typeOf.bool("options.premultiplyAlpha",t.premultiplyAlpha),i.Check.typeOf.bool("options.skipColorSpaceConversion",t.skipColorSpaceConversion),createImageBitmap(e,{imageOrientation:t.flipY?"flipY":"none",premultiplyAlpha:t.premultiplyAlpha?"premultiply":"none",colorSpaceConversion:t.skipColorSpaceConversion?"none":"default"})},yn._Implementations.loadWithXhr=function(e,t,o,s,u,l,c,f,d){const p=bn.exec(e);if(null!==p)return void l.resolve(function(e,t){t=a.defaultValue(t,"");const n=e[1],r=!!e[2],i=e[3];let o,s;switch(t){case"":case"text":return An(r,i);case"arraybuffer":return En(r,i);case"blob":return o=En(r,i),new Blob([o],{type:n});case"document":return s=new DOMParser,s.parseFromString(An(r,i),n);case"json":return JSON.parse(An(r,i))}}(p,t));if("undefined"==typeof XMLHttpRequest)return void function(e,t,a,o,s,u,l){const c=n(47).parse(e),f="https:"===c.protocol?n(118):n(95),d=n(131),p={protocol:c.protocol,hostname:c.hostname,port:c.port,path:c.path,query:c.query,method:a,headers:s};f.request(p).on("response",(function(e){if(e.statusCode<200||e.statusCode>=300)return void u.reject(new Ht(e.statusCode,e,e.headers));const n=[];e.on("data",(function(e){n.push(e)})),e.on("end",(function(){const a=r.concat(n);"gzip"===e.headers["content-encoding"]?d.gunzip(a,(function(e,n){e?u.reject(new i.RuntimeError("Error decompressing response.")):u.resolve(wn(n,t))})):u.resolve(wn(a,t))}))})).on("error",(function(e){u.reject(new Ht)})).end()}(e,t,o,0,u,l);const h=new XMLHttpRequest;if(ln.contains(e)&&(h.withCredentials=!0),h.open(o,e,!0),a.defined(c)&&a.defined(h.overrideMimeType)&&h.overrideMimeType(c),a.defined(u))for(const e in u)u.hasOwnProperty(e)&&h.setRequestHeader(e,u[e]);a.defined(t)&&(h.responseType=t),a.defined(f)&&(h.timeout=f);let m=!1;return"string"==typeof e&&(m=0===e.indexOf("file://")||"undefined"!=typeof window&&"file://"===window.location.origin),h.onload=function(){if((h.status<200||h.status>=300)&&(!m||0!==h.status))return void l.reject(new Ht(h.status,h.response,h.getAllResponseHeaders()));const n=void 0!==h.response?h.response:h.responseText,r=h.responseType,s=function(e){const t=e.trim().split(/[\r\n]+/),n={};return t.forEach((function(e){const t=e.split(": "),r=t.shift();n[r]=t.join(": ")})),n};if("HEAD"!==o&&"OPTIONS"!==o)if(void 0===d)if(204===h.status)l.resolve();else if(!a.defined(h.response)||a.defined(t)&&r!==t)if("json"===t&&"string"==typeof n)try{l.resolve(JSON.parse(n))}catch(e){l.reject(e)}else if("document"===t&&"string"==typeof n)try{const e=new DOMParser;l.resolve(e.parseFromString(n,"text/xml"))}catch(e){l.reject(e)}else(""===r||"document"===r)&&a.defined(h.responseXML)&&h.responseXML.hasChildNodes()?l.resolve(h.responseXML):""!==r&&"text"!==r||!a.defined(h.responseText)?"string"==typeof n?l.resolve(n):l.reject(new i.RuntimeError("Invalid XMLHttpRequest response type.")):l.resolve(h.responseText);else l.resolve(n);else{let t={};if("RAWXHR"===d)t=h;else{if("XHRJSONHEADERS"!==d)return void l.reject(new i.RuntimeError("Service Misconfiguration for "+e.toString()));{const e=s(h.getAllResponseHeaders());t={status:h.status,headers:e,response:n}}}l.resolve(t)}else l.resolve(s(h.getAllResponseHeaders()))},h.onerror=function(e){l.reject(new Ht)},h.ontimeout=function(e){const t=new Ht;t.isTimeout=!0,l.reject(t)},h.send(s),h},yn._Implementations.loadAndExecuteScript=function(e,t,n){return function(e){const t=Q(),n=document.createElement("script");n.async=!0,n.src=e;const r=document.getElementsByTagName("head")[0];return n.onload=function(){n.onload=void 0,r.removeChild(n),t.resolve()},n.onerror=function(e){t.reject(e)},r.appendChild(n),t.promise}(e).catch((function(e){n.reject(e)}))},yn._DefaultImplementations={},yn._DefaultImplementations.createImage=yn._Implementations.createImage,yn._DefaultImplementations.loadWithXhr=yn._Implementations.loadWithXhr,yn._DefaultImplementations.loadAndExecuteScript=yn._Implementations.loadAndExecuteScript,yn.DEFAULT=Object.freeze(new yn({url:"undefined"==typeof document?"":document.location.href.split("?")[0]})),Tn.NONE=Object.freeze({getPromiseToLoad:function(){return Promise.resolve()},compute:function(e,t){return a.defined(t)?(t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0):t=new rt(0,0,0,0,0),t}}),Tn.prototype.getPromiseToLoad=function(){return Promise.resolve(this._downloadPromise)},Tn.prototype.compute=function(e,t){if(!a.defined(this._samples)){if(a.defined(this._dataError))throw new i.RuntimeError(this._dataError);return}if(a.defined(t)||(t=new rt(0,0,0,0,0)),0===this._samples.length)return t.xPoleWander=0,t.yPoleWander=0,t.xPoleOffset=0,t.yPoleOffset=0,t.ut1MinusUtc=0,t;const n=this._dates,r=this._lastIndex;let o=0,s=0;if(a.defined(r)){const i=n[r],u=n[r+1],l=vt.lessThanOrEquals(i,e),c=!a.defined(u),f=c||vt.greaterThanOrEquals(u,e);if(l&&f)return o=r,!c&&u.equals(e)&&++o,s=o+1,Mn(this,n,this._samples,e,o,s,t),t}let u=nt(n,e,vt.compare,this._dateColumn);return u>=0?(u<n.length-1&&n[u+1].equals(e)&&++u,o=u,s=u):(s=~u,o=s-1,o<0&&(o=0)),this._lastIndex=o,Mn(this,n,this._samples,e,o,s,t),t},Sn.fromQuaternion=function(e,t){a.defined(t)||(t=new Sn);const n=2*(e.w*e.y-e.z*e.x),r=1-2*(e.x*e.x+e.y*e.y),i=2*(e.w*e.x+e.y*e.z),s=1-2*(e.y*e.y+e.z*e.z),u=2*(e.w*e.z+e.x*e.y);return t.heading=-Math.atan2(u,s),t.roll=Math.atan2(i,r),t.pitch=-o.CesiumMath.asinClamped(n),t},Sn.fromDegrees=function(e,t,n,r){return a.defined(r)||(r=new Sn),r.heading=e*o.CesiumMath.RADIANS_PER_DEGREE,r.pitch=t*o.CesiumMath.RADIANS_PER_DEGREE,r.roll=n*o.CesiumMath.RADIANS_PER_DEGREE,r},Sn.clone=function(e,t){if(a.defined(e))return a.defined(t)?(t.heading=e.heading,t.pitch=e.pitch,t.roll=e.roll,t):new Sn(e.heading,e.pitch,e.roll)},Sn.equals=function(e,t){return e===t||a.defined(e)&&a.defined(t)&&e.heading===t.heading&&e.pitch===t.pitch&&e.roll===t.roll},Sn.equalsEpsilon=function(e,t,n,r){return e===t||a.defined(e)&&a.defined(t)&&o.CesiumMath.equalsEpsilon(e.heading,t.heading,n,r)&&o.CesiumMath.equalsEpsilon(e.pitch,t.pitch,n,r)&&o.CesiumMath.equalsEpsilon(e.roll,t.roll,n,r)},Sn.prototype.clone=function(e){return Sn.clone(this,e)},Sn.prototype.equals=function(e){return Sn.equals(this,e)},Sn.prototype.equalsEpsilon=function(e,t,n){return Sn.equalsEpsilon(this,e,t,n)},Sn.prototype.toString=function(){return`(${this.heading}, ${this.pitch}, ${this.roll})`};const In=/((?:.*\/)|^)Cesium\.js(?:\?|\#|$)/;let Pn,Nn,Ln;function Dn(e){return"undefined"==typeof document?e:(a.defined(Pn)||(Pn=document.createElement("a")),Pn.href=e,Pn.href=Pn.href,Pn.href)}function Fn(){if(a.defined(Nn))return Nn;let e;return e="undefined"!=typeof CESIUM_BASE_URL?CESIUM_BASE_URL:function(){const e=document.getElementsByTagName("script");for(let t=0,n=e.length;t<n;++t){const n=e[t].getAttribute("src"),r=In.exec(n);if(null!==r)return r[1]}}(),""===e&&(e="."),Nn=new yn({url:Dn(e)}),Nn.appendForwardSlash(),Nn}function Gn(e){return Fn().getDerivedResource({url:e}).url}function Bn(e){a.defined(Ln)||(Ln=Gn);return Ln(e)}function Un(e,t,n){this.x=e,this.y=t,this.s=n}function kn(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),this._xysFileUrlTemplate=yn.createIfNeeded(e.xysFileUrlTemplate),this._interpolationOrder=a.defaultValue(e.interpolationOrder,9),this._sampleZeroJulianEphemerisDate=a.defaultValue(e.sampleZeroJulianEphemerisDate,2442396.5),this._sampleZeroDateTT=new vt(this._sampleZeroJulianEphemerisDate,0,ut.TAI),this._stepSizeDays=a.defaultValue(e.stepSizeDays,1),this._samplesPerXysFile=a.defaultValue(e.samplesPerXysFile,1e3),this._totalSamples=a.defaultValue(e.totalSamples,27426),this._samples=new Array(3*this._totalSamples),this._chunkDownloadsInProgress=[];const t=this._interpolationOrder,n=this._denominators=new Array(t+1),r=this._xTable=new Array(t+1),i=Math.pow(this._stepSizeDays,t);for(let e=0;e<=t;++e){n[e]=i,r[e]=e*this._stepSizeDays;for(let r=0;r<=t;++r)r!==e&&(n[e]*=e-r);n[e]=1/n[e]}this._work=new Array(t+1),this._coef=new Array(t+1)}Bn._cesiumScriptRegex=In,Bn._buildModuleUrlFromBaseUrl=Gn,Bn._clearBaseResource=function(){Nn=void 0},Bn.setBaseUrl=function(e){Nn=yn.DEFAULT.getDerivedResource({url:e})},Bn.getCesiumBaseUrl=Fn;const Vn=new vt(0,0,ut.TAI);function zn(e,t,n){const r=Vn;return r.dayNumber=t,r.secondsOfDay=n,vt.daysDifference(r,e._sampleZeroDateTT)}function jn(e,t){if(e._chunkDownloadsInProgress[t])return e._chunkDownloadsInProgress[t];const r=Q();let i;e._chunkDownloadsInProgress[t]=r;const o=e._xysFileUrlTemplate;return i=a.defined(o)?o.getDerivedResource({templateValues:{0:t}}):new yn({url:n(149)(`./IAU2006_XYS_${t}.json`)}),i.fetchJson().then((function(n){e._chunkDownloadsInProgress[t]=!1;const i=e._samples,a=n.samples,o=t*e._samplesPerXysFile*3;for(let e=0,t=a.length;e<t;++e)i[o+e]=a[e];r.resolve()})),r.promise}kn.prototype.preload=function(e,t,n,r){const i=zn(this,e,t),a=zn(this,n,r);let o=i/this._stepSizeDays-this._interpolationOrder/2|0;o<0&&(o=0);let s=a/this._stepSizeDays-this._interpolationOrder/2|0+this._interpolationOrder;s>=this._totalSamples&&(s=this._totalSamples-1);const u=o/this._samplesPerXysFile|0,l=s/this._samplesPerXysFile|0,c=[];for(let e=u;e<=l;++e)c.push(jn(this,e));return Promise.all(c)},kn.prototype.computeXysRadians=function(e,t,n){const r=zn(this,e,t);if(r<0)return;const i=r/this._stepSizeDays|0;if(i>=this._totalSamples)return;const o=this._interpolationOrder;let s=i-(o/2|0);s<0&&(s=0);let u=s+o;u>=this._totalSamples&&(u=this._totalSamples-1,s=u-o,s<0&&(s=0));let l=!1;const c=this._samples;if(a.defined(c[3*s])||(jn(this,s/this._samplesPerXysFile|0),l=!0),a.defined(c[3*u])||(jn(this,u/this._samplesPerXysFile|0),l=!0),l)return;a.defined(n)?(n.x=0,n.y=0,n.s=0):n=new Un(0,0,0);const f=r-s*this._stepSizeDays,d=this._work,p=this._denominators,h=this._coef,m=this._xTable;let _,y;for(_=0;_<=o;++_)d[_]=f-m[_];for(_=0;_<=o;++_){for(h[_]=1,y=0;y<=o;++y)y!==_&&(h[_]*=d[y]);h[_]*=p[_];let e=3*(s+_);n.x+=h[_]*c[e++],n.y+=h[_]*c[e++],n.s+=h[_]*c[e]}return n};const Hn={},qn={up:{south:"east",north:"west",west:"south",east:"north"},down:{south:"west",north:"east",west:"north",east:"south"},south:{up:"west",down:"east",west:"down",east:"up"},north:{up:"east",down:"west",west:"up",east:"down"},west:{up:"north",down:"south",north:"down",south:"up"},east:{up:"south",down:"north",north:"up",south:"down"}},Wn={north:[-1,0,0],east:[0,1,0],up:[0,0,1],south:[1,0,0],west:[0,-1,0],down:[0,0,-1]},Kn={},Yn={east:new t.Cartesian3,north:new t.Cartesian3,up:new t.Cartesian3,west:new t.Cartesian3,south:new t.Cartesian3,down:new t.Cartesian3};let Xn=new t.Cartesian3,Zn=new t.Cartesian3,Qn=new t.Cartesian3;Hn.localFrameToFixedFrameGenerator=function(e,n){if(!qn.hasOwnProperty(e)||!qn[e].hasOwnProperty(n))throw new i.DeveloperError("firstAxis and secondAxis must be east, north, up, west, south or down.");const r=qn[e][n];let s;const u=e+n;return a.defined(Kn[u])?s=Kn[u]:(s=function(i,s,u){if(a.defined(u)||(u=new t.Matrix4),t.Cartesian3.equalsEpsilon(i,t.Cartesian3.ZERO,o.CesiumMath.EPSILON14))t.Cartesian3.unpack(Wn[e],0,Xn),t.Cartesian3.unpack(Wn[n],0,Zn),t.Cartesian3.unpack(Wn[r],0,Qn);else if(o.CesiumMath.equalsEpsilon(i.x,0,o.CesiumMath.EPSILON14)&&o.CesiumMath.equalsEpsilon(i.y,0,o.CesiumMath.EPSILON14)){const a=o.CesiumMath.sign(i.z);t.Cartesian3.unpack(Wn[e],0,Xn),"east"!==e&&"west"!==e&&t.Cartesian3.multiplyByScalar(Xn,a,Xn),t.Cartesian3.unpack(Wn[n],0,Zn),"east"!==n&&"west"!==n&&t.Cartesian3.multiplyByScalar(Zn,a,Zn),t.Cartesian3.unpack(Wn[r],0,Qn),"east"!==r&&"west"!==r&&t.Cartesian3.multiplyByScalar(Qn,a,Qn)}else{(s=a.defaultValue(s,t.Ellipsoid.WGS84)).geodeticSurfaceNormal(i,Yn.up);const o=Yn.up,u=Yn.east;u.x=-i.y,u.y=i.x,u.z=0,t.Cartesian3.normalize(u,Yn.east),t.Cartesian3.cross(o,u,Yn.north),t.Cartesian3.multiplyByScalar(Yn.up,-1,Yn.down),t.Cartesian3.multiplyByScalar(Yn.east,-1,Yn.west),t.Cartesian3.multiplyByScalar(Yn.north,-1,Yn.south),Xn=Yn[e],Zn=Yn[n],Qn=Yn[r]}return u[0]=Xn.x,u[1]=Xn.y,u[2]=Xn.z,u[3]=0,u[4]=Zn.x,u[5]=Zn.y,u[6]=Zn.z,u[7]=0,u[8]=Qn.x,u[9]=Qn.y,u[10]=Qn.z,u[11]=0,u[12]=i.x,u[13]=i.y,u[14]=i.z,u[15]=1,u},Kn[u]=s),s},Hn.eastNorthUpToFixedFrame=Hn.localFrameToFixedFrameGenerator("east","north"),Hn.northEastDownToFixedFrame=Hn.localFrameToFixedFrameGenerator("north","east"),Hn.northUpEastToFixedFrame=Hn.localFrameToFixedFrameGenerator("north","up"),Hn.northWestUpToFixedFrame=Hn.localFrameToFixedFrameGenerator("north","west");const $n=new Me,Jn=new t.Cartesian3(1,1,1),er=new t.Matrix4;Hn.headingPitchRollToFixedFrame=function(e,n,r,i,o){i=a.defaultValue(i,Hn.eastNorthUpToFixedFrame);const s=Me.fromHeadingPitchRoll(n,$n),u=t.Matrix4.fromTranslationQuaternionRotationScale(t.Cartesian3.ZERO,s,Jn,er);return o=i(e,r,o),t.Matrix4.multiply(o,u,o)};const tr=new t.Matrix4,nr=new t.Matrix3;Hn.headingPitchRollQuaternion=function(e,n,r,i,a){const o=Hn.headingPitchRollToFixedFrame(e,n,r,i,tr),s=t.Matrix4.getMatrix3(o,nr);return Me.fromRotationMatrix(s,a)};const rr=new t.Cartesian3(1,1,1),ir=new t.Cartesian3,ar=new t.Matrix4,or=new t.Matrix4,sr=new t.Matrix3,ur=new Me;Hn.fixedFrameToHeadingPitchRoll=function(e,n,r,i){n=a.defaultValue(n,t.Ellipsoid.WGS84),r=a.defaultValue(r,Hn.eastNorthUpToFixedFrame),a.defined(i)||(i=new Sn);const o=t.Matrix4.getTranslation(e,ir);if(t.Cartesian3.equals(o,t.Cartesian3.ZERO))return i.heading=0,i.pitch=0,i.roll=0,i;let s=t.Matrix4.inverseTransformation(r(o,n,ar),ar),u=t.Matrix4.setScale(e,rr,or);u=t.Matrix4.setTranslation(u,t.Cartesian3.ZERO,u),s=t.Matrix4.multiply(s,u,s);let l=Me.fromRotationMatrix(t.Matrix4.getMatrix3(s,sr),ur);return l=Me.normalize(l,l),Sn.fromQuaternion(l,i)};const lr=o.CesiumMath.TWO_PI/86400;let cr=new vt;Hn.computeTemeToPseudoFixedMatrix=function(e,n){cr=vt.addSeconds(e,-vt.computeTaiMinusUtc(e),cr);const r=cr.dayNumber,i=cr.secondsOfDay;let s;const u=r-2451545;s=i>=43200?(u+.5)/st.DAYS_PER_JULIAN_CENTURY:(u-.5)/st.DAYS_PER_JULIAN_CENTURY;const l=(24110.54841+s*(8640184.812866+s*(.093104+-62e-7*s)))*lr%o.CesiumMath.TWO_PI+(72921158553e-15+11772758384668e-32*(r-2451545.5))*((i+.5*st.SECONDS_PER_DAY)%st.SECONDS_PER_DAY),c=Math.cos(l),f=Math.sin(l);return a.defined(n)?(n[0]=c,n[1]=-f,n[2]=0,n[3]=f,n[4]=c,n[5]=0,n[6]=0,n[7]=0,n[8]=1,n):new t.Matrix3(c,f,0,-f,c,0,0,0,1)},Hn.iau2006XysData=new kn,Hn.earthOrientationParameters=Tn.NONE;Hn.preloadIcrfFixed=function(e){const t=e.start.dayNumber,n=e.start.secondsOfDay+32.184,r=e.stop.dayNumber,i=e.stop.secondsOfDay+32.184,a=Hn.iau2006XysData.preload(t,n,r,i),o=Hn.earthOrientationParameters.getPromiseToLoad();return Promise.all([a,o])},Hn.computeIcrfToFixedMatrix=function(e,n){a.defined(n)||(n=new t.Matrix3);const r=Hn.computeFixedToIcrfMatrix(e,n);if(a.defined(r))return t.Matrix3.transpose(r,n)};const fr=new Un(0,0,0),dr=new rt(0,0,0,0,0),pr=new t.Matrix3,hr=new t.Matrix3;Hn.computeFixedToIcrfMatrix=function(e,n){a.defined(n)||(n=new t.Matrix3);const r=Hn.earthOrientationParameters.compute(e,dr);if(!a.defined(r))return;const i=e.dayNumber,s=e.secondsOfDay+32.184,u=Hn.iau2006XysData.computeXysRadians(i,s,fr);if(!a.defined(u))return;const l=u.x+r.xPoleOffset,c=u.y+r.yPoleOffset,f=1/(1+Math.sqrt(1-l*l-c*c)),d=pr;d[0]=1-f*l*l,d[3]=-f*l*c,d[6]=l,d[1]=-f*l*c,d[4]=1-f*c*c,d[7]=c,d[2]=-l,d[5]=-c,d[8]=1-f*(l*l+c*c);const p=t.Matrix3.fromRotationZ(-u.s,hr),h=t.Matrix3.multiply(d,p,pr),m=e.dayNumber-2451545,_=(e.secondsOfDay-vt.computeTaiMinusUtc(e)+r.ut1MinusUtc)/st.SECONDS_PER_DAY;let y=.779057273264+_+.00273781191135448*(m+_);y=y%1*o.CesiumMath.TWO_PI;const g=t.Matrix3.fromRotationZ(y,hr),C=t.Matrix3.multiply(h,g,pr),b=Math.cos(r.xPoleWander),A=Math.cos(r.yPoleWander),E=Math.sin(r.xPoleWander),w=Math.sin(r.yPoleWander);let T=i-2451545+s/st.SECONDS_PER_DAY;T/=36525;const x=-47e-6*T*o.CesiumMath.RADIANS_PER_DEGREE/3600,v=Math.cos(x),R=Math.sin(x),O=hr;return O[0]=b*v,O[1]=b*R,O[2]=E,O[3]=-A*R+w*E*v,O[4]=A*v+w*E*R,O[5]=-w*b,O[6]=-w*R-A*E*v,O[7]=w*v-A*E*R,O[8]=A*b,t.Matrix3.multiply(C,O,n)};const mr=new t.Cartesian4;Hn.pointToWindowCoordinates=function(e,t,n,r){return(r=Hn.pointToGLWindowCoordinates(e,t,n,r)).y=2*t[5]-r.y,r},Hn.pointToGLWindowCoordinates=function(e,n,r,i){a.defined(i)||(i=new t.Cartesian2);const o=mr;return t.Matrix4.multiplyByVector(e,t.Cartesian4.fromElements(r.x,r.y,r.z,1,o),o),t.Cartesian4.multiplyByScalar(o,1/o.w,o),t.Matrix4.multiplyByVector(n,o,o),t.Cartesian2.fromCartesian4(o,i)};const _r=new t.Cartesian3,yr=new t.Cartesian3,gr=new t.Cartesian3;Hn.rotationMatrixFromPositionVelocity=function(e,n,r,i){const s=a.defaultValue(r,t.Ellipsoid.WGS84).geodeticSurfaceNormal(e,_r);let u=t.Cartesian3.cross(n,s,yr);t.Cartesian3.equalsEpsilon(u,t.Cartesian3.ZERO,o.CesiumMath.EPSILON6)&&(u=t.Cartesian3.clone(t.Cartesian3.UNIT_X,u));const l=t.Cartesian3.cross(u,n,gr);return t.Cartesian3.normalize(l,l),t.Cartesian3.cross(n,l,u),t.Cartesian3.negate(u,u),t.Cartesian3.normalize(u,u),a.defined(i)||(i=new t.Matrix3),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=u.x,i[4]=u.y,i[5]=u.z,i[6]=l.x,i[7]=l.y,i[8]=l.z,i};const Cr=new t.Matrix4(0,0,1,0,1,0,0,0,0,1,0,0,0,0,0,1),br=new t.Cartographic,Ar=new t.Cartesian3,Er=new t.Cartesian3,wr=new t.Matrix3,Tr=new t.Matrix4,xr=new t.Matrix4;Hn.basisTo2D=function(e,n,r){const i=t.Matrix4.getTranslation(n,Er),a=e.ellipsoid,o=a.cartesianToCartographic(i,br),s=e.project(o,Ar);t.Cartesian3.fromElements(s.z,s.x,s.y,s);const u=Hn.eastNorthUpToFixedFrame(i,a,Tr),l=t.Matrix4.inverseTransformation(u,xr),c=t.Matrix4.getMatrix3(n,wr),f=t.Matrix4.multiplyByMatrix3(l,c,r);return t.Matrix4.multiply(Cr,f,r),t.Matrix4.setTranslation(r,s,r),r},Hn.wgs84To2DModelMatrix=function(e,n,r){const i=e.ellipsoid,a=Hn.eastNorthUpToFixedFrame(n,i,Tr),o=t.Matrix4.inverseTransformation(a,xr),s=i.cartesianToCartographic(n,br),u=e.project(s,Ar);t.Cartesian3.fromElements(u.z,u.x,u.y,u);const l=t.Matrix4.fromTranslation(u,Tr);return t.Matrix4.multiply(Cr,o,r),t.Matrix4.multiply(l,r,r),r},e.BoundingSphere=d,e.FeatureDetection=Oe,e.GeographicProjection=l,e.Intersect=c,e.Interval=f,e.Quaternion=Me,e.Resource=yn,e.Transforms=Hn,e.getAbsoluteUri=Nt}.apply(t,i))||(e.exports=a)}).call(this,n(27).Buffer)},function(e,t,n){var r;void 0===(r=function(e){"use strict";var t=Object.freeze({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGBA_ASTC_4x4_WEBGL:37808,COMPRESSED_RGB_ETC1_WEBGL:36196,COMPRESSED_RGBA_BPTC_UNORM:36492,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047});e.WebGLConstants=t}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r,i;r=[t,n(2),n(1),n(0),n(5),n(4)],void 0===(i=function(e,t,n,r,i,a){"use strict";var o=Object.freeze({NONE:0,TRIANGLES:1,LINES:2,POLYLINES:3});const s={POINTS:i.WebGLConstants.POINTS,LINES:i.WebGLConstants.LINES,LINE_LOOP:i.WebGLConstants.LINE_LOOP,LINE_STRIP:i.WebGLConstants.LINE_STRIP,TRIANGLES:i.WebGLConstants.TRIANGLES,TRIANGLE_STRIP:i.WebGLConstants.TRIANGLE_STRIP,TRIANGLE_FAN:i.WebGLConstants.TRIANGLE_FAN,validate:function(e){return e===s.POINTS||e===s.LINES||e===s.LINE_LOOP||e===s.LINE_STRIP||e===s.TRIANGLES||e===s.TRIANGLE_STRIP||e===s.TRIANGLE_FAN}};var u=Object.freeze(s);function l(e){e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT),this.attributes=e.attributes,this.indices=e.indices,this.primitiveType=r.defaultValue(e.primitiveType,u.TRIANGLES),this.boundingSphere=e.boundingSphere,this.geometryType=r.defaultValue(e.geometryType,o.NONE),this.boundingSphereCV=e.boundingSphereCV,this.offsetAttribute=e.offsetAttribute}l.computeNumberOfVertices=function(e){let t=-1;for(const n in e.attributes)if(e.attributes.hasOwnProperty(n)&&r.defined(e.attributes[n])&&r.defined(e.attributes[n].values)){const r=e.attributes[n];t=r.values.length/r.componentsPerAttribute}return t};const c=new t.Cartographic,f=new t.Cartesian3,d=new t.Matrix4,p=[new t.Cartographic,new t.Cartographic,new t.Cartographic],h=[new t.Cartesian2,new t.Cartesian2,new t.Cartesian2],m=[new t.Cartesian2,new t.Cartesian2,new t.Cartesian2],_=new t.Cartesian3,y=new a.Quaternion,g=new t.Matrix4,C=new t.Matrix2;l._textureCoordinateRotationPoints=function(e,n,r,i){let o;const s=t.Rectangle.center(i,c),u=t.Cartographic.toCartesian(s,r,f),l=a.Transforms.eastNorthUpToFixedFrame(u,r,d),b=t.Matrix4.inverse(l,d),A=h,E=p;E[0].longitude=i.west,E[0].latitude=i.south,E[1].longitude=i.west,E[1].latitude=i.north,E[2].longitude=i.east,E[2].latitude=i.south;let w=_;for(o=0;o<3;o++)t.Cartographic.toCartesian(E[o],r,w),w=t.Matrix4.multiplyByPointAsVector(b,w,w),A[o].x=w.x,A[o].y=w.y;const T=a.Quaternion.fromAxisAngle(t.Cartesian3.UNIT_Z,-n,y),x=t.Matrix3.fromQuaternion(T,g),v=e.length;let R=Number.POSITIVE_INFINITY,O=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,S=Number.NEGATIVE_INFINITY;for(o=0;o<v;o++)w=t.Matrix4.multiplyByPointAsVector(b,e[o],w),w=t.Matrix3.multiplyByVector(x,w,w),R=Math.min(R,w.x),O=Math.min(O,w.y),M=Math.max(M,w.x),S=Math.max(S,w.y);const I=t.Matrix2.fromRotation(n,C),P=m;P[0].x=R,P[0].y=O,P[1].x=R,P[1].y=S,P[2].x=M,P[2].y=O;const N=A[0],L=A[2].x-N.x,D=A[1].y-N.y;for(o=0;o<3;o++){const e=P[o];t.Matrix2.multiplyByVector(I,e,e),e.x=(e.x-N.x)/L,e.y=(e.y-N.y)/D}const F=P[0],G=P[1],B=P[2],U=new Array(6);return t.Cartesian2.pack(F,U),t.Cartesian2.pack(G,U,2),t.Cartesian2.pack(B,U,4),U},e.Geometry=l,e.GeometryAttribute=function(e){e=r.defaultValue(e,r.defaultValue.EMPTY_OBJECT),this.componentDatatype=e.componentDatatype,this.componentsPerAttribute=e.componentsPerAttribute,this.normalize=r.defaultValue(e.normalize,!1),this.values=e.values},e.GeometryType=o,e.PrimitiveType=u}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(0)],void 0===(i=function(e,t){"use strict";e.combine=function e(n,r,i){i=t.defaultValue(i,!1);const a={},o=t.defined(n),s=t.defined(r);let u,l,c;if(o)for(u in n)n.hasOwnProperty(u)&&(l=n[u],s&&i&&"object"==typeof l&&r.hasOwnProperty(u)?(c=r[u],a[u]="object"==typeof c?e(l,c,i):l):a[u]=l);if(s)for(u in r)r.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(c=r[u],a[u]=c);return a}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(0)],void 0===(i=function(e,t){"use strict";e.GeometryAttributes=function(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),this.position=e.position,this.normal=e.normal,this.st=e.st,this.bitangent=e.bitangent,this.tangent=e.tangent,this.color=e.color}}.apply(t,r))||(e.exports=i)},function(e,t,n){(function(n){var r;void 0===(r=function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};e.commonjsGlobal=t,e.createCommonjsModule=function(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}}.apply(t,[t]))||(e.exports=r)}).call(this,n(21))},function(e,t,n){var r,i;r=[t,n(0),n(1),n(3),n(5)],void 0===(i=function(e,t,n,r,i){"use strict";const a={UNSIGNED_BYTE:i.WebGLConstants.UNSIGNED_BYTE,UNSIGNED_SHORT:i.WebGLConstants.UNSIGNED_SHORT,UNSIGNED_INT:i.WebGLConstants.UNSIGNED_INT,getSizeInBytes:function(e){switch(e){case a.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case a.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case a.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT}},fromSizeInBytes:function(e){switch(e){case 2:return a.UNSIGNED_SHORT;case 4:return a.UNSIGNED_INT;case 1:return a.UNSIGNED_BYTE}},validate:function(e){return t.defined(e)&&(e===a.UNSIGNED_BYTE||e===a.UNSIGNED_SHORT||e===a.UNSIGNED_INT)},createTypedArray:function(e,t){return e>=r.CesiumMath.SIXTY_FOUR_KILOBYTES?new Uint32Array(t):new Uint16Array(t)},createTypedArrayFromArrayBuffer:function(e,t,n,i){return e>=r.CesiumMath.SIXTY_FOUR_KILOBYTES?new Uint32Array(t,n,i):new Uint16Array(t,n,i)}};var o=Object.freeze(a);e.IndexDatatype=o}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(1),n(0),n(3)],void 0===(i=function(e,t,n,r,i){"use strict";function a(e,n){this.normal=t.Cartesian3.clone(e),this.distance=n}a.fromPointNormal=function(e,n,i){const o=-t.Cartesian3.dot(n,e);return r.defined(i)?(t.Cartesian3.clone(n,i.normal),i.distance=o,i):new a(n,o)};const o=new t.Cartesian3;a.fromCartesian4=function(e,n){const i=t.Cartesian3.fromCartesian4(e,o),s=e.w;return r.defined(n)?(t.Cartesian3.clone(i,n.normal),n.distance=s,n):new a(i,s)},a.getPointDistance=function(e,n){return t.Cartesian3.dot(e.normal,n)+e.distance};const s=new t.Cartesian3;a.projectPointOntoPlane=function(e,n,i){r.defined(i)||(i=new t.Cartesian3);const o=a.getPointDistance(e,n),u=t.Cartesian3.multiplyByScalar(e.normal,o,s);return t.Cartesian3.subtract(n,u,i)};const u=new t.Matrix4,l=new t.Cartesian4,c=new t.Cartesian3;a.transform=function(e,n,r){const i=e.normal,o=e.distance,s=t.Matrix4.inverseTranspose(n,u);let f=t.Cartesian4.fromElements(i.x,i.y,i.z,o,l);f=t.Matrix4.multiplyByVector(s,f,f);const d=t.Cartesian3.fromCartesian4(f,c);return f=t.Cartesian4.divideByScalar(f,t.Cartesian3.magnitude(d),f),a.fromCartesian4(f,r)},a.clone=function(e,n){return r.defined(n)?(t.Cartesian3.clone(e.normal,n.normal),n.distance=e.distance,n):new a(e.normal,e.distance)},a.equals=function(e,n){return e.distance===n.distance&&t.Cartesian3.equals(e.normal,n.normal)},a.ORIGIN_XY_PLANE=Object.freeze(new a(t.Cartesian3.UNIT_Z,0)),a.ORIGIN_YZ_PLANE=Object.freeze(new a(t.Cartesian3.UNIT_X,0)),a.ORIGIN_ZX_PLANE=Object.freeze(new a(t.Cartesian3.UNIT_Y,0)),e.Plane=a}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(1),n(0)],void 0===(i=function(e,t,n){"use strict";var r=Object.freeze({NONE:0,TOP:1,ALL:2});e.GeometryOffsetAttribute=r,e.arrayFill=function(e,t,r,i){if("function"==typeof e.fill)return e.fill(t,r,i);const a=e.length>>>0,o=n.defaultValue(r,0);let s=o<0?Math.max(a+o,0):Math.min(o,a);const u=n.defaultValue(i,a),l=u<0?Math.max(a+u,0):Math.min(u,a);for(;s<l;)e[s]=t,s++;return e}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(0),n(1),n(4),n(3)],void 0===(i=function(e,t,n,r,i,a){"use strict";const o={};function s(e,t,n){const r=e+t;return a.CesiumMath.sign(e)!==a.CesiumMath.sign(t)&&Math.abs(r/Math.max(Math.abs(e),Math.abs(t)))<n?0:r}o.computeDiscriminant=function(e,t,n){return t*t-4*e*n},o.computeRealRoots=function(e,t,n){let r;if(0===e)return 0===t?[]:[-n/t];if(0===t){if(0===n)return[0,0];const t=Math.abs(n),i=Math.abs(e);if(t<i&&t/i<a.CesiumMath.EPSILON14)return[0,0];if(t>i&&i/t<a.CesiumMath.EPSILON14)return[];if(r=-n/e,r<0)return[];const o=Math.sqrt(r);return[-o,o]}if(0===n)return r=-t/e,r<0?[r,0]:[0,r];const i=s(t*t,-(4*e*n),a.CesiumMath.EPSILON14);if(i<0)return[];const o=-.5*s(t,a.CesiumMath.sign(t)*Math.sqrt(i),a.CesiumMath.EPSILON14);return t>0?[o/e,n/o]:[n/o,o/e]};const u={};function l(e,t,n,r){const i=e,a=t/3,o=n/3,s=r,u=i*o,l=a*s,c=a*a,f=o*o,d=i*o-c,p=i*s-a*o,h=a*s-f,m=4*d*h-p*p;let _,y;if(m<0){let e,t,n;c*l>=u*f?(e=i,t=d,n=-2*a*d+i*p):(e=s,t=h,n=-s*p+2*o*h);const r=-(n<0?-1:1)*Math.abs(e)*Math.sqrt(-m);y=-n+r;const g=y/2,C=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),b=y===r?-C:-t/C;return _=t<=0?C+b:-n/(C*C+b*b+t),c*l>=u*f?[(_-a)/i]:[-s/(_+o)]}const g=d,C=-2*a*d+i*p,b=h,A=-s*p+2*o*h,E=Math.sqrt(m),w=Math.sqrt(3)/2;let T=Math.abs(Math.atan2(i*E,-C)/3);_=2*Math.sqrt(-g);let x=Math.cos(T);y=_*x;let v=_*(-x/2-w*Math.sin(T));const R=y+v>2*a?y-a:v-a,O=i,M=R/O;T=Math.abs(Math.atan2(s*E,-A)/3),_=2*Math.sqrt(-b),x=Math.cos(T),y=_*x,v=_*(-x/2-w*Math.sin(T));const S=-s,I=y+v<2*o?y+o:v+o,P=S/I,N=-R*I-O*S,L=(o*N-a*(R*S))/(-a*N+o*(O*I));return M<=L?M<=P?L<=P?[M,L,P]:[M,P,L]:[P,M,L]:M<=P?[L,M,P]:L<=P?[L,P,M]:[P,L,M]}u.computeDiscriminant=function(e,t,n,r){const i=t*t,a=n*n;return 18*e*t*n*r+i*a-27*(e*e)*(r*r)-4*(e*a*n+i*t*r)},u.computeRealRoots=function(e,t,n,r){let i,a;if(0===e)return o.computeRealRoots(t,n,r);if(0===t){if(0===n){if(0===r)return[0,0,0];a=-r/e;const t=a<0?-Math.pow(-a,1/3):Math.pow(a,1/3);return[t,t,t]}return 0===r?(i=o.computeRealRoots(e,0,n),0===i.Length?[0]:[i[0],0,i[1]]):l(e,0,n,r)}return 0===n?0===r?(a=-t/e,a<0?[a,0,0]:[0,0,a]):l(e,t,0,r):0===r?(i=o.computeRealRoots(e,t,n),0===i.length?[0]:i[1]<=0?[i[0],i[1],0]:i[0]>=0?[0,i[0],i[1]]:[i[0],0,i[1]]):l(e,t,n,r)};const c={};function f(e,t,n,r){const i=e*e,s=t-3*i/8,l=n-t*e/2+i*e/8,c=r-n*e/4+t*i/16-3*i*i/256,f=u.computeRealRoots(1,2*s,s*s-4*c,-l*l);if(f.length>0){const t=-e/4,n=f[f.length-1];if(Math.abs(n)<a.CesiumMath.EPSILON14){const e=o.computeRealRoots(1,s,c);if(2===e.length){const n=e[0],r=e[1];let i;if(n>=0&&r>=0){const e=Math.sqrt(n),i=Math.sqrt(r);return[t-i,t-e,t+e,t+i]}if(n>=0&&r<0)return i=Math.sqrt(n),[t-i,t+i];if(n<0&&r>=0)return i=Math.sqrt(r),[t-i,t+i]}return[]}if(n>0){const e=Math.sqrt(n),r=(s+n-l/e)/2,i=(s+n+l/e)/2,a=o.computeRealRoots(1,e,r),u=o.computeRealRoots(1,-e,i);return 0!==a.length?(a[0]+=t,a[1]+=t,0!==u.length?(u[0]+=t,u[1]+=t,a[1]<=u[0]?[a[0],a[1],u[0],u[1]]:u[1]<=a[0]?[u[0],u[1],a[0],a[1]]:a[0]>=u[0]&&a[1]<=u[1]?[u[0],a[0],a[1],u[1]]:u[0]>=a[0]&&u[1]<=a[1]?[a[0],u[0],u[1],a[1]]:a[0]>u[0]&&a[0]<u[1]?[u[0],a[0],u[1],a[1]]:[a[0],u[0],a[1],u[1]]):a):0!==u.length?(u[0]+=t,u[1]+=t,u):[]}}return[]}function d(e,t,n,r){const i=e*e,s=-2*t,l=n*e+t*t-4*r,c=i*r-n*t*e+n*n,f=u.computeRealRoots(1,s,l,c);if(f.length>0){const s=f[0],u=t-s,l=u*u,c=e/2,d=u/2,p=l-4*r,h=l+4*Math.abs(r),m=i-4*s,_=i+4*Math.abs(s);let y,g,C,b,A,E;if(s<0||p*_<m*h){const t=Math.sqrt(m);y=t/2,g=0===t?0:(e*d-n)/t}else{const t=Math.sqrt(p);y=0===t?0:(e*d-n)/t,g=t/2}0===c&&0===y?(C=0,b=0):a.CesiumMath.sign(c)===a.CesiumMath.sign(y)?(C=c+y,b=s/C):(b=c-y,C=s/b),0===d&&0===g?(A=0,E=0):a.CesiumMath.sign(d)===a.CesiumMath.sign(g)?(A=d+g,E=r/A):(E=d-g,A=r/E);const w=o.computeRealRoots(1,C,A),T=o.computeRealRoots(1,b,E);if(0!==w.length)return 0!==T.length?w[1]<=T[0]?[w[0],w[1],T[0],T[1]]:T[1]<=w[0]?[T[0],T[1],w[0],w[1]]:w[0]>=T[0]&&w[1]<=T[1]?[T[0],w[0],w[1],T[1]]:T[0]>=w[0]&&T[1]<=w[1]?[w[0],T[0],T[1],w[1]]:w[0]>T[0]&&w[0]<T[1]?[T[0],w[0],T[1],w[1]]:[w[0],T[0],w[1],T[1]]:w;if(0!==T.length)return T}return[]}function p(e,r){r=t.Cartesian3.clone(n.defaultValue(r,t.Cartesian3.ZERO)),t.Cartesian3.equals(r,t.Cartesian3.ZERO)||t.Cartesian3.normalize(r,r),this.origin=t.Cartesian3.clone(n.defaultValue(e,t.Cartesian3.ZERO)),this.direction=r}c.computeDiscriminant=function(e,t,n,r,i){const a=e*e,o=t*t,s=o*t,u=n*n,l=u*n,c=r*r,f=c*r,d=i*i;return o*u*c-4*s*f-4*e*l*c+18*e*t*n*f-27*a*c*c+256*(a*e)*(d*i)+i*(18*s*n*r-4*o*l+16*e*u*u-80*e*t*u*r-6*e*o*c+144*a*n*c)+d*(144*e*o*n-27*o*o-128*a*u-192*a*t*r)},c.computeRealRoots=function(e,t,n,r,i){if(Math.abs(e)<a.CesiumMath.EPSILON15)return u.computeRealRoots(t,n,r,i);const o=t/e,s=n/e,l=r/e,c=i/e;let p=o<0?1:0;switch(p+=s<0?p+1:p,p+=l<0?p+1:p,p+=c<0?p+1:p,p){case 0:return f(o,s,l,c);case 1:case 2:return d(o,s,l,c);case 3:case 4:return f(o,s,l,c);case 5:return d(o,s,l,c);case 6:case 7:return f(o,s,l,c);case 8:return d(o,s,l,c);case 9:case 10:return f(o,s,l,c);case 11:return d(o,s,l,c);case 12:case 13:case 14:case 15:return f(o,s,l,c);default:return}},p.clone=function(e,r){if(n.defined(e))return n.defined(r)?(r.origin=t.Cartesian3.clone(e.origin),r.direction=t.Cartesian3.clone(e.direction),r):new p(e.origin,e.direction)},p.getPoint=function(e,r,i){return n.defined(i)||(i=new t.Cartesian3),i=t.Cartesian3.multiplyByScalar(e.direction,r,i),t.Cartesian3.add(e.origin,i,i)};const h={rayPlane:function(e,r,i){n.defined(i)||(i=new t.Cartesian3);const o=e.origin,s=e.direction,u=r.normal,l=t.Cartesian3.dot(u,s);if(Math.abs(l)<a.CesiumMath.EPSILON15)return;const c=(-r.distance-t.Cartesian3.dot(u,o))/l;return c<0?void 0:(i=t.Cartesian3.multiplyByScalar(s,c,i),t.Cartesian3.add(o,i,i))}},m=new t.Cartesian3,_=new t.Cartesian3,y=new t.Cartesian3,g=new t.Cartesian3,C=new t.Cartesian3;h.rayTriangleParametric=function(e,r,i,o,s){s=n.defaultValue(s,!1);const u=e.origin,l=e.direction,c=t.Cartesian3.subtract(i,r,m),f=t.Cartesian3.subtract(o,r,_),d=t.Cartesian3.cross(l,f,y),p=t.Cartesian3.dot(c,d);let h,b,A,E,w;if(s){if(p<a.CesiumMath.EPSILON6)return;if(h=t.Cartesian3.subtract(u,r,g),A=t.Cartesian3.dot(h,d),A<0||A>p)return;if(b=t.Cartesian3.cross(h,c,C),E=t.Cartesian3.dot(l,b),E<0||A+E>p)return;w=t.Cartesian3.dot(f,b)/p}else{if(Math.abs(p)<a.CesiumMath.EPSILON6)return;const e=1/p;if(h=t.Cartesian3.subtract(u,r,g),A=t.Cartesian3.dot(h,d)*e,A<0||A>1)return;if(b=t.Cartesian3.cross(h,c,C),E=t.Cartesian3.dot(l,b)*e,E<0||A+E>1)return;w=t.Cartesian3.dot(f,b)*e}return w},h.rayTriangle=function(e,r,i,a,o,s){const u=h.rayTriangleParametric(e,r,i,a,o);if(n.defined(u)&&!(u<0))return n.defined(s)||(s=new t.Cartesian3),t.Cartesian3.multiplyByScalar(e.direction,u,s),t.Cartesian3.add(e.origin,s,s)};const b=new p;h.lineSegmentTriangle=function(e,r,i,a,o,s,u){const l=b;t.Cartesian3.clone(e,l.origin),t.Cartesian3.subtract(r,e,l.direction),t.Cartesian3.normalize(l.direction,l.direction);const c=h.rayTriangleParametric(l,i,a,o,s);if(!(!n.defined(c)||c<0||c>t.Cartesian3.distance(e,r)))return n.defined(u)||(u=new t.Cartesian3),t.Cartesian3.multiplyByScalar(l.direction,c,u),t.Cartesian3.add(l.origin,u,u)};const A={root0:0,root1:0};function E(e,r,a){n.defined(a)||(a=new i.Interval);const o=e.origin,s=e.direction,u=r.center,l=r.radius*r.radius,c=t.Cartesian3.subtract(o,u,y),f=function(e,t,n,r){const i=t*t-4*e*n;if(i<0)return;if(i>0){const n=1/(2*e),a=Math.sqrt(i),o=(-t+a)*n,s=(-t-a)*n;return o<s?(r.root0=o,r.root1=s):(r.root0=s,r.root1=o),r}const a=-t/(2*e);return 0!==a?(r.root0=r.root1=a,r):void 0}(t.Cartesian3.dot(s,s),2*t.Cartesian3.dot(s,c),t.Cartesian3.magnitudeSquared(c)-l,A);if(n.defined(f))return a.start=f.root0,a.stop=f.root1,a}h.raySphere=function(e,t,r){if(r=E(e,t,r),n.defined(r)&&!(r.stop<0))return r.start=Math.max(r.start,0),r};const w=new p;h.lineSegmentSphere=function(e,r,i,a){const o=w;t.Cartesian3.clone(e,o.origin);const s=t.Cartesian3.subtract(r,e,o.direction),u=t.Cartesian3.magnitude(s);if(t.Cartesian3.normalize(s,s),a=E(o,i,a),!(!n.defined(a)||a.stop<0||a.start>u))return a.start=Math.max(a.start,0),a.stop=Math.min(a.stop,u),a};const T=new t.Cartesian3,x=new t.Cartesian3;function v(e,t,n){const r=e+t;return a.CesiumMath.sign(e)!==a.CesiumMath.sign(t)&&Math.abs(r/Math.max(Math.abs(e),Math.abs(t)))<n?0:r}h.rayEllipsoid=function(e,n){const r=n.oneOverRadii,a=t.Cartesian3.multiplyComponents(r,e.origin,T),o=t.Cartesian3.multiplyComponents(r,e.direction,x),s=t.Cartesian3.magnitudeSquared(a),u=t.Cartesian3.dot(a,o);let l,c,f,d,p;if(s>1){if(u>=0)return;const e=u*u;if(l=s-1,c=t.Cartesian3.magnitudeSquared(o),f=c*l,e<f)return;if(e>f){d=u*u-f,p=-u+Math.sqrt(d);const e=p/c,t=l/p;return e<t?new i.Interval(e,t):{start:t,stop:e}}const n=Math.sqrt(l/c);return new i.Interval(n,n)}return s<1?(l=s-1,c=t.Cartesian3.magnitudeSquared(o),f=c*l,d=u*u-f,p=-u+Math.sqrt(d),new i.Interval(0,p/c)):u<0?(c=t.Cartesian3.magnitudeSquared(o),new i.Interval(0,-u/c)):void 0};const R=new t.Cartesian3,O=new t.Cartesian3,M=new t.Cartesian3,S=new t.Cartesian3,I=new t.Cartesian3,P=new t.Matrix3,N=new t.Matrix3,L=new t.Matrix3,D=new t.Matrix3,F=new t.Matrix3,G=new t.Matrix3,B=new t.Matrix3,U=new t.Cartesian3,k=new t.Cartesian3,V=new t.Cartographic;h.grazingAltitudeLocation=function(e,r){const i=e.origin,s=e.direction;if(!t.Cartesian3.equals(i,t.Cartesian3.ZERO)){const e=r.geodeticSurfaceNormal(i,R);if(t.Cartesian3.dot(s,e)>=0)return i}const u=n.defined(this.rayEllipsoid(e,r)),l=r.transformPositionToScaledSpace(s,R),f=t.Cartesian3.normalize(l,l),d=t.Cartesian3.mostOrthogonalAxis(l,S),p=t.Cartesian3.normalize(t.Cartesian3.cross(d,f,O),O),h=t.Cartesian3.normalize(t.Cartesian3.cross(f,p,M),M),m=P;m[0]=f.x,m[1]=f.y,m[2]=f.z,m[3]=p.x,m[4]=p.y,m[5]=p.z,m[6]=h.x,m[7]=h.y,m[8]=h.z;const _=t.Matrix3.transpose(m,N),y=t.Matrix3.fromScale(r.radii,L),g=t.Matrix3.fromScale(r.oneOverRadii,D),C=F;C[0]=0,C[1]=-s.z,C[2]=s.y,C[3]=s.z,C[4]=0,C[5]=-s.x,C[6]=-s.y,C[7]=s.x,C[8]=0;const b=t.Matrix3.multiply(t.Matrix3.multiply(_,g,G),C,G),A=t.Matrix3.multiply(t.Matrix3.multiply(b,y,B),m,B),E=t.Matrix3.multiplyByVector(b,i,I),w=function(e,n,r,i,s){const u=i*i,l=s*s,f=(e[t.Matrix3.COLUMN1ROW1]-e[t.Matrix3.COLUMN2ROW2])*l,d=s*(i*v(e[t.Matrix3.COLUMN1ROW0],e[t.Matrix3.COLUMN0ROW1],a.CesiumMath.EPSILON15)+n.y),p=e[t.Matrix3.COLUMN0ROW0]*u+e[t.Matrix3.COLUMN2ROW2]*l+i*n.x+r,h=l*v(e[t.Matrix3.COLUMN2ROW1],e[t.Matrix3.COLUMN1ROW2],a.CesiumMath.EPSILON15),m=s*(i*v(e[t.Matrix3.COLUMN2ROW0],e[t.Matrix3.COLUMN0ROW2])+n.z);let _;const y=[];if(0===m&&0===h){if(_=o.computeRealRoots(f,d,p),0===_.length)return y;const e=_[0],n=Math.sqrt(Math.max(1-e*e,0));if(y.push(new t.Cartesian3(i,s*e,s*-n)),y.push(new t.Cartesian3(i,s*e,s*n)),2===_.length){const e=_[1],n=Math.sqrt(Math.max(1-e*e,0));y.push(new t.Cartesian3(i,s*e,s*-n)),y.push(new t.Cartesian3(i,s*e,s*n))}return y}const g=m*m,C=h*h,b=m*h,A=f*f+C,E=2*(d*f+b),w=2*p*f+d*d-C+g,T=2*(p*d-b),x=p*p-g;if(0===A&&0===E&&0===w&&0===T)return y;_=c.computeRealRoots(A,E,w,T,x);const R=_.length;if(0===R)return y;for(let e=0;e<R;++e){const n=_[e],r=n*n,o=Math.max(1-r,0),u=Math.sqrt(o);let l;l=a.CesiumMath.sign(f)===a.CesiumMath.sign(p)?v(f*r+p,d*n,a.CesiumMath.EPSILON12):a.CesiumMath.sign(p)===a.CesiumMath.sign(d*n)?v(f*r,d*n+p,a.CesiumMath.EPSILON12):v(f*r+d*n,p,a.CesiumMath.EPSILON12);const c=l*v(h*n,m,a.CesiumMath.EPSILON15);c<0?y.push(new t.Cartesian3(i,s*n,s*u)):c>0?y.push(new t.Cartesian3(i,s*n,s*-u)):0!==u?(y.push(new t.Cartesian3(i,s*n,s*-u)),y.push(new t.Cartesian3(i,s*n,s*u)),++e):y.push(new t.Cartesian3(i,s*n,s*u))}return y}(A,t.Cartesian3.negate(E,R),0,0,1);let T,x;const z=w.length;if(z>0){let e=t.Cartesian3.clone(t.Cartesian3.ZERO,k),n=Number.NEGATIVE_INFINITY;for(let r=0;r<z;++r){T=t.Matrix3.multiplyByVector(y,t.Matrix3.multiplyByVector(m,w[r],U),U);const a=t.Cartesian3.normalize(t.Cartesian3.subtract(T,i,S),S),o=t.Cartesian3.dot(a,s);o>n&&(n=o,e=t.Cartesian3.clone(T,e))}const o=r.cartesianToCartographic(e,V);return n=a.CesiumMath.clamp(n,0,1),x=t.Cartesian3.magnitude(t.Cartesian3.subtract(e,i,S))*Math.sqrt(1-n*n),x=u?-x:x,o.height=x,r.cartographicToCartesian(o,new t.Cartesian3)}};const z=new t.Cartesian3;h.lineSegmentPlane=function(e,r,i,o){n.defined(o)||(o=new t.Cartesian3);const s=t.Cartesian3.subtract(r,e,z),u=i.normal,l=t.Cartesian3.dot(u,s);if(Math.abs(l)<a.CesiumMath.EPSILON6)return;const c=t.Cartesian3.dot(u,e),f=-(i.distance+c)/l;return f<0||f>1?void 0:(t.Cartesian3.multiplyByScalar(s,f,o),t.Cartesian3.add(e,o,o),o)},h.trianglePlaneIntersection=function(e,n,r,i){const a=i.normal,o=i.distance,s=t.Cartesian3.dot(a,e)+o<0,u=t.Cartesian3.dot(a,n)+o<0,l=t.Cartesian3.dot(a,r)+o<0;let c,f,d=0;if(d+=s?1:0,d+=u?1:0,d+=l?1:0,1!==d&&2!==d||(c=new t.Cartesian3,f=new t.Cartesian3),1===d){if(s)return h.lineSegmentPlane(e,n,i,c),h.lineSegmentPlane(e,r,i,f),{positions:[e,n,r,c,f],indices:[0,3,4,1,2,4,1,4,3]};if(u)return h.lineSegmentPlane(n,r,i,c),h.lineSegmentPlane(n,e,i,f),{positions:[e,n,r,c,f],indices:[1,3,4,2,0,4,2,4,3]};if(l)return h.lineSegmentPlane(r,e,i,c),h.lineSegmentPlane(r,n,i,f),{positions:[e,n,r,c,f],indices:[2,3,4,0,1,4,0,4,3]}}else if(2===d){if(!s)return h.lineSegmentPlane(n,e,i,c),h.lineSegmentPlane(r,e,i,f),{positions:[e,n,r,c,f],indices:[1,2,4,1,4,3,0,3,4]};if(!u)return h.lineSegmentPlane(r,n,i,c),h.lineSegmentPlane(e,n,i,f),{positions:[e,n,r,c,f],indices:[2,0,4,2,4,3,1,3,4]};if(!l)return h.lineSegmentPlane(e,r,i,c),h.lineSegmentPlane(n,r,i,f),{positions:[e,n,r,c,f],indices:[0,1,4,0,4,3,2,3,4]}}},e.IntersectionTests=h,e.Ray=p}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(0),n(1)],void 0===(i=function(e,t,n){"use strict";function r(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),this.position=t.defaultValue(e.position,!1),this.normal=t.defaultValue(e.normal,!1),this.st=t.defaultValue(e.st,!1),this.bitangent=t.defaultValue(e.bitangent,!1),this.tangent=t.defaultValue(e.tangent,!1),this.color=t.defaultValue(e.color,!1)}r.POSITION_ONLY=Object.freeze(new r({position:!0})),r.POSITION_AND_NORMAL=Object.freeze(new r({position:!0,normal:!0})),r.POSITION_NORMAL_AND_ST=Object.freeze(new r({position:!0,normal:!0,st:!0})),r.POSITION_AND_ST=Object.freeze(new r({position:!0,st:!0})),r.POSITION_AND_COLOR=Object.freeze(new r({position:!0,color:!0})),r.ALL=Object.freeze(new r({position:!0,normal:!0,st:!0,tangent:!0,bitangent:!0})),r.DEFAULT=r.POSITION_NORMAL_AND_ST,r.packedLength=6,r.pack=function(e,n,r){return r=t.defaultValue(r,0),n[r++]=e.position?1:0,n[r++]=e.normal?1:0,n[r++]=e.st?1:0,n[r++]=e.tangent?1:0,n[r++]=e.bitangent?1:0,n[r]=e.color?1:0,n},r.unpack=function(e,n,i){return n=t.defaultValue(n,0),t.defined(i)||(i=new r),i.position=1===e[n++],i.normal=1===e[n++],i.st=1===e[n++],i.tangent=1===e[n++],i.bitangent=1===e[n++],i.color=1===e[n],i},r.clone=function(e,n){if(t.defined(e))return t.defined(n)||(n=new r),n.position=e.position,n.normal=e.normal,n.st=e.st,n.tangent=e.tangent,n.bitangent=e.bitangent,n.color=e.color,n},e.VertexFormat=r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(3),n(1),n(0)],void 0===(i=function(e,t,n,r,i){"use strict";const a={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4",getMathType:function(e){switch(e){case a.SCALAR:return Number;case a.VEC2:return t.Cartesian2;case a.VEC3:return t.Cartesian3;case a.VEC4:return t.Cartesian4;case a.MAT2:return t.Matrix2;case a.MAT3:return t.Matrix3;case a.MAT4:return t.Matrix4}},getNumberOfComponents:function(e){switch(e){case a.SCALAR:return 1;case a.VEC2:return 2;case a.VEC3:return 3;case a.VEC4:case a.MAT2:return 4;case a.MAT3:return 9;case a.MAT4:return 16}},getAttributeLocationCount:function(e){switch(e){case a.SCALAR:case a.VEC2:case a.VEC3:case a.VEC4:return 1;case a.MAT2:return 2;case a.MAT3:return 3;case a.MAT4:return 4}},getGlslType:function(e){switch(e){case a.SCALAR:return"float";case a.VEC2:return"vec2";case a.VEC3:return"vec3";case a.VEC4:return"vec4";case a.MAT2:return"mat2";case a.MAT3:return"mat3";case a.MAT4:return"mat4"}}};var o=Object.freeze(a);const s={octEncodeInRange:function(e,t,r){if(r.x=e.x/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),r.y=e.y/(Math.abs(e.x)+Math.abs(e.y)+Math.abs(e.z)),e.z<0){const e=r.x,t=r.y;r.x=(1-Math.abs(t))*n.CesiumMath.signNotZero(e),r.y=(1-Math.abs(e))*n.CesiumMath.signNotZero(t)}return r.x=n.CesiumMath.toSNorm(r.x,t),r.y=n.CesiumMath.toSNorm(r.y,t),r},octEncode:function(e,t){return s.octEncodeInRange(e,255,t)}},u=new t.Cartesian2,l=new Uint8Array(1);function c(e){return l[0]=e,l[0]}s.octEncodeToCartesian4=function(e,t){return s.octEncodeInRange(e,65535,u),t.x=c(u.x*(1/256)),t.y=c(u.x),t.z=c(u.y*(1/256)),t.w=c(u.y),t},s.octDecodeInRange=function(e,r,i,a){if(a.x=n.CesiumMath.fromSNorm(e,i),a.y=n.CesiumMath.fromSNorm(r,i),a.z=1-(Math.abs(a.x)+Math.abs(a.y)),a.z<0){const e=a.x;a.x=(1-Math.abs(a.y))*n.CesiumMath.signNotZero(e),a.y=(1-Math.abs(e))*n.CesiumMath.signNotZero(a.y)}return t.Cartesian3.normalize(a,a)},s.octDecode=function(e,t,n){return s.octDecodeInRange(e,t,255,n)},s.octDecodeFromCartesian4=function(e,t){const n=256*e.x+e.y,r=256*e.z+e.w;return s.octDecodeInRange(n,r,65535,t)},s.octPackFloat=function(e){return 256*e.x+e.y};const f=new t.Cartesian2;function d(e){return e>>1^-(1&e)}s.octEncodeFloat=function(e){return s.octEncode(e,f),s.octPackFloat(f)},s.octDecodeFloat=function(e,t){const n=e/256,r=Math.floor(n),i=256*(n-r);return s.octDecode(r,i,t)},s.octPack=function(e,t,n,r){const i=s.octEncodeFloat(e),a=s.octEncodeFloat(t),o=s.octEncode(n,f);return r.x=65536*o.x+i,r.y=65536*o.y+a,r},s.octUnpack=function(e,t,n,r){let i=e.x/65536;const a=Math.floor(i),o=65536*(i-a);i=e.y/65536;const u=Math.floor(i),l=65536*(i-u);s.octDecodeFloat(o,t),s.octDecodeFloat(l,n),s.octDecode(a,u,r)},s.compressTextureCoordinates=function(e){return 4096*(4095*e.x|0)+(4095*e.y|0)},s.decompressTextureCoordinates=function(e,t){const n=e/4096,r=Math.floor(n);return t.x=r/4095,t.y=(e-4096*r)/4095,t},s.zigZagDeltaDecode=function(e,t,n){const r=e.length;let a=0,o=0,s=0;for(let u=0;u<r;++u)a+=d(e[u]),o+=d(t[u]),e[u]=a,t[u]=o,i.defined(n)&&(s+=d(n[u]),n[u]=s)},s.dequantize=function(e,t,r,i){const a=o.getNumberOfComponents(r);let s;switch(t){case n.ComponentDatatype.BYTE:s=127;break;case n.ComponentDatatype.UNSIGNED_BYTE:s=255;break;case n.ComponentDatatype.SHORT:s=32767;break;case n.ComponentDatatype.UNSIGNED_SHORT:s=65535;break;case n.ComponentDatatype.INT:s=2147483647;break;case n.ComponentDatatype.UNSIGNED_INT:s=4294967295}const u=new Float32Array(i*a);for(let t=0;t<i;t++)for(let n=0;n<a;n++){const r=t*a+n;u[r]=Math.max(e[r]/s,-1)}return u},s.decodeRGB565=function(e,t){const n=e.length;i.defined(t)||(t=new Float32Array(3*n));for(let r=0;r<n;r++){const n=e[r],i=n>>11,a=n>>5&63,o=31&n,s=3*r;t[s]=i*(1/31),t[s+1]=a*(1/63),t[s+2]=o*(1/31)}return t},e.AttributeCompression=s}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(1),n(0),n(3)],void 0===(i=function(e,t,n,r,i){"use strict";function a(e,t,n){if(0===e)return t*n;const r=e*e,i=r*r,a=i*r,o=a*r,s=o*r,u=s*r,l=n;return t*((1-r/4-3*i/64-5*a/256-175*o/16384-441*s/65536-4851*u/1048576)*l-(3*r/8+3*i/32+45*a/1024+105*o/4096+2205*s/131072+6237*u/524288)*Math.sin(2*l)+(15*i/256+45*a/1024+525*o/16384+1575*s/65536+155925*u/8388608)*Math.sin(4*l)-(35*a/3072+175*o/12288+3675*s/262144+13475*u/1048576)*Math.sin(6*l)+(315*o/131072+2205*s/524288+43659*u/8388608)*Math.sin(8*l)-(693*s/1310720+6237*u/5242880)*Math.sin(10*l)+1001*u/8388608*Math.sin(12*l))}function o(e,t){if(0===e)return Math.log(Math.tan(.5*(i.CesiumMath.PI_OVER_TWO+t)));const n=e*Math.sin(t);return Math.log(Math.tan(.5*(i.CesiumMath.PI_OVER_TWO+t)))-e/2*Math.log((1+n)/(1-n))}const s=new t.Cartesian3,u=new t.Cartesian3;function l(e,n,r,l){t.Cartesian3.normalize(l.cartographicToCartesian(n,u),s),t.Cartesian3.normalize(l.cartographicToCartesian(r,u),u);const c=l.maximumRadius,f=l.minimumRadius,d=c*c,p=f*f;e._ellipticitySquared=(d-p)/d,e._ellipticity=Math.sqrt(e._ellipticitySquared),e._start=t.Cartographic.clone(n,e._start),e._start.height=0,e._end=t.Cartographic.clone(r,e._end),e._end.height=0,e._heading=function(e,t,n,r,a){const s=o(e._ellipticity,n),u=o(e._ellipticity,a);return Math.atan2(i.CesiumMath.negativePiToPi(r-t),u-s)}(e,n.longitude,n.latitude,r.longitude,r.latitude),e._distance=function(e,t,n,r,o,s,u){const l=e._heading,c=s-r;let f=0;if(i.CesiumMath.equalsEpsilon(Math.abs(l),i.CesiumMath.PI_OVER_TWO,i.CesiumMath.EPSILON8))if(t===n)f=t*Math.cos(o)*i.CesiumMath.negativePiToPi(c);else{const n=Math.sin(o);f=t*Math.cos(o)*i.CesiumMath.negativePiToPi(c)/Math.sqrt(1-e._ellipticitySquared*n*n)}else{const n=a(e._ellipticity,t,o);f=(a(e._ellipticity,t,u)-n)/Math.cos(l)}return Math.abs(f)}(e,l.maximumRadius,l.minimumRadius,n.longitude,n.latitude,r.longitude,r.latitude)}function c(e,n,s,u,l,c){if(0===s)return t.Cartographic.clone(e,c);const f=l*l;let d,p,h;if(Math.abs(i.CesiumMath.PI_OVER_TWO-Math.abs(n))>i.CesiumMath.EPSILON8){p=function(e,t,n){const r=e/n;if(0===t)return r;const i=r*r,a=i*r,o=a*r,s=t*t,u=s*s,l=u*s,c=l*s,f=c*s,d=f*s,p=Math.sin(2*r),h=Math.cos(2*r),m=Math.sin(4*r),_=Math.cos(4*r),y=Math.sin(6*r),g=Math.cos(6*r),C=Math.sin(8*r),b=Math.cos(8*r),A=Math.sin(10*r);return r+r*s/4+7*r*u/64+15*r*l/256+579*r*c/16384+1515*r*f/65536+16837*r*d/1048576+(3*r*u/16+45*r*l/256-r*(32*i-561)*c/4096-r*(232*i-1677)*f/16384+r*(399985-90560*i+512*o)*d/5242880)*h+(21*r*l/256+483*r*c/4096-r*(224*i-1969)*f/16384-r*(33152*i-112599)*d/1048576)*_+(151*r*c/4096+4681*r*f/65536+1479*r*d/16384-453*a*d/32768)*g+(1097*r*f/65536+42783*r*d/1048576)*b+8011*r*d/1048576*Math.cos(10*r)+(3*s/8+3*u/16+213*l/2048-3*i*l/64+255*c/4096-33*i*c/512+20861*f/524288-33*i*f/512+o*f/1024+28273*d/1048576-471*i*d/8192+9*o*d/4096)*p+(21*u/256+21*l/256+533*c/8192-21*i*c/512+197*f/4096-315*i*f/4096+584039*d/16777216-12517*i*d/131072+7*o*d/2048)*m+(151*l/6144+151*c/4096+5019*f/131072-453*i*f/16384+26965*d/786432-8607*i*d/131072)*y+(1097*c/131072+1097*f/65536+225797*d/10485760-1097*i*d/65536)*C+(8011*f/2621440+8011*d/1048576)*A+293393*d/251658240*Math.sin(12*r)}(a(l,u,e.latitude)+s*Math.cos(n),l,u);const t=o(l,e.latitude),r=o(l,p);h=Math.tan(n)*(r-t),d=i.CesiumMath.negativePiToPi(e.longitude+h)}else{let t;if(p=e.latitude,0===l)t=u*Math.cos(e.latitude);else{const n=Math.sin(e.latitude);t=u*Math.cos(e.latitude)/Math.sqrt(1-f*n*n)}h=s/t,d=n>0?i.CesiumMath.negativePiToPi(e.longitude+h):i.CesiumMath.negativePiToPi(e.longitude-h)}return r.defined(c)?(c.longitude=d,c.latitude=p,c.height=0,c):new t.Cartographic(d,p,0)}function f(e,n,i){const a=r.defaultValue(i,t.Ellipsoid.WGS84);this._ellipsoid=a,this._start=new t.Cartographic,this._end=new t.Cartographic,this._heading=void 0,this._distance=void 0,this._ellipticity=void 0,this._ellipticitySquared=void 0,r.defined(e)&&r.defined(n)&&l(this,e,n,a)}Object.defineProperties(f.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},heading:{get:function(){return this._heading}}}),f.fromStartHeadingDistance=function(e,n,a,o,s){const u=r.defaultValue(o,t.Ellipsoid.WGS84),l=u.maximumRadius,d=u.minimumRadius,p=l*l,h=d*d,m=Math.sqrt((p-h)/p),_=c(e,n=i.CesiumMath.negativePiToPi(n),a,u.maximumRadius,m);return!r.defined(s)||r.defined(o)&&!o.equals(s.ellipsoid)?new f(e,_,u):(s.setEndPoints(e,_),s)},f.prototype.setEndPoints=function(e,t){l(this,e,t,this._ellipsoid)},f.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(e*this._distance,t)},f.prototype.interpolateUsingSurfaceDistance=function(e,t){return c(this._start,this._heading,e,this._ellipsoid.maximumRadius,this._ellipticity,t)},f.prototype.findIntersectionWithLongitude=function(e,n){const a=this._ellipticity,o=this._heading,s=Math.abs(o),u=this._start;if(e=i.CesiumMath.negativePiToPi(e),i.CesiumMath.equalsEpsilon(Math.abs(e),Math.PI,i.CesiumMath.EPSILON14)&&(e=i.CesiumMath.sign(u.longitude)*Math.PI),r.defined(n)||(n=new t.Cartographic),Math.abs(i.CesiumMath.PI_OVER_TWO-s)<=i.CesiumMath.EPSILON8)return n.longitude=e,n.latitude=u.latitude,n.height=0,n;if(i.CesiumMath.equalsEpsilon(Math.abs(i.CesiumMath.PI_OVER_TWO-s),i.CesiumMath.PI_OVER_TWO,i.CesiumMath.EPSILON8)){if(i.CesiumMath.equalsEpsilon(e,u.longitude,i.CesiumMath.EPSILON12))return;return n.longitude=e,n.latitude=i.CesiumMath.PI_OVER_TWO*i.CesiumMath.sign(i.CesiumMath.PI_OVER_TWO-o),n.height=0,n}const l=u.latitude,c=a*Math.sin(l),f=Math.tan(.5*(i.CesiumMath.PI_OVER_TWO+l))*Math.exp((e-u.longitude)/Math.tan(o)),d=(1+c)/(1-c);let p,h=u.latitude;do{p=h;const e=a*Math.sin(p),t=(1+e)/(1-e);h=2*Math.atan(f*Math.pow(t/d,a/2))-i.CesiumMath.PI_OVER_TWO}while(!i.CesiumMath.equalsEpsilon(h,p,i.CesiumMath.EPSILON12));return n.longitude=e,n.latitude=h,n.height=0,n},f.prototype.findIntersectionWithLatitude=function(e,n){const a=this._ellipticity,s=this._heading,u=this._start;if(i.CesiumMath.equalsEpsilon(Math.abs(s),i.CesiumMath.PI_OVER_TWO,i.CesiumMath.EPSILON8))return;const l=o(a,u.latitude),c=o(a,e),f=Math.tan(s)*(c-l),d=i.CesiumMath.negativePiToPi(u.longitude+f);return r.defined(n)?(n.longitude=d,n.latitude=e,n.height=0,n):new t.Cartographic(d,e,0)},e.EllipsoidRhumbLine=f}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(1),n(0),n(4)],void 0===(i=function(e,t,n,r,i){"use strict";function a(e,n,i){this.minimum=t.Cartesian3.clone(r.defaultValue(e,t.Cartesian3.ZERO)),this.maximum=t.Cartesian3.clone(r.defaultValue(n,t.Cartesian3.ZERO)),i=r.defined(i)?t.Cartesian3.clone(i):t.Cartesian3.midpoint(this.minimum,this.maximum,new t.Cartesian3),this.center=i}a.fromCorners=function(e,n,i){return r.defined(i)||(i=new a),i.minimum=t.Cartesian3.clone(e,i.minimum),i.maximum=t.Cartesian3.clone(n,i.maximum),i.center=t.Cartesian3.midpoint(e,n,i.center),i},a.fromPoints=function(e,n){if(r.defined(n)||(n=new a),!r.defined(e)||0===e.length)return n.minimum=t.Cartesian3.clone(t.Cartesian3.ZERO,n.minimum),n.maximum=t.Cartesian3.clone(t.Cartesian3.ZERO,n.maximum),n.center=t.Cartesian3.clone(t.Cartesian3.ZERO,n.center),n;let i=e[0].x,o=e[0].y,s=e[0].z,u=e[0].x,l=e[0].y,c=e[0].z;const f=e.length;for(let t=1;t<f;t++){const n=e[t],r=n.x,a=n.y,f=n.z;i=Math.min(r,i),u=Math.max(r,u),o=Math.min(a,o),l=Math.max(a,l),s=Math.min(f,s),c=Math.max(f,c)}const d=n.minimum;d.x=i,d.y=o,d.z=s;const p=n.maximum;return p.x=u,p.y=l,p.z=c,n.center=t.Cartesian3.midpoint(d,p,n.center),n},a.clone=function(e,n){if(r.defined(e))return r.defined(n)?(n.minimum=t.Cartesian3.clone(e.minimum,n.minimum),n.maximum=t.Cartesian3.clone(e.maximum,n.maximum),n.center=t.Cartesian3.clone(e.center,n.center),n):new a(e.minimum,e.maximum,e.center)},a.equals=function(e,n){return e===n||r.defined(e)&&r.defined(n)&&t.Cartesian3.equals(e.center,n.center)&&t.Cartesian3.equals(e.minimum,n.minimum)&&t.Cartesian3.equals(e.maximum,n.maximum)};let o=new t.Cartesian3;a.intersectPlane=function(e,n){o=t.Cartesian3.subtract(e.maximum,e.minimum,o);const r=t.Cartesian3.multiplyByScalar(o,.5,o),a=n.normal,s=r.x*Math.abs(a.x)+r.y*Math.abs(a.y)+r.z*Math.abs(a.z),u=t.Cartesian3.dot(e.center,a)+n.distance;return u-s>0?i.Intersect.INSIDE:u+s<0?i.Intersect.OUTSIDE:i.Intersect.INTERSECTING},a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.intersectPlane=function(e){return a.intersectPlane(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},e.AxisAlignedBoundingBox=a}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(17),n(2),n(1),n(0),n(13),n(11),n(4)],void 0===(i=function(e,t,n,r,i,a,o,s){"use strict";const u=new n.Cartesian4;function l(e,t){e=(t=i.defaultValue(t,n.Ellipsoid.WGS84)).scaleToGeodeticSurface(e);const r=s.Transforms.eastNorthUpToFixedFrame(e,t);this._ellipsoid=t,this._origin=e,this._xAxis=n.Cartesian3.fromCartesian4(n.Matrix4.getColumn(r,0,u)),this._yAxis=n.Cartesian3.fromCartesian4(n.Matrix4.getColumn(r,1,u));const a=n.Cartesian3.fromCartesian4(n.Matrix4.getColumn(r,2,u));this._plane=o.Plane.fromPointNormal(e,a)}Object.defineProperties(l.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},origin:{get:function(){return this._origin}},plane:{get:function(){return this._plane}},xAxis:{get:function(){return this._xAxis}},yAxis:{get:function(){return this._yAxis}},zAxis:{get:function(){return this._plane.normal}}});const c=new t.AxisAlignedBoundingBox;l.fromPoints=function(e,n){return new l(t.AxisAlignedBoundingBox.fromPoints(e,c).center,n)};const f=new a.Ray,d=new n.Cartesian3;l.prototype.projectPointOntoPlane=function(e,t){const r=f;r.origin=e,n.Cartesian3.normalize(e,r.direction);let o=a.IntersectionTests.rayPlane(r,this._plane,d);if(i.defined(o)||(n.Cartesian3.negate(r.direction,r.direction),o=a.IntersectionTests.rayPlane(r,this._plane,d)),i.defined(o)){const e=n.Cartesian3.subtract(o,this._origin,o),r=n.Cartesian3.dot(this._xAxis,e),a=n.Cartesian3.dot(this._yAxis,e);return i.defined(t)?(t.x=r,t.y=a,t):new n.Cartesian2(r,a)}},l.prototype.projectPointsOntoPlane=function(e,t){i.defined(t)||(t=[]);let n=0;const r=e.length;for(let a=0;a<r;a++){const r=this.projectPointOntoPlane(e[a],t[n]);i.defined(r)&&(t[n]=r,n++)}return t.length=n,t},l.prototype.projectPointToNearestOnPlane=function(e,t){i.defined(t)||(t=new n.Cartesian2);const r=f;r.origin=e,n.Cartesian3.clone(this._plane.normal,r.direction);let o=a.IntersectionTests.rayPlane(r,this._plane,d);i.defined(o)||(n.Cartesian3.negate(r.direction,r.direction),o=a.IntersectionTests.rayPlane(r,this._plane,d));const s=n.Cartesian3.subtract(o,this._origin,o),u=n.Cartesian3.dot(this._xAxis,s),l=n.Cartesian3.dot(this._yAxis,s);return t.x=u,t.y=l,t},l.prototype.projectPointsToNearestOnPlane=function(e,t){i.defined(t)||(t=[]);const n=e.length;t.length=n;for(let r=0;r<n;r++)t[r]=this.projectPointToNearestOnPlane(e[r],t[r]);return t};const p=new n.Cartesian3;l.prototype.projectPointOntoEllipsoid=function(e,t){i.defined(t)||(t=new n.Cartesian3);const r=this._ellipsoid,a=this._origin,o=this._xAxis,s=this._yAxis,u=p;return n.Cartesian3.multiplyByScalar(o,e.x,u),t=n.Cartesian3.add(a,u,t),n.Cartesian3.multiplyByScalar(s,e.y,u),n.Cartesian3.add(t,u,t),r.scaleToGeocentricSurface(t,t),t},l.prototype.projectPointsOntoEllipsoid=function(e,t){const n=e.length;i.defined(t)?t.length=n:t=new Array(n);for(let r=0;r<n;++r)t[r]=this.projectPointOntoEllipsoid(e[r],t[r]);return t},e.EllipsoidTangentPlane=l}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(1),n(0),n(3)],void 0===(i=function(e,t,n,r){"use strict";const i=r.CesiumMath.EPSILON10;e.arrayRemoveDuplicates=function(e,t,r,a){if(!n.defined(e))return;r=n.defaultValue(r,!1);const o=n.defined(a),s=e.length;if(s<2)return e;let u,l,c,f=e[0],d=0,p=-1;for(u=1;u<s;++u)l=e[u],t(f,l,i)?(n.defined(c)||(c=e.slice(0,u),d=u-1,p=0),o&&a.push(u)):(n.defined(c)&&(c.push(l),d=u,o&&(p=a.length)),f=l);return r&&t(e[0],e[s-1],i)&&(o&&(n.defined(c)?a.splice(p,0,d):a.push(s-1)),n.defined(c)?c.length-=1:c=e.slice(0,-1)),n.defined(c)?c:e}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0)],void 0===(i=function(e){"use strict";return function(t){let n;return function(r){const i=r.data,a=[],o={id:i.id,result:void 0,error:void 0};return Promise.resolve(function(e,t,n){let r;try{return r=e(t,n),r}catch(e){return Promise.reject(e)}}(t,i.parameters,a)).then((function(e){o.result=e})).catch((function(e){e instanceof Error?o.error={name:e.name,message:e.message,stack:e.stack}:o.error=e})).finally((function(){e.defined(n)||(n=e.defaultValue(self.webkitPostMessage,self.postMessage)),i.canTransferArrayBuffer||(a.length=0);try{n(o,a)}catch(t){o.result=void 0,o.error=`postMessage failed with error: ${function(t){let n;const r=t.name,i=t.message;n=e.defined(r)&&e.defined(i)?`${r}: ${i}`:t.toString();const a=t.stack;return e.defined(a)&&(n+="\n"+a),n}(t)}\n  with responseMessage: ${JSON.stringify(o)}`,n(o)}}))}}}.apply(t,r))||(e.exports=i)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r,i;r=[t,n(15),n(2),n(1),n(0),n(3),n(4),n(23),n(6),n(10),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f){"use strict";const d=new n.Cartesian3,p=new n.Cartesian3,h=new n.Cartesian3;const m={calculateACMR:function(e){const t=(e=i.defaultValue(e,i.defaultValue.EMPTY_OBJECT)).indices;let n=e.maximumIndex;const r=i.defaultValue(e.cacheSize,24),a=t.length;if(!i.defined(n)){n=0;let e=0,r=t[e];for(;e<a;)r>n&&(n=r),++e,r=t[e]}const o=[];for(let e=0;e<n+1;e++)o[e]=0;let s=r+1;for(let e=0;e<a;++e)s-o[t[e]]>r&&(o[t[e]]=s,++s);return(s-r+1)/(a/3)}};m.tipsify=function(e){const t=(e=i.defaultValue(e,i.defaultValue.EMPTY_OBJECT)).indices,n=e.maximumIndex,r=i.defaultValue(e.cacheSize,24);let a;function o(e,t,n,r,i,o,s){let u,l=-1,c=-1,f=0;for(;f<n.length;){const e=n[f];r[e].numLiveTriangles&&(u=0,i-r[e].timeStamp+2*r[e].numLiveTriangles<=t&&(u=i-r[e].timeStamp),(u>c||-1===c)&&(c=u,l=e)),++f}return-1===l?function(e,t,n,r){for(;t.length>=1;){const n=t[t.length-1];if(t.splice(t.length-1,1),e[n].numLiveTriangles>0)return n}for(;a<r;){if(e[a].numLiveTriangles>0)return++a,a-1;++a}return-1}(r,o,0,s):l}const s=t.length;let u=0,l=0,c=t[l];const f=s;if(i.defined(n))u=n+1;else{for(;l<f;)c>u&&(u=c),++l,c=t[l];if(-1===u)return 0;++u}const d=[];let p;for(p=0;p<u;p++)d[p]={numLiveTriangles:0,timeStamp:0,vertexTriangles:[]};l=0;let h=0;for(;l<f;)d[t[l]].vertexTriangles.push(h),++d[t[l]].numLiveTriangles,d[t[l+1]].vertexTriangles.push(h),++d[t[l+1]].numLiveTriangles,d[t[l+2]].vertexTriangles.push(h),++d[t[l+2]].numLiveTriangles,++h,l+=3;let m=0,_=r+1;a=1;let y=[];const g=[];let C,b,A=0;const E=[],w=s/3,T=[];for(p=0;p<w;p++)T[p]=!1;let x,v;for(;-1!==m;){y=[],b=d[m],v=b.vertexTriangles.length;for(let e=0;e<v;++e)if(h=b.vertexTriangles[e],!T[h]){T[h]=!0,l=h+h+h;for(let e=0;e<3;++e)x=t[l],y.push(x),g.push(x),E[A]=x,++A,C=d[x],--C.numLiveTriangles,_-C.timeStamp>r&&(C.timeStamp=_,++_),++l}m=o(0,r,y,d,_,g,u)}return E};const _={};function y(e,t,n,r,i){e[t++]=n,e[t++]=r,e[t++]=r,e[t++]=i,e[t++]=i,e[t]=n}function g(e){const t={};for(const n in e)if(e.hasOwnProperty(n)&&i.defined(e[n])&&i.defined(e[n].values)){const r=e[n];t[n]=new u.GeometryAttribute({componentDatatype:r.componentDatatype,componentsPerAttribute:r.componentsPerAttribute,normalize:r.normalize,values:[]})}return t}function C(e,t,n){for(const r in t)if(t.hasOwnProperty(r)&&i.defined(t[r])&&i.defined(t[r].values)){const i=t[r];for(let t=0;t<i.componentsPerAttribute;++t)e[r].values.push(i.values[n*i.componentsPerAttribute+t])}}_.toWireframe=function(e){const t=e.indices;if(i.defined(t)){switch(e.primitiveType){case u.PrimitiveType.TRIANGLES:e.indices=function(e){const t=e.length,n=t/3*6,r=l.IndexDatatype.createTypedArray(t,n);let i=0;for(let n=0;n<t;n+=3,i+=6)y(r,i,e[n],e[n+1],e[n+2]);return r}(t);break;case u.PrimitiveType.TRIANGLE_STRIP:e.indices=function(e){const t=e.length;if(t>=3){const n=6*(t-2),r=l.IndexDatatype.createTypedArray(t,n);y(r,0,e[0],e[1],e[2]);let i=6;for(let n=3;n<t;++n,i+=6)y(r,i,e[n-1],e[n],e[n-2]);return r}return new Uint16Array}(t);break;case u.PrimitiveType.TRIANGLE_FAN:e.indices=function(e){if(e.length>0){const t=e.length-1,n=6*(t-1),r=l.IndexDatatype.createTypedArray(t,n),i=e[0];let a=0;for(let n=1;n<t;++n,a+=6)y(r,a,i,e[n],e[n+1]);return r}return new Uint16Array}(t)}e.primitiveType=u.PrimitiveType.LINES}return e},_.createLineSegmentsForVectors=function(e,t,n){t=i.defaultValue(t,"normal"),n=i.defaultValue(n,1e4);const r=e.attributes.position.values,s=e.attributes[t].values,l=r.length,c=new Float64Array(2*l);let f,d=0;for(let e=0;e<l;e+=3)c[d++]=r[e],c[d++]=r[e+1],c[d++]=r[e+2],c[d++]=r[e]+s[e]*n,c[d++]=r[e+1]+s[e+1]*n,c[d++]=r[e+2]+s[e+2]*n;const p=e.boundingSphere;return i.defined(p)&&(f=new o.BoundingSphere(p.center,p.radius+n)),new u.Geometry({attributes:{position:new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:c})},primitiveType:u.PrimitiveType.LINES,boundingSphere:f})},_.createAttributeLocations=function(e){const t=["position","positionHigh","positionLow","position3DHigh","position3DLow","position2DHigh","position2DLow","pickColor","normal","st","tangent","bitangent","extrudeDirection","compressedAttributes"],n=e.attributes,r={};let a,o=0;const s=t.length;for(a=0;a<s;++a){const e=t[a];i.defined(n[e])&&(r[e]=o++)}for(const e in n)n.hasOwnProperty(e)&&!i.defined(r[e])&&(r[e]=o++);return r},_.reorderForPreVertexCache=function(e){const t=u.Geometry.computeNumberOfVertices(e),n=e.indices;if(i.defined(n)){const r=new Int32Array(t);for(let e=0;e<t;e++)r[e]=-1;const o=n,s=o.length,u=l.IndexDatatype.createTypedArray(t,s);let c,f=0,d=0,p=0;for(;f<s;)c=r[o[f]],-1!==c?u[d]=c:(c=o[f],r[c]=p,u[d]=p,++p),++f,++d;e.indices=u;const h=e.attributes;for(const e in h)if(h.hasOwnProperty(e)&&i.defined(h[e])&&i.defined(h[e].values)){const n=h[e],i=n.values;let o=0;const s=n.componentsPerAttribute,u=a.ComponentDatatype.createTypedArray(n.componentDatatype,p*s);for(;o<t;){const e=r[o];if(-1!==e)for(let t=0;t<s;t++)u[s*e+t]=i[s*o+t];++o}n.values=u}}return e},_.reorderForPostVertexCache=function(e,t){const n=e.indices;if(e.primitiveType===u.PrimitiveType.TRIANGLES&&i.defined(n)){const r=n.length;let i=0;for(let e=0;e<r;e++)n[e]>i&&(i=n[e]);e.indices=m.tipsify({indices:n,maximumIndex:i,cacheSize:t})}return e},_.fitToUnsignedShortIndices=function(e){const t=[],n=u.Geometry.computeNumberOfVertices(e);if(i.defined(e.indices)&&n>=a.CesiumMath.SIXTY_FOUR_KILOBYTES){let n=[],r=[],o=0,s=g(e.attributes);const l=e.indices,c=l.length;let f;e.primitiveType===u.PrimitiveType.TRIANGLES?f=3:e.primitiveType===u.PrimitiveType.LINES?f=2:e.primitiveType===u.PrimitiveType.POINTS&&(f=1);for(let d=0;d<c;d+=f){for(let t=0;t<f;++t){const a=l[d+t];let u=n[a];i.defined(u)||(u=o++,n[a]=u,C(s,e.attributes,a)),r.push(u)}o+f>=a.CesiumMath.SIXTY_FOUR_KILOBYTES&&(t.push(new u.Geometry({attributes:s,indices:r,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV})),n=[],r=[],o=0,s=g(e.attributes))}0!==r.length&&t.push(new u.Geometry({attributes:s,indices:r,primitiveType:e.primitiveType,boundingSphere:e.boundingSphere,boundingSphereCV:e.boundingSphereCV}))}else t.push(e);return t};const b=new n.Cartesian3,A=new n.Cartographic;_.projectTo2D=function(e,t,r,s,l){const c=e.attributes[t],f=(l=i.defined(l)?l:new o.GeographicProjection).ellipsoid,d=c.values,p=new Float64Array(d.length);let h=0;for(let e=0;e<d.length;e+=3){const t=n.Cartesian3.fromArray(d,e,b),r=f.cartesianToCartographic(t,A),i=l.project(r,b);p[h++]=i.x,p[h++]=i.y,p[h++]=i.z}return e.attributes[r]=c,e.attributes[s]=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:p}),delete e.attributes[t],e};const E={high:0,low:0};_.encodeAttribute=function(e,t,n,r){const i=e.attributes[t],o=i.values,l=o.length,c=new Float32Array(l),f=new Float32Array(l);for(let e=0;e<l;++e)s.EncodedCartesian3.encode(o[e],E),c[e]=E.high,f[e]=E.low;const d=i.componentsPerAttribute;return e.attributes[n]=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:d,values:c}),e.attributes[r]=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:d,values:f}),delete e.attributes[t],e};let w=new n.Cartesian3;function T(e,t){if(i.defined(t)){const r=t.values,i=r.length;for(let t=0;t<i;t+=3)n.Cartesian3.unpack(r,t,w),n.Matrix4.multiplyByPoint(e,w,w),n.Cartesian3.pack(w,r,t)}}function x(e,t){if(i.defined(t)){const r=t.values,i=r.length;for(let t=0;t<i;t+=3)n.Cartesian3.unpack(r,t,w),n.Matrix3.multiplyByVector(e,w,w),w=n.Cartesian3.normalize(w,w),n.Cartesian3.pack(w,r,t)}}const v=new n.Matrix4,R=new n.Matrix3;_.transformToWorldCoordinates=function(e){const t=e.modelMatrix;if(n.Matrix4.equals(t,n.Matrix4.IDENTITY))return e;const r=e.geometry.attributes;T(t,r.position),T(t,r.prevPosition),T(t,r.nextPosition),(i.defined(r.normal)||i.defined(r.tangent)||i.defined(r.bitangent))&&(n.Matrix4.inverse(t,v),n.Matrix4.transpose(v,v),n.Matrix4.getMatrix3(v,R),x(R,r.normal),x(R,r.tangent),x(R,r.bitangent));const a=e.geometry.boundingSphere;return i.defined(a)&&(e.geometry.boundingSphere=o.BoundingSphere.transform(a,t,a)),e.modelMatrix=n.Matrix4.clone(n.Matrix4.IDENTITY),e};const O=new n.Cartesian3;function M(e,t){const r=e.length;let s,c,f,d;e[0].modelMatrix;const p=i.defined(e[0][t].indices),h=e[0][t].primitiveType,m=function(e,t){const n=e.length,r={},o=e[0][t].attributes;let s;for(s in o)if(o.hasOwnProperty(s)&&i.defined(o[s])&&i.defined(o[s].values)){const l=o[s];let c=l.values.length,f=!0;for(let r=1;r<n;++r){const n=e[r][t].attributes[s];if(!i.defined(n)||l.componentDatatype!==n.componentDatatype||l.componentsPerAttribute!==n.componentsPerAttribute||l.normalize!==n.normalize){f=!1;break}c+=n.values.length}f&&(r[s]=new u.GeometryAttribute({componentDatatype:l.componentDatatype,componentsPerAttribute:l.componentsPerAttribute,normalize:l.normalize,values:a.ComponentDatatype.createTypedArray(l.componentDatatype,c)}))}return r}(e,t);let _,y,g,C;for(s in m)if(m.hasOwnProperty(s))for(_=m[s].values,d=0,c=0;c<r;++c)for(y=e[c][t].attributes[s].values,g=y.length,f=0;f<g;++f)_[d++]=y[f];if(p){let n=0;for(c=0;c<r;++c)n+=e[c][t].indices.length;const i=u.Geometry.computeNumberOfVertices(new u.Geometry({attributes:m,primitiveType:u.PrimitiveType.POINTS})),a=l.IndexDatatype.createTypedArray(i,n);let o=0,s=0;for(c=0;c<r;++c){const n=e[c][t].indices,r=n.length;for(d=0;d<r;++d)a[o++]=s+n[d];s+=u.Geometry.computeNumberOfVertices(e[c][t])}C=a}let b,A=new n.Cartesian3,E=0;for(c=0;c<r;++c){if(b=e[c][t].boundingSphere,!i.defined(b)){A=void 0;break}n.Cartesian3.add(b.center,A,A)}if(i.defined(A))for(n.Cartesian3.divideByScalar(A,r,A),c=0;c<r;++c){b=e[c][t].boundingSphere;const r=n.Cartesian3.magnitude(n.Cartesian3.subtract(b.center,A,O))+b.radius;r>E&&(E=r)}return new u.Geometry({attributes:m,indices:C,primitiveType:h,boundingSphere:i.defined(A)?new o.BoundingSphere(A,E):void 0})}_.combineInstances=function(e){const t=[],n=[],r=e.length;for(let a=0;a<r;++a){const r=e[a];i.defined(r.geometry)?t.push(r):i.defined(r.westHemisphereGeometry)&&i.defined(r.eastHemisphereGeometry)&&n.push(r)}const a=[];return t.length>0&&a.push(M(t,"geometry")),n.length>0&&(a.push(M(n,"westHemisphereGeometry")),a.push(M(n,"eastHemisphereGeometry"))),a};const S=new n.Cartesian3,I=new n.Cartesian3,P=new n.Cartesian3,N=new n.Cartesian3;_.computeNormal=function(e){const t=e.indices,r=e.attributes,i=r.position.values,o=r.position.values.length/3,s=t.length,l=new Array(o),c=new Array(s/3),f=new Array(s);let d;for(d=0;d<o;d++)l[d]={indexOffset:0,count:0,currentCount:0};let p=0;for(d=0;d<s;d+=3){const e=t[d],r=t[d+1],a=t[d+2],o=3*e,s=3*r,u=3*a;I.x=i[o],I.y=i[o+1],I.z=i[o+2],P.x=i[s],P.y=i[s+1],P.z=i[s+2],N.x=i[u],N.y=i[u+1],N.z=i[u+2],l[e].count++,l[r].count++,l[a].count++,n.Cartesian3.subtract(P,I,P),n.Cartesian3.subtract(N,I,N),c[p]=n.Cartesian3.cross(P,N,new n.Cartesian3),p++}let h,m=0;for(d=0;d<o;d++)l[d].indexOffset+=m,m+=l[d].count;for(p=0,d=0;d<s;d+=3){h=l[t[d]];let e=h.indexOffset+h.currentCount;f[e]=p,h.currentCount++,h=l[t[d+1]],e=h.indexOffset+h.currentCount,f[e]=p,h.currentCount++,h=l[t[d+2]],e=h.indexOffset+h.currentCount,f[e]=p,h.currentCount++,p++}const _=new Float32Array(3*o);for(d=0;d<o;d++){const e=3*d;if(h=l[d],n.Cartesian3.clone(n.Cartesian3.ZERO,S),h.count>0){for(p=0;p<h.count;p++)n.Cartesian3.add(S,c[f[h.indexOffset+p]],S);n.Cartesian3.equalsEpsilon(n.Cartesian3.ZERO,S,a.CesiumMath.EPSILON10)&&n.Cartesian3.clone(c[f[h.indexOffset]],S)}n.Cartesian3.equalsEpsilon(n.Cartesian3.ZERO,S,a.CesiumMath.EPSILON10)&&(S.z=1),n.Cartesian3.normalize(S,S),_[e]=S.x,_[e+1]=S.y,_[e+2]=S.z}return e.attributes.normal=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:_}),e};const L=new n.Cartesian3,D=new n.Cartesian3,F=new n.Cartesian3;_.computeTangentAndBitangent=function(e){e.attributes;const t=e.indices,r=e.attributes.position.values,i=e.attributes.normal.values,o=e.attributes.st.values,s=e.attributes.position.values.length/3,l=t.length,c=new Array(3*s);let f,d,p,h;for(f=0;f<c.length;f++)c[f]=0;for(f=0;f<l;f+=3){const e=t[f],n=t[f+1],i=t[f+2];d=3*e,p=3*n,h=3*i;const a=2*e,s=2*n,u=2*i,l=r[d],m=r[d+1],_=r[d+2],y=o[a],g=o[a+1],C=o[s+1]-g,b=o[u+1]-g,A=1/((o[s]-y)*b-(o[u]-y)*C),E=(b*(r[p]-l)-C*(r[h]-l))*A,w=(b*(r[p+1]-m)-C*(r[h+1]-m))*A,T=(b*(r[p+2]-_)-C*(r[h+2]-_))*A;c[d]+=E,c[d+1]+=w,c[d+2]+=T,c[p]+=E,c[p+1]+=w,c[p+2]+=T,c[h]+=E,c[h+1]+=w,c[h+2]+=T}const m=new Float32Array(3*s),_=new Float32Array(3*s);for(f=0;f<s;f++){d=3*f,p=d+1,h=d+2;const e=n.Cartesian3.fromArray(i,d,L),t=n.Cartesian3.fromArray(c,d,F),r=n.Cartesian3.dot(e,t);n.Cartesian3.multiplyByScalar(e,r,D),n.Cartesian3.normalize(n.Cartesian3.subtract(t,D,t),t),m[d]=t.x,m[p]=t.y,m[h]=t.z,n.Cartesian3.normalize(n.Cartesian3.cross(e,t,t),t),_[d]=t.x,_[p]=t.y,_[h]=t.z}return e.attributes.tangent=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:m}),e.attributes.bitangent=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:_}),e};const G=new n.Cartesian2,B=new n.Cartesian3,U=new n.Cartesian3,k=new n.Cartesian3;let V=new n.Cartesian2;function z(e){switch(e.primitiveType){case u.PrimitiveType.TRIANGLE_FAN:return function(e){const t=u.Geometry.computeNumberOfVertices(e),n=l.IndexDatatype.createTypedArray(t,3*(t-2));n[0]=1,n[1]=0,n[2]=2;let r=3;for(let e=3;e<t;++e)n[r++]=e-1,n[r++]=0,n[r++]=e;return e.indices=n,e.primitiveType=u.PrimitiveType.TRIANGLES,e}(e);case u.PrimitiveType.TRIANGLE_STRIP:return function(e){const t=u.Geometry.computeNumberOfVertices(e),n=l.IndexDatatype.createTypedArray(t,3*(t-2));n[0]=0,n[1]=1,n[2]=2,t>3&&(n[3]=0,n[4]=2,n[5]=3);let r=6;for(let e=3;e<t-1;e+=2)n[r++]=e,n[r++]=e-1,n[r++]=e+1,e+2<t&&(n[r++]=e,n[r++]=e+1,n[r++]=e+2);return e.indices=n,e.primitiveType=u.PrimitiveType.TRIANGLES,e}(e);case u.PrimitiveType.TRIANGLES:return function(e){if(i.defined(e.indices))return e;const t=u.Geometry.computeNumberOfVertices(e),n=l.IndexDatatype.createTypedArray(t,t);for(let e=0;e<t;++e)n[e]=e;return e.indices=n,e}(e);case u.PrimitiveType.LINE_STRIP:return function(e){const t=u.Geometry.computeNumberOfVertices(e),n=l.IndexDatatype.createTypedArray(t,2*(t-1));n[0]=0,n[1]=1;let r=2;for(let e=2;e<t;++e)n[r++]=e-1,n[r++]=e;return e.indices=n,e.primitiveType=u.PrimitiveType.LINES,e}(e);case u.PrimitiveType.LINE_LOOP:return function(e){const t=u.Geometry.computeNumberOfVertices(e),n=l.IndexDatatype.createTypedArray(t,2*t);n[0]=0,n[1]=1;let r=2;for(let e=2;e<t;++e)n[r++]=e-1,n[r++]=e;return n[r++]=t-1,n[r]=0,e.indices=n,e.primitiveType=u.PrimitiveType.LINES,e}(e);case u.PrimitiveType.LINES:return function(e){if(i.defined(e.indices))return e;const t=u.Geometry.computeNumberOfVertices(e),n=l.IndexDatatype.createTypedArray(t,t);for(let e=0;e<t;++e)n[e]=e;return e.indices=n,e}(e)}return e}function j(e,t){Math.abs(e.y)<a.CesiumMath.EPSILON6&&(e.y=t?-a.CesiumMath.EPSILON6:a.CesiumMath.EPSILON6)}_.compressVertices=function(e){const r=e.attributes.extrudeDirection;let o,s;if(i.defined(r)){const i=r.values;s=i.length/3;const l=new Float32Array(2*s);let c=0;for(o=0;o<s;++o)n.Cartesian3.fromArray(i,3*o,B),n.Cartesian3.equals(B,n.Cartesian3.ZERO)?c+=2:(V=t.AttributeCompression.octEncodeInRange(B,65535,V),l[c++]=V.x,l[c++]=V.y);return e.attributes.compressedAttributes=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:l}),delete e.attributes.extrudeDirection,e}const l=e.attributes.normal,c=e.attributes.st,f=i.defined(l),d=i.defined(c);if(!f&&!d)return e;const p=e.attributes.tangent,h=e.attributes.bitangent,m=i.defined(p),_=i.defined(h);let y,g,C,b;f&&(y=l.values),d&&(g=c.values),m&&(C=p.values),_&&(b=h.values);s=(f?y.length:g.length)/(f?3:2);let A=s,E=d&&f?2:1;E+=m||_?1:0,A*=E;const w=new Float32Array(A);let T=0;for(o=0;o<s;++o){d&&(n.Cartesian2.fromArray(g,2*o,G),w[T++]=t.AttributeCompression.compressTextureCoordinates(G));const e=3*o;f&&i.defined(C)&&i.defined(b)?(n.Cartesian3.fromArray(y,e,B),n.Cartesian3.fromArray(C,e,U),n.Cartesian3.fromArray(b,e,k),t.AttributeCompression.octPack(B,U,k,G),w[T++]=G.x,w[T++]=G.y):(f&&(n.Cartesian3.fromArray(y,e,B),w[T++]=t.AttributeCompression.octEncodeFloat(B)),m&&(n.Cartesian3.fromArray(C,e,B),w[T++]=t.AttributeCompression.octEncodeFloat(B)),_&&(n.Cartesian3.fromArray(b,e,B),w[T++]=t.AttributeCompression.octEncodeFloat(B)))}return e.attributes.compressedAttributes=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:E,values:w}),f&&delete e.attributes.normal,d&&delete e.attributes.st,_&&delete e.attributes.bitangent,m&&delete e.attributes.tangent,e};const H=new n.Cartesian3;function q(e,t,r,i){n.Cartesian3.add(e,n.Cartesian3.multiplyByScalar(n.Cartesian3.subtract(t,e,H),e.y/(e.y-t.y),H),r),n.Cartesian3.clone(r,i),j(r,!0),j(i,!1)}const W=new n.Cartesian3,K=new n.Cartesian3,Y=new n.Cartesian3,X=new n.Cartesian3,Z={positions:new Array(7),indices:new Array(9)};function Q(e,t,n){if(e.x>=0||t.x>=0||n.x>=0)return;!function(e,t,n){if(0!==e.y&&0!==t.y&&0!==n.y)return j(e,e.y<0),j(t,t.y<0),void j(n,n.y<0);const r=Math.abs(e.y),i=Math.abs(t.y),o=Math.abs(n.y);let s;s=r>i?r>o?a.CesiumMath.sign(e.y):a.CesiumMath.sign(n.y):i>o?a.CesiumMath.sign(t.y):a.CesiumMath.sign(n.y);const u=s<0;j(e,u),j(t,u),j(n,u)}(e,t,n);const r=e.y<0,i=t.y<0,o=n.y<0;let s=0;s+=r?1:0,s+=i?1:0,s+=o?1:0;const u=Z.indices;1===s?(u[1]=3,u[2]=4,u[5]=6,u[7]=6,u[8]=5,r?(q(e,t,W,Y),q(e,n,K,X),u[0]=0,u[3]=1,u[4]=2,u[6]=1):i?(q(t,n,W,Y),q(t,e,K,X),u[0]=1,u[3]=2,u[4]=0,u[6]=2):o&&(q(n,e,W,Y),q(n,t,K,X),u[0]=2,u[3]=0,u[4]=1,u[6]=0)):2===s&&(u[2]=4,u[4]=4,u[5]=3,u[7]=5,u[8]=6,r?i?o||(q(n,e,W,Y),q(n,t,K,X),u[0]=0,u[1]=1,u[3]=0,u[6]=2):(q(t,n,W,Y),q(t,e,K,X),u[0]=2,u[1]=0,u[3]=2,u[6]=1):(q(e,t,W,Y),q(e,n,K,X),u[0]=1,u[1]=2,u[3]=1,u[6]=0));const l=Z.positions;return l[0]=e,l[1]=t,l[2]=n,l.length=3,1!==s&&2!==s||(l[3]=W,l[4]=K,l[5]=Y,l[6]=X,l.length=7),Z}function $(e,t){const n=e.attributes;if(0===n.position.values.length)return;for(const e in n)if(n.hasOwnProperty(e)&&i.defined(n[e])&&i.defined(n[e].values)){const t=n[e];t.values=a.ComponentDatatype.createTypedArray(t.componentDatatype,t.values)}const r=u.Geometry.computeNumberOfVertices(e);return e.indices=l.IndexDatatype.createTypedArray(r,e.indices),t&&(e.boundingSphere=o.BoundingSphere.fromVertices(n.position.values)),e}function J(e){const t=e.attributes,n={};for(const e in t)if(t.hasOwnProperty(e)&&i.defined(t[e])&&i.defined(t[e].values)){const r=t[e];n[e]=new u.GeometryAttribute({componentDatatype:r.componentDatatype,componentsPerAttribute:r.componentsPerAttribute,normalize:r.normalize,values:[]})}return new u.Geometry({attributes:n,indices:[],primitiveType:e.primitiveType})}function ee(e,t,n){const r=i.defined(e.geometry.boundingSphere);t=$(t,r),n=$(n,r),i.defined(n)&&!i.defined(t)?e.geometry=n:!i.defined(n)&&i.defined(t)?e.geometry=t:(e.westHemisphereGeometry=t,e.eastHemisphereGeometry=n,e.geometry=void 0)}function te(e,t){const n=new e,r=new e,i=new e;return function(a,o,s,u,l,c,f,d){const p=e.fromArray(l,a*t,n),h=e.fromArray(l,o*t,r),m=e.fromArray(l,s*t,i);e.multiplyByScalar(p,u.x,p),e.multiplyByScalar(h,u.y,h),e.multiplyByScalar(m,u.z,m);const _=e.add(p,h,p);e.add(_,m,_),d&&e.normalize(_,_),e.pack(_,c,f*t)}}const ne=te(n.Cartesian4,4),re=te(n.Cartesian3,3),ie=te(n.Cartesian2,2),ae=new n.Cartesian3,oe=new n.Cartesian3,se=new n.Cartesian3,ue=new n.Cartesian3;function le(e,t,r,o,s,u,l,c,f,m,_,y,g,C,b,A){if(!(i.defined(u)||i.defined(l)||i.defined(c)||i.defined(f)||i.defined(m)||0!==C))return;const E=function(e,t,r,o,s){let u,l,c,f,m,_,y,g;if(i.defined(s)||(s=new n.Cartesian3),i.defined(t.z)){if(n.Cartesian3.equalsEpsilon(e,t,a.CesiumMath.EPSILON14))return n.Cartesian3.clone(n.Cartesian3.UNIT_X,s);if(n.Cartesian3.equalsEpsilon(e,r,a.CesiumMath.EPSILON14))return n.Cartesian3.clone(n.Cartesian3.UNIT_Y,s);if(n.Cartesian3.equalsEpsilon(e,o,a.CesiumMath.EPSILON14))return n.Cartesian3.clone(n.Cartesian3.UNIT_Z,s);u=n.Cartesian3.subtract(r,t,d),l=n.Cartesian3.subtract(o,t,p),c=n.Cartesian3.subtract(e,t,h),f=n.Cartesian3.dot(u,u),m=n.Cartesian3.dot(u,l),_=n.Cartesian3.dot(u,c),y=n.Cartesian3.dot(l,l),g=n.Cartesian3.dot(l,c)}else{if(n.Cartesian2.equalsEpsilon(e,t,a.CesiumMath.EPSILON14))return n.Cartesian3.clone(n.Cartesian3.UNIT_X,s);if(n.Cartesian2.equalsEpsilon(e,r,a.CesiumMath.EPSILON14))return n.Cartesian3.clone(n.Cartesian3.UNIT_Y,s);if(n.Cartesian2.equalsEpsilon(e,o,a.CesiumMath.EPSILON14))return n.Cartesian3.clone(n.Cartesian3.UNIT_Z,s);u=n.Cartesian2.subtract(r,t,d),l=n.Cartesian2.subtract(o,t,p),c=n.Cartesian2.subtract(e,t,h),f=n.Cartesian2.dot(u,u),m=n.Cartesian2.dot(u,l),_=n.Cartesian2.dot(u,c),y=n.Cartesian2.dot(l,l),g=n.Cartesian2.dot(l,c)}s.y=y*_-m*g,s.z=f*g-m*_;const C=f*y-m*m;if(0!==C)return s.y/=C,s.z/=C,s.x=1-s.y-s.z,s}(o,n.Cartesian3.fromArray(s,3*e,ae),n.Cartesian3.fromArray(s,3*t,oe),n.Cartesian3.fromArray(s,3*r,se),ue);if(i.defined(E)){if(i.defined(u)&&re(e,t,r,E,u,y.normal.values,A,!0),i.defined(m)){const i=n.Cartesian3.fromArray(m,3*e,ae),a=n.Cartesian3.fromArray(m,3*t,oe),o=n.Cartesian3.fromArray(m,3*r,se);let s;n.Cartesian3.multiplyByScalar(i,E.x,i),n.Cartesian3.multiplyByScalar(a,E.y,a),n.Cartesian3.multiplyByScalar(o,E.z,o),n.Cartesian3.equals(i,n.Cartesian3.ZERO)&&n.Cartesian3.equals(a,n.Cartesian3.ZERO)&&n.Cartesian3.equals(o,n.Cartesian3.ZERO)?(s=ae,s.x=0,s.y=0,s.z=0):(s=n.Cartesian3.add(i,a,i),n.Cartesian3.add(s,o,s),n.Cartesian3.normalize(s,s)),n.Cartesian3.pack(s,y.extrudeDirection.values,3*A)}if(i.defined(_)&&function(e,t,n,r,i,o,s){const u=i[e]*r.x,l=i[t]*r.y,c=i[n]*r.z;o[s]=u+l+c>a.CesiumMath.EPSILON6?1:0}(e,t,r,E,_,y.applyOffset.values,A),i.defined(l)&&re(e,t,r,E,l,y.tangent.values,A,!0),i.defined(c)&&re(e,t,r,E,c,y.bitangent.values,A,!0),i.defined(f)&&ie(e,t,r,E,f,y.st.values,A),C>0)for(let n=0;n<C;n++){const i=g[n];ce(e,t,r,E,A,b[i],y[i])}}}function ce(e,t,n,r,i,a,o){const s=a.componentsPerAttribute,u=a.values,l=o.values;switch(s){case 4:ne(e,t,n,r,u,l,i,!1);break;case 3:re(e,t,n,r,u,l,i,!1);break;case 2:ie(e,t,n,r,u,l,i,!1);break;default:l[i]=u[e]*r.x+u[t]*r.y+u[n]*r.z}}function fe(e,t,n,r,i,a){const o=e.position.values.length/3;if(-1!==i){const s=r[i],u=n[s];return-1===u?(n[s]=o,e.position.values.push(a.x,a.y,a.z),t.push(o),o):(t.push(u),u)}return e.position.values.push(a.x,a.y,a.z),t.push(o),o}const de={position:!0,normal:!0,bitangent:!0,tangent:!0,st:!0,extrudeDirection:!0,applyOffset:!0};function pe(e){const t=e.geometry,r=t.attributes,a=r.position.values,o=i.defined(r.normal)?r.normal.values:void 0,s=i.defined(r.bitangent)?r.bitangent.values:void 0,u=i.defined(r.tangent)?r.tangent.values:void 0,l=i.defined(r.st)?r.st.values:void 0,c=i.defined(r.extrudeDirection)?r.extrudeDirection.values:void 0,f=i.defined(r.applyOffset)?r.applyOffset.values:void 0,d=t.indices,p=[];for(const e in r)r.hasOwnProperty(e)&&!de[e]&&i.defined(r[e])&&p.push(e);const h=p.length,m=J(t),_=J(t);let y,g,C,b,A;const E=[];E.length=a.length/3;const w=[];for(w.length=a.length/3,A=0;A<E.length;++A)E[A]=-1,w[A]=-1;const T=d.length;for(A=0;A<T;A+=3){const e=d[A],t=d[A+1],T=d[A+2];let x=n.Cartesian3.fromArray(a,3*e),v=n.Cartesian3.fromArray(a,3*t),R=n.Cartesian3.fromArray(a,3*T);const O=Q(x,v,R);if(i.defined(O)&&O.positions.length>3){const n=O.positions,i=O.indices,x=i.length;for(let v=0;v<x;++v){const x=i[v],R=n[x];R.y<0?(y=_.attributes,g=_.indices,C=E):(y=m.attributes,g=m.indices,C=w),b=fe(y,g,C,d,x<3?A+x:-1,R),le(e,t,T,R,a,o,u,s,l,c,f,y,p,h,r,b)}}else i.defined(O)&&(x=O.positions[0],v=O.positions[1],R=O.positions[2]),x.y<0?(y=_.attributes,g=_.indices,C=E):(y=m.attributes,g=m.indices,C=w),b=fe(y,g,C,d,A,x),le(e,t,T,x,a,o,u,s,l,c,f,y,p,h,r,b),b=fe(y,g,C,d,A+1,v),le(e,t,T,v,a,o,u,s,l,c,f,y,p,h,r,b),b=fe(y,g,C,d,A+2,R),le(e,t,T,R,a,o,u,s,l,c,f,y,p,h,r,b)}ee(e,_,m)}const he=f.Plane.fromPointNormal(n.Cartesian3.ZERO,n.Cartesian3.UNIT_Y),me=new n.Cartesian3,_e=new n.Cartesian3;function ye(e,t,r,o,s,u,l){if(!i.defined(l))return;const c=n.Cartesian3.fromArray(o,3*e,ae);n.Cartesian3.equalsEpsilon(c,r,a.CesiumMath.EPSILON10)?u.applyOffset.values[s]=l[e]:u.applyOffset.values[s]=l[t]}function ge(e){const t=e.geometry,r=t.attributes,o=r.position.values,s=i.defined(r.applyOffset)?r.applyOffset.values:void 0,u=t.indices,l=J(t),f=J(t);let d;const p=u.length,h=[];h.length=o.length/3;const m=[];for(m.length=o.length/3,d=0;d<h.length;++d)h[d]=-1,m[d]=-1;for(d=0;d<p;d+=2){const e=u[d],t=u[d+1],r=n.Cartesian3.fromArray(o,3*e,ae),p=n.Cartesian3.fromArray(o,3*t,oe);let _;Math.abs(r.y)<a.CesiumMath.EPSILON6&&(r.y<0?r.y=-a.CesiumMath.EPSILON6:r.y=a.CesiumMath.EPSILON6),Math.abs(p.y)<a.CesiumMath.EPSILON6&&(p.y<0?p.y=-a.CesiumMath.EPSILON6:p.y=a.CesiumMath.EPSILON6);let y=l.attributes,g=l.indices,C=m,b=f.attributes,A=f.indices,E=h;const w=c.IntersectionTests.lineSegmentPlane(r,p,he,se);if(i.defined(w)){const i=n.Cartesian3.multiplyByScalar(n.Cartesian3.UNIT_Y,5*a.CesiumMath.EPSILON9,me);r.y<0&&(n.Cartesian3.negate(i,i),y=f.attributes,g=f.indices,C=h,b=l.attributes,A=l.indices,E=m);const c=n.Cartesian3.add(w,i,_e);_=fe(y,g,C,u,d,r),ye(e,t,r,o,_,y,s),_=fe(y,g,C,u,-1,c),ye(e,t,c,o,_,y,s),n.Cartesian3.negate(i,i),n.Cartesian3.add(w,i,c),_=fe(b,A,E,u,-1,c),ye(e,t,c,o,_,b,s),_=fe(b,A,E,u,d+1,p),ye(e,t,p,o,_,b,s)}else{let n,i,a;r.y<0?(n=f.attributes,i=f.indices,a=h):(n=l.attributes,i=l.indices,a=m),_=fe(n,i,a,u,d,r),ye(e,t,r,o,_,n,s),_=fe(n,i,a,u,d+1,p),ye(e,t,p,o,_,n,s)}}ee(e,f,l)}const Ce=new n.Cartesian2,be=new n.Cartesian2,Ae=new n.Cartesian3,Ee=new n.Cartesian3,we=new n.Cartesian3,Te=new n.Cartesian3,xe=new n.Cartesian3,ve=new n.Cartesian3,Re=new n.Cartesian4;function Oe(e){const t=e.attributes,r=t.position.values,i=t.prevPosition.values,a=t.nextPosition.values,o=r.length;for(let e=0;e<o;e+=3){const t=n.Cartesian3.unpack(r,e,Ae);if(t.x>0)continue;const s=n.Cartesian3.unpack(i,e,Ee);(t.y<0&&s.y>0||t.y>0&&s.y<0)&&(e-3>0?(i[e]=r[e-3],i[e+1]=r[e-2],i[e+2]=r[e-1]):n.Cartesian3.pack(t,i,e));const u=n.Cartesian3.unpack(a,e,we);(t.y<0&&u.y>0||t.y>0&&u.y<0)&&(e+3<o?(a[e]=r[e+3],a[e+1]=r[e+4],a[e+2]=r[e+5]):n.Cartesian3.pack(t,a,e))}}const Me=5*a.CesiumMath.EPSILON9,Se=a.CesiumMath.EPSILON6;_.splitLongitude=function(e){const t=e.geometry,r=t.boundingSphere;if(i.defined(r)){if(r.center.x-r.radius>0||o.BoundingSphere.intersectPlane(r,f.Plane.ORIGIN_ZX_PLANE)!==o.Intersect.INTERSECTING)return e}if(t.geometryType!==u.GeometryType.NONE)switch(t.geometryType){case u.GeometryType.POLYLINES:!function(e){const t=e.geometry,r=t.attributes,o=r.position.values,s=r.prevPosition.values,u=r.nextPosition.values,l=r.expandAndWidth.values,f=i.defined(r.st)?r.st.values:void 0,d=i.defined(r.color)?r.color.values:void 0,p=J(t),h=J(t);let m,_,y,g=!1;const C=o.length/3;for(m=0;m<C;m+=4){const e=m,t=m+2,r=n.Cartesian3.fromArray(o,3*e,Ae),C=n.Cartesian3.fromArray(o,3*t,Ee);if(Math.abs(r.y)<Se)for(r.y=Se*(C.y<0?-1:1),o[3*m+1]=r.y,o[3*(m+1)+1]=r.y,_=3*e;_<3*e+12;_+=3)s[_]=o[3*m],s[_+1]=o[3*m+1],s[_+2]=o[3*m+2];if(Math.abs(C.y)<Se)for(C.y=Se*(r.y<0?-1:1),o[3*(m+2)+1]=C.y,o[3*(m+3)+1]=C.y,_=3*e;_<3*e+12;_+=3)u[_]=o[3*(m+2)],u[_+1]=o[3*(m+2)+1],u[_+2]=o[3*(m+2)+2];let b=p.attributes,A=p.indices,E=h.attributes,w=h.indices;const T=c.IntersectionTests.lineSegmentPlane(r,C,he,Te);if(i.defined(T)){g=!0;const o=n.Cartesian3.multiplyByScalar(n.Cartesian3.UNIT_Y,Me,xe);r.y<0&&(n.Cartesian3.negate(o,o),b=h.attributes,A=h.indices,E=p.attributes,w=p.indices);const c=n.Cartesian3.add(T,o,ve);b.position.values.push(r.x,r.y,r.z,r.x,r.y,r.z),b.position.values.push(c.x,c.y,c.z),b.position.values.push(c.x,c.y,c.z),b.prevPosition.values.push(s[3*e],s[3*e+1],s[3*e+2]),b.prevPosition.values.push(s[3*e+3],s[3*e+4],s[3*e+5]),b.prevPosition.values.push(r.x,r.y,r.z,r.x,r.y,r.z),b.nextPosition.values.push(c.x,c.y,c.z),b.nextPosition.values.push(c.x,c.y,c.z),b.nextPosition.values.push(c.x,c.y,c.z),b.nextPosition.values.push(c.x,c.y,c.z),n.Cartesian3.negate(o,o),n.Cartesian3.add(T,o,c),E.position.values.push(c.x,c.y,c.z),E.position.values.push(c.x,c.y,c.z),E.position.values.push(C.x,C.y,C.z,C.x,C.y,C.z),E.prevPosition.values.push(c.x,c.y,c.z),E.prevPosition.values.push(c.x,c.y,c.z),E.prevPosition.values.push(c.x,c.y,c.z),E.prevPosition.values.push(c.x,c.y,c.z),E.nextPosition.values.push(C.x,C.y,C.z,C.x,C.y,C.z),E.nextPosition.values.push(u[3*t],u[3*t+1],u[3*t+2]),E.nextPosition.values.push(u[3*t+3],u[3*t+4],u[3*t+5]);const x=n.Cartesian2.fromArray(l,2*e,Ce),v=Math.abs(x.y);b.expandAndWidth.values.push(-1,v,1,v),b.expandAndWidth.values.push(-1,-v,1,-v),E.expandAndWidth.values.push(-1,v,1,v),E.expandAndWidth.values.push(-1,-v,1,-v);let R=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(T,r,we));if(R/=n.Cartesian3.magnitudeSquared(n.Cartesian3.subtract(C,r,we)),i.defined(d)){const r=n.Cartesian4.fromArray(d,4*e,Re),i=n.Cartesian4.fromArray(d,4*t,Re),o=a.CesiumMath.lerp(r.x,i.x,R),s=a.CesiumMath.lerp(r.y,i.y,R),u=a.CesiumMath.lerp(r.z,i.z,R),l=a.CesiumMath.lerp(r.w,i.w,R);for(_=4*e;_<4*e+8;++_)b.color.values.push(d[_]);for(b.color.values.push(o,s,u,l),b.color.values.push(o,s,u,l),E.color.values.push(o,s,u,l),E.color.values.push(o,s,u,l),_=4*t;_<4*t+8;++_)E.color.values.push(d[_])}if(i.defined(f)){const r=n.Cartesian2.fromArray(f,2*e,Ce),i=n.Cartesian2.fromArray(f,2*(m+3),be),o=a.CesiumMath.lerp(r.x,i.x,R);for(_=2*e;_<2*e+4;++_)b.st.values.push(f[_]);for(b.st.values.push(o,r.y),b.st.values.push(o,i.y),E.st.values.push(o,r.y),E.st.values.push(o,i.y),_=2*t;_<2*t+4;++_)E.st.values.push(f[_])}y=b.position.values.length/3-4,A.push(y,y+2,y+1),A.push(y+1,y+2,y+3),y=E.position.values.length/3-4,w.push(y,y+2,y+1),w.push(y+1,y+2,y+3)}else{let e,t;for(r.y<0?(e=h.attributes,t=h.indices):(e=p.attributes,t=p.indices),e.position.values.push(r.x,r.y,r.z),e.position.values.push(r.x,r.y,r.z),e.position.values.push(C.x,C.y,C.z),e.position.values.push(C.x,C.y,C.z),_=3*m;_<3*m+12;++_)e.prevPosition.values.push(s[_]),e.nextPosition.values.push(u[_]);for(_=2*m;_<2*m+8;++_)e.expandAndWidth.values.push(l[_]),i.defined(f)&&e.st.values.push(f[_]);if(i.defined(d))for(_=4*m;_<4*m+16;++_)e.color.values.push(d[_]);y=e.position.values.length/3-4,t.push(y,y+2,y+1),t.push(y+1,y+2,y+3)}}g&&(Oe(h),Oe(p)),ee(e,h,p)}(e);break;case u.GeometryType.TRIANGLES:pe(e);break;case u.GeometryType.LINES:ge(e)}else z(t),t.primitiveType===u.PrimitiveType.TRIANGLES?pe(e):t.primitiveType===u.PrimitiveType.LINES&&ge(e);return e},e.GeometryPipeline=_}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(1),n(0)],void 0===(i=function(e,t,n,r){"use strict";function i(){this.high=t.Cartesian3.clone(t.Cartesian3.ZERO),this.low=t.Cartesian3.clone(t.Cartesian3.ZERO)}i.encode=function(e,t){let n;return r.defined(t)||(t={high:0,low:0}),e>=0?(n=65536*Math.floor(e/65536),t.high=n,t.low=e-n):(n=65536*Math.floor(-e/65536),t.high=-n,t.low=e+n),t};const a={high:0,low:0};i.fromCartesian=function(e,t){r.defined(t)||(t=new i);const n=t.high,o=t.low;return i.encode(e.x,a),n.x=a.high,o.x=a.low,i.encode(e.y,a),n.y=a.high,o.y=a.low,i.encode(e.z,a),n.z=a.high,o.z=a.low,t};const o=new i;i.writeElements=function(e,t,n){i.fromCartesian(e,o);const r=o.high,a=o.low;t[n]=r.x,t[n+1]=r.y,t[n+2]=r.z,t[n+3]=a.x,t[n+4]=a.y,t[n+5]=a.z},e.EncodedCartesian3=i}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(0),n(1),n(25),n(16),n(13),n(3),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u){"use strict";const l={numberOfPoints:function(e,n,r){const i=t.Cartesian3.distance(e,n);return Math.ceil(i/r)},numberOfPointsRhumbLine:function(e,t,n){const r=Math.pow(e.longitude-t.longitude,2)+Math.pow(e.latitude-t.latitude,2);return Math.max(1,Math.ceil(Math.sqrt(r/(n*n))))}},c=new t.Cartographic;l.extractHeights=function(e,t){const n=e.length,r=new Array(n);for(let i=0;i<n;i++){const n=e[i];r[i]=t.cartesianToCartographic(n,c).height}return r};const f=new t.Matrix4,d=new t.Cartesian3,p=new t.Cartesian3,h=new u.Plane(t.Cartesian3.UNIT_X,0),m=new t.Cartesian3,_=new u.Plane(t.Cartesian3.UNIT_X,0),y=new t.Cartesian3,g=new t.Cartesian3,C=[];function b(e,t,n){const r=C;let i;if(r.length=e,t===n){for(i=0;i<e;i++)r[i]=t;return r}const a=(n-t)/e;for(i=0;i<e;i++){const e=t+i*a;r[i]=e}return r}const A=new t.Cartographic,E=new t.Cartographic,w=new t.Cartesian3,T=new t.Cartesian3,x=new t.Cartesian3,v=new i.EllipsoidGeodesic;let R=new a.EllipsoidRhumbLine;function O(e,n,r,i,a,o,s,u){const c=i.scaleToGeodeticSurface(e,T),f=i.scaleToGeodeticSurface(n,x),d=l.numberOfPoints(e,n,r),p=i.cartesianToCartographic(c,A),h=i.cartesianToCartographic(f,E),m=b(d,a,o);v.setEndPoints(p,h);const _=v.surfaceDistance/d;let y=u;p.height=a;let g=i.cartographicToCartesian(p,w);t.Cartesian3.pack(g,s,y),y+=3;for(let e=1;e<d;e++){const n=v.interpolateUsingSurfaceDistance(e*_,E);n.height=m[e],g=i.cartographicToCartesian(n,w),t.Cartesian3.pack(g,s,y),y+=3}return y}function M(e,n,r,i,o,s,u,c){const f=i.cartesianToCartographic(e,A),d=i.cartesianToCartographic(n,E),p=l.numberOfPointsRhumbLine(f,d,r);f.height=0,d.height=0;const h=b(p,o,s);R.ellipsoid.equals(i)||(R=new a.EllipsoidRhumbLine(void 0,void 0,i)),R.setEndPoints(f,d);const m=R.surfaceDistance/p;let _=c;f.height=o;let y=i.cartographicToCartesian(f,w);t.Cartesian3.pack(y,u,_),_+=3;for(let e=1;e<p;e++){const n=R.interpolateUsingSurfaceDistance(e*m,E);n.height=h[e],y=i.cartographicToCartesian(n,w),t.Cartesian3.pack(y,u,_),_+=3}return _}l.wrapLongitude=function(e,r){const i=[],a=[];if(n.defined(e)&&e.length>0){r=n.defaultValue(r,t.Matrix4.IDENTITY);const s=t.Matrix4.inverseTransformation(r,f),l=t.Matrix4.multiplyByPoint(s,t.Cartesian3.ZERO,d),c=t.Cartesian3.normalize(t.Matrix4.multiplyByPointAsVector(s,t.Cartesian3.UNIT_Y,p),p),C=u.Plane.fromPointNormal(l,c,h),b=t.Cartesian3.normalize(t.Matrix4.multiplyByPointAsVector(s,t.Cartesian3.UNIT_X,m),m),A=u.Plane.fromPointNormal(l,b,_);let E=1;i.push(t.Cartesian3.clone(e[0]));let w=i[0];const T=e.length;for(let r=1;r<T;++r){const s=e[r];if(u.Plane.getPointDistance(A,w)<0||u.Plane.getPointDistance(A,s)<0){const e=o.IntersectionTests.lineSegmentPlane(w,s,C,y);if(n.defined(e)){const n=t.Cartesian3.multiplyByScalar(c,5e-9,g);u.Plane.getPointDistance(C,w)<0&&t.Cartesian3.negate(n,n),i.push(t.Cartesian3.add(e,n,new t.Cartesian3)),a.push(E+1),t.Cartesian3.negate(n,n),i.push(t.Cartesian3.add(e,n,new t.Cartesian3)),E=1}}i.push(t.Cartesian3.clone(e[r])),E++,w=s}a.push(E)}return{positions:i,lengths:a}},l.generateArc=function(e){n.defined(e)||(e={});const r=e.positions,i=r.length,a=n.defaultValue(e.ellipsoid,t.Ellipsoid.WGS84);let o=n.defaultValue(e.height,0);const u=Array.isArray(o);if(i<1)return[];if(1===i){const e=a.scaleToGeodeticSurface(r[0],T);if(o=u?o[0]:o,0!==o){const n=a.geodeticSurfaceNormal(e,w);t.Cartesian3.multiplyByScalar(n,o,n),t.Cartesian3.add(e,n,e)}return[e.x,e.y,e.z]}let c=e.minDistance;if(!n.defined(c)){const t=n.defaultValue(e.granularity,s.CesiumMath.RADIANS_PER_DEGREE);c=s.CesiumMath.chordLength(t,a.maximumRadius)}let f,d=0;for(f=0;f<i-1;f++)d+=l.numberOfPoints(r[f],r[f+1],c);const p=3*(d+1),h=new Array(p);let m=0;for(f=0;f<i-1;f++){m=O(r[f],r[f+1],c,a,u?o[f]:o,u?o[f+1]:o,h,m)}C.length=0;const _=r[i-1],y=a.cartesianToCartographic(_,A);y.height=u?o[i-1]:o;const g=a.cartographicToCartesian(y,w);return t.Cartesian3.pack(g,h,p-3),h};const S=new t.Cartographic,I=new t.Cartographic;l.generateRhumbArc=function(e){n.defined(e)||(e={});const r=e.positions,i=r.length,a=n.defaultValue(e.ellipsoid,t.Ellipsoid.WGS84);let o=n.defaultValue(e.height,0);const u=Array.isArray(o);if(i<1)return[];if(1===i){const e=a.scaleToGeodeticSurface(r[0],T);if(o=u?o[0]:o,0!==o){const n=a.geodeticSurfaceNormal(e,w);t.Cartesian3.multiplyByScalar(n,o,n),t.Cartesian3.add(e,n,e)}return[e.x,e.y,e.z]}const c=n.defaultValue(e.granularity,s.CesiumMath.RADIANS_PER_DEGREE);let f,d,p=0,h=a.cartesianToCartographic(r[0],S);for(f=0;f<i-1;f++)d=a.cartesianToCartographic(r[f+1],I),p+=l.numberOfPointsRhumbLine(h,d,c),h=t.Cartographic.clone(d,S);const m=3*(p+1),_=new Array(m);let y=0;for(f=0;f<i-1;f++){y=M(r[f],r[f+1],c,a,u?o[f]:o,u?o[f+1]:o,_,y)}C.length=0;const g=r[i-1],b=a.cartesianToCartographic(g,A);b.height=u?o[i-1]:o;const E=a.cartographicToCartesian(b,w);return t.Cartesian3.pack(E,_,m-3),_},l.generateCartesianArc=function(e){const n=l.generateArc(e),r=n.length/3,i=new Array(r);for(let e=0;e<r;e++)i[e]=t.Cartesian3.unpack(n,3*e);return i},l.generateCartesianRhumbArc=function(e){const n=l.generateRhumbArc(e),r=n.length/3,i=new Array(r);for(let e=0;e<r;e++)i[e]=t.Cartesian3.unpack(n,3*e);return i},e.PolylinePipeline=l}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(1),n(0),n(3)],void 0===(i=function(e,t,n,r,i){"use strict";function a(e,t,n,r,i,a,o){const s=function(e,t){return e*t*(4+e*(4-3*t))/16}(e,n);return(1-s)*e*t*(r+s*i*(o+s*a*(2*o*o-1)))}const o=new t.Cartesian3,s=new t.Cartesian3;function u(e,n,r,u){t.Cartesian3.normalize(u.cartographicToCartesian(n,s),o),t.Cartesian3.normalize(u.cartographicToCartesian(r,s),s);!function(e,t,n,r,o,s,u){const l=(t-n)/t,c=s-r,f=Math.atan((1-l)*Math.tan(o)),d=Math.atan((1-l)*Math.tan(u)),p=Math.cos(f),h=Math.sin(f),m=Math.cos(d),_=Math.sin(d),y=p*m,g=p*_,C=h*_,b=h*m;let A,E,w,T,x,v=c,R=i.CesiumMath.TWO_PI,O=Math.cos(v),M=Math.sin(v);do{O=Math.cos(v),M=Math.sin(v);const e=g-b*O;let t;w=Math.sqrt(m*m*M*M+e*e),E=C+y*O,A=Math.atan2(w,E),0===w?(t=0,T=1):(t=y*M/w,T=1-t*t),R=v,x=E-2*C/T,isFinite(x)||(x=0),v=c+a(l,t,T,A,w,E,x)}while(Math.abs(v-R)>i.CesiumMath.EPSILON12);const S=T*(t*t-n*n)/(n*n),I=S*(256+S*(S*(74-47*S)-128))/1024,P=x*x,N=n*(1+S*(4096+S*(S*(320-175*S)-768))/16384)*(A-I*w*(x+I*(E*(2*P-1)-I*x*(4*w*w-3)*(4*P-3)/6)/4)),L=Math.atan2(m*M,g-b*O),D=Math.atan2(p*M,g*O-b);e._distance=N,e._startHeading=L,e._endHeading=D,e._uSquared=S}(e,u.maximumRadius,u.minimumRadius,n.longitude,n.latitude,r.longitude,r.latitude),e._start=t.Cartographic.clone(n,e._start),e._end=t.Cartographic.clone(r,e._end),e._start.height=0,e._end.height=0,function(e){const t=e._uSquared,n=e._ellipsoid.maximumRadius,r=e._ellipsoid.minimumRadius,i=(n-r)/n,a=Math.cos(e._startHeading),o=Math.sin(e._startHeading),s=(1-i)*Math.tan(e._start.latitude),u=1/Math.sqrt(1+s*s),l=u*s,c=Math.atan2(s,a),f=u*o,d=f*f,p=1-d,h=Math.sqrt(p),m=t/4,_=m*m,y=_*m,g=_*_,C=1+m-3*_/4+5*y/4-175*g/64,b=1-m+15*_/8-35*y/8,A=1-3*m+35*_/4,E=1-5*m,w=C*c-b*Math.sin(2*c)*m/2-A*Math.sin(4*c)*_/16-E*Math.sin(6*c)*y/48-5*Math.sin(8*c)*g/512,T=e._constants;T.a=n,T.b=r,T.f=i,T.cosineHeading=a,T.sineHeading=o,T.tanU=s,T.cosineU=u,T.sineU=l,T.sigma=c,T.sineAlpha=f,T.sineSquaredAlpha=d,T.cosineSquaredAlpha=p,T.cosineAlpha=h,T.u2Over4=m,T.u4Over16=_,T.u6Over64=y,T.u8Over256=g,T.a0=C,T.a1=b,T.a2=A,T.a3=E,T.distanceRatio=w}(e)}function l(e,n,i){const a=r.defaultValue(i,t.Ellipsoid.WGS84);this._ellipsoid=a,this._start=new t.Cartographic,this._end=new t.Cartographic,this._constants={},this._startHeading=void 0,this._endHeading=void 0,this._distance=void 0,this._uSquared=void 0,r.defined(e)&&r.defined(n)&&u(this,e,n,a)}Object.defineProperties(l.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},surfaceDistance:{get:function(){return this._distance}},start:{get:function(){return this._start}},end:{get:function(){return this._end}},startHeading:{get:function(){return this._startHeading}},endHeading:{get:function(){return this._endHeading}}}),l.prototype.setEndPoints=function(e,t){u(this,e,t,this._ellipsoid)},l.prototype.interpolateUsingFraction=function(e,t){return this.interpolateUsingSurfaceDistance(this._distance*e,t)},l.prototype.interpolateUsingSurfaceDistance=function(e,n){const i=this._constants,o=i.distanceRatio+e/i.b,s=Math.cos(2*o),u=Math.cos(4*o),l=Math.cos(6*o),c=Math.sin(2*o),f=Math.sin(4*o),d=Math.sin(6*o),p=Math.sin(8*o),h=o*o,m=o*h,_=i.u8Over256,y=i.u2Over4,g=i.u6Over64,C=i.u4Over16;let b=2*m*_*s/3+o*(1-y+7*C/4-15*g/4+579*_/64-(C-15*g/4+187*_/16)*s-(5*g/4-115*_/16)*u-29*_*l/16)+(y/2-C+71*g/32-85*_/16)*c+(5*C/16-5*g/4+383*_/96)*f-h*((g-11*_/2)*c+5*_*f/2)+(29*g/96-29*_/16)*d+539*_*p/1536;const A=Math.asin(Math.sin(b)*i.cosineAlpha),E=Math.atan(i.a/i.b*Math.tan(A));b-=i.sigma;const w=Math.cos(2*i.sigma+b),T=Math.sin(b),x=Math.cos(b),v=i.cosineU*x,R=i.sineU*T,O=Math.atan2(T*i.sineHeading,v-R*i.cosineHeading)-a(i.f,i.sineAlpha,i.cosineSquaredAlpha,b,T,x,w);return r.defined(n)?(n.longitude=this._start.longitude+O,n.latitude=E,n.height=0,n):new t.Cartographic(this._start.longitude+O,E,0)},e.EllipsoidGeodesic=l}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(1),n(3),n(0),n(16),n(6),n(5)],void 0===(i=function(e,t,n,r,i,a,o,s){"use strict";var u=c,l=c;function c(e,t,n){n=n||2;var r,i,a,o,s,u,l,c=t&&t.length,h=c?t[0]*n:e.length,m=f(e,0,h,n,!0),_=[];if(!m||m.next===m.prev)return _;if(c&&(m=function(e,t,n,r){var i,a,o,s,u,l=[];for(i=0,a=t.length;i<a;i++)o=t[i]*r,s=i<a-1?t[i+1]*r:e.length,(u=f(e,o,s,r,!1))===u.next&&(u.steiner=!0),l.push(E(u));for(l.sort(g),i=0;i<l.length;i++)n=d(n=C(l[i],n),n.next);return n}(e,t,m,n)),e.length>80*n){r=a=e[0],i=o=e[1];for(var y=n;y<h;y+=n)(s=e[y])<r&&(r=s),(u=e[y+1])<i&&(i=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-i))?1/l:0}return p(m,_,n,r,i,l),_}function f(e,t,n,r,i){var a,o;if(i===D(e,t,n,r)>0)for(a=t;a<n;a+=r)o=P(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=P(a,e[a],e[a+1],o);return o&&v(o,o.next)&&(N(o),o=o.next),o}function d(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==x(r.prev,r,r.next))r=r.next;else{if(N(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function p(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=A(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,u,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ);t++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var s,u,l=e;e.prev!==e.next;)if(s=e.prev,u=e.next,a?m(e,r,i,a):h(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),N(e),e=u.next,l=u.next;else if((e=u)===l){o?1===o?p(e=_(d(e),t,n),t,n,r,i,a,2):2===o&&y(e,t,n,r,i,a):p(d(e),t,n,r,i,a,1);break}}}function h(e){var t=e.prev,n=e,r=e.next;if(x(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(w(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&x(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function m(e,t,n,r){var i=e.prev,a=e,o=e.next;if(x(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=A(s,u,t,n,r),d=A(l,c,t,n,r),p=e.prevZ,h=e.nextZ;p&&p.z>=f&&h&&h.z<=d;){if(p!==e.prev&&p!==e.next&&w(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,h!==e.prev&&h!==e.next&&w(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(;p&&p.z>=f;){if(p!==e.prev&&p!==e.next&&w(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;h&&h.z<=d;){if(h!==e.prev&&h!==e.next&&w(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&&x(h.prev,h,h.next)>=0)return!1;h=h.nextZ}return!0}function _(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!v(i,a)&&R(i,r,r.next,a)&&S(i,a)&&S(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),N(r),N(r.next),r=e=a),r=r.next}while(r!==e);return d(r)}function y(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&T(o,s)){var u=I(o,s);return o=d(o,o.next),u=d(u,u.next),p(o,t,n,r,i,a),void p(u,t,n,r,i,a)}s=s.next}o=o.next}while(o!==e)}function g(e,t){return e.x-t.x}function C(e,t){var n=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var u,l=n,c=n.x,f=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&w(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),S(r,e)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&b(n,r)))&&(n=r,d=u)),r=r.next}while(r!==l);return n}(e,t);if(!n)return t;var r=I(n,e),i=d(n,n.next);return d(r,r.next),t===n?i:t}function b(e,t){return x(e.prev,e,t.prev)<0&&x(t.next,e,e.next)<0}function A(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function E(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function w(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function T(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&R(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(S(e,t)&&S(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(x(e.prev,e,t.prev)||x(e,t.prev,t))||v(e,t)&&x(e.prev,e,e.next)>0&&x(t.prev,t,t.next)>0)}function x(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function R(e,t,n,r){var i=M(x(e,t,n)),a=M(x(e,t,r)),o=M(x(n,r,e)),s=M(x(n,r,t));return i!==a&&o!==s||(!(0!==i||!O(e,n,t))||(!(0!==a||!O(e,r,t))||(!(0!==o||!O(n,e,r))||!(0!==s||!O(n,t,r)))))}function O(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function M(e){return e>0?1:e<0?-1:0}function S(e,t){return x(e.prev,e,e.next)<0?x(e,t,e.next)>=0&&x(e,e.prev,t)>=0:x(e,t,e.prev)<0||x(e,e.next,t)<0}function I(e,t){var n=new L(e.i,e.x,e.y),r=new L(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function P(e,t,n,r){var i=new L(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function N(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function L(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}c.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(D(e,0,a,n));if(i)for(var s=0,u=t.length;s<u;s++){var l=t[s]*n,c=s<u-1?t[s+1]*n:e.length;o-=Math.abs(D(e,l,c,n))}var f=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,p=r[s+1]*n,h=r[s+2]*n;f+=Math.abs((e[d]-e[h])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[h+1]-e[d+1]))}return 0===o&&0===f?0:Math.abs((f-o)/o)},c.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n},u.default=l;const F={CLOCKWISE:s.WebGLConstants.CW,COUNTER_CLOCKWISE:s.WebGLConstants.CCW,validate:function(e){return e===F.CLOCKWISE||e===F.COUNTER_CLOCKWISE}};var G=Object.freeze(F);const B=new t.Cartesian3,U=new t.Cartesian3,k={computeArea2D:function(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++){const t=e[r],a=e[i];n+=t.x*a.y-a.x*t.y}return.5*n},computeWindingOrder2D:function(e){return k.computeArea2D(e)>0?G.COUNTER_CLOCKWISE:G.CLOCKWISE},triangulate:function(e,n){const r=t.Cartesian2.packArray(e);return u(r,n,2)}},V=new t.Cartesian3,z=new t.Cartesian3,j=new t.Cartesian3,H=new t.Cartesian3,q=new t.Cartesian3,W=new t.Cartesian3,K=new t.Cartesian3;k.computeSubdivision=function(e,n,a,s){s=i.defaultValue(s,r.CesiumMath.RADIANS_PER_DEGREE);const u=a.slice(0);let l;const c=n.length,f=new Array(3*c);let d=0;for(l=0;l<c;l++){const e=n[l];f[d++]=e.x,f[d++]=e.y,f[d++]=e.z}const p=[],h={},m=e.maximumRadius,_=r.CesiumMath.chordLength(s,m),y=_*_;for(;u.length>0;){const e=u.pop(),n=u.pop(),r=u.pop(),a=t.Cartesian3.fromArray(f,3*r,V),o=t.Cartesian3.fromArray(f,3*n,z),s=t.Cartesian3.fromArray(f,3*e,j),c=t.Cartesian3.multiplyByScalar(t.Cartesian3.normalize(a,H),m,H),d=t.Cartesian3.multiplyByScalar(t.Cartesian3.normalize(o,q),m,q),_=t.Cartesian3.multiplyByScalar(t.Cartesian3.normalize(s,W),m,W),g=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(c,d,K)),C=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(d,_,K)),b=t.Cartesian3.magnitudeSquared(t.Cartesian3.subtract(_,c,K)),A=Math.max(g,C,b);let E,w;A>y?g===A?(E=`${Math.min(r,n)} ${Math.max(r,n)}`,l=h[E],i.defined(l)||(w=t.Cartesian3.add(a,o,K),t.Cartesian3.multiplyByScalar(w,.5,w),f.push(w.x,w.y,w.z),l=f.length/3-1,h[E]=l),u.push(r,l,e),u.push(l,n,e)):C===A?(E=`${Math.min(n,e)} ${Math.max(n,e)}`,l=h[E],i.defined(l)||(w=t.Cartesian3.add(o,s,K),t.Cartesian3.multiplyByScalar(w,.5,w),f.push(w.x,w.y,w.z),l=f.length/3-1,h[E]=l),u.push(n,l,r),u.push(l,e,r)):b===A&&(E=`${Math.min(e,r)} ${Math.max(e,r)}`,l=h[E],i.defined(l)||(w=t.Cartesian3.add(s,a,K),t.Cartesian3.multiplyByScalar(w,.5,w),f.push(w.x,w.y,w.z),l=f.length/3-1,h[E]=l),u.push(e,l,n),u.push(l,r,n)):(p.push(r),p.push(n),p.push(e))}return new o.Geometry({attributes:{position:new o.GeometryAttribute({componentDatatype:r.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:f})},indices:p,primitiveType:o.PrimitiveType.TRIANGLES})};const Y=new t.Cartographic,X=new t.Cartographic,Z=new t.Cartographic,Q=new t.Cartographic;k.computeRhumbLineSubdivision=function(e,n,s,u){u=i.defaultValue(u,r.CesiumMath.RADIANS_PER_DEGREE);const l=s.slice(0);let c;const f=n.length,d=new Array(3*f);let p=0;for(c=0;c<f;c++){const e=n[c];d[p++]=e.x,d[p++]=e.y,d[p++]=e.z}const h=[],m={},_=e.maximumRadius,y=r.CesiumMath.chordLength(u,_),g=new a.EllipsoidRhumbLine(void 0,void 0,e),C=new a.EllipsoidRhumbLine(void 0,void 0,e),b=new a.EllipsoidRhumbLine(void 0,void 0,e);for(;l.length>0;){const n=l.pop(),r=l.pop(),a=l.pop(),o=t.Cartesian3.fromArray(d,3*a,V),s=t.Cartesian3.fromArray(d,3*r,z),u=t.Cartesian3.fromArray(d,3*n,j),f=e.cartesianToCartographic(o,Y),p=e.cartesianToCartographic(s,X),_=e.cartesianToCartographic(u,Z);g.setEndPoints(f,p);const A=g.surfaceDistance;C.setEndPoints(p,_);const E=C.surfaceDistance;b.setEndPoints(_,f);const w=b.surfaceDistance,T=Math.max(A,E,w);let x,v,R,O;T>y?A===T?(x=`${Math.min(a,r)} ${Math.max(a,r)}`,c=m[x],i.defined(c)||(v=g.interpolateUsingFraction(.5,Q),R=.5*(f.height+p.height),O=t.Cartesian3.fromRadians(v.longitude,v.latitude,R,e,K),d.push(O.x,O.y,O.z),c=d.length/3-1,m[x]=c),l.push(a,c,n),l.push(c,r,n)):E===T?(x=`${Math.min(r,n)} ${Math.max(r,n)}`,c=m[x],i.defined(c)||(v=C.interpolateUsingFraction(.5,Q),R=.5*(p.height+_.height),O=t.Cartesian3.fromRadians(v.longitude,v.latitude,R,e,K),d.push(O.x,O.y,O.z),c=d.length/3-1,m[x]=c),l.push(r,c,a),l.push(c,n,a)):w===T&&(x=`${Math.min(n,a)} ${Math.max(n,a)}`,c=m[x],i.defined(c)||(v=b.interpolateUsingFraction(.5,Q),R=.5*(_.height+f.height),O=t.Cartesian3.fromRadians(v.longitude,v.latitude,R,e,K),d.push(O.x,O.y,O.z),c=d.length/3-1,m[x]=c),l.push(n,c,r),l.push(c,a,r)):(h.push(a),h.push(r),h.push(n))}return new o.Geometry({attributes:{position:new o.GeometryAttribute({componentDatatype:r.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:d})},indices:h,primitiveType:o.PrimitiveType.TRIANGLES})},k.scaleToGeodeticHeight=function(e,n,r,a){r=i.defaultValue(r,t.Ellipsoid.WGS84);let o=B,s=U;if(n=i.defaultValue(n,0),a=i.defaultValue(a,!0),i.defined(e)){const i=e.length;for(let u=0;u<i;u+=3)t.Cartesian3.fromArray(e,u,s),a&&(s=r.scaleToGeodeticSurface(s,s)),0!==n&&(o=r.geodeticSurfaceNormal(s,o),t.Cartesian3.multiplyByScalar(o,n,o),t.Cartesian3.add(s,o,s)),e[u]=s.x,e[u+1]=s.y,e[u+2]=s.z}return e},e.PolygonPipeline=k,e.WindingOrder=G}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(110),i=n(111),a=n(94);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&a(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(r)return k(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return v(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var a,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(e,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var f=!0,d=0;d<u;d++)if(l(e,a+d)!==l(t,d)){f=!1;break}if(f)return a}return-1}function C(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function b(e,t,n,r){return z(k(t,e.length-n),e,n,r)}function A(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return A(e,t,n,r)}function w(e,t,n,r){return z(V(t),e,n,r)}function T(e,t,n,r){return z(function(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function v(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a,o,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)>127&&(c=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?v(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(l[f]!==c[f]){a=l[f],o=c[f];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return C(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return A(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=t;a<n;++a)i+=U(e[a]);return i}function S(e,t,n){for(var r=e.slice(t,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-n,2);i<a;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-n,4);i<a;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,a){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,a){return a||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function G(e,t,n,r,a){return a||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&e;++a<n&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<n&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return G(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return G(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,a=r-n;if(this===e&&n<t&&t<r)for(i=a-1;i>=0;--i)e[i+t]=this[i+n];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var o=u.isBuffer(e)?e:k(new u(e,r).toString()),s=o.length;for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function k(e,t){var n;t=t||1/0;for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function V(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(21))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(u=l,l=[];++f<t;)u&&u[f].run();f=-1,t=l.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){var r;void 0===(r=function(e){"use strict";var t=Object.freeze({NONE:0,GEODESIC:1,RHUMB:2});e.ArcType=t}.apply(t,[t]))||(e.exports=r)},function(e,t,n){var r,i;r=[t,n(0),n(1),n(2)],void 0===(i=function(e,t,n,r){"use strict";e.GeometryInstance=function(e){e=t.defaultValue(e,t.defaultValue.EMPTY_OBJECT),this.geometry=e.geometry,this.modelMatrix=r.Matrix4.clone(t.defaultValue(e.modelMatrix,r.Matrix4.IDENTITY)),this.id=e.id,this.pickPrimitive=e.pickPrimitive,this.attributes=t.defaultValue(e.attributes,{}),this.westHemisphereGeometry=void 0,this.eastHemisphereGeometry=void 0}}.apply(t,r))||(e.exports=i)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){var r,i;r=[t,n(4),n(2),n(1),n(0),n(18),n(3),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s){"use strict";function u(e,t){this.center=n.Cartesian3.clone(i.defaultValue(e,n.Cartesian3.ZERO)),this.halfAxes=n.Matrix3.clone(i.defaultValue(t,n.Matrix3.ZERO))}u.packedLength=n.Cartesian3.packedLength+n.Matrix3.packedLength,u.pack=function(e,t,r){return r=i.defaultValue(r,0),n.Cartesian3.pack(e.center,t,r),n.Matrix3.pack(e.halfAxes,t,r+n.Cartesian3.packedLength),t},u.unpack=function(e,t,r){return t=i.defaultValue(t,0),i.defined(r)||(r=new u),n.Cartesian3.unpack(e,t,r.center),n.Matrix3.unpack(e,t+n.Cartesian3.packedLength,r.halfAxes),r};const l=new n.Cartesian3,c=new n.Cartesian3,f=new n.Cartesian3,d=new n.Cartesian3,p=new n.Cartesian3,h=new n.Cartesian3,m=new n.Matrix3,_={unitary:new n.Matrix3,diagonal:new n.Matrix3};u.fromPoints=function(e,t){if(i.defined(t)||(t=new u),!i.defined(e)||0===e.length)return t.halfAxes=n.Matrix3.ZERO,t.center=n.Cartesian3.ZERO,t;let r;const a=e.length,o=n.Cartesian3.clone(e[0],l);for(r=1;r<a;r++)n.Cartesian3.add(o,e[r],o);const s=1/a;n.Cartesian3.multiplyByScalar(o,s,o);let y,g=0,C=0,b=0,A=0,E=0,w=0;for(r=0;r<a;r++)y=n.Cartesian3.subtract(e[r],o,c),g+=y.x*y.x,C+=y.x*y.y,b+=y.x*y.z,A+=y.y*y.y,E+=y.y*y.z,w+=y.z*y.z;g*=s,C*=s,b*=s,A*=s,E*=s,w*=s;const T=m;T[0]=g,T[1]=C,T[2]=b,T[3]=C,T[4]=A,T[5]=E,T[6]=b,T[7]=E,T[8]=w;const x=n.Matrix3.computeEigenDecomposition(T,_),v=n.Matrix3.clone(x.unitary,t.halfAxes);let R=n.Matrix3.getColumn(v,0,d),O=n.Matrix3.getColumn(v,1,p),M=n.Matrix3.getColumn(v,2,h),S=-Number.MAX_VALUE,I=-Number.MAX_VALUE,P=-Number.MAX_VALUE,N=Number.MAX_VALUE,L=Number.MAX_VALUE,D=Number.MAX_VALUE;for(r=0;r<a;r++)y=e[r],S=Math.max(n.Cartesian3.dot(R,y),S),I=Math.max(n.Cartesian3.dot(O,y),I),P=Math.max(n.Cartesian3.dot(M,y),P),N=Math.min(n.Cartesian3.dot(R,y),N),L=Math.min(n.Cartesian3.dot(O,y),L),D=Math.min(n.Cartesian3.dot(M,y),D);R=n.Cartesian3.multiplyByScalar(R,.5*(N+S),R),O=n.Cartesian3.multiplyByScalar(O,.5*(L+I),O),M=n.Cartesian3.multiplyByScalar(M,.5*(D+P),M);const F=n.Cartesian3.add(R,O,t.center);n.Cartesian3.add(F,M,F);const G=f;return G.x=S-N,G.y=I-L,G.z=P-D,n.Cartesian3.multiplyByScalar(G,.5,G),n.Matrix3.multiplyByScale(t.halfAxes,G,t.halfAxes),t};const y=new n.Cartesian3,g=new n.Cartesian3;function C(e,t,r,a,o,s,l,c,f,d,p){i.defined(p)||(p=new u);const h=p.halfAxes;n.Matrix3.setColumn(h,0,t,h),n.Matrix3.setColumn(h,1,r,h),n.Matrix3.setColumn(h,2,a,h);let m=y;m.x=(o+s)/2,m.y=(l+c)/2,m.z=(f+d)/2;const _=g;_.x=(s-o)/2,_.y=(c-l)/2,_.z=(d-f)/2;const C=p.center;return m=n.Matrix3.multiplyByVector(h,m,m),n.Cartesian3.add(e,m,C),n.Matrix3.multiplyByScale(h,_,h),p}const b=new n.Cartographic,A=new n.Cartesian3,E=new n.Cartographic,w=new n.Cartographic,T=new n.Cartographic,x=new n.Cartographic,v=new n.Cartographic,R=new n.Cartesian3,O=new n.Cartesian3,M=new n.Cartesian3,S=new n.Cartesian3,I=new n.Cartesian3,P=new n.Cartesian2,N=new n.Cartesian2,L=new n.Cartesian2,D=new n.Cartesian2,F=new n.Cartesian2,G=new n.Cartesian3,B=new n.Cartesian3,U=new n.Cartesian3,k=new n.Cartesian3,V=new n.Cartesian2,z=new n.Cartesian3,j=new n.Cartesian3,H=new n.Cartesian3,q=new s.Plane(n.Cartesian3.UNIT_X,0);u.fromRectangle=function(e,t,r,u,l){let c,f,d,p,h,m,_;if(t=i.defaultValue(t,0),r=i.defaultValue(r,0),u=i.defaultValue(u,n.Ellipsoid.WGS84),e.width<=o.CesiumMath.PI){const i=n.Rectangle.center(e,b),o=u.cartographicToCartesian(i,A),y=new a.EllipsoidTangentPlane(o,u);_=y.plane;const g=i.longitude,G=e.south<0&&e.north>0?0:i.latitude,B=n.Cartographic.fromRadians(g,e.north,r,E),U=n.Cartographic.fromRadians(e.west,e.north,r,w),k=n.Cartographic.fromRadians(e.west,G,r,T),V=n.Cartographic.fromRadians(e.west,e.south,r,x),z=n.Cartographic.fromRadians(g,e.south,r,v),j=u.cartographicToCartesian(B,R);let H=u.cartographicToCartesian(U,O);const q=u.cartographicToCartesian(k,M);let W=u.cartographicToCartesian(V,S);const K=u.cartographicToCartesian(z,I),Y=y.projectPointToNearestOnPlane(j,P),X=y.projectPointToNearestOnPlane(H,N),Z=y.projectPointToNearestOnPlane(q,L),Q=y.projectPointToNearestOnPlane(W,D),$=y.projectPointToNearestOnPlane(K,F);return c=Math.min(X.x,Z.x,Q.x),f=-c,p=Math.max(X.y,Y.y),d=Math.min(Q.y,$.y),U.height=V.height=t,H=u.cartographicToCartesian(U,O),W=u.cartographicToCartesian(V,S),h=Math.min(s.Plane.getPointDistance(_,H),s.Plane.getPointDistance(_,W)),m=r,C(y.origin,y.xAxis,y.yAxis,y.zAxis,c,f,d,p,h,m,l)}const y=e.south>0,g=e.north<0,W=y?e.south:g?e.north:0,K=n.Rectangle.center(e,b).longitude,Y=n.Cartesian3.fromRadians(K,W,r,u,G);Y.z=0;const X=Math.abs(Y.x)<o.CesiumMath.EPSILON10&&Math.abs(Y.y)<o.CesiumMath.EPSILON10?n.Cartesian3.UNIT_X:n.Cartesian3.normalize(Y,B),Z=n.Cartesian3.UNIT_Z,Q=n.Cartesian3.cross(X,Z,U);_=s.Plane.fromPointNormal(Y,X,q);const $=n.Cartesian3.fromRadians(K+o.CesiumMath.PI_OVER_TWO,W,r,u,k);f=n.Cartesian3.dot(s.Plane.projectPointOntoPlane(_,$,V),Q),c=-f,p=n.Cartesian3.fromRadians(0,e.north,g?t:r,u,z).z,d=n.Cartesian3.fromRadians(0,e.south,y?t:r,u,j).z;const J=n.Cartesian3.fromRadians(e.east,W,r,u,H);return h=s.Plane.getPointDistance(_,J),m=0,C(Y,Q,Z,X,c,f,d,p,h,m,l)},u.fromTransformation=function(e,t){return i.defined(t)||(t=new u),t.center=n.Matrix4.getTranslation(e,t.center),t.halfAxes=n.Matrix4.getMatrix3(e,t.halfAxes),t.halfAxes=n.Matrix3.multiplyByScalar(t.halfAxes,.5,t.halfAxes),t},u.clone=function(e,t){if(i.defined(e))return i.defined(t)?(n.Cartesian3.clone(e.center,t.center),n.Matrix3.clone(e.halfAxes,t.halfAxes),t):new u(e.center,e.halfAxes)},u.intersectPlane=function(e,r){const i=e.center,a=r.normal,o=e.halfAxes,s=a.x,u=a.y,l=a.z,c=Math.abs(s*o[n.Matrix3.COLUMN0ROW0]+u*o[n.Matrix3.COLUMN0ROW1]+l*o[n.Matrix3.COLUMN0ROW2])+Math.abs(s*o[n.Matrix3.COLUMN1ROW0]+u*o[n.Matrix3.COLUMN1ROW1]+l*o[n.Matrix3.COLUMN1ROW2])+Math.abs(s*o[n.Matrix3.COLUMN2ROW0]+u*o[n.Matrix3.COLUMN2ROW1]+l*o[n.Matrix3.COLUMN2ROW2]),f=n.Cartesian3.dot(a,i)+r.distance;return f<=-c?t.Intersect.OUTSIDE:f>=c?t.Intersect.INSIDE:t.Intersect.INTERSECTING};const W=new n.Cartesian3,K=new n.Cartesian3,Y=new n.Cartesian3,X=new n.Cartesian3,Z=new n.Cartesian3,Q=new n.Cartesian3;u.distanceSquaredTo=function(e,t){const r=n.Cartesian3.subtract(t,e.center,y),i=e.halfAxes;let a=n.Matrix3.getColumn(i,0,W),s=n.Matrix3.getColumn(i,1,K),u=n.Matrix3.getColumn(i,2,Y);const l=n.Cartesian3.magnitude(a),c=n.Cartesian3.magnitude(s),f=n.Cartesian3.magnitude(u);let d=!0,p=!0,h=!0;l>0?n.Cartesian3.divideByScalar(a,l,a):d=!1,c>0?n.Cartesian3.divideByScalar(s,c,s):p=!1,f>0?n.Cartesian3.divideByScalar(u,f,u):h=!1;const m=!d+!p+!h;let _,g,C;if(1===m){let e=a;_=s,g=u,p?h||(e=u,g=a):(e=s,_=a),C=n.Cartesian3.cross(_,g,Z),e===a?a=C:e===s?s=C:e===u&&(u=C)}else if(2===m){_=a,p?_=s:h&&(_=u);let e=n.Cartesian3.UNIT_Y;e.equalsEpsilon(_,o.CesiumMath.EPSILON3)&&(e=n.Cartesian3.UNIT_X),g=n.Cartesian3.cross(_,e,X),n.Cartesian3.normalize(g,g),C=n.Cartesian3.cross(_,g,Z),n.Cartesian3.normalize(C,C),_===a?(s=g,u=C):_===s?(u=g,a=C):_===u&&(a=g,s=C)}else 3===m&&(a=n.Cartesian3.UNIT_X,s=n.Cartesian3.UNIT_Y,u=n.Cartesian3.UNIT_Z);const b=Q;b.x=n.Cartesian3.dot(r,a),b.y=n.Cartesian3.dot(r,s),b.z=n.Cartesian3.dot(r,u);let A,E=0;return b.x<-l?(A=b.x+l,E+=A*A):b.x>l&&(A=b.x-l,E+=A*A),b.y<-c?(A=b.y+c,E+=A*A):b.y>c&&(A=b.y-c,E+=A*A),b.z<-f?(A=b.z+f,E+=A*A):b.z>f&&(A=b.z-f,E+=A*A),E};const $=new n.Cartesian3,J=new n.Cartesian3;u.computePlaneDistances=function(e,r,a,o){i.defined(o)||(o=new t.Interval);let s=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;const l=e.center,c=e.halfAxes,f=n.Matrix3.getColumn(c,0,W),d=n.Matrix3.getColumn(c,1,K),p=n.Matrix3.getColumn(c,2,Y),h=n.Cartesian3.add(f,d,$);n.Cartesian3.add(h,p,h),n.Cartesian3.add(h,l,h);const m=n.Cartesian3.subtract(h,r,J);let _=n.Cartesian3.dot(a,m);return s=Math.min(_,s),u=Math.max(_,u),n.Cartesian3.add(l,f,h),n.Cartesian3.add(h,d,h),n.Cartesian3.subtract(h,p,h),n.Cartesian3.subtract(h,r,m),_=n.Cartesian3.dot(a,m),s=Math.min(_,s),u=Math.max(_,u),n.Cartesian3.add(l,f,h),n.Cartesian3.subtract(h,d,h),n.Cartesian3.add(h,p,h),n.Cartesian3.subtract(h,r,m),_=n.Cartesian3.dot(a,m),s=Math.min(_,s),u=Math.max(_,u),n.Cartesian3.add(l,f,h),n.Cartesian3.subtract(h,d,h),n.Cartesian3.subtract(h,p,h),n.Cartesian3.subtract(h,r,m),_=n.Cartesian3.dot(a,m),s=Math.min(_,s),u=Math.max(_,u),n.Cartesian3.subtract(l,f,h),n.Cartesian3.add(h,d,h),n.Cartesian3.add(h,p,h),n.Cartesian3.subtract(h,r,m),_=n.Cartesian3.dot(a,m),s=Math.min(_,s),u=Math.max(_,u),n.Cartesian3.subtract(l,f,h),n.Cartesian3.add(h,d,h),n.Cartesian3.subtract(h,p,h),n.Cartesian3.subtract(h,r,m),_=n.Cartesian3.dot(a,m),s=Math.min(_,s),u=Math.max(_,u),n.Cartesian3.subtract(l,f,h),n.Cartesian3.subtract(h,d,h),n.Cartesian3.add(h,p,h),n.Cartesian3.subtract(h,r,m),_=n.Cartesian3.dot(a,m),s=Math.min(_,s),u=Math.max(_,u),n.Cartesian3.subtract(l,f,h),n.Cartesian3.subtract(h,d,h),n.Cartesian3.subtract(h,p,h),n.Cartesian3.subtract(h,r,m),_=n.Cartesian3.dot(a,m),s=Math.min(_,s),u=Math.max(_,u),o.start=s,o.stop=u,o};const ee=new n.Cartesian3,te=new n.Cartesian3,ne=new n.Cartesian3;u.computeCorners=function(e,t){i.defined(t)||(t=[new n.Cartesian3,new n.Cartesian3,new n.Cartesian3,new n.Cartesian3,new n.Cartesian3,new n.Cartesian3,new n.Cartesian3,new n.Cartesian3]);const r=e.center,a=e.halfAxes,o=n.Matrix3.getColumn(a,0,ee),s=n.Matrix3.getColumn(a,1,te),u=n.Matrix3.getColumn(a,2,ne);return n.Cartesian3.clone(r,t[0]),n.Cartesian3.subtract(t[0],o,t[0]),n.Cartesian3.subtract(t[0],s,t[0]),n.Cartesian3.subtract(t[0],u,t[0]),n.Cartesian3.clone(r,t[1]),n.Cartesian3.subtract(t[1],o,t[1]),n.Cartesian3.subtract(t[1],s,t[1]),n.Cartesian3.add(t[1],u,t[1]),n.Cartesian3.clone(r,t[2]),n.Cartesian3.subtract(t[2],o,t[2]),n.Cartesian3.add(t[2],s,t[2]),n.Cartesian3.subtract(t[2],u,t[2]),n.Cartesian3.clone(r,t[3]),n.Cartesian3.subtract(t[3],o,t[3]),n.Cartesian3.add(t[3],s,t[3]),n.Cartesian3.add(t[3],u,t[3]),n.Cartesian3.clone(r,t[4]),n.Cartesian3.add(t[4],o,t[4]),n.Cartesian3.subtract(t[4],s,t[4]),n.Cartesian3.subtract(t[4],u,t[4]),n.Cartesian3.clone(r,t[5]),n.Cartesian3.add(t[5],o,t[5]),n.Cartesian3.subtract(t[5],s,t[5]),n.Cartesian3.add(t[5],u,t[5]),n.Cartesian3.clone(r,t[6]),n.Cartesian3.add(t[6],o,t[6]),n.Cartesian3.add(t[6],s,t[6]),n.Cartesian3.subtract(t[6],u,t[6]),n.Cartesian3.clone(r,t[7]),n.Cartesian3.add(t[7],o,t[7]),n.Cartesian3.add(t[7],s,t[7]),n.Cartesian3.add(t[7],u,t[7]),t};const re=new n.Matrix3;u.computeTransformation=function(e,t){i.defined(t)||(t=new n.Matrix4);const r=e.center,a=n.Matrix3.multiplyByUniformScale(e.halfAxes,2,re);return n.Matrix4.fromRotationTranslation(a,r,t)};const ie=new t.BoundingSphere;u.isOccluded=function(e,n){const r=t.BoundingSphere.fromOrientedBoundingBox(e,ie);return!n.isBoundingSphereVisible(r)},u.prototype.intersectPlane=function(e){return u.intersectPlane(this,e)},u.prototype.distanceSquaredTo=function(e){return u.distanceSquaredTo(this,e)},u.prototype.computePlaneDistances=function(e,t,n){return u.computePlaneDistances(this,e,t,n)},u.prototype.computeCorners=function(e){return u.computeCorners(this,e)},u.prototype.computeTransformation=function(e){return u.computeTransformation(this,e)},u.prototype.isOccluded=function(e){return u.isOccluded(this,e)},u.equals=function(e,t){return e===t||i.defined(e)&&i.defined(t)&&n.Cartesian3.equals(e.center,t.center)&&n.Matrix3.equals(e.halfAxes,t.halfAxes)},u.prototype.clone=function(e){return u.clone(this,e)},u.prototype.equals=function(e){return u.equals(this,e)},e.OrientedBoundingBox=u}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(0),n(1),n(3)],void 0===(i=function(e,t,n,r,i){"use strict";function a(e){this._ellipsoid=n.defaultValue(e,t.Ellipsoid.WGS84),this._semimajorAxis=this._ellipsoid.maximumRadius,this._oneOverSemimajorAxis=1/this._semimajorAxis}Object.defineProperties(a.prototype,{ellipsoid:{get:function(){return this._ellipsoid}}}),a.mercatorAngleToGeodeticLatitude=function(e){return i.CesiumMath.PI_OVER_TWO-2*Math.atan(Math.exp(-e))},a.geodeticLatitudeToMercatorAngle=function(e){e>a.MaximumLatitude?e=a.MaximumLatitude:e<-a.MaximumLatitude&&(e=-a.MaximumLatitude);const t=Math.sin(e);return.5*Math.log((1+t)/(1-t))},a.MaximumLatitude=a.mercatorAngleToGeodeticLatitude(Math.PI),a.prototype.project=function(e,r){const i=this._semimajorAxis,o=e.longitude*i,s=a.geodeticLatitudeToMercatorAngle(e.latitude)*i,u=e.height;return n.defined(r)?(r.x=o,r.y=s,r.z=u,r):new t.Cartesian3(o,s,u)},a.prototype.unproject=function(e,r){const i=this._oneOverSemimajorAxis,o=e.x*i,s=a.mercatorAngleToGeodeticLatitude(e.y*i),u=e.z;return n.defined(r)?(r.longitude=o,r.latitude=s,r.height=u,r):new t.Cartographic(o,s,u)},e.WebMercatorProjection=a}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=n(44),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=f;var a=Object.create(n(38));a.inherits=n(31);var o=n(98),s=n(50);a.inherits(f,o);for(var u=i(s.prototype),l=0;l<u.length;l++){var c=u[l];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),f.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){var r,i;r=[t,n(2),n(3),n(4)],void 0===(i=function(e,t,n,r){"use strict";const i={},a=new t.Cartesian3,o=new t.Cartesian3,s=new r.Quaternion,u=new t.Matrix3;function l(e,n,i,l,c,f,d,p,h,m){const _=e+n;t.Cartesian3.multiplyByScalar(l,Math.cos(_),a),t.Cartesian3.multiplyByScalar(i,Math.sin(_),o),t.Cartesian3.add(a,o,a);let y=Math.cos(e);y*=y;let g=Math.sin(e);g*=g;const C=f/Math.sqrt(d*y+c*g)/p;return r.Quaternion.fromAxisAngle(a,C,s),t.Matrix3.fromQuaternion(s,u),t.Matrix3.multiplyByVector(u,h,m),t.Cartesian3.normalize(m,m),t.Cartesian3.multiplyByScalar(m,p,m),m}const c=new t.Cartesian3,f=new t.Cartesian3,d=new t.Cartesian3,p=new t.Cartesian3;i.raisePositionsToHeight=function(e,n,r){const i=n.ellipsoid,a=n.height,o=n.extrudedHeight,s=r?e.length/3*2:e.length/3,u=new Float64Array(3*s),l=e.length,h=r?l:0;for(let n=0;n<l;n+=3){const s=n+1,l=n+2,m=t.Cartesian3.fromArray(e,n,c);i.scaleToGeodeticSurface(m,m);const _=t.Cartesian3.clone(m,f),y=i.geodeticSurfaceNormal(m,p),g=t.Cartesian3.multiplyByScalar(y,a,d);t.Cartesian3.add(m,g,m),r&&(t.Cartesian3.multiplyByScalar(y,o,g),t.Cartesian3.add(_,g,_),u[n+h]=_.x,u[s+h]=_.y,u[l+h]=_.z),u[n]=m.x,u[s]=m.y,u[l]=m.z}return u};const h=new t.Cartesian3,m=new t.Cartesian3,_=new t.Cartesian3;i.computeEllipsePositions=function(e,r,i){const a=e.semiMinorAxis,o=e.semiMajorAxis,s=e.rotation,u=e.center,p=8*e.granularity,y=a*a,g=o*o,C=o*a,b=t.Cartesian3.magnitude(u),A=t.Cartesian3.normalize(u,h);let E=t.Cartesian3.cross(t.Cartesian3.UNIT_Z,u,m);E=t.Cartesian3.normalize(E,E);const w=t.Cartesian3.cross(A,E,_);let T=1+Math.ceil(n.CesiumMath.PI_OVER_TWO/p);const x=n.CesiumMath.PI_OVER_TWO/(T-1);let v=n.CesiumMath.PI_OVER_TWO-T*x;v<0&&(T-=Math.ceil(Math.abs(v)/x));const R=r?new Array(3*(T*(T+2)*2)):void 0;let O=0,M=c,S=f;const I=4*T*3;let P=I-1,N=0;const L=i?new Array(I):void 0;let D,F,G,B,U;for(v=n.CesiumMath.PI_OVER_TWO,M=l(v,s,w,E,y,C,g,b,A,M),r&&(R[O++]=M.x,R[O++]=M.y,R[O++]=M.z),i&&(L[P--]=M.z,L[P--]=M.y,L[P--]=M.x),v=n.CesiumMath.PI_OVER_TWO-x,D=1;D<T+1;++D){if(M=l(v,s,w,E,y,C,g,b,A,M),S=l(Math.PI-v,s,w,E,y,C,g,b,A,S),r){for(R[O++]=M.x,R[O++]=M.y,R[O++]=M.z,G=2*D+2,F=1;F<G-1;++F)B=F/(G-1),U=t.Cartesian3.lerp(M,S,B,d),R[O++]=U.x,R[O++]=U.y,R[O++]=U.z;R[O++]=S.x,R[O++]=S.y,R[O++]=S.z}i&&(L[P--]=M.z,L[P--]=M.y,L[P--]=M.x,L[N++]=S.x,L[N++]=S.y,L[N++]=S.z),v=n.CesiumMath.PI_OVER_TWO-(D+1)*x}for(D=T;D>1;--D){if(v=n.CesiumMath.PI_OVER_TWO-(D-1)*x,M=l(-v,s,w,E,y,C,g,b,A,M),S=l(v+Math.PI,s,w,E,y,C,g,b,A,S),r){for(R[O++]=M.x,R[O++]=M.y,R[O++]=M.z,G=2*(D-1)+2,F=1;F<G-1;++F)B=F/(G-1),U=t.Cartesian3.lerp(M,S,B,d),R[O++]=U.x,R[O++]=U.y,R[O++]=U.z;R[O++]=S.x,R[O++]=S.y,R[O++]=S.z}i&&(L[P--]=M.z,L[P--]=M.y,L[P--]=M.x,L[N++]=S.x,L[N++]=S.y,L[N++]=S.z)}v=n.CesiumMath.PI_OVER_TWO,M=l(-v,s,w,E,y,C,g,b,A,M);const k={};return r&&(R[O++]=M.x,R[O++]=M.y,R[O++]=M.z,k.positions=R,k.numPts=T),i&&(L[P--]=M.z,L[P--]=M.y,L[P--]=M.x,k.outerPositions=L),k},e.EllipseGeometryLibrary=i}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(18),n(3),n(24),n(4),n(0),n(1)],void 0===(i=function(e,t,n,r,i,a,o,s){"use strict";var u=Object.freeze({ROUNDED:0,MITERED:1,BEVELED:2});const l={};function c(e,t){o.defined(l[e])||(l[e]=!0,console.warn(o.defaultValue(t,e)))}c.geometryOutlines="Entity geometry outlines are unsupported on terrain. Outlines will be disabled. To enable outlines, disable geometry terrain clamping by explicitly setting height to 0.",c.geometryZIndex="Entity geometry with zIndex are unsupported when height or extrudedHeight are defined.  zIndex will be ignored",c.geometryHeightReference="Entity corridor, ellipse, polygon or rectangle with heightReference must also have a defined height.  heightReference will be ignored",c.geometryExtrudedHeightReference="Entity corridor, ellipse, polygon or rectangle with extrudedHeightReference must also have a defined extrudedHeight.  extrudedHeightReference will be ignored";const f=[new t.Cartesian3,new t.Cartesian3],d=new t.Cartesian3,p=new t.Cartesian3,h=new t.Cartesian3,m=new t.Cartesian3,_=new t.Cartesian3,y=new t.Cartesian3,g=new t.Cartesian3,C=new t.Cartesian3,b=new t.Cartesian3,A=new t.Cartesian3,E=new t.Cartesian3,w={};let T=new t.Cartographic;function x(e,n,r,i){const a=e[0],o=e[1],s=t.Cartesian3.angleBetween(a,o),u=Math.ceil(s/i),l=new Array(u);let c;if(n===r){for(c=0;c<u;c++)l[c]=n;return l.push(r),l}const f=(r-n)/u;for(c=1;c<u;c++){const e=n+c*f;l[c]=e}return l[0]=n,l.push(r),l}const v=new t.Cartesian3,R=new t.Cartesian3;const O=new t.Cartesian3(-1,0,0);let M=new t.Matrix4;const S=new t.Matrix4;let I=new t.Matrix3;const P=t.Matrix3.IDENTITY.clone(),N=new t.Cartesian3,L=new t.Cartesian4,D=new t.Cartesian3;function F(e,r,i,o,s,u,l,c){let f=N,d=L;M=a.Transforms.eastNorthUpToFixedFrame(e,s,M),f=t.Matrix4.multiplyByPointAsVector(M,O,f),f=t.Cartesian3.normalize(f,f);const p=function(e,r,i,a){const o=new n.EllipsoidTangentPlane(i,a),s=o.projectPointOntoPlane(t.Cartesian3.add(i,e,v),v),u=o.projectPointOntoPlane(t.Cartesian3.add(i,r,R),R),l=t.Cartesian2.angleBetween(s,u);return u.x*s.y-u.y*s.x>=0?-l:l}(f,r,e,s);I=t.Matrix3.fromRotationZ(p,I),D.z=u,M=t.Matrix4.multiplyTransformation(M,t.Matrix4.fromRotationTranslation(I,D,S),M);const h=P;h[0]=l;for(let e=0;e<c;e++)for(let e=0;e<i.length;e+=3)d=t.Cartesian3.fromArray(i,e,d),d=t.Matrix3.multiplyByVector(h,d,d),d=t.Matrix4.multiplyByPoint(M,d,d),o.push(d.x,d.y,d.z);return o}const G=new t.Cartesian3;function B(e,n,r,i,a,o,s){for(let u=0;u<e.length;u+=3){i=F(t.Cartesian3.fromArray(e,u,G),n,r,i,a,o[u/3],s,1)}return i}function U(e,t){const n=e.length,r=new Array(3*n);let i=0;const a=t.x+t.width/2,o=t.y+t.height/2;for(let t=0;t<n;t++)r[i++]=e[t].x-a,r[i++]=0,r[i++]=e[t].y-o;return r}const k=new a.Quaternion,V=new t.Cartesian3,z=new t.Matrix3;function j(e,n,i,o,s,l,c,f,d,p){const h=t.Cartesian3.angleBetween(t.Cartesian3.subtract(n,e,A),t.Cartesian3.subtract(i,e,E)),m=o===u.BEVELED?0:Math.ceil(h/r.CesiumMath.toRadians(5));let _,y,g;if(_=s?t.Matrix3.fromQuaternion(a.Quaternion.fromAxisAngle(t.Cartesian3.negate(e,A),h/(m+1),k),z):t.Matrix3.fromQuaternion(a.Quaternion.fromAxisAngle(e,h/(m+1),k),z),n=t.Cartesian3.clone(n,V),m>0){const r=p?2:1;for(let i=0;i<m;i++)n=t.Matrix3.multiplyByVector(_,n,n),y=t.Cartesian3.subtract(n,e,A),y=t.Cartesian3.normalize(y,y),s||(y=t.Cartesian3.negate(y,y)),g=l.scaleToGeodeticSurface(n,E),c=F(g,y,f,c,l,d,1,r)}else y=t.Cartesian3.subtract(n,e,A),y=t.Cartesian3.normalize(y,y),s||(y=t.Cartesian3.negate(y,y)),g=l.scaleToGeodeticSurface(n,E),c=F(g,y,f,c,l,d,1,1),i=t.Cartesian3.clone(i,V),y=t.Cartesian3.subtract(i,e,A),y=t.Cartesian3.normalize(y,y),s||(y=t.Cartesian3.negate(y,y)),g=l.scaleToGeodeticSurface(i,E),c=F(g,y,f,c,l,d,1,1);return c}w.removeDuplicatesFromShape=function(e){const n=e.length,r=[];for(let i=n-1,a=0;a<n;i=a++){const n=e[i],o=e[a];t.Cartesian2.equals(n,o)||r.push(o)}return r},w.angleIsGreaterThanPi=function(e,r,i,a){const o=new n.EllipsoidTangentPlane(i,a),s=o.projectPointOntoPlane(t.Cartesian3.add(i,e,v),v),u=o.projectPointOntoPlane(t.Cartesian3.add(i,r,R),R);return u.x*s.y-u.y*s.x>=0};const H=new t.Cartesian3,q=new t.Cartesian3;w.computePositions=function(e,n,a,o,s){const l=o._ellipsoid,E=function(e,t){const n=new Array(e.length);for(let r=0;r<e.length;r++){const i=e[r];T=t.cartesianToCartographic(i,T),n[r]=T.height,e[r]=t.scaleToGeodeticSurface(i,i)}return n}(e,l),v=o._granularity,R=o._cornerType,O=s?function(e,t){const n=e.length,r=new Array(6*n);let i=0;const a=t.x+t.width/2,o=t.y+t.height/2;let s=e[0];r[i++]=s.x-a,r[i++]=0,r[i++]=s.y-o;for(let t=1;t<n;t++){s=e[t];const n=s.x-a,u=s.y-o;r[i++]=n,r[i++]=0,r[i++]=u,r[i++]=n,r[i++]=0,r[i++]=u}return s=e[0],r[i++]=s.x-a,r[i++]=0,r[i++]=s.y-o,r}(n,a):U(n,a),M=s?U(n,a):void 0,S=a.height/2,I=a.width/2;let P=e.length,N=[],L=s?[]:void 0,D=d,G=p,k=h,V=m,z=_,W=y,K=g,Y=C,X=b,Z=e[0],Q=e[1];V=l.geodeticSurfaceNormal(Z,V),D=t.Cartesian3.subtract(Q,Z,D),D=t.Cartesian3.normalize(D,D),Y=t.Cartesian3.cross(V,D,Y),Y=t.Cartesian3.normalize(Y,Y);let $,J,ee=E[0],te=E[1];s&&(L=F(Z,Y,M,L,l,ee+S,1,1)),X=t.Cartesian3.clone(Z,X),Z=Q,G=t.Cartesian3.negate(D,G);for(let n=1;n<P-1;n++){const a=s?2:1;if(Q=e[n+1],Z.equals(Q)){c("Positions are too close and are considered equivalent with rounding error.");continue}D=t.Cartesian3.subtract(Q,Z,D),D=t.Cartesian3.normalize(D,D),k=t.Cartesian3.add(D,G,k),k=t.Cartesian3.normalize(k,k),V=l.geodeticSurfaceNormal(Z,V);const o=t.Cartesian3.multiplyByScalar(V,t.Cartesian3.dot(D,V),H);t.Cartesian3.subtract(D,o,o),t.Cartesian3.normalize(o,o);const d=t.Cartesian3.multiplyByScalar(V,t.Cartesian3.dot(G,V),q);t.Cartesian3.subtract(G,d,d),t.Cartesian3.normalize(d,d);if(!r.CesiumMath.equalsEpsilon(Math.abs(t.Cartesian3.dot(o,d)),1,r.CesiumMath.EPSILON7)){k=t.Cartesian3.cross(k,V,k),k=t.Cartesian3.cross(V,k,k),k=t.Cartesian3.normalize(k,k);const e=1/Math.max(.25,t.Cartesian3.magnitude(t.Cartesian3.cross(k,G,A))),n=w.angleIsGreaterThanPi(D,G,Z,l);n?(z=t.Cartesian3.add(Z,t.Cartesian3.multiplyByScalar(k,e*I,k),z),W=t.Cartesian3.add(z,t.Cartesian3.multiplyByScalar(Y,I,W),W),f[0]=t.Cartesian3.clone(X,f[0]),f[1]=t.Cartesian3.clone(W,f[1]),$=x(f,ee+S,te+S,v),J=i.PolylinePipeline.generateArc({positions:f,granularity:v,ellipsoid:l}),N=B(J,Y,O,N,l,$,1),Y=t.Cartesian3.cross(V,D,Y),Y=t.Cartesian3.normalize(Y,Y),K=t.Cartesian3.add(z,t.Cartesian3.multiplyByScalar(Y,I,K),K),R===u.ROUNDED||R===u.BEVELED?j(z,W,K,R,n,l,N,O,te+S,s):(k=t.Cartesian3.negate(k,k),N=F(Z,k,O,N,l,te+S,e,a)),X=t.Cartesian3.clone(K,X)):(z=t.Cartesian3.add(Z,t.Cartesian3.multiplyByScalar(k,e*I,k),z),W=t.Cartesian3.add(z,t.Cartesian3.multiplyByScalar(Y,-I,W),W),f[0]=t.Cartesian3.clone(X,f[0]),f[1]=t.Cartesian3.clone(W,f[1]),$=x(f,ee+S,te+S,v),J=i.PolylinePipeline.generateArc({positions:f,granularity:v,ellipsoid:l}),N=B(J,Y,O,N,l,$,1),Y=t.Cartesian3.cross(V,D,Y),Y=t.Cartesian3.normalize(Y,Y),K=t.Cartesian3.add(z,t.Cartesian3.multiplyByScalar(Y,-I,K),K),R===u.ROUNDED||R===u.BEVELED?j(z,W,K,R,n,l,N,O,te+S,s):N=F(Z,k,O,N,l,te+S,e,a),X=t.Cartesian3.clone(K,X)),G=t.Cartesian3.negate(D,G)}else N=F(X,Y,O,N,l,ee+S,1,1),X=Z;ee=te,te=E[n+1],Z=Q}f[0]=t.Cartesian3.clone(X,f[0]),f[1]=t.Cartesian3.clone(Z,f[1]),$=x(f,ee+S,te+S,v),J=i.PolylinePipeline.generateArc({positions:f,granularity:v,ellipsoid:l}),N=B(J,Y,O,N,l,$,1),s&&(L=F(Z,Y,M,L,l,te+S,1,1)),P=N.length;const ne=s?P+L.length:P,re=new Float64Array(ne);return re.set(N),s&&re.set(L,P),re},e.CornerType=u,e.PolylineVolumeGeometryLibrary=w,e.oneTimeWarning=c}.apply(t,r))||(e.exports=i)},function(e,t,n){(t=e.exports=n(98)).Stream=t,t.Readable=t,t.Writable=n(50),t.Duplex=n(34),t.Transform=n(102),t.PassThrough=n(127)},function(e,t,n){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(27).Buffer.isBuffer},function(e,t,n){var r,i;r=[t,n(2),n(1),n(0),n(4)],void 0===(i=function(e,t,n,r,i){"use strict";function a(e,t,n,i){this.x=r.defaultValue(e,0),this.y=r.defaultValue(t,0),this.width=r.defaultValue(n,0),this.height=r.defaultValue(i,0)}a.packedLength=4,a.pack=function(e,t,n){return n=r.defaultValue(n,0),t[n++]=e.x,t[n++]=e.y,t[n++]=e.width,t[n]=e.height,t},a.unpack=function(e,t,n){return t=r.defaultValue(t,0),r.defined(n)||(n=new a),n.x=e[t++],n.y=e[t++],n.width=e[t++],n.height=e[t],n},a.fromPoints=function(e,t){if(r.defined(t)||(t=new a),!r.defined(e)||0===e.length)return t.x=0,t.y=0,t.width=0,t.height=0,t;const n=e.length;let i=e[0].x,o=e[0].y,s=e[0].x,u=e[0].y;for(let t=1;t<n;t++){const n=e[t],r=n.x,a=n.y;i=Math.min(r,i),s=Math.max(r,s),o=Math.min(a,o),u=Math.max(a,u)}return t.x=i,t.y=o,t.width=s-i,t.height=u-o,t};const o=new i.GeographicProjection,s=new t.Cartographic,u=new t.Cartographic;a.fromRectangle=function(e,n,i){if(r.defined(i)||(i=new a),!r.defined(e))return i.x=0,i.y=0,i.width=0,i.height=0,i;const l=(n=r.defaultValue(n,o)).project(t.Rectangle.southwest(e,s)),c=n.project(t.Rectangle.northeast(e,u));return t.Cartesian2.subtract(c,l,c),i.x=l.x,i.y=l.y,i.width=c.x,i.height=c.y,i},a.clone=function(e,t){if(r.defined(e))return r.defined(t)?(t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,t):new a(e.x,e.y,e.width,e.height)},a.union=function(e,t,n){r.defined(n)||(n=new a);const i=Math.min(e.x,t.x),o=Math.min(e.y,t.y),s=Math.max(e.x+e.width,t.x+t.width),u=Math.max(e.y+e.height,t.y+t.height);return n.x=i,n.y=o,n.width=s-i,n.height=u-o,n},a.expand=function(e,t,n){n=a.clone(e,n);const r=t.x-n.x,i=t.y-n.y;return r>n.width?n.width=r:r<0&&(n.width-=r,n.x=t.x),i>n.height?n.height=i:i<0&&(n.height-=i,n.y=t.y),n},a.intersect=function(e,t){const n=e.x,r=e.y,a=t.x,o=t.y;return n>a+t.width||n+e.width<a||r+e.height<o||r>o+t.height?i.Intersect.OUTSIDE:i.Intersect.INTERSECTING},a.equals=function(e,t){return e===t||r.defined(e)&&r.defined(t)&&e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.intersect=function(e){return a.intersect(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},e.BoundingRectangle=a}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(1),n(0),n(4),n(3)],void 0===(i=function(e,t,n,r,i){"use strict";function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),6*n<1?e+6*(t-e)*n:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function o(e,t,r,i){this.red=n.defaultValue(e,1),this.green=n.defaultValue(t,1),this.blue=n.defaultValue(r,1),this.alpha=n.defaultValue(i,1)}let s,u,l;o.fromCartesian4=function(e,t){return n.defined(t)?(t.red=e.x,t.green=e.y,t.blue=e.z,t.alpha=e.w,t):new o(e.x,e.y,e.z,e.w)},o.fromBytes=function(e,t,r,i,a){return e=o.byteToFloat(n.defaultValue(e,255)),t=o.byteToFloat(n.defaultValue(t,255)),r=o.byteToFloat(n.defaultValue(r,255)),i=o.byteToFloat(n.defaultValue(i,255)),n.defined(a)?(a.red=e,a.green=t,a.blue=r,a.alpha=i,a):new o(e,t,r,i)},o.fromAlpha=function(e,t,r){return n.defined(r)?(r.red=e.red,r.green=e.green,r.blue=e.blue,r.alpha=t,r):new o(e.red,e.green,e.blue,t)},r.FeatureDetection.supportsTypedArrays()&&(s=new ArrayBuffer(4),u=new Uint32Array(s),l=new Uint8Array(s)),o.fromRgba=function(e,t){return u[0]=e,o.fromBytes(l[0],l[1],l[2],l[3],t)},o.fromHsl=function(e,t,r,i,s){e=n.defaultValue(e,0)%1,t=n.defaultValue(t,0),r=n.defaultValue(r,0),i=n.defaultValue(i,1);let u=r,l=r,c=r;if(0!==t){let n;n=r<.5?r*(1+t):r+t-r*t;const i=2*r-n;u=a(i,n,e+1/3),l=a(i,n,e),c=a(i,n,e-1/3)}return n.defined(s)?(s.red=u,s.green=l,s.blue=c,s.alpha=i,s):new o(u,l,c,i)},o.fromRandom=function(e,t){let r=(e=n.defaultValue(e,n.defaultValue.EMPTY_OBJECT)).red;if(!n.defined(r)){const t=n.defaultValue(e.minimumRed,0),a=n.defaultValue(e.maximumRed,1);r=t+i.CesiumMath.nextRandomNumber()*(a-t)}let a=e.green;if(!n.defined(a)){const t=n.defaultValue(e.minimumGreen,0),r=n.defaultValue(e.maximumGreen,1);a=t+i.CesiumMath.nextRandomNumber()*(r-t)}let s=e.blue;if(!n.defined(s)){const t=n.defaultValue(e.minimumBlue,0),r=n.defaultValue(e.maximumBlue,1);s=t+i.CesiumMath.nextRandomNumber()*(r-t)}let u=e.alpha;if(!n.defined(u)){const t=n.defaultValue(e.minimumAlpha,0),r=n.defaultValue(e.maximumAlpha,1);u=t+i.CesiumMath.nextRandomNumber()*(r-t)}return n.defined(t)?(t.red=r,t.green=a,t.blue=s,t.alpha=u,t):new o(r,a,s,u)};const c=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,f=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,d=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,p=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i;o.fromCssColorString=function(e,t){n.defined(t)||(t=new o);const r=o[(e=e.replace(/\s/g,"")).toUpperCase()];if(n.defined(r))return o.clone(r,t),t;let i=c.exec(e);return null!==i?(t.red=parseInt(i[1],16)/15,t.green=parseInt(i[2],16)/15,t.blue=parseInt(i[3],16)/15,t.alpha=parseInt(n.defaultValue(i[4],"f"),16)/15,t):(i=f.exec(e),null!==i?(t.red=parseInt(i[1],16)/255,t.green=parseInt(i[2],16)/255,t.blue=parseInt(i[3],16)/255,t.alpha=parseInt(n.defaultValue(i[4],"ff"),16)/255,t):(i=d.exec(e),null!==i?(t.red=parseFloat(i[1])/("%"===i[1].substr(-1)?100:255),t.green=parseFloat(i[2])/("%"===i[2].substr(-1)?100:255),t.blue=parseFloat(i[3])/("%"===i[3].substr(-1)?100:255),t.alpha=parseFloat(n.defaultValue(i[4],"1.0")),t):(i=p.exec(e),null!==i?o.fromHsl(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(n.defaultValue(i[4],"1.0")),t):t=void 0)))},o.packedLength=4,o.pack=function(e,t,r){return r=n.defaultValue(r,0),t[r++]=e.red,t[r++]=e.green,t[r++]=e.blue,t[r]=e.alpha,t},o.unpack=function(e,t,r){return t=n.defaultValue(t,0),n.defined(r)||(r=new o),r.red=e[t++],r.green=e[t++],r.blue=e[t++],r.alpha=e[t],r},o.byteToFloat=function(e){return e/255},o.floatToByte=function(e){return 1===e?255:256*e|0},o.clone=function(e,t){if(n.defined(e))return n.defined(t)?(t.red=e.red,t.green=e.green,t.blue=e.blue,t.alpha=e.alpha,t):new o(e.red,e.green,e.blue,e.alpha)},o.equals=function(e,t){return e===t||n.defined(e)&&n.defined(t)&&e.red===t.red&&e.green===t.green&&e.blue===t.blue&&e.alpha===t.alpha},o.equalsArray=function(e,t,n){return e.red===t[n]&&e.green===t[n+1]&&e.blue===t[n+2]&&e.alpha===t[n+3]},o.prototype.clone=function(e){return o.clone(this,e)},o.prototype.equals=function(e){return o.equals(this,e)},o.prototype.equalsEpsilon=function(e,t){return this===e||n.defined(e)&&Math.abs(this.red-e.red)<=t&&Math.abs(this.green-e.green)<=t&&Math.abs(this.blue-e.blue)<=t&&Math.abs(this.alpha-e.alpha)<=t},o.prototype.toString=function(){return`(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`},o.prototype.toCssColorString=function(){const e=o.floatToByte(this.red),t=o.floatToByte(this.green),n=o.floatToByte(this.blue);return 1===this.alpha?`rgb(${e},${t},${n})`:`rgba(${e},${t},${n},${this.alpha})`},o.prototype.toCssHexString=function(){let e=o.floatToByte(this.red).toString(16);e.length<2&&(e="0"+e);let t=o.floatToByte(this.green).toString(16);t.length<2&&(t="0"+t);let n=o.floatToByte(this.blue).toString(16);if(n.length<2&&(n="0"+n),this.alpha<1){let r=o.floatToByte(this.alpha).toString(16);return r.length<2&&(r="0"+r),`#${e}${t}${n}${r}`}return`#${e}${t}${n}`},o.prototype.toBytes=function(e){const t=o.floatToByte(this.red),r=o.floatToByte(this.green),i=o.floatToByte(this.blue),a=o.floatToByte(this.alpha);return n.defined(e)?(e[0]=t,e[1]=r,e[2]=i,e[3]=a,e):[t,r,i,a]},o.prototype.toRgba=function(){return l[0]=o.floatToByte(this.red),l[1]=o.floatToByte(this.green),l[2]=o.floatToByte(this.blue),l[3]=o.floatToByte(this.alpha),u[0]},o.prototype.brighten=function(e,t){return e=1-e,t.red=1-(1-this.red)*e,t.green=1-(1-this.green)*e,t.blue=1-(1-this.blue)*e,t.alpha=this.alpha,t},o.prototype.darken=function(e,t){return e=1-e,t.red=this.red*e,t.green=this.green*e,t.blue=this.blue*e,t.alpha=this.alpha,t},o.prototype.withAlpha=function(e,t){return o.fromAlpha(this,e,t)},o.add=function(e,t,n){return n.red=e.red+t.red,n.green=e.green+t.green,n.blue=e.blue+t.blue,n.alpha=e.alpha+t.alpha,n},o.subtract=function(e,t,n){return n.red=e.red-t.red,n.green=e.green-t.green,n.blue=e.blue-t.blue,n.alpha=e.alpha-t.alpha,n},o.multiply=function(e,t,n){return n.red=e.red*t.red,n.green=e.green*t.green,n.blue=e.blue*t.blue,n.alpha=e.alpha*t.alpha,n},o.divide=function(e,t,n){return n.red=e.red/t.red,n.green=e.green/t.green,n.blue=e.blue/t.blue,n.alpha=e.alpha/t.alpha,n},o.mod=function(e,t,n){return n.red=e.red%t.red,n.green=e.green%t.green,n.blue=e.blue%t.blue,n.alpha=e.alpha%t.alpha,n},o.lerp=function(e,t,n,r){return r.red=i.CesiumMath.lerp(e.red,t.red,n),r.green=i.CesiumMath.lerp(e.green,t.green,n),r.blue=i.CesiumMath.lerp(e.blue,t.blue,n),r.alpha=i.CesiumMath.lerp(e.alpha,t.alpha,n),r},o.multiplyByScalar=function(e,t,n){return n.red=e.red*t,n.green=e.green*t,n.blue=e.blue*t,n.alpha=e.alpha*t,n},o.divideByScalar=function(e,t,n){return n.red=e.red/t,n.green=e.green/t,n.blue=e.blue/t,n.alpha=e.alpha/t,n},o.ALICEBLUE=Object.freeze(o.fromCssColorString("#F0F8FF")),o.ANTIQUEWHITE=Object.freeze(o.fromCssColorString("#FAEBD7")),o.AQUA=Object.freeze(o.fromCssColorString("#00FFFF")),o.AQUAMARINE=Object.freeze(o.fromCssColorString("#7FFFD4")),o.AZURE=Object.freeze(o.fromCssColorString("#F0FFFF")),o.BEIGE=Object.freeze(o.fromCssColorString("#F5F5DC")),o.BISQUE=Object.freeze(o.fromCssColorString("#FFE4C4")),o.BLACK=Object.freeze(o.fromCssColorString("#000000")),o.BLANCHEDALMOND=Object.freeze(o.fromCssColorString("#FFEBCD")),o.BLUE=Object.freeze(o.fromCssColorString("#0000FF")),o.BLUEVIOLET=Object.freeze(o.fromCssColorString("#8A2BE2")),o.BROWN=Object.freeze(o.fromCssColorString("#A52A2A")),o.BURLYWOOD=Object.freeze(o.fromCssColorString("#DEB887")),o.CADETBLUE=Object.freeze(o.fromCssColorString("#5F9EA0")),o.CHARTREUSE=Object.freeze(o.fromCssColorString("#7FFF00")),o.CHOCOLATE=Object.freeze(o.fromCssColorString("#D2691E")),o.CORAL=Object.freeze(o.fromCssColorString("#FF7F50")),o.CORNFLOWERBLUE=Object.freeze(o.fromCssColorString("#6495ED")),o.CORNSILK=Object.freeze(o.fromCssColorString("#FFF8DC")),o.CRIMSON=Object.freeze(o.fromCssColorString("#DC143C")),o.CYAN=Object.freeze(o.fromCssColorString("#00FFFF")),o.DARKBLUE=Object.freeze(o.fromCssColorString("#00008B")),o.DARKCYAN=Object.freeze(o.fromCssColorString("#008B8B")),o.DARKGOLDENROD=Object.freeze(o.fromCssColorString("#B8860B")),o.DARKGRAY=Object.freeze(o.fromCssColorString("#A9A9A9")),o.DARKGREEN=Object.freeze(o.fromCssColorString("#006400")),o.DARKGREY=o.DARKGRAY,o.DARKKHAKI=Object.freeze(o.fromCssColorString("#BDB76B")),o.DARKMAGENTA=Object.freeze(o.fromCssColorString("#8B008B")),o.DARKOLIVEGREEN=Object.freeze(o.fromCssColorString("#556B2F")),o.DARKORANGE=Object.freeze(o.fromCssColorString("#FF8C00")),o.DARKORCHID=Object.freeze(o.fromCssColorString("#9932CC")),o.DARKRED=Object.freeze(o.fromCssColorString("#8B0000")),o.DARKSALMON=Object.freeze(o.fromCssColorString("#E9967A")),o.DARKSEAGREEN=Object.freeze(o.fromCssColorString("#8FBC8F")),o.DARKSLATEBLUE=Object.freeze(o.fromCssColorString("#483D8B")),o.DARKSLATEGRAY=Object.freeze(o.fromCssColorString("#2F4F4F")),o.DARKSLATEGREY=o.DARKSLATEGRAY,o.DARKTURQUOISE=Object.freeze(o.fromCssColorString("#00CED1")),o.DARKVIOLET=Object.freeze(o.fromCssColorString("#9400D3")),o.DEEPPINK=Object.freeze(o.fromCssColorString("#FF1493")),o.DEEPSKYBLUE=Object.freeze(o.fromCssColorString("#00BFFF")),o.DIMGRAY=Object.freeze(o.fromCssColorString("#696969")),o.DIMGREY=o.DIMGRAY,o.DODGERBLUE=Object.freeze(o.fromCssColorString("#1E90FF")),o.FIREBRICK=Object.freeze(o.fromCssColorString("#B22222")),o.FLORALWHITE=Object.freeze(o.fromCssColorString("#FFFAF0")),o.FORESTGREEN=Object.freeze(o.fromCssColorString("#228B22")),o.FUCHSIA=Object.freeze(o.fromCssColorString("#FF00FF")),o.GAINSBORO=Object.freeze(o.fromCssColorString("#DCDCDC")),o.GHOSTWHITE=Object.freeze(o.fromCssColorString("#F8F8FF")),o.GOLD=Object.freeze(o.fromCssColorString("#FFD700")),o.GOLDENROD=Object.freeze(o.fromCssColorString("#DAA520")),o.GRAY=Object.freeze(o.fromCssColorString("#808080")),o.GREEN=Object.freeze(o.fromCssColorString("#008000")),o.GREENYELLOW=Object.freeze(o.fromCssColorString("#ADFF2F")),o.GREY=o.GRAY,o.HONEYDEW=Object.freeze(o.fromCssColorString("#F0FFF0")),o.HOTPINK=Object.freeze(o.fromCssColorString("#FF69B4")),o.INDIANRED=Object.freeze(o.fromCssColorString("#CD5C5C")),o.INDIGO=Object.freeze(o.fromCssColorString("#4B0082")),o.IVORY=Object.freeze(o.fromCssColorString("#FFFFF0")),o.KHAKI=Object.freeze(o.fromCssColorString("#F0E68C")),o.LAVENDER=Object.freeze(o.fromCssColorString("#E6E6FA")),o.LAVENDAR_BLUSH=Object.freeze(o.fromCssColorString("#FFF0F5")),o.LAWNGREEN=Object.freeze(o.fromCssColorString("#7CFC00")),o.LEMONCHIFFON=Object.freeze(o.fromCssColorString("#FFFACD")),o.LIGHTBLUE=Object.freeze(o.fromCssColorString("#ADD8E6")),o.LIGHTCORAL=Object.freeze(o.fromCssColorString("#F08080")),o.LIGHTCYAN=Object.freeze(o.fromCssColorString("#E0FFFF")),o.LIGHTGOLDENRODYELLOW=Object.freeze(o.fromCssColorString("#FAFAD2")),o.LIGHTGRAY=Object.freeze(o.fromCssColorString("#D3D3D3")),o.LIGHTGREEN=Object.freeze(o.fromCssColorString("#90EE90")),o.LIGHTGREY=o.LIGHTGRAY,o.LIGHTPINK=Object.freeze(o.fromCssColorString("#FFB6C1")),o.LIGHTSEAGREEN=Object.freeze(o.fromCssColorString("#20B2AA")),o.LIGHTSKYBLUE=Object.freeze(o.fromCssColorString("#87CEFA")),o.LIGHTSLATEGRAY=Object.freeze(o.fromCssColorString("#778899")),o.LIGHTSLATEGREY=o.LIGHTSLATEGRAY,o.LIGHTSTEELBLUE=Object.freeze(o.fromCssColorString("#B0C4DE")),o.LIGHTYELLOW=Object.freeze(o.fromCssColorString("#FFFFE0")),o.LIME=Object.freeze(o.fromCssColorString("#00FF00")),o.LIMEGREEN=Object.freeze(o.fromCssColorString("#32CD32")),o.LINEN=Object.freeze(o.fromCssColorString("#FAF0E6")),o.MAGENTA=Object.freeze(o.fromCssColorString("#FF00FF")),o.MAROON=Object.freeze(o.fromCssColorString("#800000")),o.MEDIUMAQUAMARINE=Object.freeze(o.fromCssColorString("#66CDAA")),o.MEDIUMBLUE=Object.freeze(o.fromCssColorString("#0000CD")),o.MEDIUMORCHID=Object.freeze(o.fromCssColorString("#BA55D3")),o.MEDIUMPURPLE=Object.freeze(o.fromCssColorString("#9370DB")),o.MEDIUMSEAGREEN=Object.freeze(o.fromCssColorString("#3CB371")),o.MEDIUMSLATEBLUE=Object.freeze(o.fromCssColorString("#7B68EE")),o.MEDIUMSPRINGGREEN=Object.freeze(o.fromCssColorString("#00FA9A")),o.MEDIUMTURQUOISE=Object.freeze(o.fromCssColorString("#48D1CC")),o.MEDIUMVIOLETRED=Object.freeze(o.fromCssColorString("#C71585")),o.MIDNIGHTBLUE=Object.freeze(o.fromCssColorString("#191970")),o.MINTCREAM=Object.freeze(o.fromCssColorString("#F5FFFA")),o.MISTYROSE=Object.freeze(o.fromCssColorString("#FFE4E1")),o.MOCCASIN=Object.freeze(o.fromCssColorString("#FFE4B5")),o.NAVAJOWHITE=Object.freeze(o.fromCssColorString("#FFDEAD")),o.NAVY=Object.freeze(o.fromCssColorString("#000080")),o.OLDLACE=Object.freeze(o.fromCssColorString("#FDF5E6")),o.OLIVE=Object.freeze(o.fromCssColorString("#808000")),o.OLIVEDRAB=Object.freeze(o.fromCssColorString("#6B8E23")),o.ORANGE=Object.freeze(o.fromCssColorString("#FFA500")),o.ORANGERED=Object.freeze(o.fromCssColorString("#FF4500")),o.ORCHID=Object.freeze(o.fromCssColorString("#DA70D6")),o.PALEGOLDENROD=Object.freeze(o.fromCssColorString("#EEE8AA")),o.PALEGREEN=Object.freeze(o.fromCssColorString("#98FB98")),o.PALETURQUOISE=Object.freeze(o.fromCssColorString("#AFEEEE")),o.PALEVIOLETRED=Object.freeze(o.fromCssColorString("#DB7093")),o.PAPAYAWHIP=Object.freeze(o.fromCssColorString("#FFEFD5")),o.PEACHPUFF=Object.freeze(o.fromCssColorString("#FFDAB9")),o.PERU=Object.freeze(o.fromCssColorString("#CD853F")),o.PINK=Object.freeze(o.fromCssColorString("#FFC0CB")),o.PLUM=Object.freeze(o.fromCssColorString("#DDA0DD")),o.POWDERBLUE=Object.freeze(o.fromCssColorString("#B0E0E6")),o.PURPLE=Object.freeze(o.fromCssColorString("#800080")),o.RED=Object.freeze(o.fromCssColorString("#FF0000")),o.ROSYBROWN=Object.freeze(o.fromCssColorString("#BC8F8F")),o.ROYALBLUE=Object.freeze(o.fromCssColorString("#4169E1")),o.SADDLEBROWN=Object.freeze(o.fromCssColorString("#8B4513")),o.SALMON=Object.freeze(o.fromCssColorString("#FA8072")),o.SANDYBROWN=Object.freeze(o.fromCssColorString("#F4A460")),o.SEAGREEN=Object.freeze(o.fromCssColorString("#2E8B57")),o.SEASHELL=Object.freeze(o.fromCssColorString("#FFF5EE")),o.SIENNA=Object.freeze(o.fromCssColorString("#A0522D")),o.SILVER=Object.freeze(o.fromCssColorString("#C0C0C0")),o.SKYBLUE=Object.freeze(o.fromCssColorString("#87CEEB")),o.SLATEBLUE=Object.freeze(o.fromCssColorString("#6A5ACD")),o.SLATEGRAY=Object.freeze(o.fromCssColorString("#708090")),o.SLATEGREY=o.SLATEGRAY,o.SNOW=Object.freeze(o.fromCssColorString("#FFFAFA")),o.SPRINGGREEN=Object.freeze(o.fromCssColorString("#00FF7F")),o.STEELBLUE=Object.freeze(o.fromCssColorString("#4682B4")),o.TAN=Object.freeze(o.fromCssColorString("#D2B48C")),o.TEAL=Object.freeze(o.fromCssColorString("#008080")),o.THISTLE=Object.freeze(o.fromCssColorString("#D8BFD8")),o.TOMATO=Object.freeze(o.fromCssColorString("#FF6347")),o.TURQUOISE=Object.freeze(o.fromCssColorString("#40E0D0")),o.VIOLET=Object.freeze(o.fromCssColorString("#EE82EE")),o.WHEAT=Object.freeze(o.fromCssColorString("#F5DEB3")),o.WHITE=Object.freeze(o.fromCssColorString("#FFFFFF")),o.WHITESMOKE=Object.freeze(o.fromCssColorString("#F5F5F5")),o.YELLOW=Object.freeze(o.fromCssColorString("#FFFF00")),o.YELLOWGREEN=Object.freeze(o.fromCssColorString("#9ACD32")),o.TRANSPARENT=Object.freeze(new o(0,0,0,0)),e.Color=o}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(3)],void 0===(i=function(e,t){"use strict";const n={computePositions:function(e,n,r,i,a){const o=.5*e,s=-o,u=i+i,l=new Float64Array(3*(a?2*u:u));let c,f=0,d=0;const p=a?3*u:0,h=a?3*(u+i):3*i;for(c=0;c<i;c++){const e=c/i*t.CesiumMath.TWO_PI,u=Math.cos(e),m=Math.sin(e),_=u*r,y=m*r,g=u*n,C=m*n;l[d+p]=_,l[d+p+1]=y,l[d+p+2]=s,l[d+h]=g,l[d+h+1]=C,l[d+h+2]=o,d+=3,a&&(l[f++]=_,l[f++]=y,l[f++]=s,l[f++]=g,l[f++]=C,l[f++]=o)}return l}};e.CylinderGeometryLibrary=n}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(29),n(19),n(2),n(3),n(0),n(16),n(6),n(8),n(22),n(10),n(26),n(4)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d){"use strict";function p(){this._array=[],this._offset=0,this._length=0}Object.defineProperties(p.prototype,{length:{get:function(){return this._length}}}),p.prototype.enqueue=function(e){this._array.push(e),this._length++},p.prototype.dequeue=function(){if(0===this._length)return;const e=this._array;let t=this._offset;const n=e[t];return e[t]=void 0,t++,t>10&&2*t>e.length&&(this._array=e.slice(t),t=0),this._offset=t,this._length--,n},p.prototype.peek=function(){if(0!==this._length)return this._array[this._offset]},p.prototype.contains=function(e){return-1!==this._array.indexOf(e)},p.prototype.clear=function(){this._array.length=this._offset=this._length=0},p.prototype.sort=function(e){this._offset>0&&(this._array=this._array.slice(this._offset),this._offset=0),this._array.sort(e)};const h={computeHierarchyPackedLength:function(e){let t=0;const n=[e];for(;n.length>0;){const e=n.pop();if(!a.defined(e))continue;t+=2;const i=e.positions,o=e.holes;if(a.defined(i)&&(t+=i.length*r.Cartesian3.packedLength),a.defined(o)){const e=o.length;for(let t=0;t<e;++t)n.push(o[t])}}return t},packPolygonHierarchy:function(e,t,n){const i=[e];for(;i.length>0;){const e=i.pop();if(!a.defined(e))continue;const o=e.positions,s=e.holes;if(t[n++]=a.defined(o)?o.length:0,t[n++]=a.defined(s)?s.length:0,a.defined(o)){const e=o.length;for(let i=0;i<e;++i,n+=3)r.Cartesian3.pack(o[i],t,n)}if(a.defined(s)){const e=s.length;for(let t=0;t<e;++t)i.push(s[t])}}return n},unpackPolygonHierarchy:function(e,t){const n=e[t++],i=e[t++],a=new Array(n),o=i>0?new Array(i):void 0;for(let i=0;i<n;++i,t+=r.Cartesian3.packedLength)a[i]=r.Cartesian3.unpack(e,t);for(let n=0;n<i;++n)o[n]=h.unpackPolygonHierarchy(e,t),t=o[n].startingIndex,delete o[n].startingIndex;return{positions:a,holes:o,startingIndex:t}}},m=new r.Cartesian3;function _(e,t,n,i){return r.Cartesian3.subtract(t,e,m),r.Cartesian3.multiplyByScalar(m,n/i,m),r.Cartesian3.add(e,m,m),[m.x,m.y,m.z]}h.subdivideLineCount=function(e,t,n){const a=r.Cartesian3.distance(e,t)/n,o=Math.max(0,Math.ceil(i.CesiumMath.log2(a)));return Math.pow(2,o)};const y=new r.Cartographic,g=new r.Cartographic,C=new r.Cartographic,b=new r.Cartesian3;h.subdivideRhumbLineCount=function(e,t,n,r){const a=e.cartesianToCartographic(t,y),s=e.cartesianToCartographic(n,g),u=new o.EllipsoidRhumbLine(a,s,e).surfaceDistance/r,l=Math.max(0,Math.ceil(i.CesiumMath.log2(u)));return Math.pow(2,l)},h.subdivideLine=function(e,t,n,i){const o=h.subdivideLineCount(e,t,n),s=r.Cartesian3.distance(e,t),u=s/o;a.defined(i)||(i=[]);const l=i;l.length=3*o;let c=0;for(let n=0;n<o;n++){const r=_(e,t,n*u,s);l[c++]=r[0],l[c++]=r[1],l[c++]=r[2]}return l},h.subdivideRhumbLine=function(e,t,n,r,s){const u=e.cartesianToCartographic(t,y),l=e.cartesianToCartographic(n,g),c=new o.EllipsoidRhumbLine(u,l,e),f=c.surfaceDistance/r,d=Math.max(0,Math.ceil(i.CesiumMath.log2(f))),p=Math.pow(2,d),h=c.surfaceDistance/p;a.defined(s)||(s=[]);const m=s;m.length=3*p;let _=0;for(let t=0;t<p;t++){const n=c.interpolateUsingSurfaceDistance(t*h,C),r=e.cartographicToCartesian(n,b);m[_++]=r.x,m[_++]=r.y,m[_++]=r.z}return m};const A=new r.Cartesian3,E=new r.Cartesian3,w=new r.Cartesian3,T=new r.Cartesian3;h.scaleToGeodeticHeightExtruded=function(e,t,n,i,o){i=a.defaultValue(i,r.Ellipsoid.WGS84);const s=A;let u=E;const l=w;let c=T;if(a.defined(e)&&a.defined(e.attributes)&&a.defined(e.attributes.position)){const a=e.attributes.position.values,f=a.length/2;for(let e=0;e<f;e+=3)r.Cartesian3.fromArray(a,e,l),i.geodeticSurfaceNormal(l,s),c=i.scaleToGeodeticSurface(l,c),u=r.Cartesian3.multiplyByScalar(s,n,u),u=r.Cartesian3.add(c,u,u),a[e+f]=u.x,a[e+1+f]=u.y,a[e+2+f]=u.z,o&&(c=r.Cartesian3.clone(l,c)),u=r.Cartesian3.multiplyByScalar(s,t,u),u=r.Cartesian3.add(c,u,u),a[e]=u.x,a[e+1]=u.y,a[e+2]=u.z}return e},h.polygonOutlinesFromHierarchy=function(e,t,i){const o=[],s=new p;let u,l,c;for(s.enqueue(e);0!==s.length;){const e=s.dequeue();let f=e.positions;if(t)for(c=f.length,u=0;u<c;u++)i.scaleToGeodeticSurface(f[u],f[u]);if(f=n.arrayRemoveDuplicates(f,r.Cartesian3.equalsEpsilon,!0),f.length<3)continue;const d=e.holes?e.holes.length:0;for(u=0;u<d;u++){const f=e.holes[u];let d=f.positions;if(t)for(c=d.length,l=0;l<c;++l)i.scaleToGeodeticSurface(d[l],d[l]);if(d=n.arrayRemoveDuplicates(d,r.Cartesian3.equalsEpsilon,!0),d.length<3)continue;o.push(d);let p=0;for(a.defined(f.holes)&&(p=f.holes.length),l=0;l<p;l++)s.enqueue(f.holes[l])}o.push(f)}return o},h.polygonsFromHierarchy=function(e,t,i,o){const s=[],u=[],l=new p;for(l.enqueue(e);0!==l.length;){const e=l.dequeue();let c=e.positions;const d=e.holes;let p,h;if(i)for(h=c.length,p=0;p<h;p++)o.scaleToGeodeticSurface(c[p],c[p]);if(c=n.arrayRemoveDuplicates(c,r.Cartesian3.equalsEpsilon,!0),c.length<3)continue;let m=t(c);if(!a.defined(m))continue;const _=[];let y=f.PolygonPipeline.computeWindingOrder2D(m);y===f.WindingOrder.CLOCKWISE&&(m.reverse(),c=c.slice().reverse());let g=c.slice();const C=a.defined(d)?d.length:0,b=[];let A;for(p=0;p<C;p++){const e=d[p];let s=e.positions;if(i)for(h=s.length,A=0;A<h;++A)o.scaleToGeodeticSurface(s[A],s[A]);if(s=n.arrayRemoveDuplicates(s,r.Cartesian3.equalsEpsilon,!0),s.length<3)continue;const u=t(s);if(!a.defined(u))continue;y=f.PolygonPipeline.computeWindingOrder2D(u),y===f.WindingOrder.CLOCKWISE&&(u.reverse(),s=s.slice().reverse()),b.push(s),_.push(g.length),g=g.concat(s),m=m.concat(u);let c=0;for(a.defined(e.holes)&&(c=e.holes.length),A=0;A<c;A++)l.enqueue(e.holes[A])}s.push({outerRing:c,holes:b}),u.push({positions:g,positions2D:m,holes:_})}return{hierarchy:s,polygons:u}};const x=new r.Cartesian2,v=new r.Cartesian3,R=new d.Quaternion,O=new r.Matrix3;h.computeBoundingRectangle=function(e,t,n,i,o){const s=d.Quaternion.fromAxisAngle(e,i,R),u=r.Matrix3.fromQuaternion(s,O);let l=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,f=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;const h=n.length;for(let e=0;e<h;++e){const i=r.Cartesian3.clone(n[e],v);r.Matrix3.multiplyByVector(u,i,i);const o=t(i,x);a.defined(o)&&(l=Math.min(l,o.x),c=Math.max(c,o.x),f=Math.min(f,o.y),p=Math.max(p,o.y))}return o.x=l,o.y=f,o.width=c-l,o.height=p-f,o},h.createGeometryFromPositions=function(e,n,r,a,o,u){let c=f.PolygonPipeline.triangulate(n.positions2D,n.holes);c.length<3&&(c=[0,1,2]);const d=n.positions;if(a){const e=d.length,t=new Array(3*e);let n=0;for(let r=0;r<e;r++){const e=d[r];t[n++]=e.x,t[n++]=e.y,t[n++]=e.z}const r=new s.Geometry({attributes:{position:new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:t})},indices:c,primitiveType:s.PrimitiveType.TRIANGLES});return o.normal?l.GeometryPipeline.computeNormal(r):r}return u===t.ArcType.GEODESIC?f.PolygonPipeline.computeSubdivision(e,d,c,r):u===t.ArcType.RHUMB?f.PolygonPipeline.computeRhumbLineSubdivision(e,d,c,r):void 0};const M=[],S=new r.Cartesian3,I=new r.Cartesian3;h.computeWallGeometry=function(e,n,a,o,l){let f,d,p,m,_,y=e.length,g=0;if(o)for(d=3*y*2,f=new Array(2*d),p=0;p<y;p++)m=e[p],_=e[(p+1)%y],f[g]=f[g+d]=m.x,++g,f[g]=f[g+d]=m.y,++g,f[g]=f[g+d]=m.z,++g,f[g]=f[g+d]=_.x,++g,f[g]=f[g+d]=_.y,++g,f[g]=f[g+d]=_.z,++g;else{const r=i.CesiumMath.chordLength(a,n.maximumRadius);let o=0;if(l===t.ArcType.GEODESIC)for(p=0;p<y;p++)o+=h.subdivideLineCount(e[p],e[(p+1)%y],r);else if(l===t.ArcType.RHUMB)for(p=0;p<y;p++)o+=h.subdivideRhumbLineCount(n,e[p],e[(p+1)%y],r);for(d=3*(o+y),f=new Array(2*d),p=0;p<y;p++){let i;m=e[p],_=e[(p+1)%y],l===t.ArcType.GEODESIC?i=h.subdivideLine(m,_,r,M):l===t.ArcType.RHUMB&&(i=h.subdivideRhumbLine(n,m,_,r,M));const a=i.length;for(let e=0;e<a;++e,++g)f[g]=i[e],f[g+d]=i[e];f[g]=_.x,f[g+d]=_.x,++g,f[g]=_.y,f[g+d]=_.y,++g,f[g]=_.z,f[g+d]=_.z,++g}}y=f.length;const C=c.IndexDatatype.createTypedArray(y/3,y-6*e.length);let b=0;for(y/=6,p=0;p<y;p++){const e=p,t=e+1,n=e+y,a=n+1;m=r.Cartesian3.fromArray(f,3*e,S),_=r.Cartesian3.fromArray(f,3*t,I),r.Cartesian3.equalsEpsilon(m,_,i.CesiumMath.EPSILON10,i.CesiumMath.EPSILON10)||(C[b++]=e,C[b++]=n,C[b++]=t,C[b++]=t,C[b++]=n,C[b++]=a)}return new s.Geometry({attributes:new u.GeometryAttributes({position:new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:f})}),indices:C,primitiveType:s.PrimitiveType.TRIANGLES})},e.PolygonGeometryLibrary=h}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(4),n(2),n(1),n(0),n(15),n(3)],void 0===(i=function(e,t,n,r,i,a,o){"use strict";function s(e,t){this._ellipsoid=e,this._cameraPosition=new n.Cartesian3,this._cameraPositionInScaledSpace=new n.Cartesian3,this._distanceToLimbInScaledSpaceSquared=0,i.defined(t)&&(this.cameraPosition=t)}Object.defineProperties(s.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},cameraPosition:{get:function(){return this._cameraPosition},set:function(e){const t=this._ellipsoid.transformPositionToScaledSpace(e,this._cameraPositionInScaledSpace),r=n.Cartesian3.magnitudeSquared(t)-1;n.Cartesian3.clone(e,this._cameraPosition),this._cameraPositionInScaledSpace=t,this._distanceToLimbInScaledSpaceSquared=r}}});const u=new n.Cartesian3;s.prototype.isPointVisible=function(e){return y(this._ellipsoid.transformPositionToScaledSpace(e,u),this._cameraPositionInScaledSpace,this._distanceToLimbInScaledSpaceSquared)},s.prototype.isScaledSpacePointVisible=function(e){return y(e,this._cameraPositionInScaledSpace,this._distanceToLimbInScaledSpaceSquared)};const l=new n.Cartesian3;s.prototype.isScaledSpacePointVisiblePossiblyUnderEllipsoid=function(e,t){const n=this._ellipsoid;let r,a;return i.defined(t)&&t<0&&n.minimumRadius>-t?(a=l,a.x=this._cameraPosition.x/(n.radii.x+t),a.y=this._cameraPosition.y/(n.radii.y+t),a.z=this._cameraPosition.z/(n.radii.z+t),r=a.x*a.x+a.y*a.y+a.z*a.z-1):(a=this._cameraPositionInScaledSpace,r=this._distanceToLimbInScaledSpaceSquared),y(e,a,r)},s.prototype.computeHorizonCullingPoint=function(e,t,n){return h(this._ellipsoid,e,t,n)};const c=n.Ellipsoid.clone(n.Ellipsoid.UNIT_SPHERE);s.prototype.computeHorizonCullingPointPossiblyUnderEllipsoid=function(e,t,n,r){return h(p(this._ellipsoid,n,c),e,t,r)},s.prototype.computeHorizonCullingPointFromVertices=function(e,t,n,r,i){return _(this._ellipsoid,e,t,n,r,i)},s.prototype.computeHorizonCullingPointFromVerticesPossiblyUnderEllipsoid=function(e,t,n,r,i,a){return _(p(this._ellipsoid,i,c),e,t,n,r,a)};const f=[];s.prototype.computeHorizonCullingPointFromRectangle=function(e,r,i){const a=n.Rectangle.subsample(e,r,0,f),o=t.BoundingSphere.fromPoints(a);if(!(n.Cartesian3.magnitude(o.center)<.1*r.minimumRadius))return this.computeHorizonCullingPoint(o.center,a,i)};const d=new n.Cartesian3;function p(e,t,r){if(i.defined(t)&&t<0&&e.minimumRadius>-t){const i=n.Cartesian3.fromElements(e.radii.x+t,e.radii.y+t,e.radii.z+t,d);e=n.Ellipsoid.fromCartesian3(i,r)}return e}function h(e,t,r,a){i.defined(a)||(a=new n.Cartesian3);const o=w(e,t);let s=0;for(let t=0,n=r.length;t<n;++t){const n=b(e,r[t],o);if(n<0)return;s=Math.max(s,n)}return A(o,s,a)}const m=new n.Cartesian3;function _(e,t,r,a,o,s){i.defined(s)||(s=new n.Cartesian3),a=i.defaultValue(a,3),o=i.defaultValue(o,n.Cartesian3.ZERO);const u=w(e,t);let l=0;for(let t=0,n=r.length;t<n;t+=a){m.x=r[t]+o.x,m.y=r[t+1]+o.y,m.z=r[t+2]+o.z;const n=b(e,m,u);if(n<0)return;l=Math.max(l,n)}return A(u,l,s)}function y(e,t,r){const i=t,a=r,o=n.Cartesian3.subtract(e,i,u),s=-n.Cartesian3.dot(o,i);return!(a<0?s>0:s>a&&s*s/n.Cartesian3.magnitudeSquared(o)>a)}const g=new n.Cartesian3,C=new n.Cartesian3;function b(e,t,r){const i=e.transformPositionToScaledSpace(t,g);let a=n.Cartesian3.magnitudeSquared(i),o=Math.sqrt(a);const s=n.Cartesian3.divideByScalar(i,o,C);a=Math.max(1,a),o=Math.max(1,o);const u=1/o;return 1/(n.Cartesian3.dot(s,r)*u-n.Cartesian3.magnitude(n.Cartesian3.cross(s,r,s))*(Math.sqrt(a-1)*u))}function A(e,t,r){if(!(t<=0||t===1/0||t!=t))return n.Cartesian3.multiplyByScalar(e,t,r)}const E=new n.Cartesian3;function w(e,t){return n.Cartesian3.equals(t,n.Cartesian3.ZERO)?t:(e.transformPositionToScaledSpace(t,E),n.Cartesian3.normalize(E,E))}const T={getHeight:function(e,t,n){return(e-n)*t+n}},x=new n.Cartesian3;T.getPosition=function(e,t,r,i,a){const o=t.cartesianToCartographic(e,x),s=T.getHeight(o.height,r,i);return n.Cartesian3.fromRadians(o.longitude,o.latitude,s,t,a)};var v=Object.freeze({NONE:0,BITS12:1});const R=new n.Cartesian3,O=new n.Cartesian3,M=new n.Cartesian2,S=new n.Matrix4,I=new n.Matrix4,P=Math.pow(2,12);function N(e,t,r,a,o,s,u,l,c,f){let d,p,h=v.NONE;if(i.defined(t)&&i.defined(r)&&i.defined(a)&&i.defined(o)){const e=t.minimum,i=t.maximum,s=n.Cartesian3.subtract(i,e,O),u=a-r;h=Math.max(n.Cartesian3.maximumComponent(s),u)<P-1?v.BITS12:v.NONE,d=n.Matrix4.inverseTransformation(o,new n.Matrix4);const l=n.Cartesian3.negate(e,R);n.Matrix4.multiply(n.Matrix4.fromTranslation(l,S),d,d);const c=R;c.x=1/s.x,c.y=1/s.y,c.z=1/s.z,n.Matrix4.multiply(n.Matrix4.fromScale(c,S),d,d),p=n.Matrix4.clone(o),n.Matrix4.setTranslation(p,n.Cartesian3.ZERO,p),o=n.Matrix4.clone(o,new n.Matrix4);const f=n.Matrix4.fromTranslation(e,S),m=n.Matrix4.fromScale(s,I),_=n.Matrix4.multiply(f,m,S);n.Matrix4.multiply(o,_,o),n.Matrix4.multiply(p,_,p)}this.quantization=h,this.minimumHeight=r,this.maximumHeight=a,this.center=n.Cartesian3.clone(e),this.toScaledENU=d,this.fromScaledENU=o,this.matrix=p,this.hasVertexNormals=s,this.hasWebMercatorT=i.defaultValue(u,!1),this.hasGeodeticSurfaceNormals=i.defaultValue(l,!1),this.exaggeration=i.defaultValue(c,1),this.exaggerationRelativeHeight=i.defaultValue(f,0),this.stride=0,this._offsetGeodeticSurfaceNormal=0,this._offsetVertexNormal=0,this._calculateStrideAndOffsets()}N.prototype.encode=function(e,t,r,i,s,u,l,c){const f=i.x,d=i.y;if(this.quantization===v.BITS12){(r=n.Matrix4.multiplyByPoint(this.toScaledENU,r,R)).x=o.CesiumMath.clamp(r.x,0,1),r.y=o.CesiumMath.clamp(r.y,0,1),r.z=o.CesiumMath.clamp(r.z,0,1);const i=this.maximumHeight-this.minimumHeight,u=o.CesiumMath.clamp((s-this.minimumHeight)/i,0,1);n.Cartesian2.fromElements(r.x,r.y,M);const c=a.AttributeCompression.compressTextureCoordinates(M);n.Cartesian2.fromElements(r.z,u,M);const p=a.AttributeCompression.compressTextureCoordinates(M);n.Cartesian2.fromElements(f,d,M);const h=a.AttributeCompression.compressTextureCoordinates(M);if(e[t++]=c,e[t++]=p,e[t++]=h,this.hasWebMercatorT){n.Cartesian2.fromElements(l,0,M);const r=a.AttributeCompression.compressTextureCoordinates(M);e[t++]=r}}else n.Cartesian3.subtract(r,this.center,R),e[t++]=R.x,e[t++]=R.y,e[t++]=R.z,e[t++]=s,e[t++]=f,e[t++]=d,this.hasWebMercatorT&&(e[t++]=l);return this.hasVertexNormals&&(e[t++]=a.AttributeCompression.octPackFloat(u)),this.hasGeodeticSurfaceNormals&&(e[t++]=c.x,e[t++]=c.y,e[t++]=c.z),t};const L=new n.Cartesian3,D=new n.Cartesian3;N.prototype.addGeodeticSurfaceNormals=function(e,t,n){if(this.hasGeodeticSurfaceNormals)return;const r=this.stride,i=e.length/r;this.hasGeodeticSurfaceNormals=!0,this._calculateStrideAndOffsets();const a=this.stride;for(let o=0;o<i;o++){for(let n=0;n<r;n++){const i=o*r+n;t[o*a+n]=e[i]}const i=this.decodePosition(t,o,L),s=n.geodeticSurfaceNormal(i,D),u=o*a+this._offsetGeodeticSurfaceNormal;t[u]=s.x,t[u+1]=s.y,t[u+2]=s.z}},N.prototype.removeGeodeticSurfaceNormals=function(e,t){if(!this.hasGeodeticSurfaceNormals)return;const n=this.stride,r=e.length/n;this.hasGeodeticSurfaceNormals=!1,this._calculateStrideAndOffsets();const i=this.stride;for(let a=0;a<r;a++)for(let r=0;r<i;r++){const o=a*n+r;t[a*i+r]=e[o]}},N.prototype.decodePosition=function(e,t,r){if(i.defined(r)||(r=new n.Cartesian3),t*=this.stride,this.quantization===v.BITS12){const i=a.AttributeCompression.decompressTextureCoordinates(e[t],M);r.x=i.x,r.y=i.y;const o=a.AttributeCompression.decompressTextureCoordinates(e[t+1],M);return r.z=o.x,n.Matrix4.multiplyByPoint(this.fromScaledENU,r,r)}return r.x=e[t],r.y=e[t+1],r.z=e[t+2],n.Cartesian3.add(r,this.center,r)},N.prototype.getExaggeratedPosition=function(e,t,n){n=this.decodePosition(e,t,n);const r=this.exaggeration,i=this.exaggerationRelativeHeight;if(1!==r&&this.hasGeodeticSurfaceNormals){const a=this.decodeGeodeticSurfaceNormal(e,t,D),o=this.decodeHeight(e,t),s=T.getHeight(o,r,i)-o;n.x+=a.x*s,n.y+=a.y*s,n.z+=a.z*s}return n},N.prototype.decodeTextureCoordinates=function(e,t,r){return i.defined(r)||(r=new n.Cartesian2),t*=this.stride,this.quantization===v.BITS12?a.AttributeCompression.decompressTextureCoordinates(e[t+2],r):n.Cartesian2.fromElements(e[t+4],e[t+5],r)},N.prototype.decodeHeight=function(e,t){if(t*=this.stride,this.quantization===v.BITS12){return a.AttributeCompression.decompressTextureCoordinates(e[t+1],M).y*(this.maximumHeight-this.minimumHeight)+this.minimumHeight}return e[t+3]},N.prototype.decodeWebMercatorT=function(e,t){return t*=this.stride,this.quantization===v.BITS12?a.AttributeCompression.decompressTextureCoordinates(e[t+3],M).x:e[t+6]},N.prototype.getOctEncodedNormal=function(e,t,r){const i=e[t=t*this.stride+this._offsetVertexNormal]/256,a=Math.floor(i),o=256*(i-a);return n.Cartesian2.fromElements(a,o,r)},N.prototype.decodeGeodeticSurfaceNormal=function(e,t,n){return t=t*this.stride+this._offsetGeodeticSurfaceNormal,n.x=e[t],n.y=e[t+1],n.z=e[t+2],n},N.prototype._calculateStrideAndOffsets=function(){let e=0;switch(this.quantization){case v.BITS12:e+=3;break;default:e+=6}this.hasWebMercatorT&&(e+=1),this.hasVertexNormals&&(this._offsetVertexNormal=e,e+=1),this.hasGeodeticSurfaceNormals&&(this._offsetGeodeticSurfaceNormal=e,e+=3),this.stride=e};const F={position3DAndHeight:0,textureCoordAndEncodedNormals:1,geodeticSurfaceNormal:2},G={compressed0:0,compressed1:1,geodeticSurfaceNormal:2};N.prototype.getAttributes=function(e){const t=o.ComponentDatatype.FLOAT,n=o.ComponentDatatype.getSizeInBytes(t),r=this.stride*n;let i=0;const a=[];function s(o,s){a.push({index:o,vertexBuffer:e,componentDatatype:t,componentsPerAttribute:s,offsetInBytes:i,strideInBytes:r}),i+=s*n}if(this.quantization===v.NONE){s(F.position3DAndHeight,4);let e=2;e+=this.hasWebMercatorT?1:0,e+=this.hasVertexNormals?1:0,s(F.textureCoordAndEncodedNormals,e),this.hasGeodeticSurfaceNormals&&s(F.geodeticSurfaceNormal,3)}else{const e=this.hasWebMercatorT||this.hasVertexNormals,t=this.hasWebMercatorT&&this.hasVertexNormals;s(G.compressed0,e?4:3),t&&s(G.compressed1,1),this.hasGeodeticSurfaceNormals&&s(G.geodeticSurfaceNormal,3)}return a},N.prototype.getAttributeLocations=function(){return this.quantization===v.NONE?F:G},N.clone=function(e,t){if(i.defined(e))return i.defined(t)||(t=new N),t.quantization=e.quantization,t.minimumHeight=e.minimumHeight,t.maximumHeight=e.maximumHeight,t.center=n.Cartesian3.clone(e.center),t.toScaledENU=n.Matrix4.clone(e.toScaledENU),t.fromScaledENU=n.Matrix4.clone(e.fromScaledENU),t.matrix=n.Matrix4.clone(e.matrix),t.hasVertexNormals=e.hasVertexNormals,t.hasWebMercatorT=e.hasWebMercatorT,t.hasGeodeticSurfaceNormals=e.hasGeodeticSurfaceNormals,t.exaggeration=e.exaggeration,t.exaggerationRelativeHeight=e.exaggerationRelativeHeight,t._calculateStrideAndOffsets(),t},e.EllipsoidalOccluder=s,e.TerrainEncoding=N}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,n(28))},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},o={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(r)},function(e,t,n){var r,i;r=[t,n(12),n(4),n(2),n(3),n(0),n(1),n(6),n(8),n(10),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c){"use strict";const f=new r.Cartesian3,d=new r.Cartesian3,p=new r.Cartesian3,h=new r.Cartesian3,m=new r.Cartesian3,_=new r.Cartesian3(1,1,1),y=Math.cos,g=Math.sin;function C(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT);const t=a.defaultValue(e.radii,_),n=a.defaultValue(e.innerRadii,t),o=a.defaultValue(e.minimumClock,0),s=a.defaultValue(e.maximumClock,i.CesiumMath.TWO_PI),u=a.defaultValue(e.minimumCone,0),l=a.defaultValue(e.maximumCone,i.CesiumMath.PI),f=Math.round(a.defaultValue(e.stackPartitions,64)),d=Math.round(a.defaultValue(e.slicePartitions,64)),p=a.defaultValue(e.vertexFormat,c.VertexFormat.DEFAULT);this._radii=r.Cartesian3.clone(t),this._innerRadii=r.Cartesian3.clone(n),this._minimumClock=o,this._maximumClock=s,this._minimumCone=u,this._maximumCone=l,this._stackPartitions=f,this._slicePartitions=d,this._vertexFormat=c.VertexFormat.clone(p),this._offsetAttribute=e.offsetAttribute,this._workerName="createEllipsoidGeometry"}C.packedLength=2*r.Cartesian3.packedLength+c.VertexFormat.packedLength+7,C.pack=function(e,t,n){return n=a.defaultValue(n,0),r.Cartesian3.pack(e._radii,t,n),n+=r.Cartesian3.packedLength,r.Cartesian3.pack(e._innerRadii,t,n),n+=r.Cartesian3.packedLength,c.VertexFormat.pack(e._vertexFormat,t,n),n+=c.VertexFormat.packedLength,t[n++]=e._minimumClock,t[n++]=e._maximumClock,t[n++]=e._minimumCone,t[n++]=e._maximumCone,t[n++]=e._stackPartitions,t[n++]=e._slicePartitions,t[n]=a.defaultValue(e._offsetAttribute,-1),t};const b=new r.Cartesian3,A=new r.Cartesian3,E=new c.VertexFormat,w={radii:b,innerRadii:A,vertexFormat:E,minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0,offsetAttribute:void 0};let T;C.unpack=function(e,t,n){t=a.defaultValue(t,0);const i=r.Cartesian3.unpack(e,t,b);t+=r.Cartesian3.packedLength;const o=r.Cartesian3.unpack(e,t,A);t+=r.Cartesian3.packedLength;const s=c.VertexFormat.unpack(e,t,E);t+=c.VertexFormat.packedLength;const u=e[t++],l=e[t++],f=e[t++],d=e[t++],p=e[t++],h=e[t++],m=e[t];return a.defined(n)?(n._radii=r.Cartesian3.clone(i,n._radii),n._innerRadii=r.Cartesian3.clone(o,n._innerRadii),n._vertexFormat=c.VertexFormat.clone(s,n._vertexFormat),n._minimumClock=u,n._maximumClock=l,n._minimumCone=f,n._maximumCone=d,n._stackPartitions=p,n._slicePartitions=h,n._offsetAttribute=-1===m?void 0:m,n):(w.minimumClock=u,w.maximumClock=l,w.minimumCone=f,w.maximumCone=d,w.stackPartitions=p,w.slicePartitions=h,w.offsetAttribute=-1===m?void 0:m,new C(w))},C.createGeometry=function(e){const o=e._radii;if(o.x<=0||o.y<=0||o.z<=0)return;const c=e._innerRadii;if(c.x<=0||c.y<=0||c.z<=0)return;const _=e._minimumClock,C=e._maximumClock,b=e._minimumCone,A=e._maximumCone,E=e._vertexFormat;let w,T,x=e._slicePartitions+1,v=e._stackPartitions+1;x=Math.round(x*Math.abs(C-_)/i.CesiumMath.TWO_PI),v=Math.round(v*Math.abs(A-b)/i.CesiumMath.PI),x<2&&(x=2),v<2&&(v=2);let R=0;const O=[b],M=[_];for(w=0;w<v;w++)O.push(b+w*(A-b)/(v-1));for(O.push(A),T=0;T<x;T++)M.push(_+T*(C-_)/(x-1));M.push(C);const S=O.length,I=M.length;let P=0,N=1;const L=c.x!==o.x||c.y!==o.y||c.z!==o.z;let D=!1,F=!1,G=!1;L&&(N=2,b>0&&(D=!0,P+=x-1),A<Math.PI&&(F=!0,P+=x-1),(C-_)%i.CesiumMath.TWO_PI?(G=!0,P+=2*(v-1)+1):P+=1);const B=I*S*N,U=new Float64Array(3*B),k=t.arrayFill(new Array(B),!1),V=t.arrayFill(new Array(B),!1),z=x*v*N,j=6*(z+P+1-(x+v)*N),H=l.IndexDatatype.createTypedArray(z,j),q=E.normal?new Float32Array(3*B):void 0,W=E.tangent?new Float32Array(3*B):void 0,K=E.bitangent?new Float32Array(3*B):void 0,Y=E.st?new Float32Array(2*B):void 0,X=new Array(S),Z=new Array(S);for(w=0;w<S;w++)X[w]=g(O[w]),Z[w]=y(O[w]);const Q=new Array(I),$=new Array(I);for(T=0;T<I;T++)$[T]=y(M[T]),Q[T]=g(M[T]);for(w=0;w<S;w++)for(T=0;T<I;T++)U[R++]=o.x*X[w]*$[T],U[R++]=o.y*X[w]*Q[T],U[R++]=o.z*Z[w];let J,ee,te,ne,re=B/2;if(L)for(w=0;w<S;w++)for(T=0;T<I;T++)U[R++]=c.x*X[w]*$[T],U[R++]=c.y*X[w]*Q[T],U[R++]=c.z*Z[w],k[re]=!0,w>0&&w!==S-1&&0!==T&&T!==I-1&&(V[re]=!0),re++;for(R=0,w=1;w<S-2;w++)for(J=w*I,ee=(w+1)*I,T=1;T<I-2;T++)H[R++]=ee+T,H[R++]=ee+T+1,H[R++]=J+T+1,H[R++]=ee+T,H[R++]=J+T+1,H[R++]=J+T;if(L){const e=S*I;for(w=1;w<S-2;w++)for(J=e+w*I,ee=e+(w+1)*I,T=1;T<I-2;T++)H[R++]=ee+T,H[R++]=J+T,H[R++]=J+T+1,H[R++]=ee+T,H[R++]=J+T+1,H[R++]=ee+T+1}if(L){if(D)for(ne=S*I,w=1;w<I-2;w++)H[R++]=w,H[R++]=w+1,H[R++]=ne+w+1,H[R++]=w,H[R++]=ne+w+1,H[R++]=ne+w;if(F)for(te=S*I-I,ne=S*I*N-I,w=1;w<I-2;w++)H[R++]=te+w+1,H[R++]=te+w,H[R++]=ne+w,H[R++]=te+w+1,H[R++]=ne+w,H[R++]=ne+w+1}if(G){for(w=1;w<S-2;w++)ne=I*S+I*w,te=I*w,H[R++]=ne,H[R++]=te+I,H[R++]=te,H[R++]=ne,H[R++]=ne+I,H[R++]=te+I;for(w=1;w<S-2;w++)ne=I*S+I*(w+1)-1,te=I*(w+1)-1,H[R++]=te+I,H[R++]=ne,H[R++]=te,H[R++]=te+I,H[R++]=ne+I,H[R++]=ne}const ie=new u.GeometryAttributes;E.position&&(ie.position=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:U}));let ae=0,oe=0,se=0,ue=0;const le=B/2;let ce;const fe=r.Ellipsoid.fromCartesian3(o),de=r.Ellipsoid.fromCartesian3(c);if(E.st||E.normal||E.tangent||E.bitangent){for(w=0;w<B;w++){ce=k[w]?de:fe;const e=r.Cartesian3.fromArray(U,3*w,f),t=ce.geodeticSurfaceNormal(e,d);if(V[w]&&r.Cartesian3.negate(t,t),E.st){const e=r.Cartesian2.negate(t,m);Y[ae++]=Math.atan2(e.y,e.x)/i.CesiumMath.TWO_PI+.5,Y[ae++]=Math.asin(t.z)/Math.PI+.5}if(E.normal&&(q[oe++]=t.x,q[oe++]=t.y,q[oe++]=t.z),E.tangent||E.bitangent){const e=p;let n,i=0;if(k[w]&&(i=le),n=!D&&w>=i&&w<i+2*I?r.Cartesian3.UNIT_X:r.Cartesian3.UNIT_Z,r.Cartesian3.cross(n,t,e),r.Cartesian3.normalize(e,e),E.tangent&&(W[se++]=e.x,W[se++]=e.y,W[se++]=e.z),E.bitangent){const n=r.Cartesian3.cross(t,e,h);r.Cartesian3.normalize(n,n),K[ue++]=n.x,K[ue++]=n.y,K[ue++]=n.z}}}E.st&&(ie.st=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:Y})),E.normal&&(ie.normal=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:q})),E.tangent&&(ie.tangent=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:W})),E.bitangent&&(ie.bitangent=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:K}))}if(a.defined(e._offsetAttribute)){const n=U.length,r=new Uint8Array(n/3),a=e._offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;t.arrayFill(r,a),ie.applyOffset=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}return new s.Geometry({attributes:ie,indices:H,primitiveType:s.PrimitiveType.TRIANGLES,boundingSphere:n.BoundingSphere.fromEllipsoid(fe),offsetAttribute:e._offsetAttribute})},C.getUnitEllipsoid=function(){return a.defined(T)||(T=C.createGeometry(new C({radii:new r.Cartesian3(1,1,1),vertexFormat:c.VertexFormat.POSITION_ONLY}))),T},e.EllipsoidGeometry=C}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=n(112),i=n(114);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=C,t.resolve=function(e,t){return C(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?C(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=C(e));return e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),f=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(115);function C(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var C=e=l.join(s);if(C=C.trim(),!n&&1===e.split("#").length){var b=u.exec(C);if(b)return this.path=C,this.href=C,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var A=o.exec(C);if(A){var E=(A=A[0]).toLowerCase();this.protocol=E,C=C.substr(A.length)}if(n||A||C.match(/^\/\/[^@\/]+@[^@\/]+/)){var w="//"===C.substr(0,2);!w||A&&_[A]||(C=C.substr(2),this.slashes=!0)}if(!_[A]&&(w||A&&!y[A])){for(var T,x,v=-1,R=0;R<d.length;R++){-1!==(O=C.indexOf(d[R]))&&(-1===v||O<v)&&(v=O)}-1!==(x=-1===v?C.lastIndexOf("@"):C.lastIndexOf("@",v))&&(T=C.slice(0,x),C=C.slice(x+1),this.auth=decodeURIComponent(T)),v=-1;for(R=0;R<f.length;R++){var O;-1!==(O=C.indexOf(f[R]))&&(-1===v||O<v)&&(v=O)}-1===v&&(v=C.length),this.host=C.slice(0,v),C=C.slice(v),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var S=this.hostname.split(/\./),I=(R=0,S.length);R<I;R++){var P=S[R];if(P&&!P.match(p)){for(var N="",L=0,D=P.length;L<D;L++)P.charCodeAt(L)>127?N+="x":N+=P[L];if(!N.match(p)){var F=S.slice(0,R),G=S.slice(R+1),B=P.match(h);B&&(F.push(B[1]),G.unshift(B[2])),G.length&&(C="/"+G.join(".")+C),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+U,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==C[0]&&(C="/"+C))}if(!m[E])for(R=0,I=c.length;R<I;R++){var V=c[R];if(-1!==C.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),C=C.split(V).join(z)}}var j=C.indexOf("#");-1!==j&&(this.hash=C.substr(j),C=C.slice(0,j));var H=C.indexOf("?");if(-1!==H?(this.search=C.substr(H),this.query=C.substr(H+1),t&&(this.query=g.parse(this.query)),C=C.slice(0,H)):t&&(this.search="",this.query={}),C&&(this.pathname=C),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var q=this.search||"";this.path=U+q}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(C(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=e[c])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var C=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),A=b||C||n.host&&e.pathname,E=A,w=n.pathname&&n.pathname.split("/")||[],T=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),A=A&&(""===h[0]||""===w[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=h;else if(h.length)w||(w=[]),w.pop(),w=w.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(T)n.hostname=n.host=w.shift(),(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=w.slice(-1)[0],v=(n.host||e.host||w.length>1)&&("."===x||".."===x)||""===x,R=0,O=w.length;O>=0;O--)"."===(x=w[O])?w.splice(O,1):".."===x?(w.splice(O,1),R++):R&&(w.splice(O,1),R--);if(!A&&!E)for(;R--;R)w.unshift("..");!A||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),v&&"/"!==w.join("/").substr(-1)&&w.push("");var M,S=""===w[0]||w[0]&&"/"===w[0].charAt(0);T&&(n.hostname=n.host=S?"":w.length?w.shift():"",(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift()));return(A=A||n.host&&w.length)&&!S&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,a,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,a,o,s;if(l(n),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),a=e._events),o=a[t]),void 0===o)o=a[t]=n,++e._eventsCount;else if("function"==typeof o?o=a[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):_(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function _(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){r.once&&e.removeEventListener(t,i),n(a)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var l=u.length,c=_(u,l);for(n=0;n<l;++n)a(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,a,o;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(27),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r,i){var a=n(44);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:a.nextTick;g.WritableState=y;var l=Object.create(n(38));l.inherits=n(31);var c={deprecate:n(125)},f=n(99),d=n(49).Buffer,p=i.Uint8Array||function(){};var h,m=n(100);function _(){}function y(e,t){s=s||n(34),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(l||0===l)?l:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(a.nextTick(i,r),a.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),T(e,t))}(e,n,r,t,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||A(e,n),r?u(b,e,n,o,i):b(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function g(e){if(s=s||n(34),!(h.call(g,this)||this instanceof s))return new g(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function C(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function b(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function A(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,C(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,c=n.encoding,f=n.callback;if(C(e,t,!1,t.objectMode?1:l.length,l,c,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=E(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}l.inherits(g,f),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(h=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!h.call(this,e)||this===g&&(e&&e._writableState instanceof y)}})):h=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,s=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof p);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=_),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),a.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(r,o),i=!1),i}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,a){if(!n){var o=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n));return t}(t,r,i);r!==o&&(n=!0,i="buffer",r=o)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else C(e,t,!1,s,r,i,a);return u}(this,i,s,e,t,n)),o},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||A(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?a.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(28),n(123).setImmediate,n(21))},function(e,t,n){var r,i;r=[t,n(12),n(4),n(2),n(1),n(3),n(0),n(6),n(8),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l){"use strict";const c=new r.Cartesian3;function f(e){const t=(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).minimum,n=e.maximum,i=o.defaultValue(e.vertexFormat,l.VertexFormat.DEFAULT);this._minimum=r.Cartesian3.clone(t),this._maximum=r.Cartesian3.clone(n),this._vertexFormat=i,this._offsetAttribute=e.offsetAttribute,this._workerName="createBoxGeometry"}f.fromDimensions=function(e){const t=(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).dimensions,n=r.Cartesian3.multiplyByScalar(t,.5,new r.Cartesian3);return new f({minimum:r.Cartesian3.negate(n,new r.Cartesian3),maximum:n,vertexFormat:e.vertexFormat,offsetAttribute:e.offsetAttribute})},f.fromAxisAlignedBoundingBox=function(e){return new f({minimum:e.minimum,maximum:e.maximum})},f.packedLength=2*r.Cartesian3.packedLength+l.VertexFormat.packedLength+1,f.pack=function(e,t,n){return n=o.defaultValue(n,0),r.Cartesian3.pack(e._minimum,t,n),r.Cartesian3.pack(e._maximum,t,n+r.Cartesian3.packedLength),l.VertexFormat.pack(e._vertexFormat,t,n+2*r.Cartesian3.packedLength),t[n+2*r.Cartesian3.packedLength+l.VertexFormat.packedLength]=o.defaultValue(e._offsetAttribute,-1),t};const d=new r.Cartesian3,p=new r.Cartesian3,h=new l.VertexFormat,m={minimum:d,maximum:p,vertexFormat:h,offsetAttribute:void 0};let _;f.unpack=function(e,t,n){t=o.defaultValue(t,0);const i=r.Cartesian3.unpack(e,t,d),a=r.Cartesian3.unpack(e,t+r.Cartesian3.packedLength,p),s=l.VertexFormat.unpack(e,t+2*r.Cartesian3.packedLength,h),u=e[t+2*r.Cartesian3.packedLength+l.VertexFormat.packedLength];return o.defined(n)?(n._minimum=r.Cartesian3.clone(i,n._minimum),n._maximum=r.Cartesian3.clone(a,n._maximum),n._vertexFormat=l.VertexFormat.clone(s,n._vertexFormat),n._offsetAttribute=-1===u?void 0:u,n):(m.offsetAttribute=-1===u?void 0:u,new f(m))},f.createGeometry=function(e){const i=e._minimum,l=e._maximum,f=e._vertexFormat;if(r.Cartesian3.equals(i,l))return;const d=new u.GeometryAttributes;let p,h;if(f.position&&(f.st||f.normal||f.tangent||f.bitangent)){if(f.position&&(h=new Float64Array(72),h[0]=i.x,h[1]=i.y,h[2]=l.z,h[3]=l.x,h[4]=i.y,h[5]=l.z,h[6]=l.x,h[7]=l.y,h[8]=l.z,h[9]=i.x,h[10]=l.y,h[11]=l.z,h[12]=i.x,h[13]=i.y,h[14]=i.z,h[15]=l.x,h[16]=i.y,h[17]=i.z,h[18]=l.x,h[19]=l.y,h[20]=i.z,h[21]=i.x,h[22]=l.y,h[23]=i.z,h[24]=l.x,h[25]=i.y,h[26]=i.z,h[27]=l.x,h[28]=l.y,h[29]=i.z,h[30]=l.x,h[31]=l.y,h[32]=l.z,h[33]=l.x,h[34]=i.y,h[35]=l.z,h[36]=i.x,h[37]=i.y,h[38]=i.z,h[39]=i.x,h[40]=l.y,h[41]=i.z,h[42]=i.x,h[43]=l.y,h[44]=l.z,h[45]=i.x,h[46]=i.y,h[47]=l.z,h[48]=i.x,h[49]=l.y,h[50]=i.z,h[51]=l.x,h[52]=l.y,h[53]=i.z,h[54]=l.x,h[55]=l.y,h[56]=l.z,h[57]=i.x,h[58]=l.y,h[59]=l.z,h[60]=i.x,h[61]=i.y,h[62]=i.z,h[63]=l.x,h[64]=i.y,h[65]=i.z,h[66]=l.x,h[67]=i.y,h[68]=l.z,h[69]=i.x,h[70]=i.y,h[71]=l.z,d.position=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:h})),f.normal){const e=new Float32Array(72);e[0]=0,e[1]=0,e[2]=1,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=1,e[9]=0,e[10]=0,e[11]=1,e[12]=0,e[13]=0,e[14]=-1,e[15]=0,e[16]=0,e[17]=-1,e[18]=0,e[19]=0,e[20]=-1,e[21]=0,e[22]=0,e[23]=-1,e[24]=1,e[25]=0,e[26]=0,e[27]=1,e[28]=0,e[29]=0,e[30]=1,e[31]=0,e[32]=0,e[33]=1,e[34]=0,e[35]=0,e[36]=-1,e[37]=0,e[38]=0,e[39]=-1,e[40]=0,e[41]=0,e[42]=-1,e[43]=0,e[44]=0,e[45]=-1,e[46]=0,e[47]=0,e[48]=0,e[49]=1,e[50]=0,e[51]=0,e[52]=1,e[53]=0,e[54]=0,e[55]=1,e[56]=0,e[57]=0,e[58]=1,e[59]=0,e[60]=0,e[61]=-1,e[62]=0,e[63]=0,e[64]=-1,e[65]=0,e[66]=0,e[67]=-1,e[68]=0,e[69]=0,e[70]=-1,e[71]=0,d.normal=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})}if(f.st){const e=new Float32Array(48);e[0]=0,e[1]=0,e[2]=1,e[3]=0,e[4]=1,e[5]=1,e[6]=0,e[7]=1,e[8]=1,e[9]=0,e[10]=0,e[11]=0,e[12]=0,e[13]=1,e[14]=1,e[15]=1,e[16]=0,e[17]=0,e[18]=1,e[19]=0,e[20]=1,e[21]=1,e[22]=0,e[23]=1,e[24]=1,e[25]=0,e[26]=0,e[27]=0,e[28]=0,e[29]=1,e[30]=1,e[31]=1,e[32]=1,e[33]=0,e[34]=0,e[35]=0,e[36]=0,e[37]=1,e[38]=1,e[39]=1,e[40]=0,e[41]=0,e[42]=1,e[43]=0,e[44]=1,e[45]=1,e[46]=0,e[47]=1,d.st=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:e})}if(f.tangent){const e=new Float32Array(72);e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=1,e[7]=0,e[8]=0,e[9]=1,e[10]=0,e[11]=0,e[12]=-1,e[13]=0,e[14]=0,e[15]=-1,e[16]=0,e[17]=0,e[18]=-1,e[19]=0,e[20]=0,e[21]=-1,e[22]=0,e[23]=0,e[24]=0,e[25]=1,e[26]=0,e[27]=0,e[28]=1,e[29]=0,e[30]=0,e[31]=1,e[32]=0,e[33]=0,e[34]=1,e[35]=0,e[36]=0,e[37]=-1,e[38]=0,e[39]=0,e[40]=-1,e[41]=0,e[42]=0,e[43]=-1,e[44]=0,e[45]=0,e[46]=-1,e[47]=0,e[48]=-1,e[49]=0,e[50]=0,e[51]=-1,e[52]=0,e[53]=0,e[54]=-1,e[55]=0,e[56]=0,e[57]=-1,e[58]=0,e[59]=0,e[60]=1,e[61]=0,e[62]=0,e[63]=1,e[64]=0,e[65]=0,e[66]=1,e[67]=0,e[68]=0,e[69]=1,e[70]=0,e[71]=0,d.tangent=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})}if(f.bitangent){const e=new Float32Array(72);e[0]=0,e[1]=1,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=1,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=1,e[14]=0,e[15]=0,e[16]=1,e[17]=0,e[18]=0,e[19]=1,e[20]=0,e[21]=0,e[22]=1,e[23]=0,e[24]=0,e[25]=0,e[26]=1,e[27]=0,e[28]=0,e[29]=1,e[30]=0,e[31]=0,e[32]=1,e[33]=0,e[34]=0,e[35]=1,e[36]=0,e[37]=0,e[38]=1,e[39]=0,e[40]=0,e[41]=1,e[42]=0,e[43]=0,e[44]=1,e[45]=0,e[46]=0,e[47]=1,e[48]=0,e[49]=0,e[50]=1,e[51]=0,e[52]=0,e[53]=1,e[54]=0,e[55]=0,e[56]=1,e[57]=0,e[58]=0,e[59]=1,e[60]=0,e[61]=0,e[62]=1,e[63]=0,e[64]=0,e[65]=1,e[66]=0,e[67]=0,e[68]=1,e[69]=0,e[70]=0,e[71]=1,d.bitangent=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})}p=new Uint16Array(36),p[0]=0,p[1]=1,p[2]=2,p[3]=0,p[4]=2,p[5]=3,p[6]=6,p[7]=5,p[8]=4,p[9]=7,p[10]=6,p[11]=4,p[12]=8,p[13]=9,p[14]=10,p[15]=8,p[16]=10,p[17]=11,p[18]=14,p[19]=13,p[20]=12,p[21]=15,p[22]=14,p[23]=12,p[24]=18,p[25]=17,p[26]=16,p[27]=19,p[28]=18,p[29]=16,p[30]=20,p[31]=21,p[32]=22,p[33]=20,p[34]=22,p[35]=23}else h=new Float64Array(24),h[0]=i.x,h[1]=i.y,h[2]=i.z,h[3]=l.x,h[4]=i.y,h[5]=i.z,h[6]=l.x,h[7]=l.y,h[8]=i.z,h[9]=i.x,h[10]=l.y,h[11]=i.z,h[12]=i.x,h[13]=i.y,h[14]=l.z,h[15]=l.x,h[16]=i.y,h[17]=l.z,h[18]=l.x,h[19]=l.y,h[20]=l.z,h[21]=i.x,h[22]=l.y,h[23]=l.z,d.position=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:h}),p=new Uint16Array(36),p[0]=4,p[1]=5,p[2]=6,p[3]=4,p[4]=6,p[5]=7,p[6]=1,p[7]=0,p[8]=3,p[9]=1,p[10]=3,p[11]=2,p[12]=1,p[13]=6,p[14]=5,p[15]=1,p[16]=2,p[17]=6,p[18]=2,p[19]=3,p[20]=7,p[21]=2,p[22]=7,p[23]=6,p[24]=3,p[25]=0,p[26]=4,p[27]=3,p[28]=4,p[29]=7,p[30]=0,p[31]=1,p[32]=5,p[33]=0,p[34]=5,p[35]=4;const m=r.Cartesian3.subtract(l,i,c),_=.5*r.Cartesian3.magnitude(m);if(o.defined(e._offsetAttribute)){const n=h.length,r=new Uint8Array(n/3),i=e._offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;t.arrayFill(r,i),d.applyOffset=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}return new s.Geometry({attributes:d,indices:p,primitiveType:s.PrimitiveType.TRIANGLES,boundingSphere:new n.BoundingSphere(r.Cartesian3.ZERO,_),offsetAttribute:e._offsetAttribute})},f.getUnitBox=function(){return o.defined(_)||(_=f.createGeometry(f.fromDimensions({dimensions:new r.Cartesian3(1,1,1),vertexFormat:l.VertexFormat.POSITION_ONLY}))),_},e.BoxGeometry=f}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(1),n(32)],void 0===(i=function(e,t,n,r){"use strict";const i={},a=new t.Cartesian3,o=new t.Cartesian3,s=new t.Cartesian3,u=new t.Cartesian3,l=new r.OrientedBoundingBox;function c(e,n,r,i,o){const s=t.Cartesian3.subtract(e,n,a),u=t.Cartesian3.dot(r,s),l=t.Cartesian3.dot(i,s);return t.Cartesian2.fromElements(u,l,o)}i.validOutline=function(e){const n=r.OrientedBoundingBox.fromPoints(e,l).halfAxes,i=t.Matrix3.getColumn(n,0,o),a=t.Matrix3.getColumn(n,1,s),c=t.Matrix3.getColumn(n,2,u),f=t.Cartesian3.magnitude(i),d=t.Cartesian3.magnitude(a),p=t.Cartesian3.magnitude(c);return!(0===f&&(0===d||0===p)||0===d&&0===p)},i.computeProjectTo2DArguments=function(e,n,i,a){const c=r.OrientedBoundingBox.fromPoints(e,l),f=c.halfAxes,d=t.Matrix3.getColumn(f,0,o),p=t.Matrix3.getColumn(f,1,s),h=t.Matrix3.getColumn(f,2,u),m=t.Cartesian3.magnitude(d),_=t.Cartesian3.magnitude(p),y=t.Cartesian3.magnitude(h),g=Math.min(m,_,y);if(0===m&&(0===_||0===y)||0===_&&0===y)return!1;let C,b;return g!==_&&g!==y||(C=d),g===m?C=p:g===y&&(b=p),g!==m&&g!==_||(b=h),t.Cartesian3.normalize(C,i),t.Cartesian3.normalize(b,a),t.Cartesian3.clone(c.center,n),!0},i.createProjectPointsTo2DFunction=function(e,t,n){return function(r){const i=new Array(r.length);for(let a=0;a<r.length;a++)i[a]=c(r[a],e,t,n);return i}},i.createProjectPointTo2DFunction=function(e,t,n){return function(r,i){return c(r,e,t,n,i)}},e.CoplanarPolygonGeometryLibrary=i}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(36),n(0),n(3),n(24),n(4)],void 0===(i=function(e,t,n,r,i,a,o){"use strict";const s={},u=new t.Cartesian3,l=new t.Cartesian3,c=new t.Cartesian3,f=new t.Cartesian3,d=[new t.Cartesian3,new t.Cartesian3],p=new t.Cartesian3,h=new t.Cartesian3,m=new t.Cartesian3,_=new t.Cartesian3,y=new t.Cartesian3,g=new t.Cartesian3,C=new t.Cartesian3,b=new t.Cartesian3,A=new t.Cartesian3,E=new t.Cartesian3,w=new o.Quaternion,T=new t.Matrix3;function x(e,r,a,s,c){const f=t.Cartesian3.angleBetween(t.Cartesian3.subtract(r,e,u),t.Cartesian3.subtract(a,e,l)),d=s===n.CornerType.BEVELED?1:Math.ceil(f/i.CesiumMath.toRadians(5))+1,p=3*d,h=new Array(p);let m;h[p-3]=a.x,h[p-2]=a.y,h[p-1]=a.z,m=c?t.Matrix3.fromQuaternion(o.Quaternion.fromAxisAngle(t.Cartesian3.negate(e,u),f/d,w),T):t.Matrix3.fromQuaternion(o.Quaternion.fromAxisAngle(e,f/d,w),T);let _=0;r=t.Cartesian3.clone(r,u);for(let e=0;e<d;e++)r=t.Matrix3.multiplyByVector(m,r,r),h[_++]=r.x,h[_++]=r.y,h[_++]=r.z;return h}function v(e,n,r,i){let a=u;return i||(n=t.Cartesian3.negate(n,n)),a=t.Cartesian3.add(e,n,a),[a.x,a.y,a.z,r.x,r.y,r.z]}function R(e,n,r,i){const a=new Array(e.length),o=new Array(e.length),s=t.Cartesian3.multiplyByScalar(n,r,u),d=t.Cartesian3.negate(s,l);let p=0,h=e.length-1;for(let n=0;n<e.length;n+=3){const r=t.Cartesian3.fromArray(e,n,c),i=t.Cartesian3.add(r,d,f);a[p++]=i.x,a[p++]=i.y,a[p++]=i.z;const u=t.Cartesian3.add(r,s,f);o[h--]=u.z,o[h--]=u.y,o[h--]=u.x}return i.push(a,o),i}s.addAttribute=function(e,t,n,i){const a=t.x,o=t.y,s=t.z;r.defined(n)&&(e[n]=a,e[n+1]=o,e[n+2]=s),r.defined(i)&&(e[i]=s,e[i-1]=o,e[i-2]=a)};const O=new t.Cartesian3,M=new t.Cartesian3;s.computePositions=function(e){const r=e.granularity,o=e.positions,s=e.ellipsoid,l=e.width/2,c=e.cornerType,f=e.saveAttributes;let w=p,T=h,S=m,I=_,P=y,N=g,L=C,D=b,F=A,G=E,B=[];const U=f?[]:void 0,k=f?[]:void 0;let V,z=o[0],j=o[1];T=t.Cartesian3.normalize(t.Cartesian3.subtract(j,z,T),T),w=s.geodeticSurfaceNormal(z,w),I=t.Cartesian3.normalize(t.Cartesian3.cross(w,T,I),I),f&&(U.push(I.x,I.y,I.z),k.push(w.x,w.y,w.z)),L=t.Cartesian3.clone(z,L),z=j,S=t.Cartesian3.negate(T,S);const H=[];let q;const W=o.length;for(q=1;q<W-1;q++){w=s.geodeticSurfaceNormal(z,w),j=o[q+1],T=t.Cartesian3.normalize(t.Cartesian3.subtract(j,z,T),T),P=t.Cartesian3.normalize(t.Cartesian3.add(T,S,P),P);const e=t.Cartesian3.multiplyByScalar(w,t.Cartesian3.dot(T,w),O);t.Cartesian3.subtract(T,e,e),t.Cartesian3.normalize(e,e);const p=t.Cartesian3.multiplyByScalar(w,t.Cartesian3.dot(S,w),M);t.Cartesian3.subtract(S,p,p),t.Cartesian3.normalize(p,p);if(!i.CesiumMath.equalsEpsilon(Math.abs(t.Cartesian3.dot(e,p)),1,i.CesiumMath.EPSILON7)){P=t.Cartesian3.cross(P,w,P),P=t.Cartesian3.cross(w,P,P),P=t.Cartesian3.normalize(P,P);const e=l/Math.max(.25,t.Cartesian3.magnitude(t.Cartesian3.cross(P,S,u))),i=n.PolylineVolumeGeometryLibrary.angleIsGreaterThanPi(T,S,z,s);P=t.Cartesian3.multiplyByScalar(P,e,P),i?(D=t.Cartesian3.add(z,P,D),G=t.Cartesian3.add(D,t.Cartesian3.multiplyByScalar(I,l,G),G),F=t.Cartesian3.add(D,t.Cartesian3.multiplyByScalar(I,2*l,F),F),d[0]=t.Cartesian3.clone(L,d[0]),d[1]=t.Cartesian3.clone(G,d[1]),V=a.PolylinePipeline.generateArc({positions:d,granularity:r,ellipsoid:s}),B=R(V,I,l,B),f&&(U.push(I.x,I.y,I.z),k.push(w.x,w.y,w.z)),N=t.Cartesian3.clone(F,N),I=t.Cartesian3.normalize(t.Cartesian3.cross(w,T,I),I),F=t.Cartesian3.add(D,t.Cartesian3.multiplyByScalar(I,2*l,F),F),L=t.Cartesian3.add(D,t.Cartesian3.multiplyByScalar(I,l,L),L),c===n.CornerType.ROUNDED||c===n.CornerType.BEVELED?H.push({leftPositions:x(D,N,F,c,i)}):H.push({leftPositions:v(z,t.Cartesian3.negate(P,P),F,i)})):(F=t.Cartesian3.add(z,P,F),G=t.Cartesian3.add(F,t.Cartesian3.negate(t.Cartesian3.multiplyByScalar(I,l,G),G),G),D=t.Cartesian3.add(F,t.Cartesian3.negate(t.Cartesian3.multiplyByScalar(I,2*l,D),D),D),d[0]=t.Cartesian3.clone(L,d[0]),d[1]=t.Cartesian3.clone(G,d[1]),V=a.PolylinePipeline.generateArc({positions:d,granularity:r,ellipsoid:s}),B=R(V,I,l,B),f&&(U.push(I.x,I.y,I.z),k.push(w.x,w.y,w.z)),N=t.Cartesian3.clone(D,N),I=t.Cartesian3.normalize(t.Cartesian3.cross(w,T,I),I),D=t.Cartesian3.add(F,t.Cartesian3.negate(t.Cartesian3.multiplyByScalar(I,2*l,D),D),D),L=t.Cartesian3.add(F,t.Cartesian3.negate(t.Cartesian3.multiplyByScalar(I,l,L),L),L),c===n.CornerType.ROUNDED||c===n.CornerType.BEVELED?H.push({rightPositions:x(F,N,D,c,i)}):H.push({rightPositions:v(z,P,D,i)})),S=t.Cartesian3.negate(T,S)}z=j}let K;return w=s.geodeticSurfaceNormal(z,w),d[0]=t.Cartesian3.clone(L,d[0]),d[1]=t.Cartesian3.clone(z,d[1]),V=a.PolylinePipeline.generateArc({positions:d,granularity:r,ellipsoid:s}),B=R(V,I,l,B),f&&(U.push(I.x,I.y,I.z),k.push(w.x,w.y,w.z)),c===n.CornerType.ROUNDED&&(K=function(e){let r=p,i=h,a=m,o=e[1];i=t.Cartesian3.fromArray(e[1],o.length-3,i),a=t.Cartesian3.fromArray(e[0],0,a),r=t.Cartesian3.midpoint(i,a,r);const s=x(r,i,a,n.CornerType.ROUNDED,!1),u=e.length-1,l=e[u-1];return o=e[u],i=t.Cartesian3.fromArray(l,l.length-3,i),a=t.Cartesian3.fromArray(o,0,a),r=t.Cartesian3.midpoint(i,a,r),[s,x(r,i,a,n.CornerType.ROUNDED,!1)]}(B)),{positions:B,corners:H,lefts:U,normals:k,endPositions:K}},e.CorridorGeometryLibrary=s}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(12),n(4),n(2),n(3),n(41),n(0),n(1),n(6),n(8),n(10),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f){"use strict";const d=new r.Cartesian2,p=new r.Cartesian3,h=new r.Cartesian3,m=new r.Cartesian3,_=new r.Cartesian3;function y(e){const t=(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).length,n=e.topRadius,r=e.bottomRadius,i=o.defaultValue(e.vertexFormat,f.VertexFormat.DEFAULT),a=o.defaultValue(e.slices,128);this._length=t,this._topRadius=n,this._bottomRadius=r,this._vertexFormat=f.VertexFormat.clone(i),this._slices=a,this._offsetAttribute=e.offsetAttribute,this._workerName="createCylinderGeometry"}y.packedLength=f.VertexFormat.packedLength+5,y.pack=function(e,t,n){return n=o.defaultValue(n,0),f.VertexFormat.pack(e._vertexFormat,t,n),n+=f.VertexFormat.packedLength,t[n++]=e._length,t[n++]=e._topRadius,t[n++]=e._bottomRadius,t[n++]=e._slices,t[n]=o.defaultValue(e._offsetAttribute,-1),t};const g=new f.VertexFormat,C={vertexFormat:g,length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,offsetAttribute:void 0};let b;y.unpack=function(e,t,n){t=o.defaultValue(t,0);const r=f.VertexFormat.unpack(e,t,g);t+=f.VertexFormat.packedLength;const i=e[t++],a=e[t++],s=e[t++],u=e[t++],l=e[t];return o.defined(n)?(n._vertexFormat=f.VertexFormat.clone(r,n._vertexFormat),n._length=i,n._topRadius=a,n._bottomRadius=s,n._slices=u,n._offsetAttribute=-1===l?void 0:l,n):(C.length=i,C.topRadius=a,C.bottomRadius=s,C.slices=u,C.offsetAttribute=-1===l?void 0:l,new y(C))},y.createGeometry=function(e){let s=e._length;const f=e._topRadius,y=e._bottomRadius,g=e._vertexFormat,C=e._slices;if(s<=0||f<0||y<0||0===f&&0===y)return;const b=C+C,A=C+b,E=b+b,w=a.CylinderGeometryLibrary.computePositions(s,f,y,C,!0),T=g.st?new Float32Array(2*E):void 0,x=g.normal?new Float32Array(3*E):void 0,v=g.tangent?new Float32Array(3*E):void 0,R=g.bitangent?new Float32Array(3*E):void 0;let O;const M=g.normal||g.tangent||g.bitangent;if(M){const e=g.tangent||g.bitangent;let t=0,n=0,a=0;const o=Math.atan2(y-f,s),u=p;u.z=Math.sin(o);const l=Math.cos(o);let c=m,d=h;for(O=0;O<C;O++){const o=O/C*i.CesiumMath.TWO_PI,s=l*Math.cos(o),f=l*Math.sin(o);M&&(u.x=s,u.y=f,e&&(c=r.Cartesian3.normalize(r.Cartesian3.cross(r.Cartesian3.UNIT_Z,u,c),c)),g.normal&&(x[t++]=u.x,x[t++]=u.y,x[t++]=u.z,x[t++]=u.x,x[t++]=u.y,x[t++]=u.z),g.tangent&&(v[n++]=c.x,v[n++]=c.y,v[n++]=c.z,v[n++]=c.x,v[n++]=c.y,v[n++]=c.z),g.bitangent&&(d=r.Cartesian3.normalize(r.Cartesian3.cross(u,c,d),d),R[a++]=d.x,R[a++]=d.y,R[a++]=d.z,R[a++]=d.x,R[a++]=d.y,R[a++]=d.z))}for(O=0;O<C;O++)g.normal&&(x[t++]=0,x[t++]=0,x[t++]=-1),g.tangent&&(v[n++]=1,v[n++]=0,v[n++]=0),g.bitangent&&(R[a++]=0,R[a++]=-1,R[a++]=0);for(O=0;O<C;O++)g.normal&&(x[t++]=0,x[t++]=0,x[t++]=1),g.tangent&&(v[n++]=1,v[n++]=0,v[n++]=0),g.bitangent&&(R[a++]=0,R[a++]=1,R[a++]=0)}const S=12*C-12,I=c.IndexDatatype.createTypedArray(E,S);let P=0,N=0;for(O=0;O<C-1;O++)I[P++]=N,I[P++]=N+2,I[P++]=N+3,I[P++]=N,I[P++]=N+3,I[P++]=N+1,N+=2;for(I[P++]=b-2,I[P++]=0,I[P++]=1,I[P++]=b-2,I[P++]=1,I[P++]=b-1,O=1;O<C-1;O++)I[P++]=b+O+1,I[P++]=b+O,I[P++]=b;for(O=1;O<C-1;O++)I[P++]=A,I[P++]=A+O,I[P++]=A+O+1;let L=0;if(g.st){const e=Math.max(f,y);for(O=0;O<E;O++){const t=r.Cartesian3.fromArray(w,3*O,_);T[L++]=(t.x+e)/(2*e),T[L++]=(t.y+e)/(2*e)}}const D=new l.GeometryAttributes;g.position&&(D.position=new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:w})),g.normal&&(D.normal=new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:x})),g.tangent&&(D.tangent=new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:v})),g.bitangent&&(D.bitangent=new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:R})),g.st&&(D.st=new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:T})),d.x=.5*s,d.y=Math.max(y,f);const F=new n.BoundingSphere(r.Cartesian3.ZERO,r.Cartesian2.magnitude(d));if(o.defined(e._offsetAttribute)){s=w.length;const n=new Uint8Array(s/3),r=e._offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;t.arrayFill(n,r),D.applyOffset=new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}return new u.Geometry({attributes:D,indices:I,primitiveType:u.PrimitiveType.TRIANGLES,boundingSphere:F,offsetAttribute:e._offsetAttribute})},y.getUnitCylinder=function(){return o.defined(b)||(b=y.createGeometry(new y({topRadius:1,bottomRadius:1,length:1,vertexFormat:f.VertexFormat.POSITION_ONLY}))),b},e.CylinderGeometry=y}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(12),n(4),n(2),n(1),n(3),n(0),n(35),n(6),n(8),n(30),n(22),n(10),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p){"use strict";const h=new r.Cartesian3,m=new r.Cartesian3,_=new r.Cartesian3,y=new r.Cartesian3,g=new r.Cartesian2,C=new r.Matrix3,b=new r.Matrix3,A=new n.Quaternion,E=new r.Cartesian3,w=new r.Cartesian3,T=new r.Cartesian3,x=new r.Cartographic,v=new r.Cartesian3,R=new r.Cartesian2,O=new r.Cartesian2;function M(e,i,c){const f=i.vertexFormat,d=i.center,p=i.semiMajorAxis,y=i.semiMinorAxis,M=i.ellipsoid,S=i.stRotation,I=c?e.length/3*2:e.length/3,P=i.shadowVolume,N=f.st?new Float32Array(2*I):void 0,L=f.normal?new Float32Array(3*I):void 0,D=f.tangent?new Float32Array(3*I):void 0,F=f.bitangent?new Float32Array(3*I):void 0,G=P?new Float32Array(3*I):void 0;let B=0,U=E,k=w,V=T;const z=new n.GeographicProjection(M),j=z.project(M.cartesianToCartographic(d,x),v),H=M.scaleToGeodeticSurface(d,h);M.geodeticSurfaceNormal(H,H);let q=C,W=b;if(0!==S){let e=n.Quaternion.fromAxisAngle(H,S,A);q=r.Matrix3.fromQuaternion(e,q),e=n.Quaternion.fromAxisAngle(H,-S,A),W=r.Matrix3.fromQuaternion(e,W)}else q=r.Matrix3.clone(r.Matrix3.IDENTITY,q),W=r.Matrix3.clone(r.Matrix3.IDENTITY,W);const K=r.Cartesian2.fromElements(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,R),Y=r.Cartesian2.fromElements(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,O);let X=e.length;const Z=c?X:0,Q=Z/3*2;for(let t=0;t<X;t+=3){const n=t+1,i=t+2,a=r.Cartesian3.fromArray(e,t,h);if(f.st){const e=r.Matrix3.multiplyByVector(q,a,m),t=z.project(M.cartesianToCartographic(e,x),_);r.Cartesian3.subtract(t,j,t),g.x=(t.x+p)/(2*p),g.y=(t.y+y)/(2*y),K.x=Math.min(g.x,K.x),K.y=Math.min(g.y,K.y),Y.x=Math.max(g.x,Y.x),Y.y=Math.max(g.y,Y.y),c&&(N[B+Q]=g.x,N[B+1+Q]=g.y),N[B++]=g.x,N[B++]=g.y}(f.normal||f.tangent||f.bitangent||P)&&(U=M.geodeticSurfaceNormal(a,U),P&&(G[t+Z]=-U.x,G[n+Z]=-U.y,G[i+Z]=-U.z),(f.normal||f.tangent||f.bitangent)&&((f.tangent||f.bitangent)&&(k=r.Cartesian3.normalize(r.Cartesian3.cross(r.Cartesian3.UNIT_Z,U,k),k),r.Matrix3.multiplyByVector(W,k,k)),f.normal&&(L[t]=U.x,L[n]=U.y,L[i]=U.z,c&&(L[t+Z]=-U.x,L[n+Z]=-U.y,L[i+Z]=-U.z)),f.tangent&&(D[t]=k.x,D[n]=k.y,D[i]=k.z,c&&(D[t+Z]=-k.x,D[n+Z]=-k.y,D[i+Z]=-k.z)),f.bitangent&&(V=r.Cartesian3.normalize(r.Cartesian3.cross(U,k,V),V),F[t]=V.x,F[n]=V.y,F[i]=V.z,c&&(F[t+Z]=V.x,F[n+Z]=V.y,F[i+Z]=V.z))))}if(f.st){X=N.length;for(let e=0;e<X;e+=2)N[e]=(N[e]-K.x)/(Y.x-K.x),N[e+1]=(N[e+1]-K.y)/(Y.y-K.y)}const $=new l.GeometryAttributes;if(f.position){const t=s.EllipseGeometryLibrary.raisePositionsToHeight(e,i,c);$.position=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:t})}if(f.st&&($.st=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:N})),f.normal&&($.normal=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:L})),f.tangent&&($.tangent=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:D})),f.bitangent&&($.bitangent=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:F})),P&&($.extrudeDirection=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:G})),c&&o.defined(i.offsetAttribute)){let e=new Uint8Array(I);if(i.offsetAttribute===t.GeometryOffsetAttribute.TOP)e=t.arrayFill(e,1,0,I/2);else{const n=i.offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;e=t.arrayFill(e,n)}$.applyOffset=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:e})}return $}function S(e){const t=new Array(e*(e+1)*12-6);let n,r,i,a,o,s=0;for(n=0,i=1,a=0;a<3;a++)t[s++]=i++,t[s++]=n,t[s++]=i;for(a=2;a<e+1;++a){for(i=a*(a+1)-1,n=(a-1)*a-1,t[s++]=i++,t[s++]=n,t[s++]=i,r=2*a,o=0;o<r-1;++o)t[s++]=i,t[s++]=n++,t[s++]=n,t[s++]=i++,t[s++]=n,t[s++]=i;t[s++]=i++,t[s++]=n,t[s++]=i}for(r=2*e,++i,++n,a=0;a<r-1;++a)t[s++]=i,t[s++]=n++,t[s++]=n,t[s++]=i++,t[s++]=n,t[s++]=i;for(t[s++]=i,t[s++]=n++,t[s++]=n,t[s++]=i++,t[s++]=n++,t[s++]=n,++n,a=e-1;a>1;--a){for(t[s++]=n++,t[s++]=n,t[s++]=i,r=2*a,o=0;o<r-1;++o)t[s++]=i,t[s++]=n++,t[s++]=n,t[s++]=i++,t[s++]=n,t[s++]=i;t[s++]=n++,t[s++]=n++,t[s++]=i++}for(a=0;a<3;a++)t[s++]=n++,t[s++]=n,t[s++]=i;return t}let I=new r.Cartesian3;const P=new n.BoundingSphere,N=new n.BoundingSphere;function L(e){const i=e.center,p=e.ellipsoid,b=e.semiMajorAxis;let I=r.Cartesian3.multiplyByScalar(p.geodeticSurfaceNormal(i,h),e.height,h);P.center=r.Cartesian3.add(i,I,P.center),P.radius=b,I=r.Cartesian3.multiplyByScalar(p.geodeticSurfaceNormal(i,I),e.extrudedHeight,I),N.center=r.Cartesian3.add(i,I,N.center),N.radius=b;const L=s.EllipseGeometryLibrary.computeEllipsePositions(e,!0,!0),D=L.positions,F=L.numPts,G=L.outerPositions,B=n.BoundingSphere.union(P,N),U=M(D,e,!0);let k=S(F);const V=k.length;k.length=2*V;const z=D.length/3;for(let e=0;e<V;e+=3)k[e+V]=k[e+2]+z,k[e+1+V]=k[e+1]+z,k[e+2+V]=k[e]+z;const j=d.IndexDatatype.createTypedArray(2*z/3,k),H=new u.Geometry({attributes:U,indices:j,primitiveType:u.PrimitiveType.TRIANGLES}),q=function(e,i){const s=i.vertexFormat,c=i.center,f=i.semiMajorAxis,d=i.semiMinorAxis,p=i.ellipsoid,b=i.height,M=i.extrudedHeight,S=i.stRotation,I=e.length/3*2,P=new Float64Array(3*I),N=s.st?new Float32Array(2*I):void 0,L=s.normal?new Float32Array(3*I):void 0,D=s.tangent?new Float32Array(3*I):void 0,F=s.bitangent?new Float32Array(3*I):void 0,G=i.shadowVolume,B=G?new Float32Array(3*I):void 0;let U=0,k=E,V=w,z=T;const j=new n.GeographicProjection(p),H=j.project(p.cartesianToCartographic(c,x),v),q=p.scaleToGeodeticSurface(c,h);p.geodeticSurfaceNormal(q,q);const W=n.Quaternion.fromAxisAngle(q,S,A),K=r.Matrix3.fromQuaternion(W,C),Y=r.Cartesian2.fromElements(Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,R),X=r.Cartesian2.fromElements(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,O);let Z=e.length;const Q=Z/3*2;for(let t=0;t<Z;t+=3){const n=t+1,i=t+2;let a,o=r.Cartesian3.fromArray(e,t,h);if(s.st){const e=r.Matrix3.multiplyByVector(K,o,m),t=j.project(p.cartesianToCartographic(e,x),_);r.Cartesian3.subtract(t,H,t),g.x=(t.x+f)/(2*f),g.y=(t.y+d)/(2*d),Y.x=Math.min(g.x,Y.x),Y.y=Math.min(g.y,Y.y),X.x=Math.max(g.x,X.x),X.y=Math.max(g.y,X.y),N[U+Q]=g.x,N[U+1+Q]=g.y,N[U++]=g.x,N[U++]=g.y}o=p.scaleToGeodeticSurface(o,o),a=r.Cartesian3.clone(o,m),k=p.geodeticSurfaceNormal(o,k),G&&(B[t+Z]=-k.x,B[n+Z]=-k.y,B[i+Z]=-k.z);let u=r.Cartesian3.multiplyByScalar(k,b,y);if(o=r.Cartesian3.add(o,u,o),u=r.Cartesian3.multiplyByScalar(k,M,u),a=r.Cartesian3.add(a,u,a),s.position&&(P[t+Z]=a.x,P[n+Z]=a.y,P[i+Z]=a.z,P[t]=o.x,P[n]=o.y,P[i]=o.z),s.normal||s.tangent||s.bitangent){z=r.Cartesian3.clone(k,z);const u=r.Cartesian3.fromArray(e,(t+3)%Z,y);r.Cartesian3.subtract(u,o,u);const l=r.Cartesian3.subtract(a,o,_);k=r.Cartesian3.normalize(r.Cartesian3.cross(l,u,k),k),s.normal&&(L[t]=k.x,L[n]=k.y,L[i]=k.z,L[t+Z]=k.x,L[n+Z]=k.y,L[i+Z]=k.z),s.tangent&&(V=r.Cartesian3.normalize(r.Cartesian3.cross(z,k,V),V),D[t]=V.x,D[n]=V.y,D[i]=V.z,D[t+Z]=V.x,D[t+1+Z]=V.y,D[t+2+Z]=V.z),s.bitangent&&(F[t]=z.x,F[n]=z.y,F[i]=z.z,F[t+Z]=z.x,F[n+Z]=z.y,F[i+Z]=z.z)}}if(s.st){Z=N.length;for(let e=0;e<Z;e+=2)N[e]=(N[e]-Y.x)/(X.x-Y.x),N[e+1]=(N[e+1]-Y.y)/(X.y-Y.y)}const $=new l.GeometryAttributes;if(s.position&&($.position=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:P})),s.st&&($.st=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:N})),s.normal&&($.normal=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:L})),s.tangent&&($.tangent=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:D})),s.bitangent&&($.bitangent=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:F})),G&&($.extrudeDirection=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:B})),o.defined(i.offsetAttribute)){let e=new Uint8Array(I);if(i.offsetAttribute===t.GeometryOffsetAttribute.TOP)e=t.arrayFill(e,1,0,I/2);else{const n=i.offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;e=t.arrayFill(e,n)}$.applyOffset=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:e})}return $}(G,e);k=function(e){const t=e.length/3,n=d.IndexDatatype.createTypedArray(t,6*t);let r=0;for(let e=0;e<t;e++){const i=e,a=e+t,o=(i+1)%t,s=o+t;n[r++]=i,n[r++]=a,n[r++]=o,n[r++]=o,n[r++]=a,n[r++]=s}return n}(G);const W=d.IndexDatatype.createTypedArray(2*G.length/3,k),K=new u.Geometry({attributes:q,indices:W,primitiveType:u.PrimitiveType.TRIANGLES}),Y=f.GeometryPipeline.combineInstances([new c.GeometryInstance({geometry:H}),new c.GeometryInstance({geometry:K})]);return{boundingSphere:B,attributes:Y[0].attributes,indices:Y[0].indices}}function D(e,t,n,i,o,u,l){const c=s.EllipseGeometryLibrary.computeEllipsePositions({center:e,semiMajorAxis:t,semiMinorAxis:n,rotation:i,granularity:o},!1,!0).outerPositions,f=c.length/3,d=new Array(f);for(let e=0;e<f;++e)d[e]=r.Cartesian3.fromArray(c,3*e);const p=r.Rectangle.fromCartesianArray(d,u,l);return p.width>a.CesiumMath.PI&&(p.north=p.north>0?a.CesiumMath.PI_OVER_TWO-a.CesiumMath.EPSILON7:p.north,p.south=p.south<0?a.CesiumMath.EPSILON7-a.CesiumMath.PI_OVER_TWO:p.south,p.east=a.CesiumMath.PI,p.west=-a.CesiumMath.PI),p}function F(e){const t=(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).center,n=o.defaultValue(e.ellipsoid,r.Ellipsoid.WGS84),i=e.semiMajorAxis,s=e.semiMinorAxis,u=o.defaultValue(e.granularity,a.CesiumMath.RADIANS_PER_DEGREE),l=o.defaultValue(e.vertexFormat,p.VertexFormat.DEFAULT),c=o.defaultValue(e.height,0),f=o.defaultValue(e.extrudedHeight,c);this._center=r.Cartesian3.clone(t),this._semiMajorAxis=i,this._semiMinorAxis=s,this._ellipsoid=r.Ellipsoid.clone(n),this._rotation=o.defaultValue(e.rotation,0),this._stRotation=o.defaultValue(e.stRotation,0),this._height=Math.max(f,c),this._granularity=u,this._vertexFormat=p.VertexFormat.clone(l),this._extrudedHeight=Math.min(f,c),this._shadowVolume=o.defaultValue(e.shadowVolume,!1),this._workerName="createEllipseGeometry",this._offsetAttribute=e.offsetAttribute,this._rectangle=void 0,this._textureCoordinateRotationPoints=void 0}F.packedLength=r.Cartesian3.packedLength+r.Ellipsoid.packedLength+p.VertexFormat.packedLength+9,F.pack=function(e,t,n){return n=o.defaultValue(n,0),r.Cartesian3.pack(e._center,t,n),n+=r.Cartesian3.packedLength,r.Ellipsoid.pack(e._ellipsoid,t,n),n+=r.Ellipsoid.packedLength,p.VertexFormat.pack(e._vertexFormat,t,n),n+=p.VertexFormat.packedLength,t[n++]=e._semiMajorAxis,t[n++]=e._semiMinorAxis,t[n++]=e._rotation,t[n++]=e._stRotation,t[n++]=e._height,t[n++]=e._granularity,t[n++]=e._extrudedHeight,t[n++]=e._shadowVolume?1:0,t[n]=o.defaultValue(e._offsetAttribute,-1),t};const G=new r.Cartesian3,B=new r.Ellipsoid,U=new p.VertexFormat,k={center:G,ellipsoid:B,vertexFormat:U,semiMajorAxis:void 0,semiMinorAxis:void 0,rotation:void 0,stRotation:void 0,height:void 0,granularity:void 0,extrudedHeight:void 0,shadowVolume:void 0,offsetAttribute:void 0};F.unpack=function(e,t,n){t=o.defaultValue(t,0);const i=r.Cartesian3.unpack(e,t,G);t+=r.Cartesian3.packedLength;const a=r.Ellipsoid.unpack(e,t,B);t+=r.Ellipsoid.packedLength;const s=p.VertexFormat.unpack(e,t,U);t+=p.VertexFormat.packedLength;const u=e[t++],l=e[t++],c=e[t++],f=e[t++],d=e[t++],h=e[t++],m=e[t++],_=1===e[t++],y=e[t];return o.defined(n)?(n._center=r.Cartesian3.clone(i,n._center),n._ellipsoid=r.Ellipsoid.clone(a,n._ellipsoid),n._vertexFormat=p.VertexFormat.clone(s,n._vertexFormat),n._semiMajorAxis=u,n._semiMinorAxis=l,n._rotation=c,n._stRotation=f,n._height=d,n._granularity=h,n._extrudedHeight=m,n._shadowVolume=_,n._offsetAttribute=-1===y?void 0:y,n):(k.height=d,k.extrudedHeight=m,k.granularity=h,k.stRotation=f,k.rotation=c,k.semiMajorAxis=u,k.semiMinorAxis=l,k.shadowVolume=_,k.offsetAttribute=-1===y?void 0:y,new F(k))},F.computeRectangle=function(e,t){const n=(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).center,i=o.defaultValue(e.ellipsoid,r.Ellipsoid.WGS84),s=e.semiMajorAxis,u=e.semiMinorAxis,l=o.defaultValue(e.granularity,a.CesiumMath.RADIANS_PER_DEGREE);return D(n,s,u,o.defaultValue(e.rotation,0),l,i,t)},F.createGeometry=function(e){if(e._semiMajorAxis<=0||e._semiMinorAxis<=0)return;const i=e._height,l=e._extrudedHeight,c=!a.CesiumMath.equalsEpsilon(i,l,0,a.CesiumMath.EPSILON2);e._center=e._ellipsoid.scaleToGeodeticSurface(e._center,e._center);const f={center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:e._ellipsoid,rotation:e._rotation,height:i,granularity:e._granularity,vertexFormat:e._vertexFormat,stRotation:e._stRotation};let p;if(c)f.extrudedHeight=l,f.shadowVolume=e._shadowVolume,f.offsetAttribute=e._offsetAttribute,p=L(f);else if(p=function(e){const t=e.center;I=r.Cartesian3.multiplyByScalar(e.ellipsoid.geodeticSurfaceNormal(t,I),e.height,I),I=r.Cartesian3.add(t,I,I);const i=new n.BoundingSphere(I,e.semiMajorAxis),a=s.EllipseGeometryLibrary.computeEllipsePositions(e,!0,!1),o=a.positions,u=a.numPts,l=M(o,e,!1);let c=S(u);return c=d.IndexDatatype.createTypedArray(o.length/3,c),{boundingSphere:i,attributes:l,indices:c}}(f),o.defined(e._offsetAttribute)){const n=p.attributes.position.values.length,r=new Uint8Array(n/3),i=e._offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;t.arrayFill(r,i),p.attributes.applyOffset=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}return new u.Geometry({attributes:p.attributes,indices:p.indices,primitiveType:u.PrimitiveType.TRIANGLES,boundingSphere:p.boundingSphere,offsetAttribute:e._offsetAttribute})},F.createShadowVolume=function(e,t,n){const r=e._granularity,i=e._ellipsoid,a=t(r,i),o=n(r,i);return new F({center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:i,rotation:e._rotation,stRotation:e._stRotation,granularity:r,extrudedHeight:a,height:o,vertexFormat:p.VertexFormat.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(F.prototype,{rectangle:{get:function(){return o.defined(this._rectangle)||(this._rectangle=D(this._center,this._semiMajorAxis,this._semiMinorAxis,this._rotation,this._granularity,this._ellipsoid)),this._rectangle}},textureCoordinateRotationPoints:{get:function(){return o.defined(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=function(e){const t=-e._stRotation;if(0===t)return[0,0,0,1,1,0];const n=s.EllipseGeometryLibrary.computeEllipsePositions({center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,rotation:e._rotation,granularity:e._granularity},!1,!0).outerPositions,i=n.length/3,a=new Array(i);for(let e=0;e<i;++e)a[e]=r.Cartesian3.fromArray(n,3*e);const o=e._ellipsoid,l=e.rectangle;return u.Geometry._textureCoordinateRotationPoints(a,t,o,l)}(this)),this._textureCoordinateRotationPoints}}}),e.EllipseGeometry=F}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(12),n(4),n(2),n(3),n(0),n(1),n(35),n(6),n(8),n(10)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c){"use strict";const f=new r.Cartesian3;let d=new r.Cartesian3;const p=new n.BoundingSphere,h=new n.BoundingSphere;function m(e){const t=(e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT)).center,n=a.defaultValue(e.ellipsoid,r.Ellipsoid.WGS84),o=e.semiMajorAxis,s=e.semiMinorAxis,u=a.defaultValue(e.granularity,i.CesiumMath.RADIANS_PER_DEGREE),l=a.defaultValue(e.height,0),c=a.defaultValue(e.extrudedHeight,l);this._center=r.Cartesian3.clone(t),this._semiMajorAxis=o,this._semiMinorAxis=s,this._ellipsoid=r.Ellipsoid.clone(n),this._rotation=a.defaultValue(e.rotation,0),this._height=Math.max(c,l),this._granularity=u,this._extrudedHeight=Math.min(c,l),this._numberOfVerticalLines=Math.max(a.defaultValue(e.numberOfVerticalLines,16),0),this._offsetAttribute=e.offsetAttribute,this._workerName="createEllipseOutlineGeometry"}m.packedLength=r.Cartesian3.packedLength+r.Ellipsoid.packedLength+8,m.pack=function(e,t,n){return n=a.defaultValue(n,0),r.Cartesian3.pack(e._center,t,n),n+=r.Cartesian3.packedLength,r.Ellipsoid.pack(e._ellipsoid,t,n),n+=r.Ellipsoid.packedLength,t[n++]=e._semiMajorAxis,t[n++]=e._semiMinorAxis,t[n++]=e._rotation,t[n++]=e._height,t[n++]=e._granularity,t[n++]=e._extrudedHeight,t[n++]=e._numberOfVerticalLines,t[n]=a.defaultValue(e._offsetAttribute,-1),t};const _=new r.Cartesian3,y=new r.Ellipsoid,g={center:_,ellipsoid:y,semiMajorAxis:void 0,semiMinorAxis:void 0,rotation:void 0,height:void 0,granularity:void 0,extrudedHeight:void 0,numberOfVerticalLines:void 0,offsetAttribute:void 0};m.unpack=function(e,t,n){t=a.defaultValue(t,0);const i=r.Cartesian3.unpack(e,t,_);t+=r.Cartesian3.packedLength;const o=r.Ellipsoid.unpack(e,t,y);t+=r.Ellipsoid.packedLength;const s=e[t++],u=e[t++],l=e[t++],c=e[t++],f=e[t++],d=e[t++],p=e[t++],h=e[t];return a.defined(n)?(n._center=r.Cartesian3.clone(i,n._center),n._ellipsoid=r.Ellipsoid.clone(o,n._ellipsoid),n._semiMajorAxis=s,n._semiMinorAxis=u,n._rotation=l,n._height=c,n._granularity=f,n._extrudedHeight=d,n._numberOfVerticalLines=p,n._offsetAttribute=-1===h?void 0:h,n):(g.height=c,g.extrudedHeight=d,g.granularity=f,g.rotation=l,g.semiMajorAxis=s,g.semiMinorAxis=u,g.numberOfVerticalLines=p,g.offsetAttribute=-1===h?void 0:h,new m(g))},m.createGeometry=function(e){if(e._semiMajorAxis<=0||e._semiMinorAxis<=0)return;const o=e._height,m=e._extrudedHeight,_=!i.CesiumMath.equalsEpsilon(o,m,0,i.CesiumMath.EPSILON2);e._center=e._ellipsoid.scaleToGeodeticSurface(e._center,e._center);const y={center:e._center,semiMajorAxis:e._semiMajorAxis,semiMinorAxis:e._semiMinorAxis,ellipsoid:e._ellipsoid,rotation:e._rotation,height:o,granularity:e._granularity,numberOfVerticalLines:e._numberOfVerticalLines};let g;if(_)y.extrudedHeight=m,y.offsetAttribute=e._offsetAttribute,g=function(e){const o=e.center,d=e.ellipsoid,m=e.semiMajorAxis;let _=r.Cartesian3.multiplyByScalar(d.geodeticSurfaceNormal(o,f),e.height,f);p.center=r.Cartesian3.add(o,_,p.center),p.radius=m,_=r.Cartesian3.multiplyByScalar(d.geodeticSurfaceNormal(o,_),e.extrudedHeight,_),h.center=r.Cartesian3.add(o,_,h.center),h.radius=m;let y=s.EllipseGeometryLibrary.computeEllipsePositions(e,!1,!0).outerPositions;const g=new l.GeometryAttributes({position:new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:s.EllipseGeometryLibrary.raisePositionsToHeight(y,e,!0)})});y=g.position.values;const C=n.BoundingSphere.union(p,h);let b=y.length/3;if(a.defined(e.offsetAttribute)){let n=new Uint8Array(b);if(e.offsetAttribute===t.GeometryOffsetAttribute.TOP)n=t.arrayFill(n,1,0,b/2);else{const r=e.offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;n=t.arrayFill(n,r)}g.applyOffset=new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}let A=a.defaultValue(e.numberOfVerticalLines,16);A=i.CesiumMath.clamp(A,0,b/2);const E=c.IndexDatatype.createTypedArray(b,2*b+2*A);b/=2;let w,T,x=0;for(w=0;w<b;++w)E[x++]=w,E[x++]=(w+1)%b,E[x++]=w+b,E[x++]=(w+1)%b+b;if(A>0){const e=Math.min(A,b);T=Math.round(b/e);const t=Math.min(T*A,b);for(w=0;w<t;w+=T)E[x++]=w,E[x++]=w+b}return{boundingSphere:C,attributes:g,indices:E}}(y);else if(g=function(e){const t=e.center;d=r.Cartesian3.multiplyByScalar(e.ellipsoid.geodeticSurfaceNormal(t,d),e.height,d),d=r.Cartesian3.add(t,d,d);const a=new n.BoundingSphere(d,e.semiMajorAxis),o=s.EllipseGeometryLibrary.computeEllipsePositions(e,!1,!0).outerPositions,f=new l.GeometryAttributes({position:new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:s.EllipseGeometryLibrary.raisePositionsToHeight(o,e,!1)})}),p=o.length/3,h=c.IndexDatatype.createTypedArray(p,2*p);let m=0;for(let e=0;e<p;++e)h[m++]=e,h[m++]=(e+1)%p;return{boundingSphere:a,attributes:f,indices:h}}(y),a.defined(e._offsetAttribute)){const n=g.attributes.position.values.length,r=new Uint8Array(n/3),a=e._offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;t.arrayFill(r,a),g.attributes.applyOffset=new u.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}return new u.Geometry({attributes:g.attributes,indices:g.indices,primitiveType:u.PrimitiveType.LINES,boundingSphere:g.boundingSphere,offsetAttribute:e._offsetAttribute})},e.EllipseOutlineGeometry=m}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(12),n(4),n(2),n(3),n(0),n(1),n(6),n(8),n(10)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l){"use strict";const c=new r.Cartesian3(1,1,1),f=Math.cos,d=Math.sin;function p(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT);const t=a.defaultValue(e.radii,c),n=a.defaultValue(e.innerRadii,t),o=a.defaultValue(e.minimumClock,0),s=a.defaultValue(e.maximumClock,i.CesiumMath.TWO_PI),u=a.defaultValue(e.minimumCone,0),l=a.defaultValue(e.maximumCone,i.CesiumMath.PI),f=Math.round(a.defaultValue(e.stackPartitions,10)),d=Math.round(a.defaultValue(e.slicePartitions,8)),p=Math.round(a.defaultValue(e.subdivisions,128));this._radii=r.Cartesian3.clone(t),this._innerRadii=r.Cartesian3.clone(n),this._minimumClock=o,this._maximumClock=s,this._minimumCone=u,this._maximumCone=l,this._stackPartitions=f,this._slicePartitions=d,this._subdivisions=p,this._offsetAttribute=e.offsetAttribute,this._workerName="createEllipsoidOutlineGeometry"}p.packedLength=2*r.Cartesian3.packedLength+8,p.pack=function(e,t,n){return n=a.defaultValue(n,0),r.Cartesian3.pack(e._radii,t,n),n+=r.Cartesian3.packedLength,r.Cartesian3.pack(e._innerRadii,t,n),n+=r.Cartesian3.packedLength,t[n++]=e._minimumClock,t[n++]=e._maximumClock,t[n++]=e._minimumCone,t[n++]=e._maximumCone,t[n++]=e._stackPartitions,t[n++]=e._slicePartitions,t[n++]=e._subdivisions,t[n]=a.defaultValue(e._offsetAttribute,-1),t};const h=new r.Cartesian3,m=new r.Cartesian3,_={radii:h,innerRadii:m,minimumClock:void 0,maximumClock:void 0,minimumCone:void 0,maximumCone:void 0,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0,offsetAttribute:void 0};p.unpack=function(e,t,n){t=a.defaultValue(t,0);const i=r.Cartesian3.unpack(e,t,h);t+=r.Cartesian3.packedLength;const o=r.Cartesian3.unpack(e,t,m);t+=r.Cartesian3.packedLength;const s=e[t++],u=e[t++],l=e[t++],c=e[t++],f=e[t++],d=e[t++],y=e[t++],g=e[t];return a.defined(n)?(n._radii=r.Cartesian3.clone(i,n._radii),n._innerRadii=r.Cartesian3.clone(o,n._innerRadii),n._minimumClock=s,n._maximumClock=u,n._minimumCone=l,n._maximumCone=c,n._stackPartitions=f,n._slicePartitions=d,n._subdivisions=y,n._offsetAttribute=-1===g?void 0:g,n):(_.minimumClock=s,_.maximumClock=u,_.minimumCone=l,_.maximumCone=c,_.stackPartitions=f,_.slicePartitions=d,_.subdivisions=y,_.offsetAttribute=-1===g?void 0:g,new p(_))},p.createGeometry=function(e){const o=e._radii;if(o.x<=0||o.y<=0||o.z<=0)return;const c=e._innerRadii;if(c.x<=0||c.y<=0||c.z<=0)return;const p=e._minimumClock,h=e._maximumClock,m=e._minimumCone,_=e._maximumCone,y=e._subdivisions,g=r.Ellipsoid.fromCartesian3(o);let C=e._slicePartitions+1,b=e._stackPartitions+1;C=Math.round(C*Math.abs(h-p)/i.CesiumMath.TWO_PI),b=Math.round(b*Math.abs(_-m)/i.CesiumMath.PI),C<2&&(C=2),b<2&&(b=2);let A=0,E=1;const w=c.x!==o.x||c.y!==o.y||c.z!==o.z;let T=!1,x=!1;w&&(E=2,m>0&&(T=!0,A+=C),_<Math.PI&&(x=!0,A+=C));const v=y*E*(b+C),R=new Float64Array(3*v),O=2*(v+A-(C+b)*E),M=l.IndexDatatype.createTypedArray(v,O);let S,I,P,N,L=0;const D=new Array(b),F=new Array(b);for(S=0;S<b;S++)N=m+S*(_-m)/(b-1),D[S]=d(N),F[S]=f(N);const G=new Array(y),B=new Array(y);for(S=0;S<y;S++)P=p+S*(h-p)/(y-1),G[S]=d(P),B[S]=f(P);for(S=0;S<b;S++)for(I=0;I<y;I++)R[L++]=o.x*D[S]*B[I],R[L++]=o.y*D[S]*G[I],R[L++]=o.z*F[S];if(w)for(S=0;S<b;S++)for(I=0;I<y;I++)R[L++]=c.x*D[S]*B[I],R[L++]=c.y*D[S]*G[I],R[L++]=c.z*F[S];for(D.length=y,F.length=y,S=0;S<y;S++)N=m+S*(_-m)/(y-1),D[S]=d(N),F[S]=f(N);for(G.length=C,B.length=C,S=0;S<C;S++)P=p+S*(h-p)/(C-1),G[S]=d(P),B[S]=f(P);for(S=0;S<y;S++)for(I=0;I<C;I++)R[L++]=o.x*D[S]*B[I],R[L++]=o.y*D[S]*G[I],R[L++]=o.z*F[S];if(w)for(S=0;S<y;S++)for(I=0;I<C;I++)R[L++]=c.x*D[S]*B[I],R[L++]=c.y*D[S]*G[I],R[L++]=c.z*F[S];for(L=0,S=0;S<b*E;S++){const e=S*y;for(I=0;I<y-1;I++)M[L++]=e+I,M[L++]=e+I+1}let U=b*y*E;for(S=0;S<C;S++)for(I=0;I<y-1;I++)M[L++]=U+S+I*C,M[L++]=U+S+(I+1)*C;if(w)for(U=b*y*E+C*y,S=0;S<C;S++)for(I=0;I<y-1;I++)M[L++]=U+S+I*C,M[L++]=U+S+(I+1)*C;if(w){let e=b*y*E,t=e+y*C;if(T)for(S=0;S<C;S++)M[L++]=e+S,M[L++]=t+S;if(x)for(e+=y*C-C,t+=y*C-C,S=0;S<C;S++)M[L++]=e+S,M[L++]=t+S}const k=new u.GeometryAttributes({position:new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:R})});if(a.defined(e._offsetAttribute)){const n=R.length,r=new Uint8Array(n/3),a=e._offsetAttribute===t.GeometryOffsetAttribute.NONE?0:1;t.arrayFill(r,a),k.applyOffset=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}return new s.Geometry({attributes:k,indices:M,primitiveType:s.PrimitiveType.LINES,boundingSphere:n.BoundingSphere.fromEllipsoid(g),offsetAttribute:e._offsetAttribute})},e.EllipsoidOutlineGeometry=p}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(4),n(2),n(1),n(3),n(0),n(6),n(8),n(11),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l){"use strict";function c(e){this.planes=a.defaultValue(e,[])}const f=[new n.Cartesian3,new n.Cartesian3,new n.Cartesian3];n.Cartesian3.clone(n.Cartesian3.UNIT_X,f[0]),n.Cartesian3.clone(n.Cartesian3.UNIT_Y,f[1]),n.Cartesian3.clone(n.Cartesian3.UNIT_Z,f[2]);const d=new n.Cartesian3,p=new n.Cartesian3,h=new u.Plane(new n.Cartesian3(1,0,0),0);function m(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=a.defaultValue(e.near,1),this._near=this.near,this.far=a.defaultValue(e.far,5e8),this._far=this.far,this._cullingVolume=new c,this._orthographicMatrix=new n.Matrix4}function _(e){e.top===e._top&&e.bottom===e._bottom&&e.left===e._left&&e.right===e._right&&e.near===e._near&&e.far===e._far||(e._left=e.left,e._right=e.right,e._top=e.top,e._bottom=e.bottom,e._near=e.near,e._far=e.far,e._orthographicMatrix=n.Matrix4.computeOrthographicOffCenter(e.left,e.right,e.bottom,e.top,e.near,e.far,e._orthographicMatrix))}c.fromBoundingSphere=function(e,t){a.defined(t)||(t=new c);const r=f.length,i=t.planes;i.length=2*r;const o=e.center,s=e.radius;let u=0;for(let e=0;e<r;++e){const t=f[e];let r=i[u],l=i[u+1];a.defined(r)||(r=i[u]=new n.Cartesian4),a.defined(l)||(l=i[u+1]=new n.Cartesian4),n.Cartesian3.multiplyByScalar(t,-s,d),n.Cartesian3.add(o,d,d),r.x=t.x,r.y=t.y,r.z=t.z,r.w=-n.Cartesian3.dot(t,d),n.Cartesian3.multiplyByScalar(t,s,d),n.Cartesian3.add(o,d,d),l.x=-t.x,l.y=-t.y,l.z=-t.z,l.w=-n.Cartesian3.dot(n.Cartesian3.negate(t,p),d),u+=2}return t},c.prototype.computeVisibility=function(e){const n=this.planes;let r=!1;for(let i=0,a=n.length;i<a;++i){const a=e.intersectPlane(u.Plane.fromCartesian4(n[i],h));if(a===t.Intersect.OUTSIDE)return t.Intersect.OUTSIDE;a===t.Intersect.INTERSECTING&&(r=!0)}return r?t.Intersect.INTERSECTING:t.Intersect.INSIDE},c.prototype.computeVisibilityWithPlaneMask=function(e,n){if(n===c.MASK_OUTSIDE||n===c.MASK_INSIDE)return n;let r=c.MASK_INSIDE;const i=this.planes;for(let a=0,o=i.length;a<o;++a){const o=a<31?1<<a:0;if(a<31&&0==(n&o))continue;const s=e.intersectPlane(u.Plane.fromCartesian4(i[a],h));if(s===t.Intersect.OUTSIDE)return c.MASK_OUTSIDE;s===t.Intersect.INTERSECTING&&(r|=o)}return r},c.MASK_OUTSIDE=4294967295,c.MASK_INSIDE=0,c.MASK_INDETERMINATE=2147483647,Object.defineProperties(m.prototype,{projectionMatrix:{get:function(){return _(this),this._orthographicMatrix}}});const y=new n.Cartesian3,g=new n.Cartesian3,C=new n.Cartesian3,b=new n.Cartesian3;function A(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new m,this.width=e.width,this._width=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=a.defaultValue(e.near,1),this._near=this.near,this.far=a.defaultValue(e.far,5e8),this._far=this.far}function E(e){const t=e._offCenterFrustum;if(e.width!==e._width||e.aspectRatio!==e._aspectRatio||e.near!==e._near||e.far!==e._far){e._aspectRatio=e.aspectRatio,e._width=e.width,e._near=e.near,e._far=e.far;const n=1/e.aspectRatio;t.right=.5*e.width,t.left=-t.right,t.top=n*t.right,t.bottom=-t.top,t.near=e.near,t.far=e.far}}function w(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),this.left=e.left,this._left=void 0,this.right=e.right,this._right=void 0,this.top=e.top,this._top=void 0,this.bottom=e.bottom,this._bottom=void 0,this.near=a.defaultValue(e.near,1),this._near=this.near,this.far=a.defaultValue(e.far,5e8),this._far=this.far,this._cullingVolume=new c,this._perspectiveMatrix=new n.Matrix4,this._infinitePerspective=new n.Matrix4}function T(e){const t=e.top,r=e.bottom,i=e.right,a=e.left,o=e.near,s=e.far;t===e._top&&r===e._bottom&&a===e._left&&i===e._right&&o===e._near&&s===e._far||(e._left=a,e._right=i,e._top=t,e._bottom=r,e._near=o,e._far=s,e._perspectiveMatrix=n.Matrix4.computePerspectiveOffCenter(a,i,r,t,o,s,e._perspectiveMatrix),e._infinitePerspective=n.Matrix4.computeInfinitePerspectiveOffCenter(a,i,r,t,o,e._infinitePerspective))}m.prototype.computeCullingVolume=function(e,t,r){const i=this._cullingVolume.planes,o=this.top,s=this.bottom,u=this.right,l=this.left,c=this.near,f=this.far,d=n.Cartesian3.cross(t,r,y);n.Cartesian3.normalize(d,d);const p=g;n.Cartesian3.multiplyByScalar(t,c,p),n.Cartesian3.add(e,p,p);const h=C;n.Cartesian3.multiplyByScalar(d,l,h),n.Cartesian3.add(p,h,h);let m=i[0];return a.defined(m)||(m=i[0]=new n.Cartesian4),m.x=d.x,m.y=d.y,m.z=d.z,m.w=-n.Cartesian3.dot(d,h),n.Cartesian3.multiplyByScalar(d,u,h),n.Cartesian3.add(p,h,h),m=i[1],a.defined(m)||(m=i[1]=new n.Cartesian4),m.x=-d.x,m.y=-d.y,m.z=-d.z,m.w=-n.Cartesian3.dot(n.Cartesian3.negate(d,b),h),n.Cartesian3.multiplyByScalar(r,s,h),n.Cartesian3.add(p,h,h),m=i[2],a.defined(m)||(m=i[2]=new n.Cartesian4),m.x=r.x,m.y=r.y,m.z=r.z,m.w=-n.Cartesian3.dot(r,h),n.Cartesian3.multiplyByScalar(r,o,h),n.Cartesian3.add(p,h,h),m=i[3],a.defined(m)||(m=i[3]=new n.Cartesian4),m.x=-r.x,m.y=-r.y,m.z=-r.z,m.w=-n.Cartesian3.dot(n.Cartesian3.negate(r,b),h),m=i[4],a.defined(m)||(m=i[4]=new n.Cartesian4),m.x=t.x,m.y=t.y,m.z=t.z,m.w=-n.Cartesian3.dot(t,p),n.Cartesian3.multiplyByScalar(t,f,h),n.Cartesian3.add(e,h,h),m=i[5],a.defined(m)||(m=i[5]=new n.Cartesian4),m.x=-t.x,m.y=-t.y,m.z=-t.z,m.w=-n.Cartesian3.dot(n.Cartesian3.negate(t,b),h),this._cullingVolume},m.prototype.getPixelDimensions=function(e,t,n,r,i){_(this);const a=r*(this.right-this.left)/e,o=r*(this.top-this.bottom)/t;return i.x=a,i.y=o,i},m.prototype.clone=function(e){return a.defined(e)||(e=new m),e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e},m.prototype.equals=function(e){return a.defined(e)&&e instanceof m&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far},m.prototype.equalsEpsilon=function(e,t,n){return e===this||a.defined(e)&&e instanceof m&&i.CesiumMath.equalsEpsilon(this.right,e.right,t,n)&&i.CesiumMath.equalsEpsilon(this.left,e.left,t,n)&&i.CesiumMath.equalsEpsilon(this.top,e.top,t,n)&&i.CesiumMath.equalsEpsilon(this.bottom,e.bottom,t,n)&&i.CesiumMath.equalsEpsilon(this.near,e.near,t,n)&&i.CesiumMath.equalsEpsilon(this.far,e.far,t,n)},A.packedLength=4,A.pack=function(e,t,n){return n=a.defaultValue(n,0),t[n++]=e.width,t[n++]=e.aspectRatio,t[n++]=e.near,t[n]=e.far,t},A.unpack=function(e,t,n){return t=a.defaultValue(t,0),a.defined(n)||(n=new A),n.width=e[t++],n.aspectRatio=e[t++],n.near=e[t++],n.far=e[t],n},Object.defineProperties(A.prototype,{projectionMatrix:{get:function(){return E(this),this._offCenterFrustum.projectionMatrix}}}),A.prototype.computeCullingVolume=function(e,t,n){return E(this),this._offCenterFrustum.computeCullingVolume(e,t,n)},A.prototype.getPixelDimensions=function(e,t,n,r,i){return E(this),this._offCenterFrustum.getPixelDimensions(e,t,n,r,i)},A.prototype.clone=function(e){return a.defined(e)||(e=new A),e.aspectRatio=this.aspectRatio,e.width=this.width,e.near=this.near,e.far=this.far,e._aspectRatio=void 0,e._width=void 0,e._near=void 0,e._far=void 0,this._offCenterFrustum.clone(e._offCenterFrustum),e},A.prototype.equals=function(e){return!!(a.defined(e)&&e instanceof A)&&(E(this),E(e),this.width===e.width&&this.aspectRatio===e.aspectRatio&&this._offCenterFrustum.equals(e._offCenterFrustum))},A.prototype.equalsEpsilon=function(e,t,n){return!!(a.defined(e)&&e instanceof A)&&(E(this),E(e),i.CesiumMath.equalsEpsilon(this.width,e.width,t,n)&&i.CesiumMath.equalsEpsilon(this.aspectRatio,e.aspectRatio,t,n)&&this._offCenterFrustum.equalsEpsilon(e._offCenterFrustum,t,n))},Object.defineProperties(w.prototype,{projectionMatrix:{get:function(){return T(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return T(this),this._infinitePerspective}}});const x=new n.Cartesian3,v=new n.Cartesian3,R=new n.Cartesian3,O=new n.Cartesian3;function M(e){e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT),this._offCenterFrustum=new w,this.fov=e.fov,this._fov=void 0,this._fovy=void 0,this._sseDenominator=void 0,this.aspectRatio=e.aspectRatio,this._aspectRatio=void 0,this.near=a.defaultValue(e.near,1),this._near=this.near,this.far=a.defaultValue(e.far,5e8),this._far=this.far,this.xOffset=a.defaultValue(e.xOffset,0),this._xOffset=this.xOffset,this.yOffset=a.defaultValue(e.yOffset,0),this._yOffset=this.yOffset}function S(e){const t=e._offCenterFrustum;e.fov===e._fov&&e.aspectRatio===e._aspectRatio&&e.near===e._near&&e.far===e._far&&e.xOffset===e._xOffset&&e.yOffset===e._yOffset||(e._aspectRatio=e.aspectRatio,e._fov=e.fov,e._fovy=e.aspectRatio<=1?e.fov:2*Math.atan(Math.tan(.5*e.fov)/e.aspectRatio),e._near=e.near,e._far=e.far,e._sseDenominator=2*Math.tan(.5*e._fovy),e._xOffset=e.xOffset,e._yOffset=e.yOffset,t.top=e.near*Math.tan(.5*e._fovy),t.bottom=-t.top,t.right=e.aspectRatio*t.top,t.left=-t.right,t.near=e.near,t.far=e.far,t.right+=e.xOffset,t.left+=e.xOffset,t.top+=e.yOffset,t.bottom+=e.yOffset)}w.prototype.computeCullingVolume=function(e,t,r){const i=this._cullingVolume.planes,o=this.top,s=this.bottom,u=this.right,l=this.left,c=this.near,f=this.far,d=n.Cartesian3.cross(t,r,x),p=v;n.Cartesian3.multiplyByScalar(t,c,p),n.Cartesian3.add(e,p,p);const h=R;n.Cartesian3.multiplyByScalar(t,f,h),n.Cartesian3.add(e,h,h);const m=O;n.Cartesian3.multiplyByScalar(d,l,m),n.Cartesian3.add(p,m,m),n.Cartesian3.subtract(m,e,m),n.Cartesian3.normalize(m,m),n.Cartesian3.cross(m,r,m),n.Cartesian3.normalize(m,m);let _=i[0];return a.defined(_)||(_=i[0]=new n.Cartesian4),_.x=m.x,_.y=m.y,_.z=m.z,_.w=-n.Cartesian3.dot(m,e),n.Cartesian3.multiplyByScalar(d,u,m),n.Cartesian3.add(p,m,m),n.Cartesian3.subtract(m,e,m),n.Cartesian3.cross(r,m,m),n.Cartesian3.normalize(m,m),_=i[1],a.defined(_)||(_=i[1]=new n.Cartesian4),_.x=m.x,_.y=m.y,_.z=m.z,_.w=-n.Cartesian3.dot(m,e),n.Cartesian3.multiplyByScalar(r,s,m),n.Cartesian3.add(p,m,m),n.Cartesian3.subtract(m,e,m),n.Cartesian3.cross(d,m,m),n.Cartesian3.normalize(m,m),_=i[2],a.defined(_)||(_=i[2]=new n.Cartesian4),_.x=m.x,_.y=m.y,_.z=m.z,_.w=-n.Cartesian3.dot(m,e),n.Cartesian3.multiplyByScalar(r,o,m),n.Cartesian3.add(p,m,m),n.Cartesian3.subtract(m,e,m),n.Cartesian3.cross(m,d,m),n.Cartesian3.normalize(m,m),_=i[3],a.defined(_)||(_=i[3]=new n.Cartesian4),_.x=m.x,_.y=m.y,_.z=m.z,_.w=-n.Cartesian3.dot(m,e),_=i[4],a.defined(_)||(_=i[4]=new n.Cartesian4),_.x=t.x,_.y=t.y,_.z=t.z,_.w=-n.Cartesian3.dot(t,p),n.Cartesian3.negate(t,m),_=i[5],a.defined(_)||(_=i[5]=new n.Cartesian4),_.x=m.x,_.y=m.y,_.z=m.z,_.w=-n.Cartesian3.dot(m,h),this._cullingVolume},w.prototype.getPixelDimensions=function(e,t,n,r,i){T(this);const a=1/this.near;let o=this.top*a;const s=2*r*n*o/t;o=this.right*a;const u=2*r*n*o/e;return i.x=u,i.y=s,i},w.prototype.clone=function(e){return a.defined(e)||(e=new w),e.right=this.right,e.left=this.left,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e._left=void 0,e._right=void 0,e._top=void 0,e._bottom=void 0,e._near=void 0,e._far=void 0,e},w.prototype.equals=function(e){return a.defined(e)&&e instanceof w&&this.right===e.right&&this.left===e.left&&this.top===e.top&&this.bottom===e.bottom&&this.near===e.near&&this.far===e.far},w.prototype.equalsEpsilon=function(e,t,n){return e===this||a.defined(e)&&e instanceof w&&i.CesiumMath.equalsEpsilon(this.right,e.right,t,n)&&i.CesiumMath.equalsEpsilon(this.left,e.left,t,n)&&i.CesiumMath.equalsEpsilon(this.top,e.top,t,n)&&i.CesiumMath.equalsEpsilon(this.bottom,e.bottom,t,n)&&i.CesiumMath.equalsEpsilon(this.near,e.near,t,n)&&i.CesiumMath.equalsEpsilon(this.far,e.far,t,n)},M.packedLength=6,M.pack=function(e,t,n){return n=a.defaultValue(n,0),t[n++]=e.fov,t[n++]=e.aspectRatio,t[n++]=e.near,t[n++]=e.far,t[n++]=e.xOffset,t[n]=e.yOffset,t},M.unpack=function(e,t,n){return t=a.defaultValue(t,0),a.defined(n)||(n=new M),n.fov=e[t++],n.aspectRatio=e[t++],n.near=e[t++],n.far=e[t++],n.xOffset=e[t++],n.yOffset=e[t],n},Object.defineProperties(M.prototype,{projectionMatrix:{get:function(){return S(this),this._offCenterFrustum.projectionMatrix}},infiniteProjectionMatrix:{get:function(){return S(this),this._offCenterFrustum.infiniteProjectionMatrix}},fovy:{get:function(){return S(this),this._fovy}},sseDenominator:{get:function(){return S(this),this._sseDenominator}}}),M.prototype.computeCullingVolume=function(e,t,n){return S(this),this._offCenterFrustum.computeCullingVolume(e,t,n)},M.prototype.getPixelDimensions=function(e,t,n,r,i){return S(this),this._offCenterFrustum.getPixelDimensions(e,t,n,r,i)},M.prototype.clone=function(e){return a.defined(e)||(e=new M),e.aspectRatio=this.aspectRatio,e.fov=this.fov,e.near=this.near,e.far=this.far,e._aspectRatio=void 0,e._fov=void 0,e._near=void 0,e._far=void 0,this._offCenterFrustum.clone(e._offCenterFrustum),e},M.prototype.equals=function(e){return!!(a.defined(e)&&e instanceof M)&&(S(this),S(e),this.fov===e.fov&&this.aspectRatio===e.aspectRatio&&this._offCenterFrustum.equals(e._offCenterFrustum))},M.prototype.equalsEpsilon=function(e,t,n){return!!(a.defined(e)&&e instanceof M)&&(S(this),S(e),i.CesiumMath.equalsEpsilon(this.fov,e.fov,t,n)&&i.CesiumMath.equalsEpsilon(this.aspectRatio,e.aspectRatio,t,n)&&this._offCenterFrustum.equalsEpsilon(e._offCenterFrustum,t,n))};function I(e){const r=e.frustum,i=e.orientation,o=e.origin,s=a.defaultValue(e.vertexFormat,l.VertexFormat.DEFAULT),u=a.defaultValue(e._drawNearPlane,!0);let c,f;r instanceof M?(c=0,f=M.packedLength):r instanceof A&&(c=1,f=A.packedLength),this._frustumType=c,this._frustum=r.clone(),this._origin=n.Cartesian3.clone(o),this._orientation=t.Quaternion.clone(i),this._drawNearPlane=u,this._vertexFormat=s,this._workerName="createFrustumGeometry",this.packedLength=2+f+n.Cartesian3.packedLength+t.Quaternion.packedLength+l.VertexFormat.packedLength}I.pack=function(e,r,i){i=a.defaultValue(i,0);const o=e._frustumType,s=e._frustum;return r[i++]=o,0===o?(M.pack(s,r,i),i+=M.packedLength):(A.pack(s,r,i),i+=A.packedLength),n.Cartesian3.pack(e._origin,r,i),i+=n.Cartesian3.packedLength,t.Quaternion.pack(e._orientation,r,i),i+=t.Quaternion.packedLength,l.VertexFormat.pack(e._vertexFormat,r,i),r[i+=l.VertexFormat.packedLength]=e._drawNearPlane?1:0,r};const P=new M,N=new A,L=new t.Quaternion,D=new n.Cartesian3,F=new l.VertexFormat;function G(e,t,n,r,i,o,s,u){const l=e/3*2;for(let i=0;i<4;++i)a.defined(t)&&(t[e]=o.x,t[e+1]=o.y,t[e+2]=o.z),a.defined(n)&&(n[e]=s.x,n[e+1]=s.y,n[e+2]=s.z),a.defined(r)&&(r[e]=u.x,r[e+1]=u.y,r[e+2]=u.z),e+=3;i[l]=0,i[l+1]=0,i[l+2]=1,i[l+3]=0,i[l+4]=1,i[l+5]=1,i[l+6]=0,i[l+7]=1}I.unpack=function(e,r,i){r=a.defaultValue(r,0);const o=e[r++];let s;0===o?(s=M.unpack(e,r,P),r+=M.packedLength):(s=A.unpack(e,r,N),r+=A.packedLength);const u=n.Cartesian3.unpack(e,r,D);r+=n.Cartesian3.packedLength;const c=t.Quaternion.unpack(e,r,L);r+=t.Quaternion.packedLength;const f=l.VertexFormat.unpack(e,r,F),d=1===e[r+=l.VertexFormat.packedLength];if(!a.defined(i))return new I({frustum:s,origin:u,orientation:c,vertexFormat:f,_drawNearPlane:d});const p=o===i._frustumType?i._frustum:void 0;return i._frustum=s.clone(p),i._frustumType=o,i._origin=n.Cartesian3.clone(u,i._origin),i._orientation=t.Quaternion.clone(c,i._orientation),i._vertexFormat=l.VertexFormat.clone(f,i._vertexFormat),i._drawNearPlane=d,i};const B=new n.Matrix3,U=new n.Matrix4,k=new n.Matrix4,V=new n.Cartesian3,z=new n.Cartesian3,j=new n.Cartesian3,H=new n.Cartesian3,q=new n.Cartesian3,W=new n.Cartesian3,K=new Array(3),Y=new Array(4);Y[0]=new n.Cartesian4(-1,-1,1,1),Y[1]=new n.Cartesian4(1,-1,1,1),Y[2]=new n.Cartesian4(1,1,1,1),Y[3]=new n.Cartesian4(-1,1,1,1);const X=new Array(4);for(let e=0;e<4;++e)X[e]=new n.Cartesian4;I._computeNearFarPlanes=function(e,t,r,i,o,s,u,l){const c=n.Matrix3.fromQuaternion(t,B);let f=a.defaultValue(s,V),d=a.defaultValue(u,z),p=a.defaultValue(l,j);f=n.Matrix3.getColumn(c,0,f),d=n.Matrix3.getColumn(c,1,d),p=n.Matrix3.getColumn(c,2,p),n.Cartesian3.normalize(f,f),n.Cartesian3.normalize(d,d),n.Cartesian3.normalize(p,p),n.Cartesian3.negate(f,f);const h=n.Matrix4.computeView(e,p,d,f,U);let m,_;if(0===r){const e=i.projectionMatrix,t=n.Matrix4.multiply(e,h,k);_=n.Matrix4.inverse(t,k)}else m=n.Matrix4.inverseTransformation(h,k);a.defined(_)?(K[0]=i.near,K[1]=i.far):(K[0]=0,K[1]=i.near,K[2]=i.far);for(let t=0;t<2;++t)for(let r=0;r<4;++r){let s=n.Cartesian4.clone(Y[r],X[r]);if(a.defined(_)){s=n.Matrix4.multiplyByVector(_,s,s);const r=1/s.w;n.Cartesian3.multiplyByScalar(s,r,s),n.Cartesian3.subtract(s,e,s),n.Cartesian3.normalize(s,s);const i=n.Cartesian3.dot(p,s);n.Cartesian3.multiplyByScalar(s,K[t]/i,s),n.Cartesian3.add(s,e,s)}else{a.defined(i._offCenterFrustum)&&(i=i._offCenterFrustum);const e=K[t],r=K[t+1];s.x=.5*(s.x*(i.right-i.left)+i.left+i.right),s.y=.5*(s.y*(i.top-i.bottom)+i.bottom+i.top),s.z=.5*(s.z*(e-r)-e-r),s.w=1,n.Matrix4.multiplyByVector(m,s,s)}o[12*t+3*r]=s.x,o[12*t+3*r+1]=s.y,o[12*t+3*r+2]=s.z}},I.createGeometry=function(e){const r=e._frustumType,u=e._frustum,l=e._origin,c=e._orientation,f=e._drawNearPlane,d=e._vertexFormat,p=f?6:5;let h=new Float64Array(72);I._computeNearFarPlanes(l,c,r,u,h);let m=24;h[m]=h[12],h[m+1]=h[13],h[m+2]=h[14],h[m+3]=h[0],h[m+4]=h[1],h[m+5]=h[2],h[m+6]=h[9],h[m+7]=h[10],h[m+8]=h[11],h[m+9]=h[21],h[m+10]=h[22],h[m+11]=h[23],m+=12,h[m]=h[15],h[m+1]=h[16],h[m+2]=h[17],h[m+3]=h[3],h[m+4]=h[4],h[m+5]=h[5],h[m+6]=h[0],h[m+7]=h[1],h[m+8]=h[2],h[m+9]=h[12],h[m+10]=h[13],h[m+11]=h[14],m+=12,h[m]=h[3],h[m+1]=h[4],h[m+2]=h[5],h[m+3]=h[15],h[m+4]=h[16],h[m+5]=h[17],h[m+6]=h[18],h[m+7]=h[19],h[m+8]=h[20],h[m+9]=h[6],h[m+10]=h[7],h[m+11]=h[8],m+=12,h[m]=h[6],h[m+1]=h[7],h[m+2]=h[8],h[m+3]=h[18],h[m+4]=h[19],h[m+5]=h[20],h[m+6]=h[21],h[m+7]=h[22],h[m+8]=h[23],h[m+9]=h[9],h[m+10]=h[10],h[m+11]=h[11],f||(h=h.subarray(12));const _=new s.GeometryAttributes({position:new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:h})});if(a.defined(d.normal)||a.defined(d.tangent)||a.defined(d.bitangent)||a.defined(d.st)){const e=a.defined(d.normal)?new Float32Array(12*p):void 0,t=a.defined(d.tangent)?new Float32Array(12*p):void 0,r=a.defined(d.bitangent)?new Float32Array(12*p):void 0,s=a.defined(d.st)?new Float32Array(8*p):void 0,u=V,l=z,c=j,h=n.Cartesian3.negate(u,H),y=n.Cartesian3.negate(l,q),g=n.Cartesian3.negate(c,W);m=0,f&&(G(m,e,t,r,s,g,u,l),m+=12),G(m,e,t,r,s,c,h,l),m+=12,G(m,e,t,r,s,h,g,l),m+=12,G(m,e,t,r,s,y,g,h),m+=12,G(m,e,t,r,s,u,c,l),m+=12,G(m,e,t,r,s,l,c,h),a.defined(e)&&(_.normal=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})),a.defined(t)&&(_.tangent=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t})),a.defined(r)&&(_.bitangent=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:r})),a.defined(s)&&(_.st=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:s}))}const y=new Uint16Array(6*p);for(let e=0;e<p;++e){const t=6*e,n=4*e;y[t]=n,y[t+1]=n+1,y[t+2]=n+2,y[t+3]=n,y[t+4]=n+2,y[t+5]=n+3}return new o.Geometry({attributes:_,indices:y,primitiveType:o.PrimitiveType.TRIANGLES,boundingSphere:t.BoundingSphere.fromVertices(h)})},e.FrustumGeometry=I,e.OrthographicFrustum=A,e.PerspectiveFrustum=M}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(4),n(3),n(0),n(1),n(2),n(6),n(8),n(22),n(10),n(33)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c){"use strict";function f(e,t,n){e=r.defaultValue(e,0),t=r.defaultValue(t,0),n=r.defaultValue(n,0),this.value=new Float32Array([e,t,n])}function d(e,t){const r=e.attributes,i=r.position,a=i.values.length/i.componentsPerAttribute;r.batchId=new o.GeometryAttribute({componentDatatype:n.ComponentDatatype.FLOAT,componentsPerAttribute:1,values:new Float32Array(a)});const s=r.batchId.values;for(let e=0;e<a;++e)s[e]=t}function p(e){const i=e.instances,o=e.projection,s=e.elementIndexUintSupported,l=e.scene3DOnly,c=e.vertexCacheOptimize,f=e.compressVertices,p=e.modelMatrix;let h,m,_,y=i.length;for(h=0;h<y;++h)if(r.defined(i[h].geometry)){_=i[h].geometry.primitiveType;break}if(function(e,t,n){let i=!n;const o=e.length;let s;if(!i&&o>1){const t=e[0].modelMatrix;for(s=1;s<o;++s)if(!a.Matrix4.equals(t,e[s].modelMatrix)){i=!0;break}}if(i)for(s=0;s<o;++s)r.defined(e[s].geometry)&&u.GeometryPipeline.transformToWorldCoordinates(e[s]);else a.Matrix4.multiplyTransformation(t,e[0].modelMatrix,t)}(i,p,l),!l)for(h=0;h<y;++h)r.defined(i[h].geometry)&&u.GeometryPipeline.splitLongitude(i[h]);if(function(e){const t=e.length;for(let n=0;n<t;++n){const t=e[n];r.defined(t.geometry)?d(t.geometry,n):r.defined(t.westHemisphereGeometry)&&r.defined(t.eastHemisphereGeometry)&&(d(t.westHemisphereGeometry,n),d(t.eastHemisphereGeometry,n))}}(i),c)for(h=0;h<y;++h){const e=i[h];r.defined(e.geometry)?(u.GeometryPipeline.reorderForPostVertexCache(e.geometry),u.GeometryPipeline.reorderForPreVertexCache(e.geometry)):r.defined(e.westHemisphereGeometry)&&r.defined(e.eastHemisphereGeometry)&&(u.GeometryPipeline.reorderForPostVertexCache(e.westHemisphereGeometry),u.GeometryPipeline.reorderForPreVertexCache(e.westHemisphereGeometry),u.GeometryPipeline.reorderForPostVertexCache(e.eastHemisphereGeometry),u.GeometryPipeline.reorderForPreVertexCache(e.eastHemisphereGeometry))}let g=u.GeometryPipeline.combineInstances(i);for(y=g.length,h=0;h<y;++h){m=g[h];const e=m.attributes;if(l)for(const t in e)e.hasOwnProperty(t)&&e[t].componentDatatype===n.ComponentDatatype.DOUBLE&&u.GeometryPipeline.encodeAttribute(m,t,t+"3DHigh",t+"3DLow");else for(const i in e)if(e.hasOwnProperty(i)&&e[i].componentDatatype===n.ComponentDatatype.DOUBLE){const e=i+"3D",n=i+"2D";u.GeometryPipeline.projectTo2D(m,i,e,n,o),r.defined(m.boundingSphere)&&"position"===i&&(m.boundingSphereCV=t.BoundingSphere.fromVertices(m.attributes.position2D.values)),u.GeometryPipeline.encodeAttribute(m,e,e+"High",e+"Low"),u.GeometryPipeline.encodeAttribute(m,n,n+"High",n+"Low")}f&&u.GeometryPipeline.compressVertices(m)}if(!s){let e=[];for(y=g.length,h=0;h<y;++h)m=g[h],e=e.concat(u.GeometryPipeline.fitToUnsignedShortIndices(m));g=e}return g}function h(e,t,n,i){let a,o,s;const u=i.length-1;if(u>=0){const e=i[u];a=e.offset+e.count,s=e.index,o=n[s].indices.length}else a=0,s=0,o=n[s].indices.length;const l=e.length;for(let u=0;u<l;++u){const l=e[u][t];if(!r.defined(l))continue;const c=l.indices.length;a+c>o&&(a=0,o=n[++s].indices.length),i.push({index:s,offset:a,count:c}),a+=c}}Object.defineProperties(f.prototype,{componentDatatype:{get:function(){return n.ComponentDatatype.FLOAT}},componentsPerAttribute:{get:function(){return 3}},normalize:{get:function(){return!1}}}),f.fromCartesian3=function(e){return new f(e.x,e.y,e.z)},f.toValue=function(e,t){return r.defined(t)||(t=new Float32Array([e.x,e.y,e.z])),t[0]=e.x,t[1]=e.y,t[2]=e.z,t};const m={};function _(e,t){const n=e.attributes;for(const e in n)if(n.hasOwnProperty(e)){const i=n[e];r.defined(i)&&r.defined(i.values)&&t.push(i.values.buffer)}r.defined(e.indices)&&t.push(e.indices.buffer)}function y(e,t){const n=e.length,i=new Float64Array(1+19*n);let o=0;i[o++]=n;for(let t=0;t<n;t++){const n=e[t];if(a.Matrix4.pack(n.modelMatrix,i,o),o+=a.Matrix4.packedLength,r.defined(n.attributes)&&r.defined(n.attributes.offset)){const e=n.attributes.offset.value;i[o]=e[0],i[o+1]=e[1],i[o+2]=e[2]}o+=3}return t.push(i.buffer),i}function g(e){const n=e.length,i=1+(t.BoundingSphere.packedLength+1)*n,a=new Float32Array(i);let o=0;a[o++]=n;for(let i=0;i<n;++i){const n=e[i];r.defined(n)?(a[o++]=1,t.BoundingSphere.pack(e[i],a,o)):a[o++]=0,o+=t.BoundingSphere.packedLength}return a}function C(e){const n=new Array(e[0]);let r=0,i=1;for(;i<e.length;)1===e[i++]&&(n[r]=t.BoundingSphere.unpack(e,i)),++r,i+=t.BoundingSphere.packedLength;return n}m.combineGeometry=function(e){let n,i;const a=e.instances,o=a.length;let s,l,c=!1;o>0&&(n=p(e),n.length>0&&(i=u.GeometryPipeline.createAttributeLocations(n[0]),e.createPickOffsets&&(s=function(e,t){const n=[];return h(e,"geometry",t,n),h(e,"westHemisphereGeometry",t,n),h(e,"eastHemisphereGeometry",t,n),n}(a,n))),r.defined(a[0].attributes)&&r.defined(a[0].attributes.offset)&&(l=new Array(o),c=!0));const f=new Array(o),d=new Array(o);for(let e=0;e<o;++e){const n=a[e],i=n.geometry;r.defined(i)&&(f[e]=i.boundingSphere,d[e]=i.boundingSphereCV,c&&(l[e]=n.geometry.offsetAttribute));const o=n.eastHemisphereGeometry,s=n.westHemisphereGeometry;r.defined(o)&&r.defined(s)&&(r.defined(o.boundingSphere)&&r.defined(s.boundingSphere)&&(f[e]=t.BoundingSphere.union(o.boundingSphere,s.boundingSphere)),r.defined(o.boundingSphereCV)&&r.defined(s.boundingSphereCV)&&(d[e]=t.BoundingSphere.union(o.boundingSphereCV,s.boundingSphereCV)))}return{geometries:n,modelMatrix:e.modelMatrix,attributeLocations:i,pickOffsets:s,offsetInstanceExtend:l,boundingSpheres:f,boundingSpheresCV:d}},m.packCreateGeometryResults=function(e,n){const i=new Float64Array(function(e){let n=1;const i=e.length;for(let a=0;a<i;a++){const i=e[a];if(++n,!r.defined(i))continue;const o=i.attributes;n+=7+2*t.BoundingSphere.packedLength+(r.defined(i.indices)?i.indices.length:0);for(const e in o)if(o.hasOwnProperty(e)&&r.defined(o[e])){n+=5+o[e].values.length}}return n}(e)),a=[],o={},s=e.length;let u=0;i[u++]=s;for(let n=0;n<s;n++){const s=e[n],l=r.defined(s);if(i[u++]=l?1:0,!l)continue;i[u++]=s.primitiveType,i[u++]=s.geometryType,i[u++]=r.defaultValue(s.offsetAttribute,-1);const c=r.defined(s.boundingSphere)?1:0;i[u++]=c,c&&t.BoundingSphere.pack(s.boundingSphere,i,u),u+=t.BoundingSphere.packedLength;const f=r.defined(s.boundingSphereCV)?1:0;i[u++]=f,f&&t.BoundingSphere.pack(s.boundingSphereCV,i,u),u+=t.BoundingSphere.packedLength;const d=s.attributes,p=[];for(const e in d)d.hasOwnProperty(e)&&r.defined(d[e])&&(p.push(e),r.defined(o[e])||(o[e]=a.length,a.push(e)));i[u++]=p.length;for(let e=0;e<p.length;e++){const t=p[e],n=d[t];i[u++]=o[t],i[u++]=n.componentDatatype,i[u++]=n.componentsPerAttribute,i[u++]=n.normalize?1:0,i[u++]=n.values.length,i.set(n.values,u),u+=n.values.length}const h=r.defined(s.indices)?s.indices.length:0;i[u++]=h,h>0&&(i.set(s.indices,u),u+=h)}return n.push(i.buffer),{stringTable:a,packedData:i}},m.unpackCreateGeometryResults=function(e){const r=e.stringTable,i=e.packedData;let a;const u=new Array(i[0]);let c=0,f=1;for(;f<i.length;){if(!(1===i[f++])){u[c++]=void 0;continue}const e=i[f++],d=i[f++];let p,h,m=i[f++];-1===m&&(m=void 0);1===i[f++]&&(p=t.BoundingSphere.unpack(i,f)),f+=t.BoundingSphere.packedLength;let _,y,g;1===i[f++]&&(h=t.BoundingSphere.unpack(i,f)),f+=t.BoundingSphere.packedLength;const C=new s.GeometryAttributes,b=i[f++];for(a=0;a<b;a++){const e=r[i[f++]],t=i[f++];g=i[f++];const a=0!==i[f++];_=i[f++],y=n.ComponentDatatype.createTypedArray(t,_);for(let e=0;e<_;e++)y[e]=i[f++];C[e]=new o.GeometryAttribute({componentDatatype:t,componentsPerAttribute:g,normalize:a,values:y})}let A;if(_=i[f++],_>0){const e=y.length/g;for(A=l.IndexDatatype.createTypedArray(e,_),a=0;a<_;a++)A[a]=i[f++]}u[c++]=new o.Geometry({primitiveType:e,geometryType:d,boundingSphere:p,boundingSphereCV:h,indices:A,attributes:C,offsetAttribute:m})}return u},m.packCombineGeometryParameters=function(e,n){const r=e.createGeometryResults,i=r.length;for(let e=0;e<i;e++)n.push(r[e].packedData.buffer);return{createGeometryResults:e.createGeometryResults,packedInstances:y(e.instances,n),ellipsoid:e.ellipsoid,isGeographic:e.projection instanceof t.GeographicProjection,elementIndexUintSupported:e.elementIndexUintSupported,scene3DOnly:e.scene3DOnly,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:e.modelMatrix,createPickOffsets:e.createPickOffsets}},m.unpackCombineGeometryParameters=function(e){const n=function(e){const t=e,n=new Array(t[0]);let i=0,o=1;for(;o<t.length;){const e=a.Matrix4.unpack(t,o);let s;o+=a.Matrix4.packedLength,r.defined(t[o])&&(s={offset:new f(t[o],t[o+1],t[o+2])}),o+=3,n[i++]={modelMatrix:e,attributes:s}}return n}(e.packedInstances),i=e.createGeometryResults,o=i.length;let s=0;for(let e=0;e<o;e++){const t=m.unpackCreateGeometryResults(i[e]),r=t.length;for(let e=0;e<r;e++){const r=t[e];n[s].geometry=r,++s}}const u=a.Ellipsoid.clone(e.ellipsoid);return{instances:n,ellipsoid:u,projection:e.isGeographic?new t.GeographicProjection(u):new c.WebMercatorProjection(u),elementIndexUintSupported:e.elementIndexUintSupported,scene3DOnly:e.scene3DOnly,vertexCacheOptimize:e.vertexCacheOptimize,compressVertices:e.compressVertices,modelMatrix:a.Matrix4.clone(e.modelMatrix),createPickOffsets:e.createPickOffsets}},m.packCombineGeometryResults=function(e,t){r.defined(e.geometries)&&function(e,t){const n=e.length;for(let r=0;r<n;++r)_(e[r],t)}(e.geometries,t);const n=g(e.boundingSpheres),i=g(e.boundingSpheresCV);return t.push(n.buffer,i.buffer),{geometries:e.geometries,attributeLocations:e.attributeLocations,modelMatrix:e.modelMatrix,pickOffsets:e.pickOffsets,offsetInstanceExtend:e.offsetInstanceExtend,boundingSpheres:n,boundingSpheresCV:i}},m.unpackCombineGeometryResults=function(e){return{geometries:e.geometries,attributeLocations:e.attributeLocations,modelMatrix:e.modelMatrix,pickOffsets:e.pickOffsets,offsetInstanceExtend:e.offsetInstanceExtend,boundingSpheres:C(e.boundingSpheres),boundingSpheresCV:C(e.boundingSpheresCV)}},e.PrimitivePipeline=m}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(2),n(0),n(1),n(4),n(3)],void 0===(i=function(e,t,n,r,i,a){"use strict";const o=Math.cos,s=Math.sin,u=Math.sqrt,l={computePosition:function(e,t,r,i,a,l,c){const f=t.radiiSquared,d=e.nwCorner,p=e.boundingRectangle;let h=d.latitude-e.granYCos*i+a*e.granXSin;const m=o(h),_=s(h),y=f.z*_;let g=d.longitude+i*e.granYSin+a*e.granXCos;const C=m*o(g),b=m*s(g),A=f.x*C,E=f.y*b,w=u(A*C+E*b+y*_);if(l.x=A/w,l.y=E/w,l.z=y/w,r){const t=e.stNwCorner;n.defined(t)?(h=t.latitude-e.stGranYCos*i+a*e.stGranXSin,g=t.longitude+i*e.stGranYSin+a*e.stGranXCos,c.x=(g-e.stWest)*e.lonScalar,c.y=(h-e.stSouth)*e.latScalar):(c.x=(g-p.west)*e.lonScalar,c.y=(h-p.south)*e.latScalar)}}},c=new t.Matrix2;let f=new t.Cartesian3;const d=new t.Cartographic;let p=new t.Cartesian3;const h=new i.GeographicProjection;function m(e,n,r,i,a,o,s){const u=Math.cos(n),l=i*u,d=r*u,m=Math.sin(n),_=i*m,y=r*m;f=h.project(e,f),f=t.Cartesian3.subtract(f,p,f);const g=t.Matrix2.fromRotation(n,c);f=t.Matrix2.multiplyByVector(g,f,f),f=t.Cartesian3.add(f,p,f),o-=1,s-=1;const C=(e=h.unproject(f,e)).latitude,b=C+o*y,A=C-l*s,E=C-l*s+o*y,w=Math.max(C,b,A,E),T=Math.min(C,b,A,E),x=e.longitude,v=x+o*d,R=x+s*_,O=x+s*_+o*d;return{north:w,south:T,east:Math.max(x,v,R,O),west:Math.min(x,v,R,O),granYCos:l,granYSin:_,granXCos:d,granXSin:y,nwCorner:e}}l.computeOptions=function(e,n,r,i,o,s,u){let l,c=e.east,f=e.west,_=e.north,y=e.south,g=!1,C=!1;_===a.CesiumMath.PI_OVER_TWO&&(g=!0),y===-a.CesiumMath.PI_OVER_TWO&&(C=!0);const b=_-y;l=f>c?a.CesiumMath.TWO_PI-f+c:c-f;const A=Math.ceil(l/n)+1,E=Math.ceil(b/n)+1,w=l/(A-1),T=b/(E-1),x=t.Rectangle.northwest(e,s),v=t.Rectangle.center(e,d);0===r&&0===i||(v.longitude<x.longitude&&(v.longitude+=a.CesiumMath.TWO_PI),p=h.project(v,p));const R=T,O=w,M=t.Rectangle.clone(e,o),S={granYCos:R,granYSin:0,granXCos:O,granXSin:0,nwCorner:x,boundingRectangle:M,width:A,height:E,northCap:g,southCap:C};if(0!==r){const e=m(x,r,w,T,0,A,E);_=e.north,y=e.south,c=e.east,f=e.west,S.granYCos=e.granYCos,S.granYSin=e.granYSin,S.granXCos=e.granXCos,S.granXSin=e.granXSin,M.north=_,M.south=y,M.east=c,M.west=f}if(0!==i){r-=i;const e=t.Rectangle.northwest(M,u),n=m(e,r,w,T,0,A,E);S.stGranYCos=n.granYCos,S.stGranXCos=n.granXCos,S.stGranYSin=n.granYSin,S.stGranXSin=n.granXSin,S.stNwCorner=e,S.stWest=n.west,S.stSouth=n.south}return S},e.RectangleGeometryLibrary=l}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[t,n(19),n(2),n(0),n(3),n(24)],void 0===(i=function(e,t,n,r,i,a){"use strict";const o={};function s(e,t){return i.CesiumMath.equalsEpsilon(e.latitude,t.latitude,i.CesiumMath.EPSILON10)&&i.CesiumMath.equalsEpsilon(e.longitude,t.longitude,i.CesiumMath.EPSILON10)}const u=new n.Cartographic,l=new n.Cartographic;const c=new Array(2),f=new Array(2),d={positions:void 0,height:void 0,granularity:void 0,ellipsoid:void 0};o.computePositions=function(e,o,p,h,m,_){const y=function(e,i,a,o){const c=(i=t.arrayRemoveDuplicates(i,n.Cartesian3.equalsEpsilon)).length;if(c<2)return;const f=r.defined(o),d=r.defined(a),p=new Array(c),h=new Array(c),m=new Array(c),_=i[0];p[0]=_;const y=e.cartesianToCartographic(_,u);d&&(y.height=a[0]),h[0]=y.height,m[0]=f?o[0]:0;let g=h[0]===m[0],C=1;for(let t=1;t<c;++t){const r=i[t],u=e.cartesianToCartographic(r,l);d&&(u.height=a[t]),g=g&&0===u.height,s(y,u)?y.height<u.height&&(h[C-1]=u.height):(p[C]=r,h[C]=u.height,m[C]=f?o[t]:0,g=g&&h[C]===m[C],n.Cartographic.clone(u,y),++C)}return g||C<2?void 0:(p.length=C,h.length=C,m.length=C,{positions:p,topHeights:h,bottomHeights:m})}(e,o,p,h);if(!r.defined(y))return;o=y.positions,p=y.topHeights,h=y.bottomHeights;const g=o.length,C=g-2;let b,A;const E=i.CesiumMath.chordLength(m,e.maximumRadius),w=d;if(w.minDistance=E,w.ellipsoid=e,_){let e,t=0;for(e=0;e<g-1;e++)t+=a.PolylinePipeline.numberOfPoints(o[e],o[e+1],E)+1;b=new Float64Array(3*t),A=new Float64Array(3*t);const n=c,r=f;w.positions=n,w.height=r;let i=0;for(e=0;e<g-1;e++){n[0]=o[e],n[1]=o[e+1],r[0]=p[e],r[1]=p[e+1];const t=a.PolylinePipeline.generateArc(w);b.set(t,i),r[0]=h[e],r[1]=h[e+1],A.set(a.PolylinePipeline.generateArc(w),i),i+=t.length}}else w.positions=o,w.height=p,b=new Float64Array(a.PolylinePipeline.generateArc(w)),w.height=h,A=new Float64Array(a.PolylinePipeline.generateArc(w));return{bottomPositions:A,topPositions:b,numCorners:C}},e.WallGeometryLibrary=o}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(51),n(0),n(12),n(1),n(4),n(2),n(3),n(5),n(9),n(7),n(6),n(8),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d){"use strict";return function(n,r){return t.defined(r)&&(n=e.BoxGeometry.unpack(n,r)),e.BoxGeometry.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(4),n(2),n(1),n(3),n(0),n(6),n(8),n(9),n(7),n(5)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c){"use strict";const f=new n.Cartesian3;function d(e){const t=(e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT)).minimum,r=e.maximum;this._min=n.Cartesian3.clone(t),this._max=n.Cartesian3.clone(r),this._offsetAttribute=e.offsetAttribute,this._workerName="createBoxOutlineGeometry"}d.fromDimensions=function(e){const t=(e=a.defaultValue(e,a.defaultValue.EMPTY_OBJECT)).dimensions,r=n.Cartesian3.multiplyByScalar(t,.5,new n.Cartesian3);return new d({minimum:n.Cartesian3.negate(r,new n.Cartesian3),maximum:r,offsetAttribute:e.offsetAttribute})},d.fromAxisAlignedBoundingBox=function(e){return new d({minimum:e.minimum,maximum:e.maximum})},d.packedLength=2*n.Cartesian3.packedLength+1,d.pack=function(e,t,r){return r=a.defaultValue(r,0),n.Cartesian3.pack(e._min,t,r),n.Cartesian3.pack(e._max,t,r+n.Cartesian3.packedLength),t[r+2*n.Cartesian3.packedLength]=a.defaultValue(e._offsetAttribute,-1),t};const p=new n.Cartesian3,h=new n.Cartesian3,m={minimum:p,maximum:h,offsetAttribute:void 0};return d.unpack=function(e,t,r){t=a.defaultValue(t,0);const i=n.Cartesian3.unpack(e,t,p),o=n.Cartesian3.unpack(e,t+n.Cartesian3.packedLength,h),s=e[t+2*n.Cartesian3.packedLength];return a.defined(r)?(r._min=n.Cartesian3.clone(i,r._min),r._max=n.Cartesian3.clone(o,r._max),r._offsetAttribute=-1===s?void 0:s,r):(m.offsetAttribute=-1===s?void 0:s,new d(m))},d.createGeometry=function(r){const u=r._min,l=r._max;if(n.Cartesian3.equals(u,l))return;const c=new s.GeometryAttributes,d=new Uint16Array(24),p=new Float64Array(24);p[0]=u.x,p[1]=u.y,p[2]=u.z,p[3]=l.x,p[4]=u.y,p[5]=u.z,p[6]=l.x,p[7]=l.y,p[8]=u.z,p[9]=u.x,p[10]=l.y,p[11]=u.z,p[12]=u.x,p[13]=u.y,p[14]=l.z,p[15]=l.x,p[16]=u.y,p[17]=l.z,p[18]=l.x,p[19]=l.y,p[20]=l.z,p[21]=u.x,p[22]=l.y,p[23]=l.z,c.position=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:p}),d[0]=4,d[1]=5,d[2]=5,d[3]=6,d[4]=6,d[5]=7,d[6]=7,d[7]=4,d[8]=0,d[9]=1,d[10]=1,d[11]=2,d[12]=2,d[13]=3,d[14]=3,d[15]=0,d[16]=0,d[17]=4,d[18]=1,d[19]=5,d[20]=2,d[21]=6,d[22]=3,d[23]=7;const h=n.Cartesian3.subtract(l,u,f),m=.5*n.Cartesian3.magnitude(h);if(a.defined(r._offsetAttribute)){const t=p.length,n=new Uint8Array(t/3),a=r._offsetAttribute===e.GeometryOffsetAttribute.NONE?0:1;e.arrayFill(n,a),c.applyOffset=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}return new o.Geometry({attributes:c,indices:d,primitiveType:o.PrimitiveType.LINES,boundingSphere:new t.BoundingSphere(n.Cartesian3.ZERO,m),offsetAttribute:r._offsetAttribute})},function(e,t){return a.defined(t)&&(e=d.unpack(e,t)),d.createGeometry(e)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(1),n(0),n(55),n(14),n(3),n(5),n(12),n(4),n(9),n(7),n(35),n(6),n(8),n(30),n(22),n(15),n(23),n(10),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b){"use strict";function A(e){const t=(e=n.defaultValue(e,n.defaultValue.EMPTY_OBJECT)).radius,i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,vertexFormat:e.vertexFormat,stRotation:e.stRotation,shadowVolume:e.shadowVolume};this._ellipseGeometry=new r.EllipseGeometry(i),this._workerName="createCircleGeometry"}A.packedLength=r.EllipseGeometry.packedLength,A.pack=function(e,t,n){return r.EllipseGeometry.pack(e._ellipseGeometry,t,n)};const E=new r.EllipseGeometry({center:new e.Cartesian3,semiMajorAxis:1,semiMinorAxis:1}),w={center:new e.Cartesian3,radius:void 0,ellipsoid:e.Ellipsoid.clone(e.Ellipsoid.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,vertexFormat:new i.VertexFormat,stRotation:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0,shadowVolume:void 0};return A.unpack=function(t,a,o){const s=r.EllipseGeometry.unpack(t,a,E);return w.center=e.Cartesian3.clone(s._center,w.center),w.ellipsoid=e.Ellipsoid.clone(s._ellipsoid,w.ellipsoid),w.height=s._height,w.extrudedHeight=s._extrudedHeight,w.granularity=s._granularity,w.vertexFormat=i.VertexFormat.clone(s._vertexFormat,w.vertexFormat),w.stRotation=s._stRotation,w.shadowVolume=s._shadowVolume,n.defined(o)?(w.semiMajorAxis=s._semiMajorAxis,w.semiMinorAxis=s._semiMinorAxis,o._ellipseGeometry=new r.EllipseGeometry(w),o):(w.radius=s._semiMajorAxis,new A(w))},A.createGeometry=function(e){return r.EllipseGeometry.createGeometry(e._ellipseGeometry)},A.createShadowVolume=function(e,t,n){const r=e._ellipseGeometry._granularity,a=e._ellipseGeometry._ellipsoid,o=t(r,a),s=n(r,a);return new A({center:e._ellipseGeometry._center,radius:e._ellipseGeometry._semiMajorAxis,ellipsoid:a,stRotation:e._ellipseGeometry._stRotation,granularity:r,extrudedHeight:o,height:s,vertexFormat:i.VertexFormat.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(A.prototype,{rectangle:{get:function(){return this._ellipseGeometry.rectangle}},textureCoordinateRotationPoints:{get:function(){return this._ellipseGeometry.textureCoordinateRotationPoints}}}),function(t,r){return n.defined(r)&&(t=A.unpack(t,r)),t._ellipseGeometry._center=e.Cartesian3.clone(t._ellipseGeometry._center),t._ellipseGeometry._ellipsoid=e.Ellipsoid.clone(t._ellipseGeometry._ellipsoid),A.createGeometry(t)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(1),n(0),n(56),n(3),n(5),n(12),n(4),n(9),n(7),n(35),n(6),n(8),n(10)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p){"use strict";function h(e){const t=(e=n.defaultValue(e,n.defaultValue.EMPTY_OBJECT)).radius,i={center:e.center,semiMajorAxis:t,semiMinorAxis:t,ellipsoid:e.ellipsoid,height:e.height,extrudedHeight:e.extrudedHeight,granularity:e.granularity,numberOfVerticalLines:e.numberOfVerticalLines};this._ellipseGeometry=new r.EllipseOutlineGeometry(i),this._workerName="createCircleOutlineGeometry"}h.packedLength=r.EllipseOutlineGeometry.packedLength,h.pack=function(e,t,n){return r.EllipseOutlineGeometry.pack(e._ellipseGeometry,t,n)};const m=new r.EllipseOutlineGeometry({center:new e.Cartesian3,semiMajorAxis:1,semiMinorAxis:1}),_={center:new e.Cartesian3,radius:void 0,ellipsoid:e.Ellipsoid.clone(e.Ellipsoid.UNIT_SPHERE),height:void 0,extrudedHeight:void 0,granularity:void 0,numberOfVerticalLines:void 0,semiMajorAxis:void 0,semiMinorAxis:void 0};return h.unpack=function(t,i,a){const o=r.EllipseOutlineGeometry.unpack(t,i,m);return _.center=e.Cartesian3.clone(o._center,_.center),_.ellipsoid=e.Ellipsoid.clone(o._ellipsoid,_.ellipsoid),_.height=o._height,_.extrudedHeight=o._extrudedHeight,_.granularity=o._granularity,_.numberOfVerticalLines=o._numberOfVerticalLines,n.defined(a)?(_.semiMajorAxis=o._semiMajorAxis,_.semiMinorAxis=o._semiMinorAxis,a._ellipseGeometry=new r.EllipseOutlineGeometry(_),a):(_.radius=o._semiMajorAxis,new h(_))},h.createGeometry=function(e){return r.EllipseOutlineGeometry.createGeometry(e._ellipseGeometry)},function(t,r){return n.defined(r)&&(t=h.unpack(t,r)),t._ellipseGeometry._center=e.Cartesian3.clone(t._ellipseGeometry._center),t._ellipseGeometry._ellipsoid=e.Ellipsoid.clone(t._ellipseGeometry._ellipsoid),h.createGeometry(t)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(19),n(39),n(4),n(2),n(1),n(3),n(52),n(0),n(6),n(8),n(30),n(22),n(10),n(42),n(26),n(14),n(9),n(7),n(5),n(32),n(18),n(17),n(13),n(11),n(15),n(23),n(29),n(16)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E,w,T,x,v,R){"use strict";const O=new r.Cartesian3,M=new t.BoundingRectangle,S=new r.Cartesian2,I=new r.Cartesian2,P=new r.Cartesian3,N=new r.Cartesian3,L=new r.Cartesian3,D=new r.Cartesian3,F=new r.Cartesian3,G=new r.Cartesian3,B=new n.Quaternion,U=new r.Matrix3,k=new r.Matrix3,V=new r.Cartesian3;function z(e,t,i,o,s,c,f,p){const m=e.positions;let _=h.PolygonPipeline.triangulate(e.positions2D,e.holes);_.length<3&&(_=[0,1,2]);const y=d.IndexDatatype.createTypedArray(m.length,_.length);y.set(_);let g=U;if(0!==o){let e=n.Quaternion.fromAxisAngle(c,o,B);if(g=r.Matrix3.fromQuaternion(e,g),t.tangent||t.bitangent){e=n.Quaternion.fromAxisAngle(c,-o,B);const i=r.Matrix3.fromQuaternion(e,k);f=r.Cartesian3.normalize(r.Matrix3.multiplyByVector(i,f,f),f),t.bitangent&&(p=r.Cartesian3.normalize(r.Cartesian3.cross(c,f,p),p))}}else g=r.Matrix3.clone(r.Matrix3.IDENTITY,g);const C=I;t.st&&(C.x=i.x,C.y=i.y);const b=m.length,A=3*b,E=new Float64Array(A),w=t.normal?new Float32Array(A):void 0,T=t.tangent?new Float32Array(A):void 0,x=t.bitangent?new Float32Array(A):void 0,v=t.st?new Float32Array(2*b):void 0;let R=0,M=0,P=0,N=0,L=0;for(let e=0;e<b;e++){const n=m[e];if(E[R++]=n.x,E[R++]=n.y,E[R++]=n.z,t.st){const e=s(r.Matrix3.multiplyByVector(g,n,O),S);r.Cartesian2.subtract(e,C,e);const t=a.CesiumMath.clamp(e.x/i.width,0,1),o=a.CesiumMath.clamp(e.y/i.height,0,1);v[L++]=t,v[L++]=o}t.normal&&(w[M++]=c.x,w[M++]=c.y,w[M++]=c.z),t.tangent&&(T[N++]=f.x,T[N++]=f.y,T[N++]=f.z),t.bitangent&&(x[P++]=p.x,x[P++]=p.y,x[P++]=p.z)}const D=new l.GeometryAttributes;return t.position&&(D.position=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:E})),t.normal&&(D.normal=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:w})),t.tangent&&(D.tangent=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:T})),t.bitangent&&(D.bitangent=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:x})),t.st&&(D.st=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:v})),new u.Geometry({attributes:D,indices:y,primitiveType:u.PrimitiveType.TRIANGLES})}function j(e){const t=(e=s.defaultValue(e,s.defaultValue.EMPTY_OBJECT)).polygonHierarchy,n=s.defaultValue(e.vertexFormat,m.VertexFormat.DEFAULT);this._vertexFormat=m.VertexFormat.clone(n),this._polygonHierarchy=t,this._stRotation=s.defaultValue(e.stRotation,0),this._ellipsoid=r.Ellipsoid.clone(s.defaultValue(e.ellipsoid,r.Ellipsoid.WGS84)),this._workerName="createCoplanarPolygonGeometry",this.packedLength=p.PolygonGeometryLibrary.computeHierarchyPackedLength(t)+m.VertexFormat.packedLength+r.Ellipsoid.packedLength+2}j.fromPositions=function(e){return new j({polygonHierarchy:{positions:(e=s.defaultValue(e,s.defaultValue.EMPTY_OBJECT)).positions},vertexFormat:e.vertexFormat,stRotation:e.stRotation,ellipsoid:e.ellipsoid})},j.pack=function(e,t,n){return n=s.defaultValue(n,0),n=p.PolygonGeometryLibrary.packPolygonHierarchy(e._polygonHierarchy,t,n),r.Ellipsoid.pack(e._ellipsoid,t,n),n+=r.Ellipsoid.packedLength,m.VertexFormat.pack(e._vertexFormat,t,n),n+=m.VertexFormat.packedLength,t[n++]=e._stRotation,t[n]=e.packedLength,t};const H=r.Ellipsoid.clone(r.Ellipsoid.UNIT_SPHERE),q=new m.VertexFormat,W={polygonHierarchy:{}};return j.unpack=function(e,t,n){t=s.defaultValue(t,0);const i=p.PolygonGeometryLibrary.unpackPolygonHierarchy(e,t);t=i.startingIndex,delete i.startingIndex;const a=r.Ellipsoid.unpack(e,t,H);t+=r.Ellipsoid.packedLength;const o=m.VertexFormat.unpack(e,t,q);t+=m.VertexFormat.packedLength;const u=e[t++],l=e[t];return s.defined(n)||(n=new j(W)),n._polygonHierarchy=i,n._ellipsoid=r.Ellipsoid.clone(a,n._ellipsoid),n._vertexFormat=m.VertexFormat.clone(o,n._vertexFormat),n._stRotation=u,n.packedLength=l,n},j.createGeometry=function(t){const i=t._vertexFormat,s=t._polygonHierarchy,l=t._stRotation;let h=s.positions;if(h=e.arrayRemoveDuplicates(h,r.Cartesian3.equalsEpsilon,!0),h.length<3)return;let m=P,_=N,y=L,g=F;const C=G;if(!o.CoplanarPolygonGeometryLibrary.computeProjectTo2DArguments(h,D,g,C))return;if(m=r.Cartesian3.cross(g,C,m),m=r.Cartesian3.normalize(m,m),!r.Cartesian3.equalsEpsilon(D,r.Cartesian3.ZERO,a.CesiumMath.EPSILON6)){const e=t._ellipsoid.geodeticSurfaceNormal(D,V);r.Cartesian3.dot(m,e)<0&&(m=r.Cartesian3.negate(m,m),g=r.Cartesian3.negate(g,g))}const b=o.CoplanarPolygonGeometryLibrary.createProjectPointsTo2DFunction(D,g,C),A=o.CoplanarPolygonGeometryLibrary.createProjectPointTo2DFunction(D,g,C);i.tangent&&(_=r.Cartesian3.clone(g,_)),i.bitangent&&(y=r.Cartesian3.clone(C,y));const E=p.PolygonGeometryLibrary.polygonsFromHierarchy(s,b,!1),w=E.hierarchy,T=E.polygons;if(0===w.length)return;h=w[0].outerRing;const x=n.BoundingSphere.fromPoints(h),v=p.PolygonGeometryLibrary.computeBoundingRectangle(m,A,h,l,M),R=[];for(let e=0;e<T.length;e++){const t=new c.GeometryInstance({geometry:z(T[e],i,v,l,A,m,_,y)});R.push(t)}const O=f.GeometryPipeline.combineInstances(R)[0];O.attributes.position.values=new Float64Array(O.attributes.position.values),O.indices=d.IndexDatatype.createTypedArray(O.attributes.position.values.length/3,O.indices);const S=O.attributes;return i.position||delete S.position,new u.Geometry({attributes:S,indices:O.indices,primitiveType:O.primitiveType,boundingSphere:x})},function(e,t){return s.defined(t)&&(e=j.unpack(e,t)),j.createGeometry(e)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(19),n(4),n(2),n(1),n(3),n(52),n(0),n(6),n(8),n(30),n(22),n(10),n(42),n(9),n(7),n(5),n(32),n(18),n(17),n(13),n(11),n(15),n(23),n(29),n(16),n(26)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E,w,T,x){"use strict";function v(e){const t=e.length,n=new Float64Array(3*t),r=f.IndexDatatype.createTypedArray(t,2*t);let a=0,o=0;for(let i=0;i<t;i++){const s=e[i];n[a++]=s.x,n[a++]=s.y,n[a++]=s.z,r[o++]=i,r[o++]=(i+1)%t}const l=new u.GeometryAttributes({position:new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:n})});return new s.Geometry({attributes:l,indices:r,primitiveType:s.PrimitiveType.LINES})}function R(e){const t=(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).polygonHierarchy;this._polygonHierarchy=t,this._workerName="createCoplanarPolygonOutlineGeometry",this.packedLength=d.PolygonGeometryLibrary.computeHierarchyPackedLength(t)+1}R.fromPositions=function(e){return new R({polygonHierarchy:{positions:(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).positions}})},R.pack=function(e,t,n){return n=o.defaultValue(n,0),t[n=d.PolygonGeometryLibrary.packPolygonHierarchy(e._polygonHierarchy,t,n)]=e.packedLength,t};const O={polygonHierarchy:{}};return R.unpack=function(e,t,n){t=o.defaultValue(t,0);const r=d.PolygonGeometryLibrary.unpackPolygonHierarchy(e,t);t=r.startingIndex,delete r.startingIndex;const i=e[t];return o.defined(n)||(n=new R(O)),n._polygonHierarchy=r,n.packedLength=i,n},R.createGeometry=function(r){const i=r._polygonHierarchy;let o=i.positions;if(o=e.arrayRemoveDuplicates(o,n.Cartesian3.equalsEpsilon,!0),o.length<3)return;if(!a.CoplanarPolygonGeometryLibrary.validOutline(o))return;const u=d.PolygonGeometryLibrary.polygonOutlinesFromHierarchy(i,!1);if(0===u.length)return;const f=[];for(let e=0;e<u.length;e++){const t=new l.GeometryInstance({geometry:v(u[e])});f.push(t)}const p=c.GeometryPipeline.combineInstances(f)[0],h=t.BoundingSphere.fromPoints(i.positions);return new s.Geometry({attributes:p.attributes,indices:p.indices,primitiveType:p.primitiveType,boundingSphere:h})},function(e,t){return o.defined(t)&&(e=R.unpack(e,t)),e._ellipsoid=n.Ellipsoid.clone(e._ellipsoid),R.createGeometry(e)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(19),n(4),n(2),n(1),n(3),n(36),n(53),n(0),n(6),n(8),n(10),n(26),n(14),n(9),n(7),n(5),n(18),n(17),n(13),n(11),n(24),n(25),n(16)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E,w){"use strict";const T=new r.Cartesian3,x=new r.Cartesian3,v=new r.Cartesian3,R=new r.Cartesian3,O=new r.Cartesian3,M=new r.Cartesian3,S=new r.Cartesian3,I=new r.Cartesian3;function P(e,t){for(let n=0;n<e.length;n++)e[n]=t.scaleToGeodeticSurface(e[n],e[n]);return e}function N(e,t,n,i,a,o){const u=e.normals,l=e.tangents,c=e.bitangents,f=r.Cartesian3.normalize(r.Cartesian3.cross(n,t,S),S);o.normal&&s.CorridorGeometryLibrary.addAttribute(u,t,i,a),o.tangent&&s.CorridorGeometryLibrary.addAttribute(l,f,i,a),o.bitangent&&s.CorridorGeometryLibrary.addAttribute(c,n,i,a)}function L(e,t,n){const i=e.positions,o=e.corners,d=e.endPositions,p=e.lefts,h=e.normals,m=new c.GeometryAttributes;let _,y,g,C=0,b=0,A=0;for(y=0;y<i.length;y+=2)g=i[y].length-3,C+=g,A+=2*g,b+=i[y+1].length-3;for(C+=3,b+=3,y=0;y<o.length;y++){_=o[y];const e=o[y].leftPositions;u.defined(e)?(g=e.length,C+=g,A+=g):(g=o[y].rightPositions.length,b+=g,A+=g)}const E=u.defined(d);let w;E&&(w=d[0].length-3,C+=w,b+=w,w/=3,A+=6*w);const O=C+b,P=new Float64Array(O),L={normals:t.normal?new Float32Array(O):void 0,tangents:t.tangent?new Float32Array(O):void 0,bitangents:t.bitangent?new Float32Array(O):void 0};let D,F,G,B,U,k,V=0,z=O-1,j=T,H=x;const q=w/2,W=f.IndexDatatype.createTypedArray(O/3,A);let K=0;if(E){k=v,U=R;const e=d[0];for(j=r.Cartesian3.fromArray(h,0,j),H=r.Cartesian3.fromArray(p,0,H),y=0;y<q;y++)k=r.Cartesian3.fromArray(e,3*(q-1-y),k),U=r.Cartesian3.fromArray(e,3*(q+y),U),s.CorridorGeometryLibrary.addAttribute(P,U,V),s.CorridorGeometryLibrary.addAttribute(P,k,void 0,z),N(L,j,H,V,z,t),F=V/3,B=F+1,D=(z-2)/3,G=D-1,W[K++]=D,W[K++]=F,W[K++]=G,W[K++]=G,W[K++]=F,W[K++]=B,V+=3,z-=3}let Y,X,Z=0,Q=0,$=i[Z++],J=i[Z++];for(P.set($,V),P.set(J,z-J.length+1),H=r.Cartesian3.fromArray(p,Q,H),g=J.length-3,y=0;y<g;y+=3)Y=n.geodeticSurfaceNormal(r.Cartesian3.fromArray($,y,S),S),X=n.geodeticSurfaceNormal(r.Cartesian3.fromArray(J,g-y,I),I),j=r.Cartesian3.normalize(r.Cartesian3.add(Y,X,j),j),N(L,j,H,V,z,t),F=V/3,B=F+1,D=(z-2)/3,G=D-1,W[K++]=D,W[K++]=F,W[K++]=G,W[K++]=G,W[K++]=F,W[K++]=B,V+=3,z-=3;for(Y=n.geodeticSurfaceNormal(r.Cartesian3.fromArray($,g,S),S),X=n.geodeticSurfaceNormal(r.Cartesian3.fromArray(J,g,I),I),j=r.Cartesian3.normalize(r.Cartesian3.add(Y,X,j),j),Q+=3,y=0;y<o.length;y++){let e;_=o[y];const a=_.leftPositions,l=_.rightPositions;let c,f,d=M,m=v,C=R;if(j=r.Cartesian3.fromArray(h,Q,j),u.defined(a)){for(N(L,j,H,void 0,z,t),z-=3,c=B,f=G,e=0;e<a.length/3;e++)d=r.Cartesian3.fromArray(a,3*e,d),W[K++]=c,W[K++]=f-e-1,W[K++]=f-e,s.CorridorGeometryLibrary.addAttribute(P,d,void 0,z),m=r.Cartesian3.fromArray(P,3*(f-e-1),m),C=r.Cartesian3.fromArray(P,3*c,C),H=r.Cartesian3.normalize(r.Cartesian3.subtract(m,C,H),H),N(L,j,H,void 0,z,t),z-=3;d=r.Cartesian3.fromArray(P,3*c,d),m=r.Cartesian3.subtract(r.Cartesian3.fromArray(P,3*f,m),d,m),C=r.Cartesian3.subtract(r.Cartesian3.fromArray(P,3*(f-e),C),d,C),H=r.Cartesian3.normalize(r.Cartesian3.add(m,C,H),H),N(L,j,H,V,void 0,t),V+=3}else{for(N(L,j,H,V,void 0,t),V+=3,c=G,f=B,e=0;e<l.length/3;e++)d=r.Cartesian3.fromArray(l,3*e,d),W[K++]=c,W[K++]=f+e,W[K++]=f+e+1,s.CorridorGeometryLibrary.addAttribute(P,d,V),m=r.Cartesian3.fromArray(P,3*c,m),C=r.Cartesian3.fromArray(P,3*(f+e),C),H=r.Cartesian3.normalize(r.Cartesian3.subtract(m,C,H),H),N(L,j,H,V,void 0,t),V+=3;d=r.Cartesian3.fromArray(P,3*c,d),m=r.Cartesian3.subtract(r.Cartesian3.fromArray(P,3*(f+e),m),d,m),C=r.Cartesian3.subtract(r.Cartesian3.fromArray(P,3*f,C),d,C),H=r.Cartesian3.normalize(r.Cartesian3.negate(r.Cartesian3.add(C,m,H),H),H),N(L,j,H,void 0,z,t),z-=3}for($=i[Z++],J=i[Z++],$.splice(0,3),J.splice(J.length-3,3),P.set($,V),P.set(J,z-J.length+1),g=J.length-3,Q+=3,H=r.Cartesian3.fromArray(p,Q,H),e=0;e<J.length;e+=3)Y=n.geodeticSurfaceNormal(r.Cartesian3.fromArray($,e,S),S),X=n.geodeticSurfaceNormal(r.Cartesian3.fromArray(J,g-e,I),I),j=r.Cartesian3.normalize(r.Cartesian3.add(Y,X,j),j),N(L,j,H,V,z,t),B=V/3,F=B-1,G=(z-2)/3,D=G+1,W[K++]=D,W[K++]=F,W[K++]=G,W[K++]=G,W[K++]=F,W[K++]=B,V+=3,z-=3;V-=3,z+=3}if(j=r.Cartesian3.fromArray(h,h.length-3,j),N(L,j,H,V,z,t),E){V+=3,z-=3,k=v,U=R;const e=d[1];for(y=0;y<q;y++)k=r.Cartesian3.fromArray(e,3*(w-y-1),k),U=r.Cartesian3.fromArray(e,3*y,U),s.CorridorGeometryLibrary.addAttribute(P,k,void 0,z),s.CorridorGeometryLibrary.addAttribute(P,U,V),N(L,j,H,V,z,t),B=V/3,F=B-1,G=(z-2)/3,D=G+1,W[K++]=D,W[K++]=F,W[K++]=G,W[K++]=G,W[K++]=F,W[K++]=B,V+=3,z-=3}if(m.position=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:P}),t.st){const e=new Float32Array(O/3*2);let t,n,r=0;if(E){C/=3,b/=3;const i=Math.PI/(w+1);let o;n=1/(C-w+1),t=1/(b-w+1);const s=w/2;for(y=s+1;y<w+1;y++)o=a.CesiumMath.PI_OVER_TWO+i*y,e[r++]=t*(1+Math.cos(o)),e[r++]=.5*(1+Math.sin(o));for(y=1;y<b-w+1;y++)e[r++]=y*t,e[r++]=0;for(y=w;y>s;y--)o=a.CesiumMath.PI_OVER_TWO-y*i,e[r++]=1-t*(1+Math.cos(o)),e[r++]=.5*(1+Math.sin(o));for(y=s;y>0;y--)o=a.CesiumMath.PI_OVER_TWO-i*y,e[r++]=1-n*(1+Math.cos(o)),e[r++]=.5*(1+Math.sin(o));for(y=C-w;y>0;y--)e[r++]=y*n,e[r++]=1;for(y=1;y<s+1;y++)o=a.CesiumMath.PI_OVER_TWO+i*y,e[r++]=n*(1+Math.cos(o)),e[r++]=.5*(1+Math.sin(o))}else{for(C/=3,b/=3,n=1/(C-1),t=1/(b-1),y=0;y<b;y++)e[r++]=y*t,e[r++]=0;for(y=C;y>0;y--)e[r++]=(y-1)*n,e[r++]=1}m.st=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:e})}return t.normal&&(m.normal=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:L.normals})),t.tangent&&(m.tangent=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:L.tangents})),t.bitangent&&(m.bitangent=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:L.bitangents})),{attributes:m,indices:W}}function D(e,t,n){n[t++]=e[0],n[t++]=e[1],n[t++]=e[2];for(let r=3;r<e.length;r+=3){const i=e[r],a=e[r+1],o=e[r+2];n[t++]=i,n[t++]=a,n[t++]=o,n[t++]=i,n[t++]=a,n[t++]=o}return n[t++]=e[0],n[t++]=e[1],n[t++]=e[2],n}function F(t,n){const i=new p.VertexFormat({position:n.position,normal:n.normal||n.bitangent||t.shadowVolume,tangent:n.tangent,bitangent:n.normal||n.bitangent,st:n.st}),o=t.ellipsoid,c=L(s.CorridorGeometryLibrary.computePositions(t),i,o),h=t.height,m=t.extrudedHeight;let _=c.attributes;const y=c.indices;let g=_.position.values,C=g.length;const b=new Float64Array(6*C);let A=new Float64Array(C);A.set(g);let E,w=new Float64Array(4*C);g=d.PolygonPipeline.scaleToGeodeticHeight(g,h,o),w=D(g,0,w),A=d.PolygonPipeline.scaleToGeodeticHeight(A,m,o),w=D(A,2*C,w),b.set(g),b.set(A,C),b.set(w,2*C),_.position.values=b,_=function(e,t){if(!(t.normal||t.tangent||t.bitangent||t.st))return e;const n=e.position.values;let i,a;(t.normal||t.bitangent)&&(i=e.normal.values,a=e.bitangent.values);const o=e.position.values.length/18,u=3*o,l=2*o,c=2*u;let f;if(t.normal||t.bitangent||t.tangent){const o=t.normal?new Float32Array(6*u):void 0,l=t.tangent?new Float32Array(6*u):void 0,d=t.bitangent?new Float32Array(6*u):void 0;let p=T,h=x,m=v,_=R,y=O,g=M,C=c;for(f=0;f<u;f+=3){const e=C+c;p=r.Cartesian3.fromArray(n,f,p),h=r.Cartesian3.fromArray(n,f+u,h),m=r.Cartesian3.fromArray(n,(f+3)%u,m),h=r.Cartesian3.subtract(h,p,h),m=r.Cartesian3.subtract(m,p,m),_=r.Cartesian3.normalize(r.Cartesian3.cross(h,m,_),_),t.normal&&(s.CorridorGeometryLibrary.addAttribute(o,_,e),s.CorridorGeometryLibrary.addAttribute(o,_,e+3),s.CorridorGeometryLibrary.addAttribute(o,_,C),s.CorridorGeometryLibrary.addAttribute(o,_,C+3)),(t.tangent||t.bitangent)&&(g=r.Cartesian3.fromArray(i,f,g),t.bitangent&&(s.CorridorGeometryLibrary.addAttribute(d,g,e),s.CorridorGeometryLibrary.addAttribute(d,g,e+3),s.CorridorGeometryLibrary.addAttribute(d,g,C),s.CorridorGeometryLibrary.addAttribute(d,g,C+3)),t.tangent&&(y=r.Cartesian3.normalize(r.Cartesian3.cross(g,_,y),y),s.CorridorGeometryLibrary.addAttribute(l,y,e),s.CorridorGeometryLibrary.addAttribute(l,y,e+3),s.CorridorGeometryLibrary.addAttribute(l,y,C),s.CorridorGeometryLibrary.addAttribute(l,y,C+3))),C+=6}if(t.normal){for(o.set(i),f=0;f<u;f+=3)o[f+u]=-i[f],o[f+u+1]=-i[f+1],o[f+u+2]=-i[f+2];e.normal.values=o}else e.normal=void 0;if(t.bitangent?(d.set(a),d.set(a,u),e.bitangent.values=d):e.bitangent=void 0,t.tangent){const t=e.tangent.values;l.set(t),l.set(t,u),e.tangent.values=l}}if(t.st){const t=e.st.values,n=new Float32Array(6*l);n.set(t),n.set(t,l);let r=2*l;for(let e=0;e<2;e++){for(n[r++]=t[0],n[r++]=t[1],f=2;f<l;f+=2){const e=t[f],i=t[f+1];n[r++]=e,n[r++]=i,n[r++]=e,n[r++]=i}n[r++]=t[0],n[r++]=t[1]}e.st.values=n}return e}(_,n);const S=C/3;if(t.shadowVolume){const e=_.normal.values;C=e.length;let t=new Float32Array(6*C);for(E=0;E<C;E++)e[E]=-e[E];t.set(e,C),t=D(e,4*C,t),_.extrudeDirection=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t}),n.normal||(_.normal=void 0)}if(u.defined(t.offsetAttribute)){let n=new Uint8Array(6*S);if(t.offsetAttribute===e.GeometryOffsetAttribute.TOP)n=e.arrayFill(n,1,0,S),n=e.arrayFill(n,1,2*S,4*S);else{const r=t.offsetAttribute===e.GeometryOffsetAttribute.NONE?0:1;n=e.arrayFill(n,r)}_.applyOffset=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}const I=y.length,P=S+S,N=f.IndexDatatype.createTypedArray(b.length/3,2*I+3*P);N.set(y);let F,G,B,U,k=I;for(E=0;E<I;E+=3){const e=y[E],t=y[E+1],n=y[E+2];N[k++]=n+S,N[k++]=t+S,N[k++]=e+S}for(E=0;E<P;E+=2)F=E+P,G=F+P,B=F+1,U=G+1,N[k++]=F,N[k++]=G,N[k++]=B,N[k++]=B,N[k++]=G,N[k++]=U;return{attributes:_,indices:N}}const G=new r.Cartesian3,B=new r.Cartesian3,U=new r.Cartographic;function k(e,t,n,i,a,o){const s=r.Cartesian3.subtract(t,e,G);r.Cartesian3.normalize(s,s);const u=n.geodeticSurfaceNormal(e,B),l=r.Cartesian3.cross(s,u,G);r.Cartesian3.multiplyByScalar(l,i,l);let c=a.latitude,f=a.longitude,d=o.latitude,p=o.longitude;r.Cartesian3.add(e,l,B),n.cartesianToCartographic(B,U);let h=U.latitude,m=U.longitude;c=Math.min(c,h),f=Math.min(f,m),d=Math.max(d,h),p=Math.max(p,m),r.Cartesian3.subtract(e,l,B),n.cartesianToCartographic(B,U),h=U.latitude,m=U.longitude,c=Math.min(c,h),f=Math.min(f,m),d=Math.max(d,h),p=Math.max(p,m),a.latitude=c,a.longitude=f,o.latitude=d,o.longitude=p}const V=new r.Cartesian3,z=new r.Cartesian3,j=new r.Cartographic,H=new r.Cartographic;function q(e,n,i,a,s){e=P(e,n);const l=t.arrayRemoveDuplicates(e,r.Cartesian3.equalsEpsilon),c=l.length;if(c<2||i<=0)return new r.Rectangle;const f=.5*i;let d,p;if(j.latitude=Number.POSITIVE_INFINITY,j.longitude=Number.POSITIVE_INFINITY,H.latitude=Number.NEGATIVE_INFINITY,H.longitude=Number.NEGATIVE_INFINITY,a===o.CornerType.ROUNDED){const e=l[0];r.Cartesian3.subtract(e,l[1],V),r.Cartesian3.normalize(V,V),r.Cartesian3.multiplyByScalar(V,f,V),r.Cartesian3.add(e,V,z),n.cartesianToCartographic(z,U),d=U.latitude,p=U.longitude,j.latitude=Math.min(j.latitude,d),j.longitude=Math.min(j.longitude,p),H.latitude=Math.max(H.latitude,d),H.longitude=Math.max(H.longitude,p)}for(let e=0;e<c-1;++e)k(l[e],l[e+1],n,f,j,H);const h=l[c-1];r.Cartesian3.subtract(h,l[c-2],V),r.Cartesian3.normalize(V,V),r.Cartesian3.multiplyByScalar(V,f,V),r.Cartesian3.add(h,V,z),k(h,z,n,f,j,H),a===o.CornerType.ROUNDED&&(n.cartesianToCartographic(z,U),d=U.latitude,p=U.longitude,j.latitude=Math.min(j.latitude,d),j.longitude=Math.min(j.longitude,p),H.latitude=Math.max(H.latitude,d),H.longitude=Math.max(H.longitude,p));const m=u.defined(s)?s:new r.Rectangle;return m.north=H.latitude,m.south=j.latitude,m.east=H.longitude,m.west=j.longitude,m}function W(e){const t=(e=u.defaultValue(e,u.defaultValue.EMPTY_OBJECT)).positions,n=e.width,i=u.defaultValue(e.height,0),s=u.defaultValue(e.extrudedHeight,i);this._positions=t,this._ellipsoid=r.Ellipsoid.clone(u.defaultValue(e.ellipsoid,r.Ellipsoid.WGS84)),this._vertexFormat=p.VertexFormat.clone(u.defaultValue(e.vertexFormat,p.VertexFormat.DEFAULT)),this._width=n,this._height=Math.max(i,s),this._extrudedHeight=Math.min(i,s),this._cornerType=u.defaultValue(e.cornerType,o.CornerType.ROUNDED),this._granularity=u.defaultValue(e.granularity,a.CesiumMath.RADIANS_PER_DEGREE),this._shadowVolume=u.defaultValue(e.shadowVolume,!1),this._workerName="createCorridorGeometry",this._offsetAttribute=e.offsetAttribute,this._rectangle=void 0,this.packedLength=1+t.length*r.Cartesian3.packedLength+r.Ellipsoid.packedLength+p.VertexFormat.packedLength+7}W.pack=function(e,t,n){n=u.defaultValue(n,0);const i=e._positions,a=i.length;t[n++]=a;for(let e=0;e<a;++e,n+=r.Cartesian3.packedLength)r.Cartesian3.pack(i[e],t,n);return r.Ellipsoid.pack(e._ellipsoid,t,n),n+=r.Ellipsoid.packedLength,p.VertexFormat.pack(e._vertexFormat,t,n),n+=p.VertexFormat.packedLength,t[n++]=e._width,t[n++]=e._height,t[n++]=e._extrudedHeight,t[n++]=e._cornerType,t[n++]=e._granularity,t[n++]=e._shadowVolume?1:0,t[n]=u.defaultValue(e._offsetAttribute,-1),t};const K=r.Ellipsoid.clone(r.Ellipsoid.UNIT_SPHERE),Y=new p.VertexFormat,X={positions:void 0,ellipsoid:K,vertexFormat:Y,width:void 0,height:void 0,extrudedHeight:void 0,cornerType:void 0,granularity:void 0,shadowVolume:void 0,offsetAttribute:void 0};return W.unpack=function(e,t,n){t=u.defaultValue(t,0);const i=e[t++],a=new Array(i);for(let n=0;n<i;++n,t+=r.Cartesian3.packedLength)a[n]=r.Cartesian3.unpack(e,t);const o=r.Ellipsoid.unpack(e,t,K);t+=r.Ellipsoid.packedLength;const s=p.VertexFormat.unpack(e,t,Y);t+=p.VertexFormat.packedLength;const l=e[t++],c=e[t++],f=e[t++],d=e[t++],h=e[t++],m=1===e[t++],_=e[t];return u.defined(n)?(n._positions=a,n._ellipsoid=r.Ellipsoid.clone(o,n._ellipsoid),n._vertexFormat=p.VertexFormat.clone(s,n._vertexFormat),n._width=l,n._height=c,n._extrudedHeight=f,n._cornerType=d,n._granularity=h,n._shadowVolume=m,n._offsetAttribute=-1===_?void 0:_,n):(X.positions=a,X.width=l,X.height=c,X.extrudedHeight=f,X.cornerType=d,X.granularity=h,X.shadowVolume=m,X.offsetAttribute=-1===_?void 0:_,new W(X))},W.computeRectangle=function(e,t){const n=(e=u.defaultValue(e,u.defaultValue.EMPTY_OBJECT)).positions,i=e.width;return q(n,u.defaultValue(e.ellipsoid,r.Ellipsoid.WGS84),i,u.defaultValue(e.cornerType,o.CornerType.ROUNDED),t)},W.createGeometry=function(i){let o=i._positions;const c=i._width,f=i._ellipsoid;o=P(o,f);const p=t.arrayRemoveDuplicates(o,r.Cartesian3.equalsEpsilon);if(p.length<2||c<=0)return;const h=i._height,m=i._extrudedHeight,_=!a.CesiumMath.equalsEpsilon(h,m,0,a.CesiumMath.EPSILON2),y=i._vertexFormat,g={ellipsoid:f,positions:p,width:c,cornerType:i._cornerType,granularity:i._granularity,saveAttributes:!0};let C;if(_)g.height=h,g.extrudedHeight=m,g.shadowVolume=i._shadowVolume,g.offsetAttribute=i._offsetAttribute,C=F(g,y);else{if(C=L(s.CorridorGeometryLibrary.computePositions(g),y,f),C.attributes.position.values=d.PolygonPipeline.scaleToGeodeticHeight(C.attributes.position.values,h,f),u.defined(i._offsetAttribute)){const t=i._offsetAttribute===e.GeometryOffsetAttribute.NONE?0:1,n=C.attributes.position.values.length,r=new Uint8Array(n/3);e.arrayFill(r,t),C.attributes.applyOffset=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}}const b=C.attributes,A=n.BoundingSphere.fromVertices(b.position.values,void 0,3);return y.position||(C.attributes.position.values=void 0),new l.Geometry({attributes:b,indices:C.indices,primitiveType:l.PrimitiveType.TRIANGLES,boundingSphere:A,offsetAttribute:i._offsetAttribute})},W.createShadowVolume=function(e,t,n){const r=e._granularity,i=e._ellipsoid,a=t(r,i),o=n(r,i);return new W({positions:e._positions,width:e._width,cornerType:e._cornerType,ellipsoid:i,granularity:r,extrudedHeight:a,height:o,vertexFormat:p.VertexFormat.POSITION_ONLY,shadowVolume:!0})},Object.defineProperties(W.prototype,{rectangle:{get:function(){return u.defined(this._rectangle)||(this._rectangle=q(this._positions,this._ellipsoid,this._width,this._cornerType)),this._rectangle}},textureCoordinateRotationPoints:{get:function(){return[0,0,0,1,1,0]}}}),function(e,t){return u.defined(t)&&(e=W.unpack(e,t)),e._ellipsoid=r.Ellipsoid.clone(e._ellipsoid),W.createGeometry(e)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(19),n(4),n(2),n(1),n(3),n(36),n(53),n(0),n(6),n(8),n(10),n(26),n(9),n(7),n(5),n(18),n(17),n(13),n(11),n(24),n(25),n(16)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E){"use strict";const w=new r.Cartesian3,T=new r.Cartesian3,x=new r.Cartesian3;function v(e,t){const n=[],i=e.positions,d=e.corners,p=e.endPositions,h=new c.GeometryAttributes;let m,_,y,g=0,C=0,b=0;for(_=0;_<i.length;_+=2)y=i[_].length-3,g+=y,b+=y/3*4,C+=i[_+1].length-3;for(g+=3,C+=3,_=0;_<d.length;_++){m=d[_];const e=d[_].leftPositions;u.defined(e)?(y=e.length,g+=y,b+=y/3*2):(y=d[_].rightPositions.length,C+=y,b+=y/3*2)}const A=u.defined(p);let E;A&&(E=p[0].length-3,g+=E,C+=E,E/=3,b+=4*E);const v=g+C,R=new Float64Array(v);let O,M,S,I,P,N,L=0,D=v-1;const F=E/2,G=f.IndexDatatype.createTypedArray(v/3,b+4);let B=0;if(G[B++]=L/3,G[B++]=(D-2)/3,A){n.push(L/3),N=w,P=T;const e=p[0];for(_=0;_<F;_++)N=r.Cartesian3.fromArray(e,3*(F-1-_),N),P=r.Cartesian3.fromArray(e,3*(F+_),P),s.CorridorGeometryLibrary.addAttribute(R,P,L),s.CorridorGeometryLibrary.addAttribute(R,N,void 0,D),M=L/3,I=M+1,O=(D-2)/3,S=O-1,G[B++]=O,G[B++]=S,G[B++]=M,G[B++]=I,L+=3,D-=3}let U=0,k=i[U++],V=i[U++];for(R.set(k,L),R.set(V,D-V.length+1),y=V.length-3,n.push(L/3,(D-2)/3),_=0;_<y;_+=3)M=L/3,I=M+1,O=(D-2)/3,S=O-1,G[B++]=O,G[B++]=S,G[B++]=M,G[B++]=I,L+=3,D-=3;for(_=0;_<d.length;_++){let e;m=d[_];const a=m.leftPositions,l=m.rightPositions;let c,f=x;if(u.defined(a)){for(D-=3,c=S,n.push(I),e=0;e<a.length/3;e++)f=r.Cartesian3.fromArray(a,3*e,f),G[B++]=c-e-1,G[B++]=c-e,s.CorridorGeometryLibrary.addAttribute(R,f,void 0,D),D-=3;n.push(c-Math.floor(a.length/6)),t===o.CornerType.BEVELED&&n.push((D-2)/3+1),L+=3}else{for(L+=3,c=I,n.push(S),e=0;e<l.length/3;e++)f=r.Cartesian3.fromArray(l,3*e,f),G[B++]=c+e,G[B++]=c+e+1,s.CorridorGeometryLibrary.addAttribute(R,f,L),L+=3;n.push(c+Math.floor(l.length/6)),t===o.CornerType.BEVELED&&n.push(L/3-1),D-=3}for(k=i[U++],V=i[U++],k.splice(0,3),V.splice(V.length-3,3),R.set(k,L),R.set(V,D-V.length+1),y=V.length-3,e=0;e<V.length;e+=3)I=L/3,M=I-1,S=(D-2)/3,O=S+1,G[B++]=O,G[B++]=S,G[B++]=M,G[B++]=I,L+=3,D-=3;L-=3,D+=3,n.push(L/3,(D-2)/3)}if(A){L+=3,D-=3,N=w,P=T;const e=p[1];for(_=0;_<F;_++)N=r.Cartesian3.fromArray(e,3*(E-_-1),N),P=r.Cartesian3.fromArray(e,3*_,P),s.CorridorGeometryLibrary.addAttribute(R,N,void 0,D),s.CorridorGeometryLibrary.addAttribute(R,P,L),I=L/3,M=I-1,S=(D-2)/3,O=S+1,G[B++]=O,G[B++]=S,G[B++]=M,G[B++]=I,L+=3,D-=3;n.push(L/3)}else n.push(L/3,(D-2)/3);return G[B++]=L/3,G[B++]=(D-2)/3,h.position=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:R}),{attributes:h,indices:G,wallIndices:n}}function R(e){const t=(e=u.defaultValue(e,u.defaultValue.EMPTY_OBJECT)).positions,n=e.width,i=u.defaultValue(e.height,0),s=u.defaultValue(e.extrudedHeight,i);this._positions=t,this._ellipsoid=r.Ellipsoid.clone(u.defaultValue(e.ellipsoid,r.Ellipsoid.WGS84)),this._width=n,this._height=Math.max(i,s),this._extrudedHeight=Math.min(i,s),this._cornerType=u.defaultValue(e.cornerType,o.CornerType.ROUNDED),this._granularity=u.defaultValue(e.granularity,a.CesiumMath.RADIANS_PER_DEGREE),this._offsetAttribute=e.offsetAttribute,this._workerName="createCorridorOutlineGeometry",this.packedLength=1+t.length*r.Cartesian3.packedLength+r.Ellipsoid.packedLength+6}R.pack=function(e,t,n){n=u.defaultValue(n,0);const i=e._positions,a=i.length;t[n++]=a;for(let e=0;e<a;++e,n+=r.Cartesian3.packedLength)r.Cartesian3.pack(i[e],t,n);return r.Ellipsoid.pack(e._ellipsoid,t,n),n+=r.Ellipsoid.packedLength,t[n++]=e._width,t[n++]=e._height,t[n++]=e._extrudedHeight,t[n++]=e._cornerType,t[n++]=e._granularity,t[n]=u.defaultValue(e._offsetAttribute,-1),t};const O=r.Ellipsoid.clone(r.Ellipsoid.UNIT_SPHERE),M={positions:void 0,ellipsoid:O,width:void 0,height:void 0,extrudedHeight:void 0,cornerType:void 0,granularity:void 0,offsetAttribute:void 0};return R.unpack=function(e,t,n){t=u.defaultValue(t,0);const i=e[t++],a=new Array(i);for(let n=0;n<i;++n,t+=r.Cartesian3.packedLength)a[n]=r.Cartesian3.unpack(e,t);const o=r.Ellipsoid.unpack(e,t,O);t+=r.Ellipsoid.packedLength;const s=e[t++],l=e[t++],c=e[t++],f=e[t++],d=e[t++],p=e[t];return u.defined(n)?(n._positions=a,n._ellipsoid=r.Ellipsoid.clone(o,n._ellipsoid),n._width=s,n._height=l,n._extrudedHeight=c,n._cornerType=f,n._granularity=d,n._offsetAttribute=-1===p?void 0:p,n):(M.positions=a,M.width=s,M.height=l,M.extrudedHeight=c,M.cornerType=f,M.granularity=d,M.offsetAttribute=-1===p?void 0:p,new R(M))},R.createGeometry=function(i){let o=i._positions;const c=i._width,p=i._ellipsoid;o=function(e,t){for(let n=0;n<e.length;n++)e[n]=t.scaleToGeodeticSurface(e[n],e[n]);return e}(o,p);const h=t.arrayRemoveDuplicates(o,r.Cartesian3.equalsEpsilon);if(h.length<2||c<=0)return;const m=i._height,_=i._extrudedHeight,y=!a.CesiumMath.equalsEpsilon(m,_,0,a.CesiumMath.EPSILON2),g={ellipsoid:p,positions:h,width:c,cornerType:i._cornerType,granularity:i._granularity,saveAttributes:!1};let C;if(y)g.height=m,g.extrudedHeight=_,g.offsetAttribute=i._offsetAttribute,C=function(t){const n=t.ellipsoid,r=v(s.CorridorGeometryLibrary.computePositions(t),t.cornerType),i=r.wallIndices,o=t.height,c=t.extrudedHeight,p=r.attributes,h=r.indices;let m=p.position.values,_=m.length,y=new Float64Array(_);y.set(m);const g=new Float64Array(2*_);if(m=d.PolygonPipeline.scaleToGeodeticHeight(m,o,n),y=d.PolygonPipeline.scaleToGeodeticHeight(y,c,n),g.set(m),g.set(y,_),p.position.values=g,_/=3,u.defined(t.offsetAttribute)){let n=new Uint8Array(2*_);if(t.offsetAttribute===e.GeometryOffsetAttribute.TOP)n=e.arrayFill(n,1,0,_);else{const r=t.offsetAttribute===e.GeometryOffsetAttribute.NONE?0:1;n=e.arrayFill(n,r)}p.applyOffset=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}let C;const b=h.length,A=f.IndexDatatype.createTypedArray(g.length/3,2*(b+i.length));A.set(h);let E,w,T=b;for(C=0;C<b;C+=2){const e=h[C],t=h[C+1];A[T++]=e+_,A[T++]=t+_}for(C=0;C<i.length;C++)E=i[C],w=E+_,A[T++]=E,A[T++]=w;return{attributes:p,indices:A}}(g);else{if(C=v(s.CorridorGeometryLibrary.computePositions(g),g.cornerType),C.attributes.position.values=d.PolygonPipeline.scaleToGeodeticHeight(C.attributes.position.values,m,p),u.defined(i._offsetAttribute)){const t=C.attributes.position.values.length,n=new Uint8Array(t/3),r=i._offsetAttribute===e.GeometryOffsetAttribute.NONE?0:1;e.arrayFill(n,r),C.attributes.applyOffset=new l.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}}const b=C.attributes,A=n.BoundingSphere.fromVertices(b.position.values,void 0,3);return new l.Geometry({attributes:b,indices:C.indices,primitiveType:l.PrimitiveType.LINES,boundingSphere:A,offsetAttribute:i._offsetAttribute})},function(e,t){return u.defined(t)&&(e=R.unpack(e,t)),e._ellipsoid=r.Ellipsoid.clone(e._ellipsoid),R.createGeometry(e)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(54),n(0),n(12),n(1),n(4),n(2),n(3),n(5),n(9),n(7),n(41),n(6),n(8),n(10),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h){"use strict";return function(n,r){return t.defined(r)&&(n=e.CylinderGeometry.unpack(n,r)),e.CylinderGeometry.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(12),n(4),n(2),n(1),n(3),n(41),n(0),n(6),n(8),n(10),n(9),n(7),n(5)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d){"use strict";const p=new n.Cartesian2;function h(e){const t=(e=o.defaultValue(e,o.defaultValue.EMPTY_OBJECT)).length,n=e.topRadius,r=e.bottomRadius,i=o.defaultValue(e.slices,128),a=Math.max(o.defaultValue(e.numberOfVerticalLines,16),0);this._length=t,this._topRadius=n,this._bottomRadius=r,this._slices=i,this._numberOfVerticalLines=a,this._offsetAttribute=e.offsetAttribute,this._workerName="createCylinderOutlineGeometry"}h.packedLength=6,h.pack=function(e,t,n){return n=o.defaultValue(n,0),t[n++]=e._length,t[n++]=e._topRadius,t[n++]=e._bottomRadius,t[n++]=e._slices,t[n++]=e._numberOfVerticalLines,t[n]=o.defaultValue(e._offsetAttribute,-1),t};const m={length:void 0,topRadius:void 0,bottomRadius:void 0,slices:void 0,numberOfVerticalLines:void 0,offsetAttribute:void 0};return h.unpack=function(e,t,n){t=o.defaultValue(t,0);const r=e[t++],i=e[t++],a=e[t++],s=e[t++],u=e[t++],l=e[t];return o.defined(n)?(n._length=r,n._topRadius=i,n._bottomRadius=a,n._slices=s,n._numberOfVerticalLines=u,n._offsetAttribute=-1===l?void 0:l,n):(m.length=r,m.topRadius=i,m.bottomRadius=a,m.slices=s,m.numberOfVerticalLines=u,m.offsetAttribute=-1===l?void 0:l,new h(m))},h.createGeometry=function(r){let c=r._length;const f=r._topRadius,d=r._bottomRadius,h=r._slices,m=r._numberOfVerticalLines;if(c<=0||f<0||d<0||0===f&&0===d)return;const _=2*h,y=a.CylinderGeometryLibrary.computePositions(c,f,d,h,!1);let g,C=2*h;if(m>0){const e=Math.min(m,h);g=Math.round(h/e),C+=e}const b=l.IndexDatatype.createTypedArray(_,2*C);let A,E=0;for(A=0;A<h-1;A++)b[E++]=A,b[E++]=A+1,b[E++]=A+h,b[E++]=A+1+h;if(b[E++]=h-1,b[E++]=0,b[E++]=h+h-1,b[E++]=h,m>0)for(A=0;A<h;A+=g)b[E++]=A,b[E++]=A+h;const w=new u.GeometryAttributes;w.position=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:y}),p.x=.5*c,p.y=Math.max(d,f);const T=new t.BoundingSphere(n.Cartesian3.ZERO,n.Cartesian2.magnitude(p));if(o.defined(r._offsetAttribute)){c=y.length;const t=new Uint8Array(c/3),n=r._offsetAttribute===e.GeometryOffsetAttribute.NONE?0:1;e.arrayFill(t,n),w.applyOffset=new s.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:t})}return new s.Geometry({attributes:w,indices:b,primitiveType:s.PrimitiveType.LINES,boundingSphere:T,offsetAttribute:r._offsetAttribute})},function(e,t){return o.defined(t)&&(e=h.unpack(e,t)),h.createGeometry(e)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(0),n(55),n(1),n(3),n(5),n(12),n(4),n(9),n(7),n(35),n(6),n(8),n(30),n(22),n(15),n(23),n(10),n(13),n(11),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b){"use strict";return function(r,i){return t.defined(i)&&(r=n.EllipseGeometry.unpack(r,i)),r._center=e.Cartesian3.clone(r._center),r._ellipsoid=e.Ellipsoid.clone(r._ellipsoid),n.EllipseGeometry.createGeometry(r)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(0),n(56),n(1),n(3),n(5),n(12),n(4),n(9),n(7),n(35),n(6),n(8),n(10)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p){"use strict";return function(r,i){return t.defined(i)&&(r=n.EllipseOutlineGeometry.unpack(r,i)),r._center=e.Cartesian3.clone(r._center),r._ellipsoid=e.Ellipsoid.clone(r._ellipsoid),n.EllipseOutlineGeometry.createGeometry(r)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(46),n(12),n(1),n(4),n(2),n(3),n(5),n(9),n(7),n(6),n(8),n(10),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p){"use strict";return function(n,r){return e.defined(r)&&(n=t.EllipsoidGeometry.unpack(n,r)),t.EllipsoidGeometry.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(57),n(12),n(1),n(4),n(2),n(3),n(5),n(9),n(7),n(6),n(8),n(10)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d){"use strict";return function(n,r){return e.defined(n.buffer)&&(n=t.EllipsoidOutlineGeometry.unpack(n,r)),t.EllipsoidOutlineGeometry.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(58),n(4),n(2),n(1),n(3),n(5),n(9),n(7),n(6),n(8),n(11),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d){"use strict";return function(n,r){return e.defined(r)&&(n=t.FrustumGeometry.unpack(n,r)),t.FrustumGeometry.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(4),n(2),n(1),n(3),n(58),n(6),n(8),n(9),n(7),n(5),n(11),n(14)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d){"use strict";function p(r){const i=r.frustum,o=r.orientation,s=r.origin,u=e.defaultValue(r._drawNearPlane,!0);let l,c;i instanceof a.PerspectiveFrustum?(l=0,c=a.PerspectiveFrustum.packedLength):i instanceof a.OrthographicFrustum&&(l=1,c=a.OrthographicFrustum.packedLength),this._frustumType=l,this._frustum=i.clone(),this._origin=n.Cartesian3.clone(s),this._orientation=t.Quaternion.clone(o),this._drawNearPlane=u,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+c+n.Cartesian3.packedLength+t.Quaternion.packedLength}p.pack=function(r,i,o){o=e.defaultValue(o,0);const s=r._frustumType,u=r._frustum;return i[o++]=s,0===s?(a.PerspectiveFrustum.pack(u,i,o),o+=a.PerspectiveFrustum.packedLength):(a.OrthographicFrustum.pack(u,i,o),o+=a.OrthographicFrustum.packedLength),n.Cartesian3.pack(r._origin,i,o),o+=n.Cartesian3.packedLength,t.Quaternion.pack(r._orientation,i,o),i[o+=t.Quaternion.packedLength]=r._drawNearPlane?1:0,i};const h=new a.PerspectiveFrustum,m=new a.OrthographicFrustum,_=new t.Quaternion,y=new n.Cartesian3;return p.unpack=function(r,i,o){i=e.defaultValue(i,0);const s=r[i++];let u;0===s?(u=a.PerspectiveFrustum.unpack(r,i,h),i+=a.PerspectiveFrustum.packedLength):(u=a.OrthographicFrustum.unpack(r,i,m),i+=a.OrthographicFrustum.packedLength);const l=n.Cartesian3.unpack(r,i,y);i+=n.Cartesian3.packedLength;const c=t.Quaternion.unpack(r,i,_),f=1===r[i+=t.Quaternion.packedLength];if(!e.defined(o))return new p({frustum:u,origin:l,orientation:c,_drawNearPlane:f});const d=s===o._frustumType?o._frustum:void 0;return o._frustum=u.clone(d),o._frustumType=s,o._origin=n.Cartesian3.clone(l,o._origin),o._orientation=t.Quaternion.clone(c,o._orientation),o._drawNearPlane=f,o},p.createGeometry=function(e){const n=e._frustumType,r=e._frustum,u=e._origin,l=e._orientation,c=e._drawNearPlane,f=new Float64Array(24);a.FrustumGeometry._computeNearFarPlanes(u,l,n,r,f);const d=new s.GeometryAttributes({position:new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:f})});let p,h;const m=c?2:1,_=new Uint16Array(8*(m+1));let y=c?0:1;for(;y<2;++y)p=c?8*y:0,h=4*y,_[p]=h,_[p+1]=h+1,_[p+2]=h+1,_[p+3]=h+2,_[p+4]=h+2,_[p+5]=h+3,_[p+6]=h+3,_[p+7]=h;for(y=0;y<2;++y)p=8*(m+y),h=4*y,_[p]=h,_[p+1]=h+4,_[p+2]=h+1,_[p+3]=h+5,_[p+4]=h+2,_[p+5]=h+6,_[p+6]=h+3,_[p+7]=h+7;return new o.Geometry({attributes:d,indices:_,primitiveType:o.PrimitiveType.LINES,boundingSphere:t.BoundingSphere.fromVertices(f)})},function(t,n){return e.defined(n)&&(t=p.unpack(t,n)),p.createGeometry(t)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(4),n(2),n(1),n(0),n(3),n(29),n(19),n(25),n(16),n(23),n(6),n(13),n(11),n(33),n(9),n(7),n(5)],void 0===(i=function(e,t,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y){"use strict";function g(n){n=i.defaultValue(n,i.defaultValue.EMPTY_OBJECT),this._ellipsoid=i.defaultValue(n.ellipsoid,t.Ellipsoid.WGS84),this._rectangle=i.defaultValue(n.rectangle,t.Rectangle.MAX_VALUE),this._projection=new e.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=i.defaultValue(n.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=i.defaultValue(n.numberOfLevelZeroTilesY,1)}Object.defineProperties(g.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}}}),g.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},g.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},g.prototype.rectangleToNativeRectangle=function(e,n){const r=a.CesiumMath.toDegrees(e.west),o=a.CesiumMath.toDegrees(e.south),s=a.CesiumMath.toDegrees(e.east),u=a.CesiumMath.toDegrees(e.north);return i.defined(n)?(n.west=r,n.south=o,n.east=s,n.north=u,n):new t.Rectangle(r,o,s,u)},g.prototype.tileXYToNativeRectangle=function(e,t,n,r){const i=this.tileXYToRectangle(e,t,n,r);return i.west=a.CesiumMath.toDegrees(i.west),i.south=a.CesiumMath.toDegrees(i.south),i.east=a.CesiumMath.toDegrees(i.east),i.north=a.CesiumMath.toDegrees(i.north),i},g.prototype.tileXYToRectangle=function(e,n,r,a){const o=this._rectangle,s=this.getNumberOfXTilesAtLevel(r),u=this.getNumberOfYTilesAtLevel(r),l=o.width/s,c=e*l+o.west,f=(e+1)*l+o.west,d=o.height/u,p=o.north-n*d,h=o.north-(n+1)*d;return i.defined(a)||(a=new t.Rectangle(c,h,f,p)),a.west=c,a.south=h,a.east=f,a.north=p,a},g.prototype.positionToTileXY=function(e,n,r){const o=this._rectangle;if(!t.Rectangle.contains(o,e))return;const s=this.getNumberOfXTilesAtLevel(n),u=this.getNumberOfYTilesAtLevel(n),l=o.width/s,c=o.height/u;let f=e.longitude;o.east<o.west&&(f+=a.CesiumMath.TWO_PI);let d=(f-o.west)/l|0;d>=s&&(d=s-1);let p=(o.north-e.latitude)/c|0;return p>=u&&(p=u-1),i.defined(r)?(r.x=d,r.y=p,r):new t.Cartesian2(d,p)};const C=new t.Cartesian3,b=new t.Cartesian3,A=new t.Cartographic,E=new t.Cartesian3,w=new t.Cartesian3,T=new e.BoundingSphere,x=new g,v=[new t.Cartographic,new t.Cartographic,new t.Cartographic,new t.Cartographic],R=new t.Cartesian2,O={};function M(e){t.Cartographic.fromRadians(e.east,e.north,0,v[0]),t.Cartographic.fromRadians(e.west,e.north,0,v[1]),t.Cartographic.fromRadians(e.east,e.south,0,v[2]),t.Cartographic.fromRadians(e.west,e.south,0,v[3]);let n=0,r=0,i=0,a=0;const o=O._terrainHeightsMaxLevel;let s;for(s=0;s<=o;++s){let e=!1;for(let t=0;t<4;++t){const n=v[t];if(x.positionToTileXY(n,s,R),0===t)i=R.x,a=R.y;else if(i!==R.x||a!==R.y){e=!0;break}}if(e)break;n=i,r=a}if(0!==s)return{x:n,y:r,level:s>o?o:s-1}}O.initialize=function(){let t=O._initPromise;if(i.defined(t))return t;var r=n(181);if(/build\/cesiumWorkers\.js$/.test(location.href)){var a=location.href.substring(0,location.href.length-"build/cesiumWorkers.js".length);r=e.getAbsoluteUri(r,a)}return t=e.Resource.fetchJson(r).then((function(e){O._terrainHeights=e})),O._initPromise=t,t},O.getMinimumMaximumHeights=function(e,n){n=i.defaultValue(n,t.Ellipsoid.WGS84);const r=M(e);let a=O._defaultMinTerrainHeight,o=O._defaultMaxTerrainHeight;if(i.defined(r)){const s=`${r.level}-${r.x}-${r.y}`,u=O._terrainHeights[s];i.defined(u)&&(a=u[0],o=u[1]),n.cartographicToCartesian(t.Rectangle.northeast(e,A),C),n.cartographicToCartesian(t.Rectangle.southwest(e,A),b),t.Cartesian3.midpoint(b,C,E);const l=n.scaleToGeodeticSurface(E,w);if(i.defined(l)){const e=t.Cartesian3.distance(E,l);a=Math.min(a,-e)}else a=O._defaultMinTerrainHeight}return a=Math.max(O._defaultMinTerrainHeight,a),{minimumTerrainHeight:a,maximumTerrainHeight:o}},O.getBoundingSphere=function(n,r){r=i.defaultValue(r,t.Ellipsoid.WGS84);const a=M(n);let o=O._defaultMaxTerrainHeight;if(i.defined(a)){const e=`${a.level}-${a.x}-${a.y}`,t=O._terrainHeights[e];i.defined(t)&&(o=t[1])}const s=e.BoundingSphere.fromRectangle3D(n,r,0);return e.BoundingSphere.fromRectangle3D(n,r,o,T),e.BoundingSphere.union(s,T,s)},O._terrainHeightsMaxLevel=6,O._defaultMaxTerrainHeight=9e3,O._defaultMinTerrainHeight=-1e5,O._terrainHeights=void 0,O._initPromise=void 0,Object.defineProperties(O,{initialized:{get:function(){return i.defined(O._terrainHeights)}}});const S=[e.GeographicProjection,h.WebMercatorProjection],I=S.length,P=Math.cos(a.CesiumMath.toRadians(30)),N=Math.cos(a.CesiumMath.toRadians(150));function L(e){const n=(e=i.defaultValue(e,i.defaultValue.EMPTY_OBJECT)).positions;this.width=i.defaultValue(e.width,1),this._positions=n,this.granularity=i.defaultValue(e.granularity,9999),this.loop=i.defaultValue(e.loop,!1),this.arcType=i.defaultValue(e.arcType,o.ArcType.GEODESIC),this._ellipsoid=t.Ellipsoid.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(L.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+t.Ellipsoid.packedLength+1+1}}}),L.setProjectionAndEllipsoid=function(e,t){let n=0;for(let e=0;e<I;e++)if(t instanceof S[e]){n=e;break}e._projectionIndex=n,e._ellipsoid=t.ellipsoid};const D=new t.Cartesian3,F=new t.Cartesian3,G=new t.Cartesian3;function B(e,n,r,i,a){const o=q(i,e,0,D),s=q(i,e,r,F),u=q(i,n,0,G),l=W(s,o,F),c=W(u,o,G);return t.Cartesian3.cross(c,l,a),t.Cartesian3.normalize(a,a)}const U=new t.Cartographic,k=new t.Cartesian3,V=new t.Cartesian3,z=new t.Cartesian3;function j(e,n,r,i,a,s,c,f,d,p,h){if(0===a)return;let m;s===o.ArcType.GEODESIC?m=new u.EllipsoidGeodesic(e,n,c):s===o.ArcType.RHUMB&&(m=new l.EllipsoidRhumbLine(e,n,c));const _=m.surfaceDistance;if(_<a)return;const y=B(e,n,i,c,z),g=Math.ceil(_/a),C=_/g;let b=C;const A=g-1;let E=f.length;for(let e=0;e<A;e++){const e=m.interpolateUsingSurfaceDistance(b,U),n=q(c,e,r,k),a=q(c,e,i,V);t.Cartesian3.pack(y,f,E),t.Cartesian3.pack(n,d,E),t.Cartesian3.pack(a,p,E),h.push(e.latitude),h.push(e.longitude),E+=3,b+=C}}const H=new t.Cartographic;function q(e,n,r,i){return t.Cartographic.clone(n,H),H.height=r,t.Cartographic.toCartesian(H,e,i)}function W(e,n,r){return t.Cartesian3.subtract(e,n,r),t.Cartesian3.normalize(r,r),r}function K(e,n,r,i){return i=W(e,n,i),i=t.Cartesian3.cross(i,r,i),i=t.Cartesian3.normalize(i,i),i=t.Cartesian3.cross(r,i,i)}L.pack=function(e,n,r){let a=i.defaultValue(r,0);const o=e._positions,s=o.length;n[a++]=s;for(let e=0;e<s;++e){const r=o[e];t.Cartesian3.pack(r,n,a),a+=3}return n[a++]=e.granularity,n[a++]=e.loop?1:0,n[a++]=e.arcType,t.Ellipsoid.pack(e._ellipsoid,n,a),a+=t.Ellipsoid.packedLength,n[a++]=e._projectionIndex,n[a++]=e._scene3DOnly?1:0,n},L.unpack=function(e,n,r){let a=i.defaultValue(n,0);const o=e[a++],s=new Array(o);for(let n=0;n<o;n++)s[n]=t.Cartesian3.unpack(e,a),a+=3;const u=e[a++],l=1===e[a++],c=e[a++],f=t.Ellipsoid.unpack(e,a);a+=t.Ellipsoid.packedLength;const d=e[a++],p=1===e[a++];return i.defined(r)||(r=new L({positions:s})),r._positions=s,r.granularity=u,r.loop=l,r.arcType=c,r._ellipsoid=f,r._projectionIndex=d,r._scene3DOnly=p,r};const Y=new t.Cartesian3,X=new t.Cartesian3,Z=new t.Cartesian3,Q=new t.Cartesian3;function $(e,n,r,i,o){const s=W(r,n,Q),u=K(e,n,s,Y),l=K(i,n,s,X);if(a.CesiumMath.equalsEpsilon(t.Cartesian3.dot(u,l),-1,a.CesiumMath.EPSILON5))return o=t.Cartesian3.cross(s,u,o),o=t.Cartesian3.normalize(o,o);o=t.Cartesian3.add(l,u,o),o=t.Cartesian3.normalize(o,o);const c=t.Cartesian3.cross(s,o,Z);return t.Cartesian3.dot(l,c)<0&&(o=t.Cartesian3.negate(o,o)),o}const J=p.Plane.fromPointNormal(t.Cartesian3.ZERO,t.Cartesian3.UNIT_Y),ee=new t.Cartesian3,te=new t.Cartesian3,ne=new t.Cartesian3,re=new t.Cartesian3,ie=new t.Cartesian3,ae=new t.Cartesian3,oe=new t.Cartographic,se=new t.Cartographic,ue=new t.Cartographic;L.createGeometry=function(n){const r=!n._scene3DOnly;let u=n.loop;const p=n._ellipsoid,h=n.granularity,m=n.arcType,_=new S[n._projectionIndex](p);let y,g;const C=n._positions,b=C.length;let A,E,w,T;2===b&&(u=!1);const x=new l.EllipsoidRhumbLine(void 0,void 0,p);let v,R,M;const I=[C[0]];for(g=0;g<b-1;g++)A=C[g],E=C[g+1],v=d.IntersectionTests.lineSegmentPlane(A,E,J,ae),!i.defined(v)||t.Cartesian3.equalsEpsilon(v,A,a.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(v,E,a.CesiumMath.EPSILON7)||(n.arcType===o.ArcType.GEODESIC?I.push(t.Cartesian3.clone(v)):n.arcType===o.ArcType.RHUMB&&(M=p.cartesianToCartographic(v,oe).longitude,w=p.cartesianToCartographic(A,oe),T=p.cartesianToCartographic(E,se),x.setEndPoints(w,T),R=x.findIntersectionWithLongitude(M,ue),v=p.cartographicToCartesian(R,ae),!i.defined(v)||t.Cartesian3.equalsEpsilon(v,A,a.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(v,E,a.CesiumMath.EPSILON7)||I.push(t.Cartesian3.clone(v)))),I.push(E);u&&(A=C[b-1],E=C[0],v=d.IntersectionTests.lineSegmentPlane(A,E,J,ae),!i.defined(v)||t.Cartesian3.equalsEpsilon(v,A,a.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(v,E,a.CesiumMath.EPSILON7)||(n.arcType===o.ArcType.GEODESIC?I.push(t.Cartesian3.clone(v)):n.arcType===o.ArcType.RHUMB&&(M=p.cartesianToCartographic(v,oe).longitude,w=p.cartesianToCartographic(A,oe),T=p.cartesianToCartographic(E,se),x.setEndPoints(w,T),R=x.findIntersectionWithLongitude(M,ue),v=p.cartographicToCartesian(R,ae),!i.defined(v)||t.Cartesian3.equalsEpsilon(v,A,a.CesiumMath.EPSILON7)||t.Cartesian3.equalsEpsilon(v,E,a.CesiumMath.EPSILON7)||I.push(t.Cartesian3.clone(v)))));let N=I.length,L=new Array(N);for(g=0;g<N;g++){const e=t.Cartographic.fromCartesian(I[g],p);e.height=0,L[g]=e}if(L=s.arrayRemoveDuplicates(L,t.Cartographic.equalsEpsilon),N=L.length,N<2)return;const D=[],F=[],G=[],U=[];let k=ee,V=te,z=ne,H=re,K=ie;const Y=L[0],X=L[1];for(k=q(p,L[N-1],0,k),H=q(p,X,0,H),V=q(p,Y,0,V),z=q(p,Y,1e3,z),K=u?$(k,V,z,H,K):B(Y,X,1e3,p,K),t.Cartesian3.pack(K,F,0),t.Cartesian3.pack(V,G,0),t.Cartesian3.pack(z,U,0),D.push(Y.latitude),D.push(Y.longitude),j(Y,X,0,1e3,h,m,p,F,G,U,D),g=1;g<N-1;++g){k=t.Cartesian3.clone(V,k),V=t.Cartesian3.clone(H,V);const e=L[g];q(p,e,1e3,z),q(p,L[g+1],0,H),$(k,V,z,H,K),y=F.length,t.Cartesian3.pack(K,F,y),t.Cartesian3.pack(V,G,y),t.Cartesian3.pack(z,U,y),D.push(e.latitude),D.push(e.longitude),j(L[g],L[g+1],0,1e3,h,m,p,F,G,U,D)}const Z=L[N-1],Q=L[N-2];if(V=q(p,Z,0,V),z=q(p,Z,1e3,z),u){const e=L[0];k=q(p,Q,0,k),H=q(p,e,0,H),K=$(k,V,z,H,K)}else K=B(Q,Z,1e3,p,K);if(y=F.length,t.Cartesian3.pack(K,F,y),t.Cartesian3.pack(V,G,y),t.Cartesian3.pack(z,U,y),D.push(Z.latitude),D.push(Z.longitude),u){for(j(Z,Y,0,1e3,h,m,p,F,G,U,D),y=F.length,g=0;g<3;++g)F[y+g]=F[g],G[y+g]=G[g],U[y+g]=U[g];D.push(Y.latitude),D.push(Y.longitude)}return function(n,r,i,o,s,u,l){let d,p;const h=r._ellipsoid,m=i.length/3-1,_=8*m,y=4*_,g=36*m,C=_>65535?new Uint32Array(g):new Uint16Array(g),b=new Float64Array(3*_),A=new Float32Array(y),E=new Float32Array(y),w=new Float32Array(y),T=new Float32Array(y),x=new Float32Array(y);let v,R,M,S;l&&(v=new Float32Array(y),R=new Float32Array(y),M=new Float32Array(y),S=new Float32Array(2*_));const I=u.length/2;let N=0;const L=we;L.height=0;const D=Te;D.height=0;let F=xe,G=ve;if(l)for(p=0,d=1;d<I;d++)L.latitude=u[p],L.longitude=u[p+1],D.latitude=u[p+2],D.longitude=u[p+3],F=r.project(L,F),G=r.project(D,G),N+=t.Cartesian3.distance(F,G),p+=2;const B=o.length/3;G=t.Cartesian3.unpack(o,0,G);let U,k=0;for(p=3,d=1;d<B;d++)F=t.Cartesian3.clone(G,F),G=t.Cartesian3.unpack(o,p,G),k+=t.Cartesian3.distance(F,G),p+=3;p=3;let V=0,z=0,j=0,H=0,q=!1,K=t.Cartesian3.unpack(i,0,Oe),Y=t.Cartesian3.unpack(o,0,ve),X=t.Cartesian3.unpack(s,0,Se);if(n){const e=t.Cartesian3.unpack(i,i.length-6,Re);de(X,e,K,Y)&&(X=t.Cartesian3.negate(X,X))}let Z=0,Q=0,$=0;for(d=0;d<m;d++){const e=t.Cartesian3.clone(K,Re),n=t.Cartesian3.clone(Y,xe);let f,d,m,_,y=t.Cartesian3.clone(X,Me);if(q&&(y=t.Cartesian3.negate(y,y)),K=t.Cartesian3.unpack(i,p,Oe),Y=t.Cartesian3.unpack(o,p,ve),X=t.Cartesian3.unpack(s,p,Se),q=de(X,e,K,Y),L.latitude=u[V],L.longitude=u[V+1],D.latitude=u[V+2],D.longitude=u[V+3],l){const e=Ee(L,D);f=r.project(L,Ge),d=r.project(D,Be);const n=W(d,f,Xe);n.y=Math.abs(n.y),m=Ue,_=ke,0===e||t.Cartesian3.dot(n,t.Cartesian3.UNIT_Y)>P?(m=_e(r,L,y,f,Ue),_=_e(r,D,X,d,ke)):1===e?(_=_e(r,D,X,d,ke),m.x=0,m.y=a.CesiumMath.sign(L.longitude-Math.abs(D.longitude)),m.z=0):(m=_e(r,L,y,f,Ue),_.x=0,_.y=a.CesiumMath.sign(L.longitude-D.longitude),_.z=0)}const g=t.Cartesian3.distance(n,Y),C=c.EncodedCartesian3.fromCartesian(e,Ke),I=t.Cartesian3.subtract(K,e,Ve),F=t.Cartesian3.normalize(I,He);let G=t.Cartesian3.subtract(n,e,ze);G=t.Cartesian3.normalize(G,G);let B=t.Cartesian3.cross(F,G,He);B=t.Cartesian3.normalize(B,B);let J=t.Cartesian3.cross(G,y,qe);J=t.Cartesian3.normalize(J,J);let ee=t.Cartesian3.subtract(Y,K,je);ee=t.Cartesian3.normalize(ee,ee);let te=t.Cartesian3.cross(X,ee,We);te=t.Cartesian3.normalize(te,te);const ne=g/k,re=Z/k;let ie,ae,oe,se=0,ue=0,le=0;if(l){se=t.Cartesian3.distance(f,d),ie=c.EncodedCartesian3.fromCartesian(f,Ye),ae=t.Cartesian3.subtract(d,f,Xe),oe=t.Cartesian3.normalize(ae,Ze);const e=oe.x;oe.x=oe.y,oe.y=-e,ue=se/N,le=Q/N}for(U=0;U<8;U++){const e=H+4*U,n=z+2*U,r=e+3,i=U<4?1:-1,a=2===U||3===U||6===U||7===U?1:-1;t.Cartesian3.pack(C.high,A,e),A[r]=I.x,t.Cartesian3.pack(C.low,E,e),E[r]=I.y,t.Cartesian3.pack(J,w,e),w[r]=I.z,t.Cartesian3.pack(te,T,e),T[r]=ne*i,t.Cartesian3.pack(B,x,e);let o=re*a;0===o&&a<0&&(o=9),x[r]=o,l&&(v[e]=ie.high.x,v[e+1]=ie.high.y,v[e+2]=ie.low.x,v[e+3]=ie.low.y,M[e]=-m.y,M[e+1]=m.x,M[e+2]=_.y,M[e+3]=-_.x,R[e]=ae.x,R[e+1]=ae.y,R[e+2]=oe.x,R[e+3]=oe.y,S[n]=ue*i,o=le*a,0===o&&a<0&&(o=9),S[n+1]=o)}const ce=De,fe=Fe,pe=Ne,he=Le,me=t.Rectangle.fromCartographicArray(Ie,Pe),ye=O.getMinimumMaximumHeights(me,h),ge=ye.minimumTerrainHeight,be=ye.maximumTerrainHeight;$+=ge,$+=be,Ce(e,n,ge,be,ce,pe),Ce(K,Y,ge,be,fe,he);let we=t.Cartesian3.multiplyByScalar(B,a.CesiumMath.EPSILON5,Qe);t.Cartesian3.add(ce,we,ce),t.Cartesian3.add(fe,we,fe),t.Cartesian3.add(pe,we,pe),t.Cartesian3.add(he,we,he),Ae(ce,fe),Ae(pe,he),t.Cartesian3.pack(ce,b,j),t.Cartesian3.pack(fe,b,j+3),t.Cartesian3.pack(he,b,j+6),t.Cartesian3.pack(pe,b,j+9),we=t.Cartesian3.multiplyByScalar(B,-2*a.CesiumMath.EPSILON5,Qe),t.Cartesian3.add(ce,we,ce),t.Cartesian3.add(fe,we,fe),t.Cartesian3.add(pe,we,pe),t.Cartesian3.add(he,we,he),Ae(ce,fe),Ae(pe,he),t.Cartesian3.pack(ce,b,j+12),t.Cartesian3.pack(fe,b,j+15),t.Cartesian3.pack(he,b,j+18),t.Cartesian3.pack(pe,b,j+21),V+=2,p+=3,z+=16,j+=24,H+=32,Z+=g,Q+=se}p=0;let J=0;for(d=0;d<m;d++){for(U=0;U<et;U++)C[p+U]=Je[U]+J;J+=8,p+=et}const ee=$e;e.BoundingSphere.fromVertices(i,t.Cartesian3.ZERO,3,ee[0]),e.BoundingSphere.fromVertices(o,t.Cartesian3.ZERO,3,ee[1]);const te=e.BoundingSphere.fromBoundingSpheres(ee);te.radius+=$/(2*m);const ne={position:new f.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:b}),startHiAndForwardOffsetX:tt(A),startLoAndForwardOffsetY:tt(E),startNormalAndForwardOffsetZ:tt(w),endNormalAndTextureCoordinateNormalizationX:tt(T),rightNormalAndTextureCoordinateNormalizationY:tt(x)};l&&(ne.startHiLo2D=tt(v),ne.offsetAndRight2D=tt(R),ne.startEndNormals2D=tt(M),ne.texcoordNormalization2D=new f.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:S}));return new f.Geometry({attributes:ne,indices:C,boundingSphere:te})}(u,_,G,U,F,D,r)};const le=new t.Cartesian3,ce=new t.Matrix3,fe=new e.Quaternion;function de(n,r,i,o){const s=W(i,r,le),u=t.Cartesian3.dot(s,n);if(u>P||u<N){const r=W(o,i,Q),s=u<N?a.CesiumMath.PI_OVER_TWO:-a.CesiumMath.PI_OVER_TWO,l=e.Quaternion.fromAxisAngle(r,s,fe),c=t.Matrix3.fromQuaternion(l,ce);return t.Matrix3.multiplyByVector(c,n,n),!0}return!1}const pe=new t.Cartographic,he=new t.Cartesian3,me=new t.Cartesian3;function _e(e,n,r,i,o){const s=t.Cartographic.toCartesian(n,e._ellipsoid,he);let u=t.Cartesian3.add(s,r,me),l=!1;const c=e._ellipsoid;let f=c.cartesianToCartographic(u,pe);Math.abs(n.longitude-f.longitude)>a.CesiumMath.PI_OVER_TWO&&(l=!0,u=t.Cartesian3.subtract(s,r,me),f=c.cartesianToCartographic(u,pe)),f.height=0;const d=e.project(f,o);return(o=t.Cartesian3.subtract(d,i,o)).z=0,o=t.Cartesian3.normalize(o,o),l&&t.Cartesian3.negate(o,o),o}const ye=new t.Cartesian3,ge=new t.Cartesian3;function Ce(e,n,r,i,a,o){const s=t.Cartesian3.subtract(n,e,ye);t.Cartesian3.normalize(s,s);const u=r-0;let l=t.Cartesian3.multiplyByScalar(s,u,ge);t.Cartesian3.add(e,l,a);const c=i-1e3;l=t.Cartesian3.multiplyByScalar(s,c,ge),t.Cartesian3.add(n,l,o)}const be=new t.Cartesian3;function Ae(e,n){const r=p.Plane.getPointDistance(J,e),i=p.Plane.getPointDistance(J,n);let o=be;a.CesiumMath.equalsEpsilon(r,0,a.CesiumMath.EPSILON2)?(o=W(n,e,o),t.Cartesian3.multiplyByScalar(o,a.CesiumMath.EPSILON2,o),t.Cartesian3.add(e,o,e)):a.CesiumMath.equalsEpsilon(i,0,a.CesiumMath.EPSILON2)&&(o=W(e,n,o),t.Cartesian3.multiplyByScalar(o,a.CesiumMath.EPSILON2,o),t.Cartesian3.add(n,o,n))}function Ee(e,t){const n=Math.abs(e.longitude),r=Math.abs(t.longitude);if(a.CesiumMath.equalsEpsilon(n,a.CesiumMath.PI,a.CesiumMath.EPSILON11)){const r=a.CesiumMath.sign(t.longitude);return e.longitude=r*(n-a.CesiumMath.EPSILON11),1}if(a.CesiumMath.equalsEpsilon(r,a.CesiumMath.PI,a.CesiumMath.EPSILON11)){const n=a.CesiumMath.sign(e.longitude);return t.longitude=n*(r-a.CesiumMath.EPSILON11),2}return 0}const we=new t.Cartographic,Te=new t.Cartographic,xe=new t.Cartesian3,ve=new t.Cartesian3,Re=new t.Cartesian3,Oe=new t.Cartesian3,Me=new t.Cartesian3,Se=new t.Cartesian3,Ie=[we,Te],Pe=new t.Rectangle,Ne=new t.Cartesian3,Le=new t.Cartesian3,De=new t.Cartesian3,Fe=new t.Cartesian3,Ge=new t.Cartesian3,Be=new t.Cartesian3,Ue=new t.Cartesian3,ke=new t.Cartesian3,Ve=new t.Cartesian3,ze=new t.Cartesian3,je=new t.Cartesian3,He=new t.Cartesian3,qe=new t.Cartesian3,We=new t.Cartesian3,Ke=new c.EncodedCartesian3,Ye=new c.EncodedCartesian3,Xe=new t.Cartesian3,Ze=new t.Cartesian3,Qe=new t.Cartesian3,$e=[new e.BoundingSphere,new e.BoundingSphere],Je=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],et=Je.length;function tt(e){return new f.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return L._projectNormal=_e,function(e,t){return O.initialize().then((function(){return i.defined(t)&&(e=L.unpack(e,t)),L.createGeometry(e)}))}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(4),n(2),n(1),n(3),n(6),n(8),n(14),n(9),n(7),n(5)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c){"use strict";function f(t){t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT);const n=e.defaultValue(t.vertexFormat,s.VertexFormat.DEFAULT);this._vertexFormat=n,this._workerName="createPlaneGeometry"}f.packedLength=s.VertexFormat.packedLength,f.pack=function(t,n,r){return r=e.defaultValue(r,0),s.VertexFormat.pack(t._vertexFormat,n,r),n};const d=new s.VertexFormat,p={vertexFormat:d};f.unpack=function(t,n,r){n=e.defaultValue(n,0);const i=s.VertexFormat.unpack(t,n,d);return e.defined(r)?(r._vertexFormat=s.VertexFormat.clone(i,r._vertexFormat),r):new f(p)};const h=new n.Cartesian3(-.5,-.5,0),m=new n.Cartesian3(.5,.5,0);return f.createGeometry=function(e){const r=e._vertexFormat,s=new o.GeometryAttributes;let u,l;if(r.position){if(l=new Float64Array(12),l[0]=h.x,l[1]=h.y,l[2]=0,l[3]=m.x,l[4]=h.y,l[5]=0,l[6]=m.x,l[7]=m.y,l[8]=0,l[9]=h.x,l[10]=m.y,l[11]=0,s.position=new a.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:l}),r.normal){const e=new Float32Array(12);e[0]=0,e[1]=0,e[2]=1,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=1,e[9]=0,e[10]=0,e[11]=1,s.normal=new a.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})}if(r.st){const e=new Float32Array(8);e[0]=0,e[1]=0,e[2]=1,e[3]=0,e[4]=1,e[5]=1,e[6]=0,e[7]=1,s.st=new a.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:e})}if(r.tangent){const e=new Float32Array(12);e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=1,e[7]=0,e[8]=0,e[9]=1,e[10]=0,e[11]=0,s.tangent=new a.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})}if(r.bitangent){const e=new Float32Array(12);e[0]=0,e[1]=1,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=1,e[8]=0,e[9]=0,e[10]=1,e[11]=0,s.bitangent=new a.GeometryAttribute({componentDatatype:i.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})}u=new Uint16Array(6),u[0]=0,u[1]=1,u[2]=2,u[3]=0,u[4]=2,u[5]=3}return new a.Geometry({attributes:s,indices:u,primitiveType:a.PrimitiveType.TRIANGLES,boundingSphere:new t.BoundingSphere(n.Cartesian3.ZERO,Math.sqrt(2))})},function(t,n){return e.defined(n)&&(t=f.unpack(t,n)),f.createGeometry(t)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(4),n(2),n(1),n(3),n(6),n(8),n(9),n(7),n(5)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l){"use strict";function c(){this._workerName="createPlaneOutlineGeometry"}c.packedLength=0,c.pack=function(e,t){return t},c.unpack=function(t,n,r){return e.defined(r)?r:new c};const f=new n.Cartesian3(-.5,-.5,0),d=new n.Cartesian3(.5,.5,0);return c.createGeometry=function(){const e=new o.GeometryAttributes,r=new Uint16Array(8),s=new Float64Array(12);return s[0]=f.x,s[1]=f.y,s[2]=f.z,s[3]=d.x,s[4]=f.y,s[5]=f.z,s[6]=d.x,s[7]=d.y,s[8]=f.z,s[9]=f.x,s[10]=d.y,s[11]=f.z,e.position=new a.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:s}),r[0]=0,r[1]=1,r[2]=1,r[3]=2,r[4]=2,r[5]=3,r[6]=3,r[7]=0,new a.Geometry({attributes:e,indices:r,primitiveType:a.PrimitiveType.LINES,boundingSphere:new t.BoundingSphere(n.Cartesian3.ZERO,Math.sqrt(2))})},function(t,n){return e.defined(n)&&(t=c.unpack(t,n)),c.createGeometry(t)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(29),n(12),n(39),n(4),n(1),n(3),n(25),n(18),n(6),n(30),n(22),n(10),n(42),n(26),n(14),n(9),n(7),n(5),n(17),n(13),n(11),n(15),n(23),n(19),n(16),n(8)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E,w,T,x,v,R){"use strict";const O=new t.Cartographic,M=new t.Cartographic;function S(e,t,n,r){const i=r.cartesianToCartographic(e,O).height,a=r.cartesianToCartographic(t,M);a.height=i,r.cartographicToCartesian(a,t);const o=r.cartesianToCartographic(n,M);o.height=i-100,r.cartographicToCartesian(o,n)}const I=new i.BoundingRectangle,P=new t.Cartesian3,N=new t.Cartesian3,L=new t.Cartesian3,D=new t.Cartesian3,F=new t.Cartesian3,G=new t.Cartesian3;let B=new t.Cartesian3,U=new t.Cartesian3,k=new t.Cartesian3;const V=new t.Cartesian2,z=new t.Cartesian2,j=new t.Cartesian3,H=new a.Quaternion,q=new t.Matrix3,W=new t.Matrix3;function K(n){const i=n.vertexFormat,o=n.geometry,u=n.shadowVolume,l=o.attributes.position.values;let f=l.length;const d=n.wall,p=n.top||d,h=n.bottom||d;if(i.st||i.normal||i.tangent||i.bitangent||u){const e=n.boundingRectangle,r=n.tangentPlane,m=n.ellipsoid,_=n.stRotation,y=n.perPositionHeight,g=V;g.x=e.x,g.y=e.y;const C=i.st?new Float32Array(f/3*2):void 0;let b;i.normal&&(b=y&&p&&!d?o.attributes.normal.values:new Float32Array(f));const A=i.tangent?new Float32Array(f):void 0,E=i.bitangent?new Float32Array(f):void 0,w=u?new Float32Array(f):void 0;let T=0,x=0,v=N,R=L,O=D,M=!0,I=q,K=W;if(0!==_){let e=a.Quaternion.fromAxisAngle(r._plane.normal,_,H);I=t.Matrix3.fromQuaternion(e,I),e=a.Quaternion.fromAxisAngle(r._plane.normal,-_,H),K=t.Matrix3.fromQuaternion(e,K)}else I=t.Matrix3.clone(t.Matrix3.IDENTITY,I),K=t.Matrix3.clone(t.Matrix3.IDENTITY,K);let Y=0,X=0;p&&h&&(Y=f/2,X=f/3,f/=2);for(let a=0;a<f;a+=3){const o=t.Cartesian3.fromArray(l,a,j);if(i.st){let n=t.Matrix3.multiplyByVector(I,o,P);n=m.scaleToGeodeticSurface(n,n);const i=r.projectPointOntoPlane(n,z);t.Cartesian2.subtract(i,g,i);const a=s.CesiumMath.clamp(i.x/e.width,0,1),u=s.CesiumMath.clamp(i.y/e.height,0,1);h&&(C[T+X]=a,C[T+1+X]=u),p&&(C[T]=a,C[T+1]=u),T+=2}if(i.normal||i.tangent||i.bitangent||u){const e=x+1,r=x+2;if(d){if(a+3<f){const e=t.Cartesian3.fromArray(l,a+3,F);if(M){const n=t.Cartesian3.fromArray(l,a+f,G);y&&S(o,e,n,m),t.Cartesian3.subtract(e,o,e),t.Cartesian3.subtract(n,o,n),v=t.Cartesian3.normalize(t.Cartesian3.cross(n,e,v),v),M=!1}t.Cartesian3.equalsEpsilon(e,o,s.CesiumMath.EPSILON10)&&(M=!0)}(i.tangent||i.bitangent)&&(O=m.geodeticSurfaceNormal(o,O),i.tangent&&(R=t.Cartesian3.normalize(t.Cartesian3.cross(O,v,R),R)))}else v=m.geodeticSurfaceNormal(o,v),(i.tangent||i.bitangent)&&(y&&(B=t.Cartesian3.fromArray(b,x,B),U=t.Cartesian3.cross(t.Cartesian3.UNIT_Z,B,U),U=t.Cartesian3.normalize(t.Matrix3.multiplyByVector(K,U,U),U),i.bitangent&&(k=t.Cartesian3.normalize(t.Cartesian3.cross(B,U,k),k))),R=t.Cartesian3.cross(t.Cartesian3.UNIT_Z,v,R),R=t.Cartesian3.normalize(t.Matrix3.multiplyByVector(K,R,R),R),i.bitangent&&(O=t.Cartesian3.normalize(t.Cartesian3.cross(v,R,O),O)));i.normal&&(n.wall?(b[x+Y]=v.x,b[e+Y]=v.y,b[r+Y]=v.z):h&&(b[x+Y]=-v.x,b[e+Y]=-v.y,b[r+Y]=-v.z),(p&&!y||d)&&(b[x]=v.x,b[e]=v.y,b[r]=v.z)),u&&(d&&(v=m.geodeticSurfaceNormal(o,v)),w[x+Y]=-v.x,w[e+Y]=-v.y,w[r+Y]=-v.z),i.tangent&&(n.wall?(A[x+Y]=R.x,A[e+Y]=R.y,A[r+Y]=R.z):h&&(A[x+Y]=-R.x,A[e+Y]=-R.y,A[r+Y]=-R.z),p&&(y?(A[x]=U.x,A[e]=U.y,A[r]=U.z):(A[x]=R.x,A[e]=R.y,A[r]=R.z))),i.bitangent&&(h&&(E[x+Y]=O.x,E[e+Y]=O.y,E[r+Y]=O.z),p&&(y?(E[x]=k.x,E[e]=k.y,E[r]=k.z):(E[x]=O.x,E[e]=O.y,E[r]=O.z))),x+=3}}i.st&&(o.attributes.st=new c.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:C})),i.normal&&(o.attributes.normal=new c.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:b})),i.tangent&&(o.attributes.tangent=new c.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:A})),i.bitangent&&(o.attributes.bitangent=new c.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:E})),u&&(o.attributes.extrudeDirection=new c.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:w}))}if(n.extrude&&e.defined(n.offsetAttribute)){const e=l.length/3;let t=new Uint8Array(e);if(n.offsetAttribute===r.GeometryOffsetAttribute.TOP)p&&h||d?t=r.arrayFill(t,1,0,e/2):p&&(t=r.arrayFill(t,1));else{const e=n.offsetAttribute===r.GeometryOffsetAttribute.NONE?0:1;t=r.arrayFill(t,e)}o.attributes.applyOffset=new c.GeometryAttribute({componentDatatype:s.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:t})}return o}const Y=new t.Cartographic,X=new t.Cartographic,Z={westOverIDL:0,eastOverIDL:0};let Q=new u.EllipsoidGeodesic;function $(r,i,a,o,l){if(l=e.defaultValue(l,new t.Rectangle),!e.defined(r)||r.length<3)return l.west=0,l.north=0,l.south=0,l.east=0,l;if(a===n.ArcType.RHUMB)return t.Rectangle.fromCartesianArray(r,i,l);Q.ellipsoid.equals(i)||(Q=new u.EllipsoidGeodesic(void 0,void 0,i)),l.west=Number.POSITIVE_INFINITY,l.east=Number.NEGATIVE_INFINITY,l.south=Number.POSITIVE_INFINITY,l.north=Number.NEGATIVE_INFINITY,Z.westOverIDL=Number.POSITIVE_INFINITY,Z.eastOverIDL=Number.NEGATIVE_INFINITY;const c=1/s.CesiumMath.chordLength(o,i.maximumRadius),f=r.length;let d,p=i.cartesianToCartographic(r[0],X),h=Y;for(let e=1;e<f;e++)d=h,h=p,p=i.cartesianToCartographic(r[e],d),Q.setEndPoints(h,p),ee(Q,c,l,Z);return d=h,h=p,p=i.cartesianToCartographic(r[0],d),Q.setEndPoints(h,p),ee(Q,c,l,Z),l.east-l.west>Z.eastOverIDL-Z.westOverIDL&&(l.west=Z.westOverIDL,l.east=Z.eastOverIDL,l.east>s.CesiumMath.PI&&(l.east=l.east-s.CesiumMath.TWO_PI),l.west>s.CesiumMath.PI&&(l.west=l.west-s.CesiumMath.TWO_PI)),l}const J=new t.Cartographic;function ee(e,t,n,r){const i=e.surfaceDistance,a=Math.ceil(i*t),o=a>0?i/(a-1):Number.POSITIVE_INFINITY;let u=0;for(let t=0;t<a;t++){const t=e.interpolateUsingSurfaceDistance(u,J);u+=o;const i=t.longitude,a=t.latitude;n.west=Math.min(n.west,i),n.east=Math.max(n.east,i),n.south=Math.min(n.south,a),n.north=Math.max(n.north,a);const l=i>=0?i:i+s.CesiumMath.TWO_PI;r.westOverIDL=Math.min(r.westOverIDL,l),r.eastOverIDL=Math.max(r.eastOverIDL,l)}}const te=[];function ne(e,t,n,r,i,a,o,s,u){const c={walls:[]};let d;if(a||o){const r=h.PolygonGeometryLibrary.createGeometryFromPositions(e,t,n,i,s,u),l=r.attributes.position.values,m=r.indices;let _,y;if(a&&o){const e=l.concat(l);_=e.length/3,y=p.IndexDatatype.createTypedArray(_,2*m.length),y.set(m);const t=m.length,n=_/2;for(d=0;d<t;d+=3){const e=y[d]+n,r=y[d+1]+n,i=y[d+2]+n;y[d+t]=i,y[d+1+t]=r,y[d+2+t]=e}if(r.attributes.position.values=e,i&&s.normal){const t=r.attributes.normal.values;r.attributes.normal.values=new Float32Array(e.length),r.attributes.normal.values.set(t)}r.indices=y}else if(o){for(_=l.length/3,y=p.IndexDatatype.createTypedArray(_,m.length),d=0;d<m.length;d+=3)y[d]=m[d+2],y[d+1]=m[d+1],y[d+2]=m[d];r.indices=y}c.topAndBottom=new f.GeometryInstance({geometry:r})}let _=r.outerRing,y=l.EllipsoidTangentPlane.fromPoints(_,e),g=y.projectPointsOntoPlane(_,te),C=m.PolygonPipeline.computeWindingOrder2D(g);C===m.WindingOrder.CLOCKWISE&&(_=_.slice().reverse());let b=h.PolygonGeometryLibrary.computeWallGeometry(_,e,n,i,u);c.walls.push(new f.GeometryInstance({geometry:b}));const A=r.holes;for(d=0;d<A.length;d++){let t=A[d];y=l.EllipsoidTangentPlane.fromPoints(t,e),g=y.projectPointsOntoPlane(t,te),C=m.PolygonPipeline.computeWindingOrder2D(g),C===m.WindingOrder.COUNTER_CLOCKWISE&&(t=t.slice().reverse()),b=h.PolygonGeometryLibrary.computeWallGeometry(t,e,n,i,u),c.walls.push(new f.GeometryInstance({geometry:b}))}return c}function re(r){const i=r.polygonHierarchy,a=e.defaultValue(r.vertexFormat,_.VertexFormat.DEFAULT),o=e.defaultValue(r.ellipsoid,t.Ellipsoid.WGS84),u=e.defaultValue(r.granularity,s.CesiumMath.RADIANS_PER_DEGREE),l=e.defaultValue(r.stRotation,0),c=e.defaultValue(r.perPositionHeight,!1),f=c&&e.defined(r.extrudedHeight);let d=e.defaultValue(r.height,0),p=e.defaultValue(r.extrudedHeight,d);if(!f){const e=Math.max(d,p);p=Math.min(d,p),d=e}this._vertexFormat=_.VertexFormat.clone(a),this._ellipsoid=t.Ellipsoid.clone(o),this._granularity=u,this._stRotation=l,this._height=d,this._extrudedHeight=p,this._closeTop=e.defaultValue(r.closeTop,!0),this._closeBottom=e.defaultValue(r.closeBottom,!0),this._polygonHierarchy=i,this._perPositionHeight=c,this._perPositionHeightExtrude=f,this._shadowVolume=e.defaultValue(r.shadowVolume,!1),this._workerName="createPolygonGeometry",this._offsetAttribute=r.offsetAttribute,this._arcType=e.defaultValue(r.arcType,n.ArcType.GEODESIC),this._rectangle=void 0,this._textureCoordinateRotationPoints=void 0,this.packedLength=h.PolygonGeometryLibrary.computeHierarchyPackedLength(i)+t.Ellipsoid.packedLength+_.VertexFormat.packedLength+12}re.fromPositions=function(t){return new re({polygonHierarchy:{positions:(t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT)).positions},height:t.height,extrudedHeight:t.extrudedHeight,vertexFormat:t.vertexFormat,stRotation:t.stRotation,ellipsoid:t.ellipsoid,granularity:t.granularity,perPositionHeight:t.perPositionHeight,closeTop:t.closeTop,closeBottom:t.closeBottom,offsetAttribute:t.offsetAttribute,arcType:t.arcType})},re.pack=function(n,r,i){return i=e.defaultValue(i,0),i=h.PolygonGeometryLibrary.packPolygonHierarchy(n._polygonHierarchy,r,i),t.Ellipsoid.pack(n._ellipsoid,r,i),i+=t.Ellipsoid.packedLength,_.VertexFormat.pack(n._vertexFormat,r,i),i+=_.VertexFormat.packedLength,r[i++]=n._height,r[i++]=n._extrudedHeight,r[i++]=n._granularity,r[i++]=n._stRotation,r[i++]=n._perPositionHeightExtrude?1:0,r[i++]=n._perPositionHeight?1:0,r[i++]=n._closeTop?1:0,r[i++]=n._closeBottom?1:0,r[i++]=n._shadowVolume?1:0,r[i++]=e.defaultValue(n._offsetAttribute,-1),r[i++]=n._arcType,r[i]=n.packedLength,r};const ie=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),ae=new _.VertexFormat,oe={polygonHierarchy:{}};return re.unpack=function(n,r,i){r=e.defaultValue(r,0);const a=h.PolygonGeometryLibrary.unpackPolygonHierarchy(n,r);r=a.startingIndex,delete a.startingIndex;const o=t.Ellipsoid.unpack(n,r,ie);r+=t.Ellipsoid.packedLength;const s=_.VertexFormat.unpack(n,r,ae);r+=_.VertexFormat.packedLength;const u=n[r++],l=n[r++],c=n[r++],f=n[r++],d=1===n[r++],p=1===n[r++],m=1===n[r++],y=1===n[r++],g=1===n[r++],C=n[r++],b=n[r++],A=n[r];return e.defined(i)||(i=new re(oe)),i._polygonHierarchy=a,i._ellipsoid=t.Ellipsoid.clone(o,i._ellipsoid),i._vertexFormat=_.VertexFormat.clone(s,i._vertexFormat),i._height=u,i._extrudedHeight=l,i._granularity=c,i._stRotation=f,i._perPositionHeightExtrude=d,i._perPositionHeight=p,i._closeTop=m,i._closeBottom=y,i._shadowVolume=g,i._offsetAttribute=-1===C?void 0:C,i._arcType=b,i.packedLength=A,i},re.computeRectangle=function(r,i){const a=e.defaultValue(r.granularity,s.CesiumMath.RADIANS_PER_DEGREE),o=e.defaultValue(r.arcType,n.ArcType.GEODESIC),u=r.polygonHierarchy,l=e.defaultValue(r.ellipsoid,t.Ellipsoid.WGS84);return $(u.positions,l,o,a,i)},re.createGeometry=function(t){const n=t._vertexFormat,i=t._ellipsoid,o=t._granularity,u=t._stRotation,_=t._polygonHierarchy,y=t._perPositionHeight,g=t._closeTop,C=t._closeBottom,b=t._arcType;let A=_.positions;if(A.length<3)return;const E=l.EllipsoidTangentPlane.fromPoints(A,i),w=h.PolygonGeometryLibrary.polygonsFromHierarchy(_,E.projectPointsOntoPlane.bind(E),!y,i),T=w.hierarchy,x=w.polygons;if(0===T.length)return;A=T[0].outerRing;const v=h.PolygonGeometryLibrary.computeBoundingRectangle(E.plane.normal,E.projectPointOntoPlane.bind(E),A,u,I),R=[],O=t._height,M=t._extrudedHeight,S={perPositionHeight:y,vertexFormat:n,geometry:void 0,tangentPlane:E,boundingRectangle:v,ellipsoid:i,stRotation:u,bottom:!1,top:!0,wall:!1,extrude:!1,arcType:b};let P;if(t._perPositionHeightExtrude||!s.CesiumMath.equalsEpsilon(O,M,0,s.CesiumMath.EPSILON2))for(S.extrude=!0,S.top=g,S.bottom=C,S.shadowVolume=t._shadowVolume,S.offsetAttribute=t._offsetAttribute,P=0;P<x.length;P++){const e=ne(i,x[P],o,T[P],y,g,C,n,b);let t;g&&C?(t=e.topAndBottom,S.geometry=h.PolygonGeometryLibrary.scaleToGeodeticHeightExtruded(t.geometry,O,M,i,y)):g?(t=e.topAndBottom,t.geometry.attributes.position.values=m.PolygonPipeline.scaleToGeodeticHeight(t.geometry.attributes.position.values,O,i,!y),S.geometry=t.geometry):C&&(t=e.topAndBottom,t.geometry.attributes.position.values=m.PolygonPipeline.scaleToGeodeticHeight(t.geometry.attributes.position.values,M,i,!0),S.geometry=t.geometry),(g||C)&&(S.wall=!1,t.geometry=K(S),R.push(t));const r=e.walls;S.wall=!0;for(let e=0;e<r.length;e++){const t=r[e];S.geometry=h.PolygonGeometryLibrary.scaleToGeodeticHeightExtruded(t.geometry,O,M,i,y),t.geometry=K(S),R.push(t)}}else for(P=0;P<x.length;P++){const a=new f.GeometryInstance({geometry:h.PolygonGeometryLibrary.createGeometryFromPositions(i,x[P],o,y,n,b)});if(a.geometry.attributes.position.values=m.PolygonPipeline.scaleToGeodeticHeight(a.geometry.attributes.position.values,O,i,!y),S.geometry=a.geometry,a.geometry=K(S),e.defined(t._offsetAttribute)){const e=a.geometry.attributes.position.values.length,n=new Uint8Array(e/3),i=t._offsetAttribute===r.GeometryOffsetAttribute.NONE?0:1;r.arrayFill(n,i),a.geometry.attributes.applyOffset=new c.GeometryAttribute({componentDatatype:s.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}R.push(a)}const N=d.GeometryPipeline.combineInstances(R)[0];N.attributes.position.values=new Float64Array(N.attributes.position.values),N.indices=p.IndexDatatype.createTypedArray(N.attributes.position.values.length/3,N.indices);const L=N.attributes,D=a.BoundingSphere.fromVertices(L.position.values);return n.position||delete L.position,new c.Geometry({attributes:L,indices:N.indices,primitiveType:N.primitiveType,boundingSphere:D,offsetAttribute:t._offsetAttribute})},re.createShadowVolume=function(e,t,n){const r=e._granularity,i=e._ellipsoid,a=t(r,i),o=n(r,i);return new re({polygonHierarchy:e._polygonHierarchy,ellipsoid:i,stRotation:e._stRotation,granularity:r,perPositionHeight:!1,extrudedHeight:a,height:o,vertexFormat:_.VertexFormat.POSITION_ONLY,shadowVolume:!0,arcType:e._arcType})},Object.defineProperties(re.prototype,{rectangle:{get:function(){if(!e.defined(this._rectangle)){const e=this._polygonHierarchy.positions;this._rectangle=$(e,this._ellipsoid,this._arcType,this._granularity)}return this._rectangle}},textureCoordinateRotationPoints:{get:function(){return e.defined(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=function(e){const t=-e._stRotation;if(0===t)return[0,0,0,1,1,0];const n=e._ellipsoid,r=e._polygonHierarchy.positions,i=e.rectangle;return c.Geometry._textureCoordinateRotationPoints(r,t,n,i)}(this)),this._textureCoordinateRotationPoints}}}),function(n,r){return e.defined(r)&&(n=re.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),re.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(29),n(12),n(4),n(1),n(3),n(18),n(6),n(8),n(30),n(22),n(10),n(42),n(26),n(9),n(7),n(5),n(17),n(13),n(11),n(15),n(23),n(19),n(16)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E,w,T){"use strict";const x=[],v=[];function R(e,t,r,i,a){const f=s.EllipsoidTangentPlane.fromPoints(t,e).projectPointsOntoPlane(t,x);let m,_;h.PolygonPipeline.computeWindingOrder2D(f)===h.WindingOrder.CLOCKWISE&&(f.reverse(),t=t.slice().reverse());let y=t.length,g=0;if(i)for(m=new Float64Array(2*y*3),_=0;_<y;_++){const e=t[_],n=t[(_+1)%y];m[g++]=e.x,m[g++]=e.y,m[g++]=e.z,m[g++]=n.x,m[g++]=n.y,m[g++]=n.z}else{let i=0;if(a===n.ArcType.GEODESIC)for(_=0;_<y;_++)i+=p.PolygonGeometryLibrary.subdivideLineCount(t[_],t[(_+1)%y],r);else if(a===n.ArcType.RHUMB)for(_=0;_<y;_++)i+=p.PolygonGeometryLibrary.subdivideRhumbLineCount(e,t[_],t[(_+1)%y],r);for(m=new Float64Array(3*i),_=0;_<y;_++){let i;a===n.ArcType.GEODESIC?i=p.PolygonGeometryLibrary.subdivideLine(t[_],t[(_+1)%y],r,v):a===n.ArcType.RHUMB&&(i=p.PolygonGeometryLibrary.subdivideRhumbLine(e,t[_],t[(_+1)%y],r,v));const o=i.length;for(let e=0;e<o;++e)m[g++]=i[e]}}y=m.length/3;const C=2*y,b=d.IndexDatatype.createTypedArray(y,C);for(g=0,_=0;_<y-1;_++)b[g++]=_,b[g++]=_+1;return b[g++]=y-1,b[g++]=0,new c.GeometryInstance({geometry:new u.Geometry({attributes:new l.GeometryAttributes({position:new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:m})}),indices:b,primitiveType:u.PrimitiveType.LINES})})}function O(e,t,r,i,a){const f=s.EllipsoidTangentPlane.fromPoints(t,e).projectPointsOntoPlane(t,x);let m,_;h.PolygonPipeline.computeWindingOrder2D(f)===h.WindingOrder.CLOCKWISE&&(f.reverse(),t=t.slice().reverse());let y=t.length;const g=new Array(y);let C=0;if(i)for(m=new Float64Array(2*y*3*2),_=0;_<y;++_){g[_]=C/3;const e=t[_],n=t[(_+1)%y];m[C++]=e.x,m[C++]=e.y,m[C++]=e.z,m[C++]=n.x,m[C++]=n.y,m[C++]=n.z}else{let i=0;if(a===n.ArcType.GEODESIC)for(_=0;_<y;_++)i+=p.PolygonGeometryLibrary.subdivideLineCount(t[_],t[(_+1)%y],r);else if(a===n.ArcType.RHUMB)for(_=0;_<y;_++)i+=p.PolygonGeometryLibrary.subdivideRhumbLineCount(e,t[_],t[(_+1)%y],r);for(m=new Float64Array(3*i*2),_=0;_<y;++_){let i;g[_]=C/3,a===n.ArcType.GEODESIC?i=p.PolygonGeometryLibrary.subdivideLine(t[_],t[(_+1)%y],r,v):a===n.ArcType.RHUMB&&(i=p.PolygonGeometryLibrary.subdivideRhumbLine(e,t[_],t[(_+1)%y],r,v));const o=i.length;for(let e=0;e<o;++e)m[C++]=i[e]}}y=m.length/6;const b=g.length,A=2*(2*y+b),E=d.IndexDatatype.createTypedArray(y+b,A);for(C=0,_=0;_<y;++_)E[C++]=_,E[C++]=(_+1)%y,E[C++]=_+y,E[C++]=(_+1)%y+y;for(_=0;_<b;_++){const e=g[_];E[C++]=e,E[C++]=e+y}return new c.GeometryInstance({geometry:new u.Geometry({attributes:new l.GeometryAttributes({position:new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:m})}),indices:E,primitiveType:u.PrimitiveType.LINES})})}function M(r){const i=r.polygonHierarchy,a=e.defaultValue(r.ellipsoid,t.Ellipsoid.WGS84),s=e.defaultValue(r.granularity,o.CesiumMath.RADIANS_PER_DEGREE),u=e.defaultValue(r.perPositionHeight,!1),l=u&&e.defined(r.extrudedHeight),c=e.defaultValue(r.arcType,n.ArcType.GEODESIC);let f=e.defaultValue(r.height,0),d=e.defaultValue(r.extrudedHeight,f);if(!l){const e=Math.max(f,d);d=Math.min(f,d),f=e}this._ellipsoid=t.Ellipsoid.clone(a),this._granularity=s,this._height=f,this._extrudedHeight=d,this._arcType=c,this._polygonHierarchy=i,this._perPositionHeight=u,this._perPositionHeightExtrude=l,this._offsetAttribute=r.offsetAttribute,this._workerName="createPolygonOutlineGeometry",this.packedLength=p.PolygonGeometryLibrary.computeHierarchyPackedLength(i)+t.Ellipsoid.packedLength+8}M.pack=function(n,r,i){return i=e.defaultValue(i,0),i=p.PolygonGeometryLibrary.packPolygonHierarchy(n._polygonHierarchy,r,i),t.Ellipsoid.pack(n._ellipsoid,r,i),i+=t.Ellipsoid.packedLength,r[i++]=n._height,r[i++]=n._extrudedHeight,r[i++]=n._granularity,r[i++]=n._perPositionHeightExtrude?1:0,r[i++]=n._perPositionHeight?1:0,r[i++]=n._arcType,r[i++]=e.defaultValue(n._offsetAttribute,-1),r[i]=n.packedLength,r};const S=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),I={polygonHierarchy:{}};return M.unpack=function(n,r,i){r=e.defaultValue(r,0);const a=p.PolygonGeometryLibrary.unpackPolygonHierarchy(n,r);r=a.startingIndex,delete a.startingIndex;const o=t.Ellipsoid.unpack(n,r,S);r+=t.Ellipsoid.packedLength;const s=n[r++],u=n[r++],l=n[r++],c=1===n[r++],f=1===n[r++],d=n[r++],h=n[r++],m=n[r];return e.defined(i)||(i=new M(I)),i._polygonHierarchy=a,i._ellipsoid=t.Ellipsoid.clone(o,i._ellipsoid),i._height=s,i._extrudedHeight=u,i._granularity=l,i._perPositionHeight=f,i._perPositionHeightExtrude=c,i._arcType=d,i._offsetAttribute=-1===h?void 0:h,i.packedLength=m,i},M.fromPositions=function(t){return new M({polygonHierarchy:{positions:(t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT)).positions},height:t.height,extrudedHeight:t.extrudedHeight,ellipsoid:t.ellipsoid,granularity:t.granularity,perPositionHeight:t.perPositionHeight,arcType:t.arcType,offsetAttribute:t.offsetAttribute})},M.createGeometry=function(t){const n=t._ellipsoid,a=t._granularity,s=t._polygonHierarchy,l=t._perPositionHeight,c=t._arcType,d=p.PolygonGeometryLibrary.polygonOutlinesFromHierarchy(s,!l,n);if(0===d.length)return;let m;const _=[],y=o.CesiumMath.chordLength(a,n.maximumRadius),g=t._height,C=t._extrudedHeight;let b,A;if(t._perPositionHeightExtrude||!o.CesiumMath.equalsEpsilon(g,C,0,o.CesiumMath.EPSILON2))for(A=0;A<d.length;A++){if(m=O(n,d[A],y,l,c),m.geometry=p.PolygonGeometryLibrary.scaleToGeodeticHeightExtruded(m.geometry,g,C,n,l),e.defined(t._offsetAttribute)){const e=m.geometry.attributes.position.values.length/3;let n=new Uint8Array(e);t._offsetAttribute===r.GeometryOffsetAttribute.TOP?n=r.arrayFill(n,1,0,e/2):(b=t._offsetAttribute===r.GeometryOffsetAttribute.NONE?0:1,n=r.arrayFill(n,b)),m.geometry.attributes.applyOffset=new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}_.push(m)}else for(A=0;A<d.length;A++){if(m=R(n,d[A],y,l,c),m.geometry.attributes.position.values=h.PolygonPipeline.scaleToGeodeticHeight(m.geometry.attributes.position.values,g,n,!l),e.defined(t._offsetAttribute)){const e=m.geometry.attributes.position.values.length,n=new Uint8Array(e/3);b=t._offsetAttribute===r.GeometryOffsetAttribute.NONE?0:1,r.arrayFill(n,b),m.geometry.attributes.applyOffset=new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:n})}_.push(m)}const E=f.GeometryPipeline.combineInstances(_)[0],w=i.BoundingSphere.fromVertices(E.attributes.position.values);return new u.Geometry({attributes:E.attributes,indices:E.indices,primitiveType:E.primitiveType,boundingSphere:w,offsetAttribute:t._offsetAttribute})},function(n,r){return e.defined(r)&&(n=M.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),M.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(29),n(19),n(4),n(40),n(3),n(1),n(6),n(8),n(10),n(24),n(14),n(9),n(7),n(5),n(25),n(16),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C){"use strict";const b=[];function A(e,t,n,r,i){const o=b;let s;o.length=i;const u=n.red,l=n.green,c=n.blue,f=n.alpha,d=r.red,p=r.green,h=r.blue,m=r.alpha;if(a.Color.equals(n,r)){for(s=0;s<i;s++)o[s]=a.Color.clone(n);return o}const _=(d-u)/i,y=(p-l)/i,g=(h-c)/i,C=(m-f)/i;for(s=0;s<i;s++)o[s]=new a.Color(u+s*_,l+s*y,c+s*g,f+s*C);return o}function E(r){const i=(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT)).positions,s=r.colors,u=e.defaultValue(r.width,1),l=e.defaultValue(r.colorsPerVertex,!1);this._positions=i,this._colors=s,this._width=u,this._colorsPerVertex=l,this._vertexFormat=d.VertexFormat.clone(e.defaultValue(r.vertexFormat,d.VertexFormat.DEFAULT)),this._arcType=e.defaultValue(r.arcType,n.ArcType.GEODESIC),this._granularity=e.defaultValue(r.granularity,o.CesiumMath.RADIANS_PER_DEGREE),this._ellipsoid=t.Ellipsoid.clone(e.defaultValue(r.ellipsoid,t.Ellipsoid.WGS84)),this._workerName="createPolylineGeometry";let c=1+i.length*t.Cartesian3.packedLength;c+=e.defined(s)?1+s.length*a.Color.packedLength:1,this.packedLength=c+t.Ellipsoid.packedLength+d.VertexFormat.packedLength+4}E.pack=function(n,r,i){let o;i=e.defaultValue(i,0);const s=n._positions;let u=s.length;for(r[i++]=u,o=0;o<u;++o,i+=t.Cartesian3.packedLength)t.Cartesian3.pack(s[o],r,i);const l=n._colors;for(u=e.defined(l)?l.length:0,r[i++]=u,o=0;o<u;++o,i+=a.Color.packedLength)a.Color.pack(l[o],r,i);return t.Ellipsoid.pack(n._ellipsoid,r,i),i+=t.Ellipsoid.packedLength,d.VertexFormat.pack(n._vertexFormat,r,i),i+=d.VertexFormat.packedLength,r[i++]=n._width,r[i++]=n._colorsPerVertex?1:0,r[i++]=n._arcType,r[i]=n._granularity,r};const w=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),T=new d.VertexFormat,x={positions:void 0,colors:void 0,ellipsoid:w,vertexFormat:T,width:void 0,colorsPerVertex:void 0,arcType:void 0,granularity:void 0};E.unpack=function(n,r,i){let o;r=e.defaultValue(r,0);let s=n[r++];const u=new Array(s);for(o=0;o<s;++o,r+=t.Cartesian3.packedLength)u[o]=t.Cartesian3.unpack(n,r);s=n[r++];const l=s>0?new Array(s):void 0;for(o=0;o<s;++o,r+=a.Color.packedLength)l[o]=a.Color.unpack(n,r);const c=t.Ellipsoid.unpack(n,r,w);r+=t.Ellipsoid.packedLength;const f=d.VertexFormat.unpack(n,r,T);r+=d.VertexFormat.packedLength;const p=n[r++],h=1===n[r++],m=n[r++],_=n[r];return e.defined(i)?(i._positions=u,i._colors=l,i._ellipsoid=t.Ellipsoid.clone(c,i._ellipsoid),i._vertexFormat=d.VertexFormat.clone(f,i._vertexFormat),i._width=p,i._colorsPerVertex=h,i._arcType=m,i._granularity=_,i):(x.positions=u,x.colors=l,x.width=p,x.colorsPerVertex=h,x.arcType=m,x.granularity=_,new E(x))};const v=new t.Cartesian3,R=new t.Cartesian3,O=new t.Cartesian3,M=new t.Cartesian3;return E.createGeometry=function(s){const d=s._width,p=s._vertexFormat;let h=s._colors;const m=s._colorsPerVertex,_=s._arcType,y=s._granularity,g=s._ellipsoid;let C,E,w;const T=[];let x=r.arrayRemoveDuplicates(s._positions,t.Cartesian3.equalsEpsilon,!1,T);if(e.defined(h)&&T.length>0){let e=0,t=T[0];h=h.filter((function(n,r){let i=!1;return i=m?r===t||0===r&&1===t:r+1===t,!i||(e++,t=T[e],!1)}))}let S=x.length;if(S<2||d<=0)return;if(_===n.ArcType.GEODESIC||_===n.ArcType.RHUMB){let t,r;_===n.ArcType.GEODESIC?(t=o.CesiumMath.chordLength(y,g.maximumRadius),r=f.PolylinePipeline.numberOfPoints):(t=y,r=f.PolylinePipeline.numberOfPointsRhumbLine);const i=f.PolylinePipeline.extractHeights(x,g);if(e.defined(h)){let e=1;for(C=0;C<S-1;++C)e+=r(x[C],x[C+1],t);const n=new Array(e);let i=0;for(C=0;C<S-1;++C){const o=x[C],s=x[C+1],u=h[C],l=r(o,s,t);if(m&&C<e){const e=A(0,0,u,h[C+1],l),t=e.length;for(E=0;E<t;++E)n[i++]=e[E]}else for(E=0;E<l;++E)n[i++]=a.Color.clone(u)}n[i]=a.Color.clone(h[h.length-1]),h=n,b.length=0}x=_===n.ArcType.GEODESIC?f.PolylinePipeline.generateCartesianArc({positions:x,minDistance:t,ellipsoid:g,height:i}):f.PolylinePipeline.generateCartesianRhumbArc({positions:x,granularity:t,ellipsoid:g,height:i})}S=x.length;const I=4*S-4,P=new Float64Array(3*I),N=new Float64Array(3*I),L=new Float64Array(3*I),D=new Float32Array(2*I),F=p.st?new Float32Array(2*I):void 0,G=e.defined(h)?new Uint8Array(4*I):void 0;let B,U=0,k=0,V=0,z=0;for(E=0;E<S;++E){let n,r;0===E?(B=v,t.Cartesian3.subtract(x[0],x[1],B),t.Cartesian3.add(x[0],B,B)):B=x[E-1],t.Cartesian3.clone(B,O),t.Cartesian3.clone(x[E],R),E===S-1?(B=v,t.Cartesian3.subtract(x[S-1],x[S-2],B),t.Cartesian3.add(x[S-1],B,B)):B=x[E+1],t.Cartesian3.clone(B,M),e.defined(G)&&(n=0===E||m?h[E]:h[E-1],E!==S-1&&(r=h[E]));const i=E===S-1?2:4;for(w=0===E?2:0;w<i;++w){t.Cartesian3.pack(R,P,U),t.Cartesian3.pack(O,N,U),t.Cartesian3.pack(M,L,U),U+=3;const i=w-2<0?-1:1;if(D[k++]=w%2*2-1,D[k++]=i*d,p.st&&(F[V++]=E/(S-1),F[V++]=Math.max(D[k-2],0)),e.defined(G)){const e=w<2?n:r;G[z++]=a.Color.floatToByte(e.red),G[z++]=a.Color.floatToByte(e.green),G[z++]=a.Color.floatToByte(e.blue),G[z++]=a.Color.floatToByte(e.alpha)}}}const j=new l.GeometryAttributes;j.position=new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:P}),j.prevPosition=new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:N}),j.nextPosition=new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:L}),j.expandAndWidth=new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:D}),p.st&&(j.st=new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:F})),e.defined(G)&&(j.color=new u.GeometryAttribute({componentDatatype:o.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:4,values:G,normalize:!0}));const H=c.IndexDatatype.createTypedArray(I,6*S-6);let q=0,W=0;const K=S-1;for(E=0;E<K;++E)H[W++]=q,H[W++]=q+2,H[W++]=q+1,H[W++]=q+1,H[W++]=q+2,H[W++]=q+3,q+=4;return new u.Geometry({attributes:j,indices:H,primitiveType:u.PrimitiveType.TRIANGLES,boundingSphere:i.BoundingSphere.fromPoints(x),geometryType:u.GeometryType.POLYLINES})},function(n,r){return e.defined(r)&&(n=E.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),E.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(19),n(39),n(4),n(3),n(36),n(1),n(6),n(8),n(22),n(10),n(26),n(14),n(9),n(7),n(5),n(18),n(17),n(13),n(11),n(24),n(25),n(16),n(15),n(23)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E,w,T,x){"use strict";function v(n){const r=(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).polylinePositions,i=n.shapePositions;this._positions=r,this._shape=i,this._ellipsoid=t.Ellipsoid.clone(e.defaultValue(n.ellipsoid,t.Ellipsoid.WGS84)),this._cornerType=e.defaultValue(n.cornerType,o.CornerType.ROUNDED),this._vertexFormat=p.VertexFormat.clone(e.defaultValue(n.vertexFormat,p.VertexFormat.DEFAULT)),this._granularity=e.defaultValue(n.granularity,a.CesiumMath.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeGeometry";let s=1+r.length*t.Cartesian3.packedLength;s+=1+i.length*t.Cartesian2.packedLength,this.packedLength=s+t.Ellipsoid.packedLength+p.VertexFormat.packedLength+2}v.pack=function(n,r,i){let a;i=e.defaultValue(i,0);const o=n._positions;let s=o.length;for(r[i++]=s,a=0;a<s;++a,i+=t.Cartesian3.packedLength)t.Cartesian3.pack(o[a],r,i);const u=n._shape;for(s=u.length,r[i++]=s,a=0;a<s;++a,i+=t.Cartesian2.packedLength)t.Cartesian2.pack(u[a],r,i);return t.Ellipsoid.pack(n._ellipsoid,r,i),i+=t.Ellipsoid.packedLength,p.VertexFormat.pack(n._vertexFormat,r,i),i+=p.VertexFormat.packedLength,r[i++]=n._cornerType,r[i]=n._granularity,r};const R=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),O=new p.VertexFormat,M={polylinePositions:void 0,shapePositions:void 0,ellipsoid:R,vertexFormat:O,cornerType:void 0,granularity:void 0};v.unpack=function(n,r,i){let a;r=e.defaultValue(r,0);let o=n[r++];const s=new Array(o);for(a=0;a<o;++a,r+=t.Cartesian3.packedLength)s[a]=t.Cartesian3.unpack(n,r);o=n[r++];const u=new Array(o);for(a=0;a<o;++a,r+=t.Cartesian2.packedLength)u[a]=t.Cartesian2.unpack(n,r);const l=t.Ellipsoid.unpack(n,r,R);r+=t.Ellipsoid.packedLength;const c=p.VertexFormat.unpack(n,r,O);r+=p.VertexFormat.packedLength;const f=n[r++],d=n[r];return e.defined(i)?(i._positions=s,i._shape=u,i._ellipsoid=t.Ellipsoid.clone(l,i._ellipsoid),i._vertexFormat=p.VertexFormat.clone(c,i._vertexFormat),i._cornerType=f,i._granularity=d,i):(M.polylinePositions=s,M.shapePositions=u,M.cornerType=f,M.granularity=d,new v(M))};const S=new r.BoundingRectangle;return v.createGeometry=function(e){const s=e._positions,p=n.arrayRemoveDuplicates(s,t.Cartesian3.equalsEpsilon);let h=e._shape;if(h=o.PolylineVolumeGeometryLibrary.removeDuplicatesFromShape(h),p.length<2||h.length<3)return;d.PolygonPipeline.computeWindingOrder2D(h)===d.WindingOrder.CLOCKWISE&&h.reverse();const m=r.BoundingRectangle.fromPoints(h,S);return function(e,t,n,r){const s=new l.GeometryAttributes;r.position&&(s.position=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e}));const p=t.length,h=e.length/3,m=(h-2*p)/(2*p),_=d.PolygonPipeline.triangulate(t),y=(m-1)*p*6+2*_.length,g=f.IndexDatatype.createTypedArray(h,y);let C,b,A,E,w,T;const x=2*p;let v=0;for(C=0;C<m-1;C++){for(b=0;b<p-1;b++)A=2*b+C*p*2,T=A+x,E=A+1,w=E+x,g[v++]=E,g[v++]=A,g[v++]=w,g[v++]=w,g[v++]=A,g[v++]=T;A=2*p-2+C*p*2,E=A+1,w=E+x,T=A+x,g[v++]=E,g[v++]=A,g[v++]=w,g[v++]=w,g[v++]=A,g[v++]=T}if(r.st||r.tangent||r.bitangent){const e=new Float32Array(2*h),r=1/(m-1),i=1/n.height,o=n.height/2;let l,c,f=0;for(C=0;C<m;C++){for(l=C*r,c=i*(t[0].y+o),e[f++]=l,e[f++]=c,b=1;b<p;b++)c=i*(t[b].y+o),e[f++]=l,e[f++]=c,e[f++]=l,e[f++]=c;c=i*(t[0].y+o),e[f++]=l,e[f++]=c}for(b=0;b<p;b++)l=0,c=i*(t[b].y+o),e[f++]=l,e[f++]=c;for(b=0;b<p;b++)l=(m-1)*r,c=i*(t[b].y+o),e[f++]=l,e[f++]=c;s.st=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:new Float32Array(e)})}const R=h-2*p;for(C=0;C<_.length;C+=3){const e=_[C]+R,t=_[C+1]+R,n=_[C+2]+R;g[v++]=e,g[v++]=t,g[v++]=n,g[v++]=n+p,g[v++]=t+p,g[v++]=e+p}let O=new u.Geometry({attributes:s,indices:g,boundingSphere:i.BoundingSphere.fromVertices(e),primitiveType:u.PrimitiveType.TRIANGLES});if(r.normal&&(O=c.GeometryPipeline.computeNormal(O)),r.tangent||r.bitangent){try{O=c.GeometryPipeline.computeTangentAndBitangent(O)}catch(e){o.oneTimeWarning("polyline-volume-tangent-bitangent","Unable to compute tangents and bitangents for polyline volume geometry")}r.tangent||(O.attributes.tangent=void 0),r.bitangent||(O.attributes.bitangent=void 0),r.st||(O.attributes.st=void 0)}return O}(o.PolylineVolumeGeometryLibrary.computePositions(p,h,m,e,!0),h,m,e._vertexFormat)},function(n,r){return e.defined(r)&&(n=v.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),v.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(19),n(39),n(4),n(3),n(36),n(1),n(6),n(8),n(10),n(26),n(9),n(7),n(5),n(18),n(17),n(13),n(11),n(24),n(25),n(16)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A){"use strict";function E(n){const r=(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).polylinePositions,i=n.shapePositions;this._positions=r,this._shape=i,this._ellipsoid=t.Ellipsoid.clone(e.defaultValue(n.ellipsoid,t.Ellipsoid.WGS84)),this._cornerType=e.defaultValue(n.cornerType,o.CornerType.ROUNDED),this._granularity=e.defaultValue(n.granularity,a.CesiumMath.RADIANS_PER_DEGREE),this._workerName="createPolylineVolumeOutlineGeometry";let s=1+r.length*t.Cartesian3.packedLength;s+=1+i.length*t.Cartesian2.packedLength,this.packedLength=s+t.Ellipsoid.packedLength+2}E.pack=function(n,r,i){let a;i=e.defaultValue(i,0);const o=n._positions;let s=o.length;for(r[i++]=s,a=0;a<s;++a,i+=t.Cartesian3.packedLength)t.Cartesian3.pack(o[a],r,i);const u=n._shape;for(s=u.length,r[i++]=s,a=0;a<s;++a,i+=t.Cartesian2.packedLength)t.Cartesian2.pack(u[a],r,i);return t.Ellipsoid.pack(n._ellipsoid,r,i),i+=t.Ellipsoid.packedLength,r[i++]=n._cornerType,r[i]=n._granularity,r};const w=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),T={polylinePositions:void 0,shapePositions:void 0,ellipsoid:w,height:void 0,cornerType:void 0,granularity:void 0};E.unpack=function(n,r,i){let a;r=e.defaultValue(r,0);let o=n[r++];const s=new Array(o);for(a=0;a<o;++a,r+=t.Cartesian3.packedLength)s[a]=t.Cartesian3.unpack(n,r);o=n[r++];const u=new Array(o);for(a=0;a<o;++a,r+=t.Cartesian2.packedLength)u[a]=t.Cartesian2.unpack(n,r);const l=t.Ellipsoid.unpack(n,r,w);r+=t.Ellipsoid.packedLength;const c=n[r++],f=n[r];return e.defined(i)?(i._positions=s,i._shape=u,i._ellipsoid=t.Ellipsoid.clone(l,i._ellipsoid),i._cornerType=c,i._granularity=f,i):(T.polylinePositions=s,T.shapePositions=u,T.cornerType=c,T.granularity=f,new E(T))};const x=new r.BoundingRectangle;return E.createGeometry=function(e){const s=e._positions,d=n.arrayRemoveDuplicates(s,t.Cartesian3.equalsEpsilon);let p=e._shape;if(p=o.PolylineVolumeGeometryLibrary.removeDuplicatesFromShape(p),d.length<2||p.length<3)return;f.PolygonPipeline.computeWindingOrder2D(p)===f.WindingOrder.CLOCKWISE&&p.reverse();const h=r.BoundingRectangle.fromPoints(p,x);return function(e,t){const n=new l.GeometryAttributes;n.position=new u.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e});const r=t.length,o=n.position.values.length/3,s=e.length/3/r,f=c.IndexDatatype.createTypedArray(o,2*r*(s+1));let d,p,h=0;d=0;let m=d*r;for(p=0;p<r-1;p++)f[h++]=p+m,f[h++]=p+m+1;for(f[h++]=r-1+m,f[h++]=m,d=s-1,m=d*r,p=0;p<r-1;p++)f[h++]=p+m,f[h++]=p+m+1;for(f[h++]=r-1+m,f[h++]=m,d=0;d<s-1;d++){const e=r*d,t=e+r;for(p=0;p<r;p++)f[h++]=p+e,f[h++]=p+t}return new u.Geometry({attributes:n,indices:c.IndexDatatype.createTypedArray(o,f),boundingSphere:i.BoundingSphere.fromVertices(e),primitiveType:u.PrimitiveType.LINES})}(o.PolylineVolumeGeometryLibrary.computePositions(d,p,h,e,!1),p)},function(n,r){return e.defined(r)&&(n=E.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),E.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(12),n(4),n(1),n(3),n(6),n(8),n(30),n(22),n(10),n(26),n(60),n(14),n(9),n(7),n(5),n(15),n(23),n(13),n(11),n(16)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A){"use strict";const E=new t.Cartesian3,w=new t.Cartesian3,T=new t.Cartesian3,x=new t.Cartesian3,v=new t.Rectangle,R=new t.Cartesian2,O=new r.BoundingSphere,M=new r.BoundingSphere;function S(e,t){const n=new o.Geometry({attributes:new s.GeometryAttributes,primitiveType:o.PrimitiveType.TRIANGLES});return n.attributes.position=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:t.positions}),e.normal&&(n.attributes.normal=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t.normals})),e.tangent&&(n.attributes.tangent=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t.tangents})),e.bitangent&&(n.attributes.bitangent=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:t.bitangents})),n}const I=new t.Cartesian3,P=new t.Cartesian3;function N(e,n){const r=e._vertexFormat,i=e._ellipsoid,s=n.height,u=n.width,l=n.northCap,f=n.southCap;let p=0,h=s,m=s,_=0;l&&(p=1,m-=1,_+=1),f&&(h-=1,m-=1,_+=1),_+=u*m;const y=r.position?new Float64Array(3*_):void 0,g=r.st?new Float32Array(2*_):void 0;let C=0,b=0;const A=E,v=R;let O=Number.MAX_VALUE,M=Number.MAX_VALUE,I=-Number.MAX_VALUE,P=-Number.MAX_VALUE;for(let e=p;e<h;++e)for(let t=0;t<u;++t)d.RectangleGeometryLibrary.computePosition(n,i,r.st,e,t,A,v),y[C++]=A.x,y[C++]=A.y,y[C++]=A.z,r.st&&(g[b++]=v.x,g[b++]=v.y,O=Math.min(O,v.x),M=Math.min(M,v.y),I=Math.max(I,v.x),P=Math.max(P,v.y));if(l&&(d.RectangleGeometryLibrary.computePosition(n,i,r.st,0,0,A,v),y[C++]=A.x,y[C++]=A.y,y[C++]=A.z,r.st&&(g[b++]=v.x,g[b++]=v.y,O=v.x,M=v.y,I=v.x,P=v.y)),f&&(d.RectangleGeometryLibrary.computePosition(n,i,r.st,s-1,0,A,v),y[C++]=A.x,y[C++]=A.y,y[C]=A.z,r.st&&(g[b++]=v.x,g[b]=v.y,O=Math.min(O,v.x),M=Math.min(M,v.y),I=Math.max(I,v.x),P=Math.max(P,v.y))),r.st&&(O<0||M<0||I>1||P>1))for(let e=0;e<g.length;e+=2)g[e]=(g[e]-O)/(I-O),g[e+1]=(g[e+1]-M)/(P-M);const N=function(e,n,r,i){const a=e.length,o=n.normal?new Float32Array(a):void 0,s=n.tangent?new Float32Array(a):void 0,u=n.bitangent?new Float32Array(a):void 0;let l=0;const c=x,f=T;let d=w;if(n.normal||n.tangent||n.bitangent)for(let p=0;p<a;p+=3){const a=t.Cartesian3.fromArray(e,p,E),h=l+1,m=l+2;d=r.geodeticSurfaceNormal(a,d),(n.tangent||n.bitangent)&&(t.Cartesian3.cross(t.Cartesian3.UNIT_Z,d,f),t.Matrix3.multiplyByVector(i,f,f),t.Cartesian3.normalize(f,f),n.bitangent&&t.Cartesian3.normalize(t.Cartesian3.cross(d,f,c),c)),n.normal&&(o[l]=d.x,o[h]=d.y,o[m]=d.z),n.tangent&&(s[l]=f.x,s[h]=f.y,s[m]=f.z),n.bitangent&&(u[l]=c.x,u[h]=c.y,u[m]=c.z),l+=3}return S(n,{positions:e,normals:o,tangents:s,bitangents:u})}(y,r,i,n.tangentRotationMatrix);let L=6*(u-1)*(m-1);l&&(L+=3*(u-1)),f&&(L+=3*(u-1));const D=c.IndexDatatype.createTypedArray(_,L);let F,G=0,B=0;for(F=0;F<m-1;++F){for(let e=0;e<u-1;++e){const e=G,t=e+u,n=t+1,r=e+1;D[B++]=e,D[B++]=t,D[B++]=r,D[B++]=r,D[B++]=t,D[B++]=n,++G}++G}if(l||f){let e=_-1;const t=_-1;let n,r;if(l&&f&&(e=_-2),G=0,l)for(F=0;F<u-1;F++)n=G,r=n+1,D[B++]=e,D[B++]=n,D[B++]=r,++G;if(f)for(G=(m-1)*u,F=0;F<u-1;F++)n=G,r=n+1,D[B++]=n,D[B++]=t,D[B++]=r,++G}return N.indices=D,r.st&&(N.attributes.st=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:g})),N}function L(e,t,n,r,i){return e[t++]=r[n],e[t++]=r[n+1],e[t++]=r[n+2],e[t++]=i[n],e[t++]=i[n+1],e[t]=i[n+2],e}function D(e,t,n,r){return e[t++]=r[n],e[t++]=r[n+1],e[t++]=r[n],e[t]=r[n+1],e}const F=new p.VertexFormat;function G(r,i){const s=r._shadowVolume,d=r._offsetAttribute,h=r._vertexFormat,m=r._extrudedHeight,_=r._surfaceHeight,y=r._ellipsoid,g=i.height,C=i.width;let b;if(s){const e=p.VertexFormat.clone(h,F);e.normal=!0,r._vertexFormat=e}const A=N(r,i);s&&(r._vertexFormat=h);let v=f.PolygonPipeline.scaleToGeodeticHeight(A.attributes.position.values,_,y,!1);v=new Float64Array(v);let R=v.length;const O=2*R,M=new Float64Array(O);M.set(v);const G=f.PolygonPipeline.scaleToGeodeticHeight(A.attributes.position.values,m,y);M.set(G,R),A.attributes.position.values=M;const B=h.normal?new Float32Array(O):void 0,U=h.tangent?new Float32Array(O):void 0,k=h.bitangent?new Float32Array(O):void 0,V=h.st?new Float32Array(O/3*2):void 0;let z,j,H;if(h.normal){for(j=A.attributes.normal.values,B.set(j),b=0;b<R;b++)j[b]=-j[b];B.set(j,R),A.attributes.normal.values=B}if(s){j=A.attributes.normal.values,h.normal||(A.attributes.normal=void 0);const e=new Float32Array(O);for(b=0;b<R;b++)j[b]=-j[b];e.set(j,R),A.attributes.extrudeDirection=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:e})}const q=e.defined(d);if(q){const e=R/3*2;let t=new Uint8Array(e);d===n.GeometryOffsetAttribute.TOP?t=n.arrayFill(t,1,0,e/2):(H=d===n.GeometryOffsetAttribute.NONE?0:1,t=n.arrayFill(t,H)),A.attributes.applyOffset=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:t})}if(h.tangent){const e=A.attributes.tangent.values;for(U.set(e),b=0;b<R;b++)e[b]=-e[b];U.set(e,R),A.attributes.tangent.values=U}if(h.bitangent){const e=A.attributes.bitangent.values;k.set(e),k.set(e,R),A.attributes.bitangent.values=k}h.st&&(z=A.attributes.st.values,V.set(z),V.set(z,R/3*2),A.attributes.st.values=V);const W=A.indices,K=W.length,Y=R/3,X=c.IndexDatatype.createTypedArray(O/3,2*K);for(X.set(W),b=0;b<K;b+=3)X[b+K]=W[b+2]+Y,X[b+1+K]=W[b+1]+Y,X[b+2+K]=W[b]+Y;A.indices=X;const Z=i.northCap,Q=i.southCap;let $=g,J=2,ee=0,te=4,ne=4;Z&&(J-=1,$-=1,ee+=1,te-=2,ne-=1),Q&&(J-=1,$-=1,ee+=1,te-=2,ne-=1),ee+=J*C+2*$-te;const re=2*(ee+ne);let ie=new Float64Array(3*re);const ae=s?new Float32Array(3*re):void 0;let oe=q?new Uint8Array(re):void 0,se=h.st?new Float32Array(2*re):void 0;const ue=d===n.GeometryOffsetAttribute.TOP;q&&!ue&&(H=d===n.GeometryOffsetAttribute.ALL?1:0,oe=n.arrayFill(oe,H));let le=0,ce=0,fe=0,de=0;const pe=C*$;let he;for(b=0;b<pe;b+=C)he=3*b,ie=L(ie,le,he,v,G),le+=6,h.st&&(se=D(se,ce,2*b,z),ce+=4),s&&(fe+=3,ae[fe++]=j[he],ae[fe++]=j[he+1],ae[fe++]=j[he+2]),ue&&(oe[de++]=1,de+=1);if(Q){const e=Z?pe+1:pe;for(he=3*e,b=0;b<2;b++)ie=L(ie,le,he,v,G),le+=6,h.st&&(se=D(se,ce,2*e,z),ce+=4),s&&(fe+=3,ae[fe++]=j[he],ae[fe++]=j[he+1],ae[fe++]=j[he+2]),ue&&(oe[de++]=1,de+=1)}else for(b=pe-C;b<pe;b++)he=3*b,ie=L(ie,le,he,v,G),le+=6,h.st&&(se=D(se,ce,2*b,z),ce+=4),s&&(fe+=3,ae[fe++]=j[he],ae[fe++]=j[he+1],ae[fe++]=j[he+2]),ue&&(oe[de++]=1,de+=1);for(b=pe-1;b>0;b-=C)he=3*b,ie=L(ie,le,he,v,G),le+=6,h.st&&(se=D(se,ce,2*b,z),ce+=4),s&&(fe+=3,ae[fe++]=j[he],ae[fe++]=j[he+1],ae[fe++]=j[he+2]),ue&&(oe[de++]=1,de+=1);if(Z){const e=pe;for(he=3*e,b=0;b<2;b++)ie=L(ie,le,he,v,G),le+=6,h.st&&(se=D(se,ce,2*e,z),ce+=4),s&&(fe+=3,ae[fe++]=j[he],ae[fe++]=j[he+1],ae[fe++]=j[he+2]),ue&&(oe[de++]=1,de+=1)}else for(b=C-1;b>=0;b--)he=3*b,ie=L(ie,le,he,v,G),le+=6,h.st&&(se=D(se,ce,2*b,z),ce+=4),s&&(fe+=3,ae[fe++]=j[he],ae[fe++]=j[he+1],ae[fe++]=j[he+2]),ue&&(oe[de++]=1,de+=1);let me=function(e,n,r){const i=e.length,o=n.normal?new Float32Array(i):void 0,s=n.tangent?new Float32Array(i):void 0,u=n.bitangent?new Float32Array(i):void 0;let l=0,c=0,f=0,d=!0,p=x,h=T,m=w;if(n.normal||n.tangent||n.bitangent)for(let _=0;_<i;_+=6){const y=t.Cartesian3.fromArray(e,_,E),g=t.Cartesian3.fromArray(e,(_+6)%i,I);if(d){const n=t.Cartesian3.fromArray(e,(_+3)%i,P);t.Cartesian3.subtract(g,y,g),t.Cartesian3.subtract(n,y,n),m=t.Cartesian3.normalize(t.Cartesian3.cross(n,g,m),m),d=!1}t.Cartesian3.equalsEpsilon(g,y,a.CesiumMath.EPSILON10)&&(d=!0),(n.tangent||n.bitangent)&&(p=r.geodeticSurfaceNormal(y,p),n.tangent&&(h=t.Cartesian3.normalize(t.Cartesian3.cross(p,m,h),h))),n.normal&&(o[l++]=m.x,o[l++]=m.y,o[l++]=m.z,o[l++]=m.x,o[l++]=m.y,o[l++]=m.z),n.tangent&&(s[c++]=h.x,s[c++]=h.y,s[c++]=h.z,s[c++]=h.x,s[c++]=h.y,s[c++]=h.z),n.bitangent&&(u[f++]=p.x,u[f++]=p.y,u[f++]=p.z,u[f++]=p.x,u[f++]=p.y,u[f++]=p.z)}return S(n,{positions:e,normals:o,tangents:s,bitangents:u})}(ie,h,y);h.st&&(me.attributes.st=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:se})),s&&(me.attributes.extrudeDirection=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:ae})),q&&(me.attributes.applyOffset=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:oe}));const _e=c.IndexDatatype.createTypedArray(re,6*ee);let ye,ge,Ce,be;R=ie.length/3;let Ae=0;for(b=0;b<R-1;b+=2){ye=b,be=(ye+2)%R;const e=t.Cartesian3.fromArray(ie,3*ye,I),n=t.Cartesian3.fromArray(ie,3*be,P);t.Cartesian3.equalsEpsilon(e,n,a.CesiumMath.EPSILON10)||(ge=(ye+1)%R,Ce=(ge+2)%R,_e[Ae++]=ye,_e[Ae++]=ge,_e[Ae++]=be,_e[Ae++]=be,_e[Ae++]=ge,_e[Ae++]=Ce)}return me.indices=_e,me=l.GeometryPipeline.combineInstances([new u.GeometryInstance({geometry:A}),new u.GeometryInstance({geometry:me})]),me[0]}const B=[new t.Cartesian3,new t.Cartesian3,new t.Cartesian3,new t.Cartesian3],U=new t.Cartographic,k=new t.Cartographic;function V(e,n,r,i,a){if(0===r)return t.Rectangle.clone(e,a);const o=d.RectangleGeometryLibrary.computeOptions(e,n,r,0,v,U),s=o.height,u=o.width,l=B;return d.RectangleGeometryLibrary.computePosition(o,i,!1,0,0,l[0]),d.RectangleGeometryLibrary.computePosition(o,i,!1,0,u-1,l[1]),d.RectangleGeometryLibrary.computePosition(o,i,!1,s-1,0,l[2]),d.RectangleGeometryLibrary.computePosition(o,i,!1,s-1,u-1,l[3]),t.Rectangle.fromCartesianArray(l,i,a)}function z(n){const r=(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).rectangle,i=e.defaultValue(n.height,0),o=e.defaultValue(n.extrudedHeight,i);this._rectangle=t.Rectangle.clone(r),this._granularity=e.defaultValue(n.granularity,a.CesiumMath.RADIANS_PER_DEGREE),this._ellipsoid=t.Ellipsoid.clone(e.defaultValue(n.ellipsoid,t.Ellipsoid.WGS84)),this._surfaceHeight=Math.max(i,o),this._rotation=e.defaultValue(n.rotation,0),this._stRotation=e.defaultValue(n.stRotation,0),this._vertexFormat=p.VertexFormat.clone(e.defaultValue(n.vertexFormat,p.VertexFormat.DEFAULT)),this._extrudedHeight=Math.min(i,o),this._shadowVolume=e.defaultValue(n.shadowVolume,!1),this._workerName="createRectangleGeometry",this._offsetAttribute=n.offsetAttribute,this._rotatedRectangle=void 0,this._textureCoordinateRotationPoints=void 0}z.packedLength=t.Rectangle.packedLength+t.Ellipsoid.packedLength+p.VertexFormat.packedLength+7,z.pack=function(n,r,i){return i=e.defaultValue(i,0),t.Rectangle.pack(n._rectangle,r,i),i+=t.Rectangle.packedLength,t.Ellipsoid.pack(n._ellipsoid,r,i),i+=t.Ellipsoid.packedLength,p.VertexFormat.pack(n._vertexFormat,r,i),i+=p.VertexFormat.packedLength,r[i++]=n._granularity,r[i++]=n._surfaceHeight,r[i++]=n._rotation,r[i++]=n._stRotation,r[i++]=n._extrudedHeight,r[i++]=n._shadowVolume?1:0,r[i]=e.defaultValue(n._offsetAttribute,-1),r};const j=new t.Rectangle,H=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),q={rectangle:j,ellipsoid:H,vertexFormat:F,granularity:void 0,height:void 0,rotation:void 0,stRotation:void 0,extrudedHeight:void 0,shadowVolume:void 0,offsetAttribute:void 0};z.unpack=function(n,r,i){r=e.defaultValue(r,0);const a=t.Rectangle.unpack(n,r,j);r+=t.Rectangle.packedLength;const o=t.Ellipsoid.unpack(n,r,H);r+=t.Ellipsoid.packedLength;const s=p.VertexFormat.unpack(n,r,F);r+=p.VertexFormat.packedLength;const u=n[r++],l=n[r++],c=n[r++],f=n[r++],d=n[r++],h=1===n[r++],m=n[r];return e.defined(i)?(i._rectangle=t.Rectangle.clone(a,i._rectangle),i._ellipsoid=t.Ellipsoid.clone(o,i._ellipsoid),i._vertexFormat=p.VertexFormat.clone(s,i._vertexFormat),i._granularity=u,i._surfaceHeight=l,i._rotation=c,i._stRotation=f,i._extrudedHeight=d,i._shadowVolume=h,i._offsetAttribute=-1===m?void 0:m,i):(q.granularity=u,q.height=l,q.rotation=c,q.stRotation=f,q.extrudedHeight=d,q.shadowVolume=h,q.offsetAttribute=-1===m?void 0:m,new z(q))},z.computeRectangle=function(n,r){const i=(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).rectangle,o=e.defaultValue(n.granularity,a.CesiumMath.RADIANS_PER_DEGREE),s=e.defaultValue(n.ellipsoid,t.Ellipsoid.WGS84);return V(i,o,e.defaultValue(n.rotation,0),s,r)};const W=new t.Matrix3,K=new r.Quaternion,Y=new t.Cartographic;z.createGeometry=function(i){if(a.CesiumMath.equalsEpsilon(i._rectangle.north,i._rectangle.south,a.CesiumMath.EPSILON10)||a.CesiumMath.equalsEpsilon(i._rectangle.east,i._rectangle.west,a.CesiumMath.EPSILON10))return;let s=i._rectangle;const u=i._ellipsoid,l=i._rotation,c=i._stRotation,p=i._vertexFormat,h=d.RectangleGeometryLibrary.computeOptions(s,i._granularity,l,c,v,U,k),m=W;if(0!==c||0!==l){const e=t.Rectangle.center(s,Y),n=u.geodeticSurfaceNormalCartographic(e,I);r.Quaternion.fromAxisAngle(n,-c,K),t.Matrix3.fromQuaternion(K,m)}else t.Matrix3.clone(t.Matrix3.IDENTITY,m);const _=i._surfaceHeight,y=i._extrudedHeight,g=!a.CesiumMath.equalsEpsilon(_,y,0,a.CesiumMath.EPSILON2);let C,b;if(h.lonScalar=1/i._rectangle.width,h.latScalar=1/i._rectangle.height,h.tangentRotationMatrix=m,s=i._rectangle,g){C=G(i,h);const e=r.BoundingSphere.fromRectangle3D(s,u,_,M),t=r.BoundingSphere.fromRectangle3D(s,u,y,O);b=r.BoundingSphere.union(e,t)}else{if(C=N(i,h),C.attributes.position.values=f.PolygonPipeline.scaleToGeodeticHeight(C.attributes.position.values,_,u,!1),e.defined(i._offsetAttribute)){const e=C.attributes.position.values.length,t=new Uint8Array(e/3),r=i._offsetAttribute===n.GeometryOffsetAttribute.NONE?0:1;n.arrayFill(t,r),C.attributes.applyOffset=new o.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:t})}b=r.BoundingSphere.fromRectangle3D(s,u,_)}return p.position||delete C.attributes.position,new o.Geometry({attributes:C.attributes,indices:C.indices,primitiveType:C.primitiveType,boundingSphere:b,offsetAttribute:i._offsetAttribute})},z.createShadowVolume=function(e,t,n){const r=e._granularity,i=e._ellipsoid,a=t(r,i),o=n(r,i);return new z({rectangle:e._rectangle,rotation:e._rotation,ellipsoid:i,stRotation:e._stRotation,granularity:r,extrudedHeight:o,height:a,vertexFormat:p.VertexFormat.POSITION_ONLY,shadowVolume:!0})};const X=new t.Rectangle,Z=[new t.Cartesian2,new t.Cartesian2,new t.Cartesian2],Q=new t.Matrix2,$=new t.Cartographic;return Object.defineProperties(z.prototype,{rectangle:{get:function(){return e.defined(this._rotatedRectangle)||(this._rotatedRectangle=V(this._rectangle,this._granularity,this._rotation,this._ellipsoid)),this._rotatedRectangle}},textureCoordinateRotationPoints:{get:function(){return e.defined(this._textureCoordinateRotationPoints)||(this._textureCoordinateRotationPoints=function(e){if(0===e._stRotation)return[0,0,0,1,1,0];const n=t.Rectangle.clone(e._rectangle,X),r=e._granularity,i=e._ellipsoid,a=V(n,r,e._rotation-e._stRotation,i,X),o=Z;o[0].x=a.west,o[0].y=a.south,o[1].x=a.west,o[1].y=a.north,o[2].x=a.east,o[2].y=a.south;const s=e.rectangle,u=t.Matrix2.fromRotation(e._stRotation,Q),l=t.Rectangle.center(s,$);for(let e=0;e<3;++e){const n=o[e];n.x-=l.longitude,n.y-=l.latitude,t.Matrix2.multiplyByVector(u,n,n),n.x+=l.longitude,n.y+=l.latitude,n.x=(n.x-s.west)/s.width,n.y=(n.y-s.south)/s.height}const c=o[0],f=o[1],d=o[2],p=new Array(6);return t.Cartesian2.pack(c,p),t.Cartesian2.pack(f,p,2),t.Cartesian2.pack(d,p,4),p}(this)),this._textureCoordinateRotationPoints}}}),function(n,r){return e.defined(r)&&(n=z.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),n._rectangle=t.Rectangle.clone(n._rectangle),z.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(12),n(4),n(3),n(1),n(6),n(8),n(10),n(26),n(60),n(9),n(7),n(5),n(16)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h){"use strict";const m=new r.BoundingSphere,_=new r.BoundingSphere,y=new t.Cartesian3,g=new t.Rectangle;function C(e,t){const n=e._ellipsoid,r=t.height,a=t.width,l=t.northCap,f=t.southCap;let d=r,p=2,h=0,m=4;l&&(p-=1,d-=1,h+=1,m-=2),f&&(p-=1,d-=1,h+=1,m-=2),h+=p*a+2*d-m;const _=new Float64Array(3*h);let g,C=0,b=0;const A=y;if(l)c.RectangleGeometryLibrary.computePosition(t,n,!1,b,0,A),_[C++]=A.x,_[C++]=A.y,_[C++]=A.z;else for(g=0;g<a;g++)c.RectangleGeometryLibrary.computePosition(t,n,!1,b,g,A),_[C++]=A.x,_[C++]=A.y,_[C++]=A.z;for(g=a-1,b=1;b<r;b++)c.RectangleGeometryLibrary.computePosition(t,n,!1,b,g,A),_[C++]=A.x,_[C++]=A.y,_[C++]=A.z;if(b=r-1,!f)for(g=a-2;g>=0;g--)c.RectangleGeometryLibrary.computePosition(t,n,!1,b,g,A),_[C++]=A.x,_[C++]=A.y,_[C++]=A.z;for(g=0,b=r-2;b>0;b--)c.RectangleGeometryLibrary.computePosition(t,n,!1,b,g,A),_[C++]=A.x,_[C++]=A.y,_[C++]=A.z;const E=_.length/3*2,w=u.IndexDatatype.createTypedArray(_.length/3,E);let T=0;for(let e=0;e<_.length/3-1;e++)w[T++]=e,w[T++]=e+1;w[T++]=_.length/3-1,w[T++]=0;const x=new o.Geometry({attributes:new s.GeometryAttributes,primitiveType:o.PrimitiveType.LINES});return x.attributes.position=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:_}),x.indices=w,x}function b(n){const r=(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).rectangle,a=e.defaultValue(n.granularity,i.CesiumMath.RADIANS_PER_DEGREE),o=e.defaultValue(n.ellipsoid,t.Ellipsoid.WGS84),s=e.defaultValue(n.rotation,0),u=e.defaultValue(n.height,0),l=e.defaultValue(n.extrudedHeight,u);this._rectangle=t.Rectangle.clone(r),this._granularity=a,this._ellipsoid=o,this._surfaceHeight=Math.max(u,l),this._rotation=s,this._extrudedHeight=Math.min(u,l),this._offsetAttribute=n.offsetAttribute,this._workerName="createRectangleOutlineGeometry"}b.packedLength=t.Rectangle.packedLength+t.Ellipsoid.packedLength+5,b.pack=function(n,r,i){return i=e.defaultValue(i,0),t.Rectangle.pack(n._rectangle,r,i),i+=t.Rectangle.packedLength,t.Ellipsoid.pack(n._ellipsoid,r,i),i+=t.Ellipsoid.packedLength,r[i++]=n._granularity,r[i++]=n._surfaceHeight,r[i++]=n._rotation,r[i++]=n._extrudedHeight,r[i]=e.defaultValue(n._offsetAttribute,-1),r};const A=new t.Rectangle,E=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),w={rectangle:A,ellipsoid:E,granularity:void 0,height:void 0,rotation:void 0,extrudedHeight:void 0,offsetAttribute:void 0};b.unpack=function(n,r,i){r=e.defaultValue(r,0);const a=t.Rectangle.unpack(n,r,A);r+=t.Rectangle.packedLength;const o=t.Ellipsoid.unpack(n,r,E);r+=t.Ellipsoid.packedLength;const s=n[r++],u=n[r++],l=n[r++],c=n[r++],f=n[r];return e.defined(i)?(i._rectangle=t.Rectangle.clone(a,i._rectangle),i._ellipsoid=t.Ellipsoid.clone(o,i._ellipsoid),i._surfaceHeight=u,i._rotation=l,i._extrudedHeight=c,i._offsetAttribute=-1===f?void 0:f,i):(w.granularity=s,w.height=u,w.rotation=l,w.extrudedHeight=c,w.offsetAttribute=-1===f?void 0:f,new b(w))};const T=new t.Cartographic;return b.createGeometry=function(t){const a=t._rectangle,s=t._ellipsoid,f=c.RectangleGeometryLibrary.computeOptions(a,t._granularity,t._rotation,0,g,T);let d,p;if(i.CesiumMath.equalsEpsilon(a.north,a.south,i.CesiumMath.EPSILON10)||i.CesiumMath.equalsEpsilon(a.east,a.west,i.CesiumMath.EPSILON10))return;const h=t._surfaceHeight,y=t._extrudedHeight;let b;if(!i.CesiumMath.equalsEpsilon(h,y,0,i.CesiumMath.EPSILON2)){if(d=function(e,t){const n=e._surfaceHeight,r=e._extrudedHeight,i=e._ellipsoid,a=r,o=n,s=C(e,t),c=t.height,f=t.width,d=l.PolygonPipeline.scaleToGeodeticHeight(s.attributes.position.values,o,i,!1);let p=d.length;const h=new Float64Array(2*p);h.set(d);const m=l.PolygonPipeline.scaleToGeodeticHeight(s.attributes.position.values,a,i);h.set(m,p),s.attributes.position.values=h;const _=t.northCap,y=t.southCap;let g=4;_&&(g-=1),y&&(g-=1);const b=2*(h.length/3+g),A=u.IndexDatatype.createTypedArray(h.length/3,b);p=h.length/6;let E,w=0;for(let e=0;e<p-1;e++)A[w++]=e,A[w++]=e+1,A[w++]=e+p,A[w++]=e+p+1;if(A[w++]=p-1,A[w++]=0,A[w++]=p+p-1,A[w++]=p,A[w++]=0,A[w++]=p,_)E=c-1;else{const e=f-1;A[w++]=e,A[w++]=e+p,E=f+c-2}if(A[w++]=E,A[w++]=E+p,!y){const e=f+E-1;A[w++]=e,A[w]=e+p}return s.indices=A,s}(t,f),e.defined(t._offsetAttribute)){const e=d.attributes.position.values.length/3;let r=new Uint8Array(e);t._offsetAttribute===n.GeometryOffsetAttribute.TOP?r=n.arrayFill(r,1,0,e/2):(b=t._offsetAttribute===n.GeometryOffsetAttribute.NONE?0:1,r=n.arrayFill(r,b)),d.attributes.applyOffset=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}const c=r.BoundingSphere.fromRectangle3D(a,s,h,_),g=r.BoundingSphere.fromRectangle3D(a,s,y,m);p=r.BoundingSphere.union(c,g)}else{if(d=C(t,f),d.attributes.position.values=l.PolygonPipeline.scaleToGeodeticHeight(d.attributes.position.values,h,s,!1),e.defined(t._offsetAttribute)){const e=d.attributes.position.values.length,r=new Uint8Array(e/3);b=t._offsetAttribute===n.GeometryOffsetAttribute.NONE?0:1,n.arrayFill(r,b),d.attributes.applyOffset=new o.GeometryAttribute({componentDatatype:i.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:1,values:r})}p=r.BoundingSphere.fromRectangle3D(a,s,h)}return new o.Geometry({attributes:d.attributes,indices:d.indices,primitiveType:o.PrimitiveType.LINES,boundingSphere:p,offsetAttribute:t._offsetAttribute})},function(n,r){return e.defined(r)&&(n=b.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),n._rectangle=t.Rectangle.clone(n._rectangle),b.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(29),n(4),n(40),n(3),n(1),n(6),n(8),n(10),n(24),n(9),n(7),n(5),n(25),n(16),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y){"use strict";function g(e,t,n,r,a,o,s){const u=c.PolylinePipeline.numberOfPoints(e,t,a);let l;const f=n.red,d=n.green,p=n.blue,h=n.alpha,m=r.red,_=r.green,y=r.blue,g=r.alpha;if(i.Color.equals(n,r)){for(l=0;l<u;l++)o[s++]=i.Color.floatToByte(f),o[s++]=i.Color.floatToByte(d),o[s++]=i.Color.floatToByte(p),o[s++]=i.Color.floatToByte(h);return s}const C=(m-f)/u,b=(_-d)/u,A=(y-p)/u,E=(g-h)/u;let w=s;for(l=0;l<u;l++)o[w++]=i.Color.floatToByte(f+l*C),o[w++]=i.Color.floatToByte(d+l*b),o[w++]=i.Color.floatToByte(p+l*A),o[w++]=i.Color.floatToByte(h+l*E);return w}function C(r){const o=(r=e.defaultValue(r,e.defaultValue.EMPTY_OBJECT)).positions,s=r.colors,u=e.defaultValue(r.colorsPerVertex,!1);this._positions=o,this._colors=s,this._colorsPerVertex=u,this._arcType=e.defaultValue(r.arcType,n.ArcType.GEODESIC),this._granularity=e.defaultValue(r.granularity,a.CesiumMath.RADIANS_PER_DEGREE),this._ellipsoid=e.defaultValue(r.ellipsoid,t.Ellipsoid.WGS84),this._workerName="createSimplePolylineGeometry";let l=1+o.length*t.Cartesian3.packedLength;l+=e.defined(s)?1+s.length*i.Color.packedLength:1,this.packedLength=l+t.Ellipsoid.packedLength+3}C.pack=function(n,r,a){let o;a=e.defaultValue(a,0);const s=n._positions;let u=s.length;for(r[a++]=u,o=0;o<u;++o,a+=t.Cartesian3.packedLength)t.Cartesian3.pack(s[o],r,a);const l=n._colors;for(u=e.defined(l)?l.length:0,r[a++]=u,o=0;o<u;++o,a+=i.Color.packedLength)i.Color.pack(l[o],r,a);return t.Ellipsoid.pack(n._ellipsoid,r,a),a+=t.Ellipsoid.packedLength,r[a++]=n._colorsPerVertex?1:0,r[a++]=n._arcType,r[a]=n._granularity,r},C.unpack=function(n,r,a){let o;r=e.defaultValue(r,0);let s=n[r++];const u=new Array(s);for(o=0;o<s;++o,r+=t.Cartesian3.packedLength)u[o]=t.Cartesian3.unpack(n,r);s=n[r++];const l=s>0?new Array(s):void 0;for(o=0;o<s;++o,r+=i.Color.packedLength)l[o]=i.Color.unpack(n,r);const c=t.Ellipsoid.unpack(n,r);r+=t.Ellipsoid.packedLength;const f=1===n[r++],d=n[r++],p=n[r];return e.defined(a)?(a._positions=u,a._colors=l,a._ellipsoid=c,a._colorsPerVertex=f,a._arcType=d,a._granularity=p,a):new C({positions:u,colors:l,ellipsoid:c,colorsPerVertex:f,arcType:d,granularity:p})};const b=new Array(2),A=new Array(2),E={positions:b,height:A,ellipsoid:void 0,minDistance:void 0,granularity:void 0};return C.createGeometry=function(o){const f=o._positions,d=o._colors,p=o._colorsPerVertex,h=o._arcType,m=o._granularity,_=o._ellipsoid,y=a.CesiumMath.chordLength(m,_.maximumRadius),C=e.defined(d)&&!p;let w;const T=f.length;let x,v,R,O,M=0;if(h===n.ArcType.GEODESIC||h===n.ArcType.RHUMB){let t,r,o;h===n.ArcType.GEODESIC?(t=a.CesiumMath.chordLength(m,_.maximumRadius),r=c.PolylinePipeline.numberOfPoints,o=c.PolylinePipeline.generateArc):(t=m,r=c.PolylinePipeline.numberOfPointsRhumbLine,o=c.PolylinePipeline.generateRhumbArc);const s=c.PolylinePipeline.extractHeights(f,_),u=E;if(h===n.ArcType.GEODESIC?u.minDistance=y:u.granularity=m,u.ellipsoid=_,C){let n=0;for(w=0;w<T-1;w++)n+=r(f[w],f[w+1],t)+1;x=new Float64Array(3*n),R=new Uint8Array(4*n),u.positions=b,u.height=A;let a=0;for(w=0;w<T-1;++w){b[0]=f[w],b[1]=f[w+1],A[0]=s[w],A[1]=s[w+1];const t=o(u);if(e.defined(d)){const e=t.length/3;O=d[w];for(let t=0;t<e;++t)R[a++]=i.Color.floatToByte(O.red),R[a++]=i.Color.floatToByte(O.green),R[a++]=i.Color.floatToByte(O.blue),R[a++]=i.Color.floatToByte(O.alpha)}x.set(t,M),M+=t.length}}else if(u.positions=f,u.height=s,x=new Float64Array(o(u)),e.defined(d)){for(R=new Uint8Array(x.length/3*4),w=0;w<T-1;++w){M=g(f[w],f[w+1],d[w],d[w+1],y,R,M)}const e=d[T-1];R[M++]=i.Color.floatToByte(e.red),R[M++]=i.Color.floatToByte(e.green),R[M++]=i.Color.floatToByte(e.blue),R[M++]=i.Color.floatToByte(e.alpha)}}else{v=C?2*T-2:T,x=new Float64Array(3*v),R=e.defined(d)?new Uint8Array(4*v):void 0;let n=0,r=0;for(w=0;w<T;++w){const a=f[w];if(C&&w>0&&(t.Cartesian3.pack(a,x,n),n+=3,O=d[w-1],R[r++]=i.Color.floatToByte(O.red),R[r++]=i.Color.floatToByte(O.green),R[r++]=i.Color.floatToByte(O.blue),R[r++]=i.Color.floatToByte(O.alpha)),C&&w===T-1)break;t.Cartesian3.pack(a,x,n),n+=3,e.defined(d)&&(O=d[w],R[r++]=i.Color.floatToByte(O.red),R[r++]=i.Color.floatToByte(O.green),R[r++]=i.Color.floatToByte(O.blue),R[r++]=i.Color.floatToByte(O.alpha))}}const S=new u.GeometryAttributes;S.position=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:x}),e.defined(d)&&(S.color=new s.GeometryAttribute({componentDatatype:a.ComponentDatatype.UNSIGNED_BYTE,componentsPerAttribute:4,values:R,normalize:!0})),v=x.length/3;const I=2*(v-1),P=l.IndexDatatype.createTypedArray(v,I);let N=0;for(w=0;w<v-1;++w)P[N++]=w,P[N++]=w+1;return new s.Geometry({attributes:S,indices:P,primitiveType:s.PrimitiveType.LINES,boundingSphere:r.BoundingSphere.fromPoints(f)})},function(n,r){return e.defined(r)&&(n=C.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),C.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(1),n(46),n(14),n(3),n(5),n(12),n(4),n(9),n(7),n(6),n(8),n(10)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p){"use strict";function h(n){const i=e.defaultValue(n.radius,1),a={radii:new t.Cartesian3(i,i,i),stackPartitions:n.stackPartitions,slicePartitions:n.slicePartitions,vertexFormat:n.vertexFormat};this._ellipsoidGeometry=new r.EllipsoidGeometry(a),this._workerName="createSphereGeometry"}h.packedLength=r.EllipsoidGeometry.packedLength,h.pack=function(e,t,n){return r.EllipsoidGeometry.pack(e._ellipsoidGeometry,t,n)};const m=new r.EllipsoidGeometry,_={radius:void 0,radii:new t.Cartesian3,vertexFormat:new i.VertexFormat,stackPartitions:void 0,slicePartitions:void 0};return h.unpack=function(n,a,o){const s=r.EllipsoidGeometry.unpack(n,a,m);return _.vertexFormat=i.VertexFormat.clone(s._vertexFormat,_.vertexFormat),_.stackPartitions=s._stackPartitions,_.slicePartitions=s._slicePartitions,e.defined(o)?(t.Cartesian3.clone(s._radii,_.radii),o._ellipsoidGeometry=new r.EllipsoidGeometry(_),o):(_.radius=s._radii.x,new h(_))},h.createGeometry=function(e){return r.EllipsoidGeometry.createGeometry(e._ellipsoidGeometry)},function(t,n){return e.defined(n)&&(t=h.unpack(t,n)),h.createGeometry(t)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(1),n(57),n(3),n(5),n(12),n(4),n(9),n(7),n(6),n(8),n(10)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d){"use strict";function p(n){const i=e.defaultValue(n.radius,1),a={radii:new t.Cartesian3(i,i,i),stackPartitions:n.stackPartitions,slicePartitions:n.slicePartitions,subdivisions:n.subdivisions};this._ellipsoidGeometry=new r.EllipsoidOutlineGeometry(a),this._workerName="createSphereOutlineGeometry"}p.packedLength=r.EllipsoidOutlineGeometry.packedLength,p.pack=function(e,t,n){return r.EllipsoidOutlineGeometry.pack(e._ellipsoidGeometry,t,n)};const h=new r.EllipsoidOutlineGeometry,m={radius:void 0,radii:new t.Cartesian3,stackPartitions:void 0,slicePartitions:void 0,subdivisions:void 0};return p.unpack=function(n,i,a){const o=r.EllipsoidOutlineGeometry.unpack(n,i,h);return m.stackPartitions=o._stackPartitions,m.slicePartitions=o._slicePartitions,m.subdivisions=o._subdivisions,e.defined(a)?(t.Cartesian3.clone(o._radii,m.radii),a._ellipsoidGeometry=new r.EllipsoidOutlineGeometry(m),a):(m.radius=o._radii.x,new p(m))},p.createGeometry=function(e){return r.EllipsoidOutlineGeometry.createGeometry(e._ellipsoidGeometry)},function(t,n){return e.defined(n)&&(t=p.unpack(t,n)),p.createGeometry(t)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(4),n(3),n(1),n(6),n(8),n(10),n(14),n(61),n(9),n(7),n(5),n(19),n(24),n(25),n(16),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g){"use strict";const C=new t.Cartesian3,b=new t.Cartesian3,A=new t.Cartesian3,E=new t.Cartesian3,w=new t.Cartesian3,T=new t.Cartesian3,x=new t.Cartesian3;function v(n){const i=(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).positions,a=n.maximumHeights,o=n.minimumHeights,s=e.defaultValue(n.vertexFormat,u.VertexFormat.DEFAULT),l=e.defaultValue(n.granularity,r.CesiumMath.RADIANS_PER_DEGREE),c=e.defaultValue(n.ellipsoid,t.Ellipsoid.WGS84);this._positions=i,this._minimumHeights=o,this._maximumHeights=a,this._vertexFormat=u.VertexFormat.clone(s),this._granularity=l,this._ellipsoid=t.Ellipsoid.clone(c),this._workerName="createWallGeometry";let f=1+i.length*t.Cartesian3.packedLength+2;e.defined(o)&&(f+=o.length),e.defined(a)&&(f+=a.length),this.packedLength=f+t.Ellipsoid.packedLength+u.VertexFormat.packedLength+1}v.pack=function(n,r,i){let a;i=e.defaultValue(i,0);const o=n._positions;let s=o.length;for(r[i++]=s,a=0;a<s;++a,i+=t.Cartesian3.packedLength)t.Cartesian3.pack(o[a],r,i);const l=n._minimumHeights;if(s=e.defined(l)?l.length:0,r[i++]=s,e.defined(l))for(a=0;a<s;++a)r[i++]=l[a];const c=n._maximumHeights;if(s=e.defined(c)?c.length:0,r[i++]=s,e.defined(c))for(a=0;a<s;++a)r[i++]=c[a];return t.Ellipsoid.pack(n._ellipsoid,r,i),i+=t.Ellipsoid.packedLength,u.VertexFormat.pack(n._vertexFormat,r,i),r[i+=u.VertexFormat.packedLength]=n._granularity,r};const R=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),O=new u.VertexFormat,M={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:R,vertexFormat:O,granularity:void 0};return v.unpack=function(n,r,i){let a;r=e.defaultValue(r,0);let o=n[r++];const s=new Array(o);for(a=0;a<o;++a,r+=t.Cartesian3.packedLength)s[a]=t.Cartesian3.unpack(n,r);let l,c;if(o=n[r++],o>0)for(l=new Array(o),a=0;a<o;++a)l[a]=n[r++];if(o=n[r++],o>0)for(c=new Array(o),a=0;a<o;++a)c[a]=n[r++];const f=t.Ellipsoid.unpack(n,r,R);r+=t.Ellipsoid.packedLength;const d=u.VertexFormat.unpack(n,r,O),p=n[r+=u.VertexFormat.packedLength];return e.defined(i)?(i._positions=s,i._minimumHeights=l,i._maximumHeights=c,i._ellipsoid=t.Ellipsoid.clone(f,i._ellipsoid),i._vertexFormat=u.VertexFormat.clone(d,i._vertexFormat),i._granularity=p,i):(M.positions=s,M.minimumHeights=l,M.maximumHeights=c,M.granularity=p,new v(M))},v.fromConstantHeights=function(t){const n=(t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT)).positions;let r,i;const a=t.minimumHeight,o=t.maximumHeight,s=e.defined(a),u=e.defined(o);if(s||u){const e=n.length;r=s?new Array(e):void 0,i=u?new Array(e):void 0;for(let t=0;t<e;++t)s&&(r[t]=a),u&&(i[t]=o)}return new v({positions:n,maximumHeights:i,minimumHeights:r,ellipsoid:t.ellipsoid,vertexFormat:t.vertexFormat})},v.createGeometry=function(i){const u=i._positions,c=i._minimumHeights,f=i._maximumHeights,d=i._vertexFormat,p=i._granularity,h=i._ellipsoid,m=l.WallGeometryLibrary.computePositions(h,u,f,c,p,!0);if(!e.defined(m))return;const _=m.bottomPositions,y=m.topPositions,g=m.numCorners;let v=y.length,R=2*v;const O=d.position?new Float64Array(R):void 0,M=d.normal?new Float32Array(R):void 0,S=d.tangent?new Float32Array(R):void 0,I=d.bitangent?new Float32Array(R):void 0,P=d.st?new Float32Array(R/3*2):void 0;let N,L=0,D=0,F=0,G=0,B=0,U=x,k=T,V=w,z=!0;v/=3;let j=0;const H=1/(v-g-1);for(N=0;N<v;++N){const e=3*N,n=t.Cartesian3.fromArray(y,e,C),i=t.Cartesian3.fromArray(_,e,b);if(d.position&&(O[L++]=i.x,O[L++]=i.y,O[L++]=i.z,O[L++]=n.x,O[L++]=n.y,O[L++]=n.z),d.st&&(P[B++]=j,P[B++]=0,P[B++]=j,P[B++]=1),d.normal||d.tangent||d.bitangent){let i=t.Cartesian3.clone(t.Cartesian3.ZERO,E);const a=t.Cartesian3.subtract(n,h.geodeticSurfaceNormal(n,b),b);if(N+1<v&&(i=t.Cartesian3.fromArray(y,e+3,E)),z){const e=t.Cartesian3.subtract(i,n,A),r=t.Cartesian3.subtract(a,n,C);U=t.Cartesian3.normalize(t.Cartesian3.cross(r,e,U),U),z=!1}t.Cartesian3.equalsEpsilon(n,i,r.CesiumMath.EPSILON10)?z=!0:(j+=H,d.tangent&&(k=t.Cartesian3.normalize(t.Cartesian3.subtract(i,n,k),k)),d.bitangent&&(V=t.Cartesian3.normalize(t.Cartesian3.cross(U,k,V),V))),d.normal&&(M[D++]=U.x,M[D++]=U.y,M[D++]=U.z,M[D++]=U.x,M[D++]=U.y,M[D++]=U.z),d.tangent&&(S[G++]=k.x,S[G++]=k.y,S[G++]=k.z,S[G++]=k.x,S[G++]=k.y,S[G++]=k.z),d.bitangent&&(I[F++]=V.x,I[F++]=V.y,I[F++]=V.z,I[F++]=V.x,I[F++]=V.y,I[F++]=V.z)}}const q=new o.GeometryAttributes;d.position&&(q.position=new a.GeometryAttribute({componentDatatype:r.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:O})),d.normal&&(q.normal=new a.GeometryAttribute({componentDatatype:r.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:M})),d.tangent&&(q.tangent=new a.GeometryAttribute({componentDatatype:r.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:S})),d.bitangent&&(q.bitangent=new a.GeometryAttribute({componentDatatype:r.ComponentDatatype.FLOAT,componentsPerAttribute:3,values:I})),d.st&&(q.st=new a.GeometryAttribute({componentDatatype:r.ComponentDatatype.FLOAT,componentsPerAttribute:2,values:P}));const W=R/3;R-=6*(g+1);const K=s.IndexDatatype.createTypedArray(W,R);let Y=0;for(N=0;N<W-2;N+=2){const e=N,n=N+2,i=t.Cartesian3.fromArray(O,3*e,C),a=t.Cartesian3.fromArray(O,3*n,b);if(t.Cartesian3.equalsEpsilon(i,a,r.CesiumMath.EPSILON10))continue;const o=N+1,s=N+3;K[Y++]=o,K[Y++]=e,K[Y++]=s,K[Y++]=s,K[Y++]=e,K[Y++]=n}return new a.Geometry({attributes:q,indices:K,primitiveType:a.PrimitiveType.TRIANGLES,boundingSphere:new n.BoundingSphere.fromVertices(O)})},function(n,r){return e.defined(r)&&(n=v.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),v.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(2),n(4),n(3),n(1),n(6),n(8),n(10),n(61),n(9),n(7),n(5),n(19),n(24),n(25),n(16),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y){"use strict";const g=new t.Cartesian3,C=new t.Cartesian3;function b(n){const i=(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).positions,a=n.maximumHeights,o=n.minimumHeights,s=e.defaultValue(n.granularity,r.CesiumMath.RADIANS_PER_DEGREE),u=e.defaultValue(n.ellipsoid,t.Ellipsoid.WGS84);this._positions=i,this._minimumHeights=o,this._maximumHeights=a,this._granularity=s,this._ellipsoid=t.Ellipsoid.clone(u),this._workerName="createWallOutlineGeometry";let l=1+i.length*t.Cartesian3.packedLength+2;e.defined(o)&&(l+=o.length),e.defined(a)&&(l+=a.length),this.packedLength=l+t.Ellipsoid.packedLength+1}b.pack=function(n,r,i){let a;i=e.defaultValue(i,0);const o=n._positions;let s=o.length;for(r[i++]=s,a=0;a<s;++a,i+=t.Cartesian3.packedLength)t.Cartesian3.pack(o[a],r,i);const u=n._minimumHeights;if(s=e.defined(u)?u.length:0,r[i++]=s,e.defined(u))for(a=0;a<s;++a)r[i++]=u[a];const l=n._maximumHeights;if(s=e.defined(l)?l.length:0,r[i++]=s,e.defined(l))for(a=0;a<s;++a)r[i++]=l[a];return t.Ellipsoid.pack(n._ellipsoid,r,i),r[i+=t.Ellipsoid.packedLength]=n._granularity,r};const A=t.Ellipsoid.clone(t.Ellipsoid.UNIT_SPHERE),E={positions:void 0,minimumHeights:void 0,maximumHeights:void 0,ellipsoid:A,granularity:void 0};return b.unpack=function(n,r,i){let a;r=e.defaultValue(r,0);let o=n[r++];const s=new Array(o);for(a=0;a<o;++a,r+=t.Cartesian3.packedLength)s[a]=t.Cartesian3.unpack(n,r);let u,l;if(o=n[r++],o>0)for(u=new Array(o),a=0;a<o;++a)u[a]=n[r++];if(o=n[r++],o>0)for(l=new Array(o),a=0;a<o;++a)l[a]=n[r++];const c=t.Ellipsoid.unpack(n,r,A),f=n[r+=t.Ellipsoid.packedLength];return e.defined(i)?(i._positions=s,i._minimumHeights=u,i._maximumHeights=l,i._ellipsoid=t.Ellipsoid.clone(c,i._ellipsoid),i._granularity=f,i):(E.positions=s,E.minimumHeights=u,E.maximumHeights=l,E.granularity=f,new b(E))},b.fromConstantHeights=function(t){const n=(t=e.defaultValue(t,e.defaultValue.EMPTY_OBJECT)).positions;let r,i;const a=t.minimumHeight,o=t.maximumHeight,s=e.defined(a),u=e.defined(o);if(s||u){const e=n.length;r=s?new Array(e):void 0,i=u?new Array(e):void 0;for(let t=0;t<e;++t)s&&(r[t]=a),u&&(i[t]=o)}return new b({positions:n,maximumHeights:i,minimumHeights:r,ellipsoid:t.ellipsoid})},b.createGeometry=function(i){const l=i._positions,c=i._minimumHeights,f=i._maximumHeights,d=i._granularity,p=i._ellipsoid,h=u.WallGeometryLibrary.computePositions(p,l,f,c,d,!1);if(!e.defined(h))return;const m=h.bottomPositions,_=h.topPositions;let y=_.length,b=2*y;const A=new Float64Array(b);let E,w=0;for(y/=3,E=0;E<y;++E){const e=3*E,n=t.Cartesian3.fromArray(_,e,g),r=t.Cartesian3.fromArray(m,e,C);A[w++]=r.x,A[w++]=r.y,A[w++]=r.z,A[w++]=n.x,A[w++]=n.y,A[w++]=n.z}const T=new o.GeometryAttributes({position:new a.GeometryAttribute({componentDatatype:r.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:A})}),x=b/3;b=2*x-4+x;const v=s.IndexDatatype.createTypedArray(x,b);let R=0;for(E=0;E<x-2;E+=2){const e=E,n=E+2,i=t.Cartesian3.fromArray(A,3*e,g),a=t.Cartesian3.fromArray(A,3*n,C);if(t.Cartesian3.equalsEpsilon(i,a,r.CesiumMath.EPSILON10))continue;const o=E+1,s=E+3;v[R++]=o,v[R++]=e,v[R++]=o,v[R++]=s,v[R++]=e,v[R++]=n}return v[R++]=x-2,v[R++]=x-1,new a.Geometry({attributes:T,indices:v,primitiveType:a.PrimitiveType.LINES,boundingSphere:new n.BoundingSphere.fromVertices(A)})},function(n,r){return e.defined(r)&&(n=b.unpack(n,r)),n._ellipsoid=t.Ellipsoid.clone(n._ellipsoid),b.createGeometry(n)}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=n(109);self.onmessage=function(e){var t=e.data,n=r("./"+t.workerModule.substring(t.workerModule.lastIndexOf("/Workers/")+"/Workers/".length)+".js");self.onmessage=n}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=n(119),i=n(97),a=n(129),o=n(130),s=n(47),u=t;u.request=function(t,n){t="string"==typeof t?s.parse(t):a(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",o=t.protocol||i,u=t.hostname||t.host,l=t.port,c=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?o+"//"+u:"")+(l?":"+l:"")+c,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var f=new r(t);return n&&f.on("response",n),f},u.get=function(e,t){var n=u.request(e,t);return n.end(),n},u.ClientRequest=r,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=o,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(21))},function(e,t,n){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var n;function r(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var a=void 0!==e.ArrayBuffer,o=a&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||a&&i("arraybuffer"),t.msstream=!t.fetch&&o&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&a&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&s(r().overrideMimeType),t.vbArray=s(e.VBArray),n=null}).call(this,n(21))},function(e,t,n){(function(e,r,i){var a=n(96),o=n(31),s=n(37),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(t,n,o,u){var l=this;if(s.Readable.call(l),l._mode=o,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",(function(){e.nextTick((function(){l.emit("close")}))})),"fetch"===o){if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach((function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)})),a.writableStream){var c=new WritableStream({write:function(e){return new Promise((function(t,n){l._destroyed?n():l.push(new r(e))?t():l._resumeFetch=t}))},close:function(){i.clearTimeout(u),l._destroyed||l.push(null)},abort:function(e){l._destroyed||l.emit("error",e)}});try{return void n.body.pipeTo(c).catch((function(e){i.clearTimeout(u),l._destroyed||l.emit("error",e)}))}catch(e){}}var f=n.body.getReader();!function e(){f.read().then((function(t){if(!l._destroyed){if(t.done)return i.clearTimeout(u),void l.push(null);l.push(new r(t.value)),e()}})).catch((function(e){i.clearTimeout(u),l._destroyed||l.emit("error",e)}))}()}else{if(l._xhr=t,l._pos=0,l.url=t.responseURL,l.statusCode=t.status,l.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===l.headers[n]&&(l.headers[n]=[]),l.headers[n].push(t[2])):void 0!==l.headers[n]?l.headers[n]+=", "+t[2]:l.headers[n]=t[2],l.rawHeaders.push(t[1],t[2])}})),l._charset="x-user-defined",!a.overrideMimeType){var d=l.rawHeaders["mime-type"];if(d){var p=d.match(/;\s*charset=([^;])(;|$)/);p&&(l._charset=p[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};o(l,s.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{n=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var a=n.substr(e._pos);if("x-user-defined"===e._charset){for(var o=new r(a.length),s=0;s<a.length;s++)o[s]=255&a.charCodeAt(s);e.push(o)}else e.push(a,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==u.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==u.LOADING)break;var l=new i.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(n)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(28),n(27).Buffer,n(21))},function(e,t,n){"use strict";(function(t,r){var i=n(44);e.exports=C;var a,o=n(94);C.ReadableState=g;n(48).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=n(99),l=n(49).Buffer,c=t.Uint8Array||function(){};var f=Object.create(n(38));f.inherits=n(31);var d=n(120),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var h,m=n(121),_=n(100);f.inherits(C,u);var y=["error","close","destroy","pause","resume"];function g(e,t){e=e||{};var r=t instanceof(a=a||n(34));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(101).StringDecoder),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function C(e){if(a=a||n(34),!(this instanceof C))return new C(e);this._readableState=new g(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function b(e,t,n,r,i){var a,o=e._readableState;null===t?(o.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,w(e)}(e,o)):(i||(a=function(e,t){var n;r=t,l.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):A(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?A(e,o,t,!1):x(e,o)):A(e,o,t,!1))):r||(o.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function A(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&w(e)),x(e,t)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=_.destroy,C.prototype._undestroy=_.undestroy,C.prototype._destroy=function(e,t){this.push(null),t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},C.prototype.unshift=function(e){return b(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){return h||(h=n(101).StringDecoder),this._readableState.decoder=new h(e),this._readableState.encoding=e,this};function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function w(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){p("emit readable"),e.emit("readable"),M(e)}function x(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(v,e,t))}function v(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function R(e){p("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function S(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0===(e-=o)){o===a.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(a.copy(n,n.length-e,0,o),0===(e-=o)){o===a.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(P,t,e))}function P(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function N(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):w(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&I(this),null;var r,i=t.needReadable;return p("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",i=!0),t.ended||t.reading?p("reading or ended",i=!1):i&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(n,t))),null===(r=e>0?S(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(e,t){var n=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,p("pipe count=%d opts=%j",a.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?c:C;function l(t,r){p("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),e.removeListener("close",y),e.removeListener("finish",g),e.removeListener("drain",f),e.removeListener("error",_),e.removeListener("unpipe",l),n.removeListener("end",c),n.removeListener("end",C),n.removeListener("data",m),d=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function c(){p("onend"),e.end()}a.endEmitted?i.nextTick(u):n.once("end",u),e.on("unpipe",l);var f=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",f);var d=!1;var h=!1;function m(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==N(a.pipes,e))&&!d&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,h=!0),n.pause())}function _(t){p("onerror",t),C(),e.removeListener("error",_),0===s(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",g),C()}function g(){p("onfinish"),e.removeListener("close",y),C()}function C(){p("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",_),e.once("close",y),e.once("finish",g),e.emit("pipe",n),a.flowing||(p("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit("unpipe",this,n);return this}var o=N(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&w(this):i.nextTick(R,this))}return n},C.prototype.addListener=C.prototype.on,C.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(O,e,t))}(this,e)),this},C.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(p("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<y.length;a++)e.on(y[a],this.emit.bind(this,y[a]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=S}).call(this,n(21),n(28))},function(e,t,n){e.exports=n(48).EventEmitter},function(e,t,n){"use strict";var r=n(44);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(126).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function c(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},a.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=o(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=o(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(34),i=Object.create(n(38));function a(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){u(e,t,n)})):u(this,null,null)}function u(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(31),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";(function(t){var r=n(138);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function i(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(104),s=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l="foo"===function(){}.name;function c(e){return Object.prototype.toString.call(e)}function f(e){return!a(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var d=e.exports=g,p=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(o.isFunction(e)){if(l)return e.name;var t=e.toString().match(p);return t&&t[1]}}function m(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function _(e){if(l||!o.isFunction(e))return o.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,n,r,i){throw new d.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function g(e,t){e||y(e,!0,t,"==",d.ok)}function C(e,t,n,r){if(e===t)return!0;if(a(e)&&a(t))return 0===i(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&c(e)===c(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===i(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var s=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==s&&s===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=b(e),a=b(t);if(i&&!a||!i&&a)return!1;if(i)return e=u.call(e),t=u.call(t),C(e,t,n);var s,l,c=w(e),f=w(t);if(c.length!==f.length)return!1;for(c.sort(),f.sort(),l=c.length-1;l>=0;l--)if(c[l]!==f[l])return!1;for(l=c.length-1;l>=0;l--)if(s=c[l],!C(e[s],t[s],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function b(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function A(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function E(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&y(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&i&&!n;if((!e&&o.isError(i)&&a&&A(i,n)||s)&&y(i,n,"Got unwanted exception"+r),e&&i&&n&&!A(i,n)||!e&&i)throw i}d.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return m(_(e.actual),128)+" "+e.operator+" "+m(_(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=h(t),a=r.indexOf("\n"+i);if(a>=0){var o=r.indexOf("\n",a+1);r=r.substring(o+1)}this.stack=r}}},o.inherits(d.AssertionError,Error),d.fail=y,d.ok=g,d.equal=function(e,t,n){e!=t&&y(e,t,n,"==",d.equal)},d.notEqual=function(e,t,n){e==t&&y(e,t,n,"!=",d.notEqual)},d.deepEqual=function(e,t,n){C(e,t,!1)||y(e,t,n,"deepEqual",d.deepEqual)},d.deepStrictEqual=function(e,t,n){C(e,t,!0)||y(e,t,n,"deepStrictEqual",d.deepStrictEqual)},d.notDeepEqual=function(e,t,n){C(e,t,!1)&&y(e,t,n,"notDeepEqual",d.notDeepEqual)},d.notDeepStrictEqual=function e(t,n,r){C(t,n,!0)&&y(t,n,r,"notDeepStrictEqual",e)},d.strictEqual=function(e,t,n){e!==t&&y(e,t,n,"===",d.strictEqual)},d.notStrictEqual=function(e,t,n){e===t&&y(e,t,n,"!==",d.notStrictEqual)},d.throws=function(e,t,n){E(!0,e,t,n)},d.doesNotThrow=function(e,t,n){E(!1,e,t,n)},d.ifError=function(e){if(e)throw e},d.strict=r((function e(t,n){t||y(t,!0,n,"==",e)}),d,{equal:d.strictEqual,deepEqual:d.deepStrictEqual,notEqual:d.notStrictEqual,notDeepEqual:d.notDeepStrictEqual}),d.strict.strict=d.strict;var w=Object.keys||function(e){var t=[];for(var n in e)s.call(e,n)&&t.push(n);return t}}).call(this,n(21))},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,a=r.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<a;u=r[++n])m(u)||!b(u)?o+=" "+u:o+=" "+s(u);return o},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,o={};function s(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),c(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function l(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return y(i)||(i=c(e,i,r)),i}var a=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(_(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(a)return a;var o=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),E(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(n);if(0===o.length){if(w(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(C(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var l,b="",T=!1,x=["{","}"];(p(n)&&(T=!0,x=["[","]"]),w(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return C(n)&&(b=" "+RegExp.prototype.toString.call(n)),A(n)&&(b=" "+Date.prototype.toUTCString.call(n)),E(n)&&(b=" "+f(n)),0!==o.length||T&&0!=n.length?r<0?C(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),l=T?function(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)O(t,String(o))?a.push(d(e,t,n,r,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(d(e,t,n,r,i,!0))})),a}(e,n,r,s,o):o.map((function(t){return d(e,n,r,s,t,T)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(l,b,x)):x[0]+b+x[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=m(n)?c(e,u.value,null):c(e,u.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),g(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function p(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function _(e){return"number"==typeof e}function y(e){return"string"==typeof e}function g(e){return void 0===e}function C(e){return b(e)&&"[object RegExp]"===T(e)}function b(e){return"object"==typeof e&&null!==e}function A(e){return b(e)&&"[object Date]"===T(e)}function E(e){return b(e)&&("[object Error]"===T(e)||e instanceof Error)}function w(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(g(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!o[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;o[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else o[n]=function(){};return o[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=_,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=C,t.isObject=b,t.isDate=A,t.isError=E,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(139);var v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),v[e.getMonth()],t].join(" ")}function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",R(),t.format.apply(t,arguments))},t.inherits=n(140),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var M="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function S(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(M&&e[M]){var t;if("function"!=typeof(t=e[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),M&&Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=M,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,n).then((function(t){e.nextTick(o,null,t)}),(function(t){e.nextTick(S,t,o)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(28))},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=107},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!i).join("/"))||"."},t.normalize=function(e){var a=t.isAbsolute(e),o="/"===i(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(a.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(28))},function(e,t,n){var r={"./ArcType-0cf52f8c.js":29,"./AttributeCompression-b89638a2.js":15,"./AxisAlignedBoundingBox-c706f999.js":17,"./BoundingRectangle-3f7565c6.js":39,"./BoxGeometry-011854c3.js":51,"./Color-21328a2e.js":40,"./ComponentDatatype-b1ea011a.js":3,"./CoplanarPolygonGeometryLibrary-aee96bd3.js":52,"./CorridorGeometryLibrary-322f4b1f.js":53,"./CylinderGeometry-83362804.js":54,"./CylinderGeometryLibrary-1ace08dc.js":41,"./EllipseGeometry-d41066e4.js":55,"./EllipseGeometryLibrary-1a2a8626.js":35,"./EllipseOutlineGeometry-9d6e9db9.js":56,"./EllipsoidGeodesic-0f954b03.js":25,"./EllipsoidGeometry-f0b638ae.js":46,"./EllipsoidOutlineGeometry-ed1d1327.js":57,"./EllipsoidRhumbLine-be32f017.js":16,"./EllipsoidTangentPlane-d6169ada.js":18,"./EncodedCartesian3-7fbeca3f.js":23,"./FrustumGeometry-404380f9.js":58,"./GeometryAttribute-38f7581b.js":6,"./GeometryAttributes-7df9bef6.js":8,"./GeometryInstance-226aaa98.js":30,"./GeometryOffsetAttribute-3e8c299c.js":12,"./GeometryPipeline-5b297b29.js":22,"./IndexDatatype-c4099fe9.js":10,"./IntersectionTests-1af1b0d4.js":13,"./Matrix2-feb45b00.js":2,"./OrientedBoundingBox-22e36613.js":32,"./Plane-d4dd64b5.js":11,"./PolygonGeometryLibrary-816727bb.js":42,"./PolygonPipeline-e4a0d587.js":26,"./PolylinePipeline-3f0fce99.js":24,"./PolylineVolumeGeometryLibrary-56299d8f.js":36,"./PrimitivePipeline-24e359ad.js":59,"./RectangleGeometryLibrary-11333dc3.js":60,"./RuntimeError-c581ca93.js":1,"./TerrainEncoding-7748f4d3.js":43,"./Transforms-6a73174d.js":4,"./VertexFormat-e46f29d6.js":14,"./WallGeometryLibrary-a8fee76a.js":61,"./WebGLConstants-7dccdc96.js":5,"./WebMercatorProjection-dd5549ea.js":33,"./_commonjsHelpers-3aae1032-f55dc0c4.js":9,"./arrayRemoveDuplicates-87160c89.js":19,"./cesiumWorkerBootstrapper.js":93,"./combine-761d9c3f.js":7,"./combineGeometry.js":178,"./createBoxGeometry.js":62,"./createBoxOutlineGeometry.js":63,"./createCircleGeometry.js":64,"./createCircleOutlineGeometry.js":65,"./createCoplanarPolygonGeometry.js":66,"./createCoplanarPolygonOutlineGeometry.js":67,"./createCorridorGeometry.js":68,"./createCorridorOutlineGeometry.js":69,"./createCylinderGeometry.js":70,"./createCylinderOutlineGeometry.js":71,"./createEllipseGeometry.js":72,"./createEllipseOutlineGeometry.js":73,"./createEllipsoidGeometry.js":74,"./createEllipsoidOutlineGeometry.js":75,"./createFrustumGeometry.js":76,"./createFrustumOutlineGeometry.js":77,"./createGeometry.js":179,"./createGroundPolylineGeometry.js":78,"./createPlaneGeometry.js":79,"./createPlaneOutlineGeometry.js":80,"./createPolygonGeometry.js":81,"./createPolygonOutlineGeometry.js":82,"./createPolylineGeometry.js":83,"./createPolylineVolumeGeometry.js":84,"./createPolylineVolumeOutlineGeometry.js":85,"./createRectangleGeometry.js":86,"./createRectangleOutlineGeometry.js":87,"./createSimplePolylineGeometry.js":88,"./createSphereGeometry.js":89,"./createSphereOutlineGeometry.js":90,"./createTaskProcessorWorker.js":20,"./createVectorTileClampedPolylines.js":182,"./createVectorTileGeometries.js":183,"./createVectorTilePoints.js":184,"./createVectorTilePolygons.js":185,"./createVectorTilePolylines.js":186,"./createVerticesFromGoogleEarthEnterpriseBuffer.js":187,"./createVerticesFromHeightmap.js":188,"./createVerticesFromQuantizedTerrainMesh.js":189,"./createWallGeometry.js":91,"./createWallOutlineGeometry.js":92,"./decodeDraco.js":190,"./decodeGoogleEarthEnterprisePacket.js":193,"./defaultValue-94c3e563.js":0,"./transcodeKTX2.js":194,"./transferTypedArrayTest.js":195,"./upsampleQuantizedTerrainMesh.js":196};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=109},function(e,t,n){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=l(e),o=r[0],s=r[1],u=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,s)),c=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(c(e,o,o+16383>s?s:o+16383));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)r[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+e[t+f],f+=d,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+e[t+f],f+=d,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),a-=l}return(p?-1:1)*o*Math.pow(2,a-r)},t.write=function(e,t,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:a-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=255&s,p+=h,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+p]=255&o,p+=h,o/=256,l-=8);e[n+p-h]|=128*m}},function(e,t,n){(function(e,r){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var s,u=2147483647,l=/^xn--/,c=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw new RangeError(d[e])}function _(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+_((e=e.replace(f,".")).split("."),t).join(".")}function g(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function C(e){return _(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function E(e){var t,n,r,i,a,o,s,l,c,f,d,h=[],_=e.length,y=0,g=128,b=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),h.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<_;){for(a=y,o=1,s=36;i>=_&&m("invalid-input"),((l=(d=e.charCodeAt(i++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:36)>=36||l>p((u-y)/o))&&m("overflow"),y+=l*o,!(l<(c=s<=b?1:s>=b+26?26:s-b));s+=36)o>p(u/(f=36-c))&&m("overflow"),o*=f;b=A(y-a,t=h.length+1,0==a),p(y/t)>u-g&&m("overflow"),g+=p(y/t),y%=t,h.splice(y++,0,g)}return C(h)}function w(e){var t,n,r,i,a,o,s,l,c,f,d,_,y,C,E,w=[];for(_=(e=g(e)).length,t=128,n=0,a=72,o=0;o<_;++o)(d=e[o])<128&&w.push(h(d));for(r=i=w.length,i&&w.push("-");r<_;){for(s=u,o=0;o<_;++o)(d=e[o])>=t&&d<s&&(s=d);for(s-t>p((u-n)/(y=r+1))&&m("overflow"),n+=(s-t)*y,t=s,o=0;o<_;++o)if((d=e[o])<t&&++n>u&&m("overflow"),d==t){for(l=n,c=36;!(l<(f=c<=a?1:c>=a+26?26:c-a));c+=36)E=l-f,C=36-f,w.push(h(b(f+E%C,0))),l=p(E/C);w.push(h(b(l,0))),a=A(n,y,r==i),n=0,++r}++n,++t}return w.join("")}s={version:"1.4.1",ucs2:{decode:g,encode:C},decode:E,encode:w,toASCII:function(e){return y(e,(function(e){return c.test(e)?"xn--"+w(e):e}))},toUnicode:function(e){return y(e,(function(e){return l.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()}).call(this,n(113)(e),n(21))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(116),t.encode=t.stringify=n(117)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,a){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,d,p,h,m=e[c].replace(s,"%20"),_=m.indexOf(n);_>=0?(f=m.substr(0,_),d=m.substr(_+1)):(f=m,d=""),p=decodeURIComponent(f),h=decodeURIComponent(d),r(o,p)?i(o[p])?o[p].push(h):o[p]=[o[p],h]:o[p]=h}return o};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?a(o(e),(function(o){var s=encodeURIComponent(r(o))+n;return i(e[o])?a(e[o],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[o]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var r=n(95),i=n(47),a=e.exports;for(var o in r)r.hasOwnProperty(o)&&(a[o]=r[o]);function s(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}a.request=function(e,t){return e=s(e),r.request.call(this,e,t)},a.get=function(e,t){return e=s(e),r.get.call(this,e,t)}},function(e,t,n){(function(t,r,i){var a=n(96),o=n(31),s=n(97),u=n(37),l=n(128),c=s.IncomingMessage,f=s.readyStates;var d=e.exports=function(e){var n,r=this;u.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)i=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}(n,i),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};o(d,u.Writable),d.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===p.indexOf(n)&&(this._headers[n]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,o=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=a.arraybuffer?l(t.concat(e._body)):a.blobConstructor?new r.Blob(e._body.map((function(e){return l(e)})),{type:(o["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(o).forEach((function(e){var t=o[e].name,n=o[e].value;Array.isArray(n)?n.forEach((function(e){u.push([t,e])})):u.push([t,n])})),"fetch"===e._mode){var c=null;if(a.abortController){var d=new AbortController;c=d.signal,e._fetchAbortController=d,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:u,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:c}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var p=e._xhr=new r.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in p&&(p.responseType=e._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(p.timeout=n.requestTimeout,p.ontimeout=function(){e.emit("requestTimeout")}),u.forEach((function(e){p.setRequestHeader(e[0],e[1])})),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{p.send(s)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},d.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new c(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},d.prototype._write=function(e,t,n){this._body.push(e),n()},d.prototype.abort=d.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},d.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),u.Writable.prototype.end.call(this,e,t,n)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(27).Buffer,n(21),n(28))},function(e,t){},function(e,t,n){"use strict";var r=n(49).Buffer,i=n(122);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,a=r.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=a,i=s,t.copy(n,i),s+=o.data.length,o=o.next;return a},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(124),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(21))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,a,o,s,u=1,l={},c=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){a.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&h(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(o+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return l[u]=i,r(u),u++},d.clearImmediate=p}function p(e){delete l[e]}function h(e){if(c)setTimeout(h,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(21),n(28))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(21))},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(27),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=a;var r=n(102),i=Object.create(n(38));function a(e){if(!(this instanceof a))return new a(e);r.call(this,e)}i.inherits=n(31),i.inherits(a,r),a.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(27).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,i=0;i<n;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){"use strict";(function(e){var r=n(27).Buffer,i=n(132).Transform,a=n(137),o=n(104),s=n(103).ok,u=n(27).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var c=Object.keys(a),f=0;f<c.length;f++){var d=c[f];d.match(/^Z/)&&Object.defineProperty(t,d,{enumerable:!0,value:a[d],writable:!1})}for(var p={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},h=Object.keys(p),m=0;m<h.length;m++){var _=h[m];p[p[_]]=_}function y(e,t,n){var i=[],a=0;function o(){for(var t;null!==(t=e.read());)i.push(t),a+=t.length;e.once("readable",o)}function s(){var t,o=null;a>=u?o=new RangeError(l):t=r.concat(i,a),i=[],e.close(),n(o,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",o),n(t)})),e.on("end",s),e.end(t),o()}function g(e,t){if("string"==typeof t&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function C(e){if(!(this instanceof C))return new C(e);R.call(this,e,a.DEFLATE)}function b(e){if(!(this instanceof b))return new b(e);R.call(this,e,a.INFLATE)}function A(e){if(!(this instanceof A))return new A(e);R.call(this,e,a.GZIP)}function E(e){if(!(this instanceof E))return new E(e);R.call(this,e,a.GUNZIP)}function w(e){if(!(this instanceof w))return new w(e);R.call(this,e,a.DEFLATERAW)}function T(e){if(!(this instanceof T))return new T(e);R.call(this,e,a.INFLATERAW)}function x(e){if(!(this instanceof x))return new x(e);R.call(this,e,a.UNZIP)}function v(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function R(e,n){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!v(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!v(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(n);var s=this;this._hadError=!1,this._handle.onerror=function(e,n){O(s),s._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],s.emit("error",r)};var u=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(u=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,u,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=r.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function O(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function M(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(p),writable:!1}),t.Deflate=C,t.Inflate=b,t.Gzip=A,t.Gunzip=E,t.DeflateRaw=w,t.InflateRaw=T,t.Unzip=x,t.createDeflate=function(e){return new C(e)},t.createInflate=function(e){return new b(e)},t.createDeflateRaw=function(e){return new w(e)},t.createInflateRaw=function(e){return new T(e)},t.createGzip=function(e){return new A(e)},t.createGunzip=function(e){return new E(e)},t.createUnzip=function(e){return new x(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new C(t),e,n)},t.deflateSync=function(e,t){return g(new C(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new A(t),e,n)},t.gzipSync=function(e,t){return g(new A(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new w(t),e,n)},t.deflateRawSync=function(e,t){return g(new w(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new x(t),e,n)},t.unzipSync=function(e,t){return g(new x(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new b(t),e,n)},t.inflateSync=function(e,t){return g(new b(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new E(t),e,n)},t.gunzipSync=function(e,t){return g(new E(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),y(new T(t),e,n)},t.inflateRawSync=function(e,t){return g(new T(t),e)},o.inherits(R,i),R.prototype.params=function(n,r,i){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var o=this;this.flush(a.Z_SYNC_FLUSH,(function(){s(o._handle,"zlib binding closed"),o._handle.params(n,r),o._hadError||(o._level=n,o._strategy=r,i&&i())}))}else e.nextTick(i)},R.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},R.prototype._flush=function(e){this._transform(r.alloc(0),"",e)},R.prototype.flush=function(t,n){var i=this,o=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=a.Z_FULL_FLUSH),o.ended?n&&e.nextTick(n):o.ending?n&&this.once("end",n):o.needDrain?n&&this.once("drain",(function(){return i.flush(t,n)})):(this._flushFlag=t,this.write(r.alloc(0),"",n))},R.prototype.close=function(t){O(this,t),e.nextTick(M,this)},R.prototype._transform=function(e,t,n){var i,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||r.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,i,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},R.prototype._processChunk=function(e,t,n){var i=e&&e.length,a=this._chunkSize-this._offset,o=0,c=this,f="function"==typeof n;if(!f){var d,p=[],h=0;this.on("error",(function(e){d=e})),s(this._handle,"zlib binding closed");do{var m=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,a)}while(!this._hadError&&g(m[0],m[1]));if(this._hadError)throw d;if(h>=u)throw O(this),new RangeError(l);var _=r.concat(p,h);return O(this),_}s(this._handle,"zlib binding closed");var y=this._handle.write(t,e,o,i,this._buffer,this._offset,a);function g(u,l){if(this&&(this.buffer=null,this.callback=null),!c._hadError){var d=a-l;if(s(d>=0,"have should not go down"),d>0){var m=c._buffer.slice(c._offset,c._offset+d);c._offset+=d,f?c.push(m):(p.push(m),h+=m.length)}if((0===l||c._offset>=c._chunkSize)&&(a=c._chunkSize,c._offset=0,c._buffer=r.allocUnsafe(c._chunkSize)),0===l){if(o+=i-u,i=u,!f)return!0;var _=c._handle.write(t,e,o,i,c._buffer,c._offset,c._chunkSize);return _.callback=g,void(_.buffer=e)}if(!f)return!1;n()}}y.buffer=e,y.callback=g},o.inherits(C,R),o.inherits(b,R),o.inherits(A,R),o.inherits(E,R),o.inherits(w,R),o.inherits(T,R),o.inherits(x,R)}).call(this,n(28))},function(e,t,n){e.exports=i;var r=n(48).EventEmitter;function i(){r.call(this)}n(31)(i,r),i.Readable=n(37),i.Writable=n(133),i.Duplex=n(134),i.Transform=n(135),i.PassThrough=n(136),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function a(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){n.removeListener("data",i),e.removeListener("drain",a),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(e,t,n){e.exports=n(50)},function(e,t,n){e.exports=n(34)},function(e,t,n){e.exports=n(37).Transform},function(e,t,n){e.exports=n(37).PassThrough},function(e,t,n){"use strict";(function(e,r){var i=n(103),a=n(141),o=n(142),s=n(145),u=n(148);for(var l in u)t[l]=u[l];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7;function c(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}c.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},c.prototype.write=function(e,t,n,r,i,a,o){return this._write(!0,e,t,n,r,i,a,o)},c.prototype.writeSync=function(e,t,n,r,i,a,o){return this._write(!1,e,t,n,r,i,a,o)},c.prototype._write=function(n,a,o,s,u,l,c,f){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=f,this.strm.output=l,this.strm.next_out=c,this.flush=a,!n)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return r.nextTick((function(){d._process(),d._after()})),this},c.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},c.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},c.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},c.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},c.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},c.prototype.init=function(e,n,r,a,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,a,o),this._setDictionary()},c.prototype.params=function(){throw new Error("deflateParams Not supported")},c.prototype.reset=function(){this._reset(),this._setDictionary()},c.prototype._init=function(e,n,r,i,u){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},c.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},c.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=c}).call(this,n(27).Buffer,n(28))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";var r,i=n(45),a=n(143),o=n(105),s=n(106),u=n(144);function l(e,t){return e.msg=u[t],t}function c(e){return(e<<1)-(e>4?9:0)}function f(e){for(var t=e.length;--t>=0;)e[t]=0}function d(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function p(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,d(e.strm)}function h(e,t){e.pending_buf[e.pending++]=t}function m(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,l=e.window,c=e.w_mask,f=e.prev,d=e.strstart+258,p=l[a+o-1],h=l[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+o]===h&&l[n+o-1]===p&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<d);if(r=258-(d-a),a=d-258,r>o){if(e.match_start=t,o=r,r>=s)break;p=l[a+o-1],h=l[a+o]}}}while((t=f[t&c])>u&&0!=--i);return o<=e.lookahead?o:e.lookahead}function y(e){var t,n,r,a,u,l,c,f,d,p,h=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-262)){i.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=h?r-h:0}while(--n);t=n=h;do{r=e.prev[--t],e.prev[t]=r>=h?r-h:0}while(--n);a+=h}if(0===e.strm.avail_in)break;if(l=e.strm,c=e.window,f=e.strstart+e.lookahead,d=a,p=void 0,(p=l.avail_in)>d&&(p=d),n=0===p?0:(l.avail_in-=p,i.arraySet(c,l.input,l.next_in,p,f),1===l.state.wrap?l.adler=o(l.adler,c,p,f):2===l.state.wrap&&(l.adler=s(l.adler,c,p,f)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+3-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function g(e,t){for(var n,r;;){if(e.lookahead<262){if(y(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=_(e,n)),e.match_length>=3)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function C(e,t){for(var n,r,i;;){if(e.lookahead<262){if(y(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=_(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(p(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&p(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}function b(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function A(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):l(e,-2)}function w(e){var t,n=E(e);return 0===n&&((t=e.state).window_size=2*t.w_size,f(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function T(e,t,n,r,a,o){if(!e)return-2;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||t<0||t>9||o<0||o>4)return l(e,-2);8===r&&(r=9);var u=new A;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=n,w(e)}r=[new b(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(y(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,p(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(p(e,!1),e.strm.avail_out),1)})),new b(4,4,8,4,g),new b(4,5,16,8,g),new b(4,6,32,32,g),new b(4,4,16,16,C),new b(8,16,32,32,C),new b(8,16,128,128,C),new b(8,32,128,256,C),new b(32,128,258,1024,C),new b(32,258,258,4096,C)],t.deflateInit=function(e,t){return T(e,t,8,15,8,0)},t.deflateInit2=T,t.deflateReset=w,t.deflateResetKeep=E,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var n,i,o,u;if(!e||!e.state||t>5||t<0)return e?l(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return l(e,0===e.avail_out?-5:-2);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,h(i,31),h(i,139),h(i,8),i.gzhead?(h(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),h(i,255&i.gzhead.time),h(i,i.gzhead.time>>8&255),h(i,i.gzhead.time>>16&255),h(i,i.gzhead.time>>24&255),h(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),h(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(h(i,255&i.gzhead.extra.length),h(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(h(i,0),h(i,0),h(i,0),h(i,0),h(i,0),h(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),h(i,3),i.status=113);else{var _=8+(i.w_bits-8<<4)<<8;_|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(_|=32),_+=31-_%31,i.status=113,m(i,_),0!==i.strstart&&(m(i,e.adler>>>16),m(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),d(e),o=i.pending,i.pending!==i.pending_buf_size));)h(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),d(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,h(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),d(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,h(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&d(e),i.pending+2<=i.pending_buf_size&&(h(i,255&e.adler),h(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(d(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&c(t)<=c(n)&&4!==t)return l(e,-5);if(666===i.status&&0!==e.avail_in)return l(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var g=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(y(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=258){if(y(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=258-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(p(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(p(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(p(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==g&&4!==g||(i.status=666),1===g||3===g)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===g&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(f(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),d(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(h(i,255&e.adler),h(i,e.adler>>8&255),h(i,e.adler>>16&255),h(i,e.adler>>24&255),h(i,255&e.total_in),h(i,e.total_in>>8&255),h(i,e.total_in>>16&255),h(i,e.total_in>>24&255)):(m(i,e.adler>>>16),m(i,65535&e.adler)),d(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?l(e,-2):(e.state=null,113===t?l(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var n,r,a,s,u,l,c,d,p=t.length;if(!e||!e.state)return-2;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(e.adler=o(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),u=e.avail_in,l=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,y(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,y(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=u,n.wrap=s,0},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(45);function i(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);i(l);var c=new Array(60);i(c);var f=new Array(512);i(f);var d=new Array(256);i(d);var p=new Array(29);i(p);var h,m,_,y=new Array(30);function g(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function C(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function b(e){return e<256?f[e]:f[256+(e>>>7)]}function A(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function E(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,A(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function w(e,t,n){E(e,n[2*t],n[2*t+1])}function T(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function x(e,t,n){var r,i,a=new Array(16),o=0;for(r=1;r<=15;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=T(a[s]++,s))}}function v(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function R(e){e.bi_valid>8?A(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function O(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function M(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&O(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!O(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function S(e,t,n){var r,i,s,u,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?w(e,i,t):(w(e,(s=d[i])+256+1,t),0!==(u=a[s])&&E(e,i-=p[s],u),w(e,s=b(--r),n),0!==(u=o[s])&&E(e,r-=y[s],u))}while(l<e.last_lit);w(e,256,t)}function I(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)M(e,a,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],M(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,M(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=u[2*u[2*(r=e.heap[n])+1]+1]+1)>h&&(a=h,m++),u[2*r+1]=a,r>l||(e.bl_count[a]++,o=0,r>=p&&(o=d[r-p]),s=u[2*r],e.opt_len+=s*(a+o),f&&(e.static_len+=s*(c[2*r+1]+o)));if(0!==m){do{for(a=h-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(a=h;0!==a;a--)for(r=e.bl_count[a];0!==r;)(i=e.heap[--n])>l||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(e,t),x(a,l,e.bl_count)}function P(e,t,n){var r,i,a=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<u&&i===o||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))}function N(e,t,n){var r,i,a=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<u&&i===o)){if(s<l)do{w(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(w(e,i,e.bl_tree),s--),w(e,16,e.bl_tree),E(e,s-3,2)):s<=10?(w(e,17,e.bl_tree),E(e,s-3,3)):(w(e,18,e.bl_tree),E(e,s-11,7));s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4)}}i(y);var L=!1;function D(e,t,n,i){E(e,0+(i?1:0),3),function(e,t,n,i){R(e),i&&(A(e,n),A(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){L||(!function(){var e,t,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,e=0;e<1<<a[r];e++)d[n++]=r;for(d[n-1]=r,i=0,r=0;r<16;r++)for(y[r]=i,e=0;e<1<<o[r];e++)f[i++]=r;for(i>>=7;r<30;r++)for(y[r]=i<<7,e=0;e<1<<o[r]-7;e++)f[256+i++]=r;for(t=0;t<=15;t++)u[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,u[8]++;for(;e<=255;)l[2*e+1]=9,e++,u[9]++;for(;e<=279;)l[2*e+1]=7,e++,u[7]++;for(;e<=287;)l[2*e+1]=8,e++,u[8]++;for(x(l,287,u),e=0;e<30;e++)c[2*e+1]=5,c[2*e]=T(e,5);h=new g(l,a,257,286,15),m=new g(c,o,0,30,15),_=new g(new Array(0),s,0,19,7)}(),L=!0),e.l_desc=new C(e.dyn_ltree,h),e.d_desc=new C(e.dyn_dtree,m),e.bl_desc=new C(e.bl_tree,_),e.bi_buf=0,e.bi_valid=0,v(e)},t._tr_stored_block=D,t._tr_flush_block=function(e,t,n,r){var i,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),I(e,e.l_desc),I(e,e.d_desc),o=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),I(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*u[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?D(e,t,n,r):4===e.strategy||a===i?(E(e,2+(r?1:0),3),S(e,l,c)):(E(e,4+(r?1:0),3),function(e,t,n,r){var i;for(E(e,t-257,5),E(e,n-1,5),E(e,r-4,4),i=0;i<r;i++)E(e,e.bl_tree[2*u[i]+1],3);N(e,e.dyn_ltree,t-1),N(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),S(e,e.dyn_ltree,e.dyn_dtree)),v(e),r&&R(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(d[n]+256+1)]++,e.dyn_dtree[2*b(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){E(e,2,3),w(e,256,l),function(e){16===e.bi_valid?(A(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";var r=n(45),i=n(105),a=n(106),o=n(146),s=n(147);function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function l(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):-2}function f(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,c(e)):-2}function d(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,f(e))):-2}function p(e,t){var n,r;return e?(r=new l,e.state=r,r.window=null,0!==(n=d(e,t))&&(e.state=null),n):-2}var h,m,_=!0;function y(e){if(_){var t;for(h=new r.Buf32(512),m=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),_=!1}e.lencode=h,e.lenbits=9,e.distcode=m,e.distbits=5}function g(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=f,t.inflateReset2=d,t.inflateResetKeep=c,t.inflateInit=function(e){return p(e,15)},t.inflateInit2=p,t.inflate=function(e,t){var n,l,c,f,d,p,h,m,_,C,b,A,E,w,T,x,v,R,O,M,S,I,P,N,L=0,D=new r.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),d=e.next_out,c=e.output,h=e.avail_out,f=e.next_in,l=e.input,p=e.avail_in,m=n.hold,_=n.bits,C=p,b=h,I=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(2&n.wrap&&35615===m){n.check=0,D[0]=255&m,D[1]=m>>>8&255,n.check=a(n.check,D,2,0),m=0,_=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(_-=4,S=8+(15&(m>>>=4)),0===n.wbits)n.wbits=S;else if(S>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<S,e.adler=n.check=1,n.mode=512&m?10:12,m=0,_=0;break;case 2:for(;_<16;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=a(n.check,D,2,0)),m=0,_=0,n.mode=3;case 3:for(;_<32;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}n.head&&(n.head.time=m),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,D[2]=m>>>16&255,D[3]=m>>>24&255,n.check=a(n.check,D,4,0)),m=0,_=0,n.mode=4;case 4:for(;_<16;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=a(n.check,D,2,0)),m=0,_=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(D[0]=255&m,D[1]=m>>>8&255,n.check=a(n.check,D,2,0)),m=0,_=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((A=n.length)>p&&(A=p),A&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,l,f,A,S)),512&n.flags&&(n.check=a(n.check,l,A,f)),p-=A,f+=A,n.length-=A),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;A=0;do{S=l[f+A++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&A<p);if(512&n.flags&&(n.check=a(n.check,l,A,f)),p-=A,f+=A,S)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;A=0;do{S=l[f+A++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&A<p);if(512&n.flags&&(n.check=a(n.check,l,A,f)),p-=A,f+=A,S)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}m=0,_=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}e.adler=n.check=u(m),m=0,_=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=d,e.avail_out=h,e.next_in=f,e.avail_in=p,n.hold=m,n.bits=_,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}switch(n.last=1&m,_-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6===t){m>>>=2,_-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,_-=2;break;case 14:for(m>>>=7&_,_-=7&_;_<32;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,_=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(A=n.length){if(A>p&&(A=p),A>h&&(A=h),0===A)break e;r.arraySet(c,l,f,A,d),p-=A,f+=A,h-=A,d+=A,n.length-=A;break}n.mode=12;break;case 17:for(;_<14;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(n.nlen=257+(31&m),m>>>=5,_-=5,n.ndist=1+(31&m),m>>>=5,_-=5,n.ncode=4+(15&m),m>>>=4,_-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}n.lens[F[n.have++]]=7&m,m>>>=3,_-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},I=s(0,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,I){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;x=(L=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,v=65535&L,!((T=L>>>24)<=_);){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(v<16)m>>>=T,_-=T,n.lens[n.have++]=v;else{if(16===v){for(N=T+2;_<N;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(m>>>=T,_-=T,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}S=n.lens[n.have-1],A=3+(3&m),m>>>=2,_-=2}else if(17===v){for(N=T+3;_<N;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}_-=T,S=0,A=3+(7&(m>>>=T)),m>>>=3,_-=3}else{for(N=T+7;_<N;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}_-=T,S=0,A=11+(127&(m>>>=T)),m>>>=7,_-=7}if(n.have+A>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;A--;)n.lens[n.have++]=S}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,P={bits:n.lenbits},I=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,I){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},I=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,I){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(p>=6&&h>=258){e.next_out=d,e.avail_out=h,e.next_in=f,e.avail_in=p,n.hold=m,n.bits=_,o(e,b),d=e.next_out,c=e.output,h=e.avail_out,f=e.next_in,l=e.input,p=e.avail_in,m=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;x=(L=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,v=65535&L,!((T=L>>>24)<=_);){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(x&&0==(240&x)){for(R=T,O=x,M=v;x=(L=n.lencode[M+((m&(1<<R+O)-1)>>R)])>>>16&255,v=65535&L,!(R+(T=L>>>24)<=_);){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}m>>>=R,_-=R,n.back+=R}if(m>>>=T,_-=T,n.back+=T,n.length=v,0===x){n.mode=26;break}if(32&x){n.back=-1,n.mode=12;break}if(64&x){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&x,n.mode=22;case 22:if(n.extra){for(N=n.extra;_<N;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;x=(L=n.distcode[m&(1<<n.distbits)-1])>>>16&255,v=65535&L,!((T=L>>>24)<=_);){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(0==(240&x)){for(R=T,O=x,M=v;x=(L=n.distcode[M+((m&(1<<R+O)-1)>>R)])>>>16&255,v=65535&L,!(R+(T=L>>>24)<=_);){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}m>>>=R,_-=R,n.back+=R}if(m>>>=T,_-=T,n.back+=T,64&x){e.msg="invalid distance code",n.mode=30;break}n.offset=v,n.extra=15&x,n.mode=24;case 24:if(n.extra){for(N=n.extra;_<N;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===h)break e;if(A=b-h,n.offset>A){if((A=n.offset-A)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}A>n.wnext?(A-=n.wnext,E=n.wsize-A):E=n.wnext-A,A>n.length&&(A=n.length),w=n.window}else w=c,E=d-n.offset,A=n.length;A>h&&(A=h),h-=A,n.length-=A;do{c[d++]=w[E++]}while(--A);0===n.length&&(n.mode=21);break;case 26:if(0===h)break e;c[d++]=n.length,h--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===p)break e;p--,m|=l[f++]<<_,_+=8}if(b-=h,e.total_out+=b,n.total+=b,b&&(e.adler=n.check=n.flags?a(n.check,c,b,d-b):i(n.check,c,b,d-b)),b=h,(n.flags?m:u(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}m=0,_=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===p)break e;p--,m+=l[f++]<<_,_+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}m=0,_=0}n.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=d,e.avail_out=h,e.next_in=f,e.avail_in=p,n.hold=m,n.bits=_,(n.wsize||b!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&g(e,e.output,e.next_out,b-e.avail_out)?(n.mode=31,-4):(C-=e.avail_in,b-=e.avail_out,e.total_in+=C,e.total_out+=b,n.total+=b,n.wrap&&b&&(e.adler=n.check=n.flags?a(n.check,c,b,e.next_out-b):i(n.check,c,b,e.next_out-b)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===C&&0===b||4===t)&&0===I&&(I=-5),I)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,t,r,0)!==n.check?-3:g(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E,w,T,x,v;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),a=e.next_out,v=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,d=n.window,p=n.hold,h=n.bits,m=n.lencode,_=n.distcode,y=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;e:do{h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),C=m[p&y];t:for(;;){if(p>>>=b=C>>>24,h-=b,0===(b=C>>>16&255))v[a++]=65535&C;else{if(!(16&b)){if(0==(64&b)){C=m[(65535&C)+(p&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}A=65535&C,(b&=15)&&(h<b&&(p+=x[r++]<<h,h+=8),A+=p&(1<<b)-1,p>>>=b,h-=b),h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),C=_[p&g];n:for(;;){if(p>>>=b=C>>>24,h-=b,!(16&(b=C>>>16&255))){if(0==(64&b)){C=_[(65535&C)+(p&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&C,h<(b&=15)&&(p+=x[r++]<<h,(h+=8)<b&&(p+=x[r++]<<h,h+=8)),(E+=p&(1<<b)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=b,h-=b,E>(b=a-o)){if((b=E-b)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(w=0,T=d,0===f){if(w+=l-b,b<A){A-=b;do{v[a++]=d[w++]}while(--b);w=a-E,T=v}}else if(f<b){if(w+=l+f-b,(b-=f)<A){A-=b;do{v[a++]=d[w++]}while(--b);if(w=0,f<A){A-=b=f;do{v[a++]=d[w++]}while(--b);w=a-E,T=v}}}else if(w+=f-b,b<A){A-=b;do{v[a++]=d[w++]}while(--b);w=a-E,T=v}for(;A>2;)v[a++]=T[w++],v[a++]=T[w++],v[a++]=T[w++],A-=3;A&&(v[a++]=T[w++],A>1&&(v[a++]=T[w++]))}else{w=a-E;do{v[a++]=v[w++],v[a++]=v[w++],v[a++]=v[w++],A-=3}while(A>2);A&&(v[a++]=v[w++],A>1&&(v[a++]=v[w++]))}break}}break}}while(r<i&&a<s);r-=A=h>>3,p&=(1<<(h-=A<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=h}},function(e,t,n){"use strict";var r=n(45),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,l,c,f,d){var p,h,m,_,y,g,C,b,A,E=d.bits,w=0,T=0,x=0,v=0,R=0,O=0,M=0,S=0,I=0,P=0,N=null,L=0,D=new r.Buf16(16),F=new r.Buf16(16),G=null,B=0;for(w=0;w<=15;w++)D[w]=0;for(T=0;T<u;T++)D[t[n+T]]++;for(R=E,v=15;v>=1&&0===D[v];v--);if(R>v&&(R=v),0===v)return l[c++]=20971520,l[c++]=20971520,d.bits=1,0;for(x=1;x<v&&0===D[x];x++);for(R<x&&(R=x),S=1,w=1;w<=15;w++)if(S<<=1,(S-=D[w])<0)return-1;if(S>0&&(0===e||1!==v))return-1;for(F[1]=0,w=1;w<15;w++)F[w+1]=F[w]+D[w];for(T=0;T<u;T++)0!==t[n+T]&&(f[F[t[n+T]]++]=T);if(0===e?(N=G=f,g=19):1===e?(N=i,L-=257,G=a,B-=257,g=256):(N=o,G=s,g=-1),P=0,T=0,w=x,y=c,O=R,M=0,m=-1,_=(I=1<<R)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){C=w-M,f[T]<g?(b=0,A=f[T]):f[T]>g?(b=G[B+f[T]],A=N[L+f[T]]):(b=96,A=0),p=1<<w-M,x=h=1<<O;do{l[y+(P>>M)+(h-=p)]=C<<24|b<<16|A|0}while(0!==h);for(p=1<<w-1;P&p;)p>>=1;if(0!==p?(P&=p-1,P+=p):P=0,T++,0==--D[w]){if(w===v)break;w=t[n+f[T]]}if(w>R&&(P&_)!==m){for(0===M&&(M=R),y+=x,S=1<<(O=w-M);O+M<v&&!((S-=D[O+M])<=0);)O++,S<<=1;if(I+=1<<O,1===e&&I>852||2===e&&I>592)return 1;l[m=P&_]=R<<24|O<<16|y-c|0}}return 0!==P&&(l[y+P]=w-M<<24|64<<16|0),d.bits=R,0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){var r={"./IAU2006_XYS_0.json":150,"./IAU2006_XYS_1.json":151,"./IAU2006_XYS_10.json":152,"./IAU2006_XYS_11.json":153,"./IAU2006_XYS_12.json":154,"./IAU2006_XYS_13.json":155,"./IAU2006_XYS_14.json":156,"./IAU2006_XYS_15.json":157,"./IAU2006_XYS_16.json":158,"./IAU2006_XYS_17.json":159,"./IAU2006_XYS_18.json":160,"./IAU2006_XYS_19.json":161,"./IAU2006_XYS_2.json":162,"./IAU2006_XYS_20.json":163,"./IAU2006_XYS_21.json":164,"./IAU2006_XYS_22.json":165,"./IAU2006_XYS_23.json":166,"./IAU2006_XYS_24.json":167,"./IAU2006_XYS_25.json":168,"./IAU2006_XYS_26.json":169,"./IAU2006_XYS_27.json":170,"./IAU2006_XYS_3.json":171,"./IAU2006_XYS_4.json":172,"./IAU2006_XYS_5.json":173,"./IAU2006_XYS_6.json":174,"./IAU2006_XYS_7.json":175,"./IAU2006_XYS_8.json":176,"./IAU2006_XYS_9.json":177};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=149},function(e,t,n){e.exports=n.p+"5290290257b23def3e8f7f9f6ce8effe.json"},function(e,t,n){e.exports=n.p+"2c8daffb3116bcbcb3bcf22febf5fc84.json"},function(e,t,n){e.exports=n.p+"65b02c3688466e2e6d2fcc39b1b394ff.json"},function(e,t,n){e.exports=n.p+"af0d9933cab2478b86e9c38e81771328.json"},function(e,t,n){e.exports=n.p+"1e255efaa80924a66c2996093db1daaf.json"},function(e,t,n){e.exports=n.p+"facde137ccef1e22b31b75bb0db0c985.json"},function(e,t,n){e.exports=n.p+"f65ca6d17be7dd1611465960983a262b.json"},function(e,t,n){e.exports=n.p+"3b7c8665614ebed01e6b5da5a9b6da9f.json"},function(e,t,n){e.exports=n.p+"1c0aeecebb6e4873b4f40a9cb9a8bdf4.json"},function(e,t,n){e.exports=n.p+"292aed297fbdb5699651d6af528493dd.json"},function(e,t,n){e.exports=n.p+"6e9e60962b63cd9fb90d5a39797c5c9f.json"},function(e,t,n){e.exports=n.p+"681a85e86ea19eb758ebaf7a63d77798.json"},function(e,t,n){e.exports=n.p+"3d5d4004cbb22672b5e4b514a794b0d8.json"},function(e,t,n){e.exports=n.p+"ab5189e0de1f062ecb742d012b0b552d.json"},function(e,t,n){e.exports=n.p+"f0ebd057a276d69935a0dead57663344.json"},function(e,t,n){e.exports=n.p+"c79fd4503c401387debcdd42cea3a2a7.json"},function(e,t,n){e.exports=n.p+"44073be7fa7af32b9d9878a4c695b5c2.json"},function(e,t,n){e.exports=n.p+"2f28d93951b7a9c0da916227c5651259.json"},function(e,t,n){e.exports=n.p+"7084093d43478f38ccf93307409e23c1.json"},function(e,t,n){e.exports=n.p+"13eac02cec8400571f0a91aa4e1a468d.json"},function(e,t,n){e.exports=n.p+"b3e26a85360c4bd11c6b4394ff0e4ac1.json"},function(e,t,n){e.exports=n.p+"951238ec6d7a7b7cf3d7f2a8f59cc6ad.json"},function(e,t,n){e.exports=n.p+"b58967729fb1725b87df3910e7f7b3b1.json"},function(e,t,n){e.exports=n.p+"f2c378ce6038dcd82f89453fc7592442.json"},function(e,t,n){e.exports=n.p+"777dec246e382c0d714bf4db978ea1db.json"},function(e,t,n){e.exports=n.p+"f57d7b2e638327ea0b2c3f1b1cc6e9f4.json"},function(e,t,n){e.exports=n.p+"6d5788e4459fd021ef7174731399c21d.json"},function(e,t,n){e.exports=n.p+"aed06342f316c5c06dce2e46e9288ec4.json"},function(e,t,n){var r,i;r=[n(59),n(20),n(4),n(2),n(1),n(0),n(3),n(5),n(9),n(7),n(6),n(8),n(22),n(15),n(23),n(10),n(13),n(11),n(33)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g){"use strict";return t((function(t,n){const r=e.PrimitivePipeline.unpackCombineGeometryParameters(t),i=e.PrimitivePipeline.combineGeometry(r);return e.PrimitivePipeline.packCombineGeometryResults(i,n)}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(0),n(59),n(20),n(4),n(2),n(1),n(3),n(5),n(9),n(7),n(6),n(8),n(22),n(15),n(23),n(10),n(13),n(11),n(33)],void 0===(i=function(e,t,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C){"use strict";const b={};var A=n(180);function E(t){let n=b[t];return e.defined(n)||(b[n]=n=A("./"+t)),n}return r((function(n,r){const i=n.subTasks,a=i.length,o=new Array(a);for(let t=0;t<a;t++){const n=i[t],r=n.geometry,a=n.moduleName;if(e.defined(a)){const e=E(a);o[t]=e(r,n.offset)}else o[t]=r}return Promise.all(o).then((function(e){return t.PrimitivePipeline.packCreateGeometryResults(e,r)}))}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r={"./createBoxGeometry":62,"./createBoxGeometry.js":62,"./createBoxOutlineGeometry":63,"./createBoxOutlineGeometry.js":63,"./createCircleGeometry":64,"./createCircleGeometry.js":64,"./createCircleOutlineGeometry":65,"./createCircleOutlineGeometry.js":65,"./createCoplanarPolygonGeometry":66,"./createCoplanarPolygonGeometry.js":66,"./createCoplanarPolygonOutlineGeometry":67,"./createCoplanarPolygonOutlineGeometry.js":67,"./createCorridorGeometry":68,"./createCorridorGeometry.js":68,"./createCorridorOutlineGeometry":69,"./createCorridorOutlineGeometry.js":69,"./createCylinderGeometry":70,"./createCylinderGeometry.js":70,"./createCylinderOutlineGeometry":71,"./createCylinderOutlineGeometry.js":71,"./createEllipseGeometry":72,"./createEllipseGeometry.js":72,"./createEllipseOutlineGeometry":73,"./createEllipseOutlineGeometry.js":73,"./createEllipsoidGeometry":74,"./createEllipsoidGeometry.js":74,"./createEllipsoidOutlineGeometry":75,"./createEllipsoidOutlineGeometry.js":75,"./createFrustumGeometry":76,"./createFrustumGeometry.js":76,"./createFrustumOutlineGeometry":77,"./createFrustumOutlineGeometry.js":77,"./createGroundPolylineGeometry":78,"./createGroundPolylineGeometry.js":78,"./createPlaneGeometry":79,"./createPlaneGeometry.js":79,"./createPlaneOutlineGeometry":80,"./createPlaneOutlineGeometry.js":80,"./createPolygonGeometry":81,"./createPolygonGeometry.js":81,"./createPolygonOutlineGeometry":82,"./createPolygonOutlineGeometry.js":82,"./createPolylineGeometry":83,"./createPolylineGeometry.js":83,"./createPolylineVolumeGeometry":84,"./createPolylineVolumeGeometry.js":84,"./createPolylineVolumeOutlineGeometry":85,"./createPolylineVolumeOutlineGeometry.js":85,"./createRectangleGeometry":86,"./createRectangleGeometry.js":86,"./createRectangleOutlineGeometry":87,"./createRectangleOutlineGeometry.js":87,"./createSimplePolylineGeometry":88,"./createSimplePolylineGeometry.js":88,"./createSphereGeometry":89,"./createSphereGeometry.js":89,"./createSphereOutlineGeometry":90,"./createSphereOutlineGeometry.js":90,"./createWallGeometry":91,"./createWallGeometry.js":91,"./createWallOutlineGeometry":92,"./createWallOutlineGeometry.js":92};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=180},function(e,t,n){e.exports=n.p+"5b8c6acc72f6682347985ec28457c0ff.json"},function(e,t,n){var r,i;r=[n(15),n(2),n(7),n(10),n(3),n(20),n(1),n(0),n(5)],void 0===(i=function(e,t,n,r,i,a,o,s,u){"use strict";const l=Math.cos(i.CesiumMath.toRadians(150)),c=new t.Cartographic,f=new t.Cartesian3;const d=new t.Cartographic,p=new t.Cartographic;function h(e){const t=8*e,n=3*t,i=4*t;this.startEllipsoidNormals=new Float32Array(n),this.endEllipsoidNormals=new Float32Array(n),this.startPositionAndHeights=new Float32Array(i),this.startFaceNormalAndVertexCornerIds=new Float32Array(i),this.endPositionAndHeights=new Float32Array(i),this.endFaceNormalAndHalfWidths=new Float32Array(i),this.vertexBatchIds=new Uint16Array(t),this.indices=r.IndexDatatype.createTypedArray(t,36*e),this.vec3Offset=0,this.vec4Offset=0,this.batchIdOffset=0,this.indexOffset=0,this.volumeStartIndex=0}const m=new t.Cartesian3,_=new t.Cartesian3;function y(e,n,r,i,a){const o=t.Cartesian3.subtract(r,n,_);let s=t.Cartesian3.subtract(n,e,m);return t.Cartesian3.normalize(o,o),t.Cartesian3.normalize(s,s),t.Cartesian3.dot(o,s)<l&&(s=t.Cartesian3.multiplyByScalar(s,-1,m)),t.Cartesian3.add(o,s,a),t.Cartesian3.equals(a,t.Cartesian3.ZERO)&&(a=t.Cartesian3.subtract(e,n)),t.Cartesian3.cross(a,i,a),t.Cartesian3.cross(i,a,a),t.Cartesian3.normalize(a,a),a}const g=[0,2,6,0,6,4,0,1,3,0,3,2,0,4,5,0,5,1,5,3,1,5,7,3,7,5,4,7,4,6,7,6,2,7,2,3],C=g.length,b=new t.Cartesian3,A=new t.Cartesian3,E=new t.Cartesian3,w=new t.Cartesian3,T=new t.Cartesian3;h.prototype.addVolume=function(e,n,r,i,a,o,s,u,l,c){let f=t.Cartesian3.add(n,l,b);const d=c.geodeticSurfaceNormal(f,A);f=t.Cartesian3.add(r,l,b);const p=c.geodeticSurfaceNormal(f,w),h=y(e,n,r,d,E),m=y(i,r,n,p,T),_=this.startEllipsoidNormals,x=this.endEllipsoidNormals,v=this.startPositionAndHeights,R=this.startFaceNormalAndVertexCornerIds,O=this.endPositionAndHeights,M=this.endFaceNormalAndHalfWidths,S=this.vertexBatchIds;let I,P=this.batchIdOffset,N=this.vec3Offset,L=this.vec4Offset;for(I=0;I<8;I++)t.Cartesian3.pack(d,_,N),t.Cartesian3.pack(p,x,N),t.Cartesian3.pack(n,v,L),v[L+3]=a,t.Cartesian3.pack(r,O,L),O[L+3]=o,t.Cartesian3.pack(h,R,L),R[L+3]=I,t.Cartesian3.pack(m,M,L),M[L+3]=s,S[P++]=u,N+=3,L+=4;this.batchIdOffset=P,this.vec3Offset=N,this.vec4Offset=L;const D=this.indices,F=this.volumeStartIndex,G=this.indexOffset;for(I=0;I<C;I++)D[G+I]=g[I]+F;this.volumeStartIndex+=8,this.indexOffset+=C};const x=new t.Rectangle,v=new t.Ellipsoid,R=new t.Cartesian3,O=new t.Cartesian3,M=new t.Cartesian3,S=new t.Cartesian3,I=new t.Cartesian3;return a((function(a,o){const s=new Uint16Array(a.positions),u=new Uint16Array(a.widths),l=new Uint32Array(a.counts),m=new Uint16Array(a.batchIds),_=x,y=v,g=R,C=new Float64Array(a.packedBuffer);let b=0;const A=C[b++],E=C[b++];let w;t.Rectangle.unpack(C,b,_),b+=t.Rectangle.packedLength,t.Ellipsoid.unpack(C,b,y),b+=t.Ellipsoid.packedLength,t.Cartesian3.unpack(C,b,g);let T=s.length/3;const P=s.subarray(0,T),N=s.subarray(T,2*T),L=s.subarray(2*T,3*T);e.AttributeCompression.zigZagDeltaDecode(P,N,L),function(e,n,r,i){const a=i.length,o=e.length,s=new Uint8Array(o),u=d,l=p;let c=0;for(let r=0;r<a;r++){const a=i[r];let o=a;for(let r=1;r<a;r++){const i=c+r,a=i-1;l.longitude=e[i],l.latitude=n[i],u.longitude=e[a],u.latitude=n[a],t.Cartographic.equals(l,u)&&(o--,s[a]=1)}i[r]=o,c+=a}let f=0;for(let t=0;t<o;t++)1!==s[t]&&(e[f]=e[t],n[f]=n[t],r[f]=r[t],f++)}(P,N,L,l);const D=l.length;let F=0;for(w=0;w<D;w++){F+=l[w]-1}const G=new h(F),B=function(e,n,r,a,o,s,u){const l=e.length,d=new Float64Array(3*l);for(let p=0;p<l;++p){const l=e[p],h=n[p],m=r[p],_=i.CesiumMath.lerp(a.west,a.east,l/32767),y=i.CesiumMath.lerp(a.south,a.north,h/32767),g=i.CesiumMath.lerp(o,s,m/32767),C=t.Cartographic.fromRadians(_,y,g,c),b=u.cartographicToCartesian(C,f);t.Cartesian3.pack(b,d,3*p)}return d}(P,N,L,_,A,E,y);T=P.length;const U=new Float32Array(3*T);for(w=0;w<T;++w)U[3*w]=B[3*w]-g.x,U[3*w+1]=B[3*w+1]-g.y,U[3*w+2]=B[3*w+2]-g.z;let k=0,V=0;for(w=0;w<D;w++){const e=l[w]-1,n=.5*u[w],r=m[w],a=k;for(let o=0;o<e;o++){const s=t.Cartesian3.unpack(U,k,M),u=t.Cartesian3.unpack(U,k+3,S);let l=L[V],c=L[V+1];l=i.CesiumMath.lerp(A,E,l/32767),c=i.CesiumMath.lerp(A,E,c/32767),V++;let f=O,d=I;if(0===o){const n=a+3*e,r=t.Cartesian3.unpack(U,n,O);if(t.Cartesian3.equals(r,s))t.Cartesian3.unpack(U,n-3,f);else{const e=t.Cartesian3.subtract(s,u,O);f=t.Cartesian3.add(e,s,O)}}else t.Cartesian3.unpack(U,k-3,f);if(o===e-1){const e=t.Cartesian3.unpack(U,a,I);if(t.Cartesian3.equals(e,u))t.Cartesian3.unpack(U,a+3,d);else{const e=t.Cartesian3.subtract(u,s,I);d=t.Cartesian3.add(e,u,I)}}else t.Cartesian3.unpack(U,k+6,d);G.addVolume(f,s,u,d,l,c,n,r,g,y),k+=3}k+=3,V++}const z=G.indices;o.push(G.startEllipsoidNormals.buffer),o.push(G.endEllipsoidNormals.buffer),o.push(G.startPositionAndHeights.buffer),o.push(G.startFaceNormalAndVertexCornerIds.buffer),o.push(G.endPositionAndHeights.buffer),o.push(G.endFaceNormalAndHalfWidths.buffer),o.push(G.vertexBatchIds.buffer),o.push(z.buffer);let j={indexDatatype:2===z.BYTES_PER_ELEMENT?r.IndexDatatype.UNSIGNED_SHORT:r.IndexDatatype.UNSIGNED_INT,startEllipsoidNormals:G.startEllipsoidNormals.buffer,endEllipsoidNormals:G.endEllipsoidNormals.buffer,startPositionAndHeights:G.startPositionAndHeights.buffer,startFaceNormalAndVertexCornerIds:G.startFaceNormalAndVertexCornerIds.buffer,endPositionAndHeights:G.endPositionAndHeights.buffer,endFaceNormalAndHalfWidths:G.endFaceNormalAndHalfWidths.buffer,vertexBatchIds:G.vertexBatchIds.buffer,indices:z.buffer};if(a.keepDecodedPositions){const e=function(e){const t=e.length,n=new Uint32Array(t+1);let r=0;for(let i=0;i<t;++i)n[i]=r,r+=e[i];return n[t]=r,n}(l);o.push(B.buffer,e.buffer),j=n.combine(j,{decodedPositions:B.buffer,decodedPositionOffsets:e.buffer})}return j}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(4),n(51),n(2),n(40),n(54),n(0),n(46),n(10),n(20),n(1),n(3),n(5),n(9),n(7),n(12),n(6),n(8),n(14),n(41)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g){"use strict";function C(e){this.offset=e.offset,this.count=e.count,this.color=e.color,this.batchIds=e.batchIds}const b=new n.Cartesian3,A=n.Matrix4.packedLength+n.Cartesian3.packedLength,E=n.Matrix4.packedLength+2,w=n.Matrix4.packedLength+n.Cartesian3.packedLength,T=n.Cartesian3.packedLength+1,x={modelMatrix:new n.Matrix4,boundingVolume:new e.BoundingSphere};function v(e,t){let r=t*A;const i=n.Cartesian3.unpack(e,r,b);r+=n.Cartesian3.packedLength;const a=n.Matrix4.unpack(e,r,x.modelMatrix);n.Matrix4.multiplyByScale(a,i,a);const o=x.boundingVolume;return n.Cartesian3.clone(n.Cartesian3.ZERO,o.center),o.radius=Math.sqrt(3),x}function R(e,t){let r=t*E;const i=e[r++],a=e[r++],o=n.Cartesian3.fromElements(i,i,a,b),s=n.Matrix4.unpack(e,r,x.modelMatrix);n.Matrix4.multiplyByScale(s,o,s);const u=x.boundingVolume;return n.Cartesian3.clone(n.Cartesian3.ZERO,u.center),u.radius=Math.sqrt(2),x}function O(e,t){let r=t*w;const i=n.Cartesian3.unpack(e,r,b);r+=n.Cartesian3.packedLength;const a=n.Matrix4.unpack(e,r,x.modelMatrix);n.Matrix4.multiplyByScale(a,i,a);const o=x.boundingVolume;return n.Cartesian3.clone(n.Cartesian3.ZERO,o.center),o.radius=1,x}function M(e,t){let r=t*T;const i=e[r++],a=n.Cartesian3.unpack(e,r,b),o=n.Matrix4.fromTranslation(a,x.modelMatrix);n.Matrix4.multiplyByUniformScale(o,i,o);const s=x.boundingVolume;return n.Cartesian3.clone(n.Cartesian3.ZERO,s.center),s.radius=1,x}const S=new n.Cartesian3;function I(t,i,o,s,u){if(!a.defined(i))return;const l=o.length,c=s.attributes.position.values,f=s.indices,d=t.positions,p=t.vertexBatchIds,h=t.indices,m=t.batchIds,_=t.batchTableColors,y=t.batchedIndices,g=t.indexOffsets,b=t.indexCounts,A=t.boundingVolumes,E=t.modelMatrix,w=t.center;let T=t.positionOffset,x=t.batchIdIndex,v=t.indexOffset;const R=t.batchedIndicesOffset;for(let t=0;t<l;++t){const a=u(i,t),s=a.modelMatrix;n.Matrix4.multiply(E,s,s);const l=o[t],O=c.length;for(let e=0;e<O;e+=3){const t=n.Cartesian3.unpack(c,e,S);n.Matrix4.multiplyByPoint(s,t,t),n.Cartesian3.subtract(t,w,t),n.Cartesian3.pack(t,d,3*T+e),p[x++]=l}const M=f.length;for(let e=0;e<M;++e)h[v+e]=f[e]+T;const I=t+R;y[I]=new C({offset:v,count:M,color:r.Color.fromRgba(_[l]),batchIds:[l]}),m[I]=l,g[I]=v,b[I]=M,A[I]=e.BoundingSphere.transform(a.boundingVolume,s),T+=O/3,v+=M}t.positionOffset=T,t.batchIdIndex=x,t.indexOffset=v,t.batchedIndicesOffset+=l}const P=new n.Cartesian3,N=new n.Matrix4;function L(t,n,i){const a=i.length,o=2+a*e.BoundingSphere.packedLength+1+function(e){const t=e.length;let n=0;for(let i=0;i<t;++i)n+=r.Color.packedLength+3+e[i].batchIds.length;return n}(n),s=new Float64Array(o);let u=0;s[u++]=t,s[u++]=a;for(let t=0;t<a;++t)e.BoundingSphere.pack(i[t],s,u),u+=e.BoundingSphere.packedLength;const l=n.length;s[u++]=l;for(let e=0;e<l;++e){const t=n[e];r.Color.pack(t.color,s,u),u+=r.Color.packedLength,s[u++]=t.offset,s[u++]=t.count;const i=t.batchIds,a=i.length;s[u++]=a;for(let e=0;e<a;++e)s[u++]=i[e]}return s}return u((function(e,r){const u=a.defined(e.boxes)?new Float32Array(e.boxes):void 0,l=a.defined(e.boxBatchIds)?new Uint16Array(e.boxBatchIds):void 0,c=a.defined(e.cylinders)?new Float32Array(e.cylinders):void 0,f=a.defined(e.cylinderBatchIds)?new Uint16Array(e.cylinderBatchIds):void 0,d=a.defined(e.ellipsoids)?new Float32Array(e.ellipsoids):void 0,p=a.defined(e.ellipsoidBatchIds)?new Uint16Array(e.ellipsoidBatchIds):void 0,h=a.defined(e.spheres)?new Float32Array(e.spheres):void 0,m=a.defined(e.sphereBatchIds)?new Uint16Array(e.sphereBatchIds):void 0,_=a.defined(u)?l.length:0,y=a.defined(c)?f.length:0,g=a.defined(d)?p.length:0,C=a.defined(h)?m.length:0,b=t.BoxGeometry.getUnitBox(),A=i.CylinderGeometry.getUnitCylinder(),E=o.EllipsoidGeometry.getUnitEllipsoid(),w=b.attributes.position.values,T=A.attributes.position.values,x=E.attributes.position.values;let S=w.length*_;S+=T.length*y,S+=x.length*(g+C);const D=b.indices,F=A.indices,G=E.indices;let B=D.length*_;B+=F.length*y,B+=G.length*(g+C);const U=new Float32Array(S),k=new Uint16Array(S/3),V=s.IndexDatatype.createTypedArray(S/3,B),z=_+y+g+C,j=new Uint16Array(z),H=new Array(z),q=new Uint32Array(z),W=new Uint32Array(z),K=new Array(z);!function(e){const t=new Float64Array(e);let r=0;n.Cartesian3.unpack(t,r,P),r+=n.Cartesian3.packedLength,n.Matrix4.unpack(t,r,N)}(e.packedBuffer);const Y={batchTableColors:new Uint32Array(e.batchTableColors),positions:U,vertexBatchIds:k,indices:V,batchIds:j,batchedIndices:H,indexOffsets:q,indexCounts:W,boundingVolumes:K,positionOffset:0,batchIdIndex:0,indexOffset:0,batchedIndicesOffset:0,modelMatrix:N,center:P};I(Y,u,l,b,v),I(Y,c,f,A,R),I(Y,d,p,E,O),I(Y,h,m,E,M);const X=L(V.BYTES_PER_ELEMENT,H,K);return r.push(U.buffer,k.buffer,V.buffer),r.push(j.buffer,q.buffer,W.buffer),r.push(X.buffer),{positions:U.buffer,vertexBatchIds:k.buffer,indices:V.buffer,indexOffsets:q.buffer,indexCounts:W.buffer,batchIds:j.buffer,packedBuffer:X.buffer}}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(15),n(2),n(3),n(20),n(1),n(0),n(5)],void 0===(i=function(e,t,n,r,i,a,o){"use strict";const s=new t.Cartographic,u=new t.Cartesian3,l=new t.Rectangle,c=new t.Ellipsoid,f={min:void 0,max:void 0};return r((function(r,i){const a=new Uint16Array(r.positions);!function(e){e=new Float64Array(e);let n=0;f.min=e[n++],f.max=e[n++],t.Rectangle.unpack(e,n,l),n+=t.Rectangle.packedLength,t.Ellipsoid.unpack(e,n,c)}(r.packedBuffer);const o=l,d=c,p=f.min,h=f.max,m=a.length/3,_=a.subarray(0,m),y=a.subarray(m,2*m),g=a.subarray(2*m,3*m);e.AttributeCompression.zigZagDeltaDecode(_,y,g);const C=new Float64Array(a.length);for(let e=0;e<m;++e){const r=_[e],i=y[e],a=g[e],l=n.CesiumMath.lerp(o.west,o.east,r/32767),c=n.CesiumMath.lerp(o.south,o.north,i/32767),f=n.CesiumMath.lerp(p,h,a/32767),m=t.Cartographic.fromRadians(l,c,f,s),b=d.cartographicToCartesian(m,u);t.Cartesian3.pack(b,C,3*e)}return i.push(C.buffer),{positions:C.buffer}}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(15),n(2),n(40),n(0),n(10),n(3),n(32),n(20),n(1),n(4),n(9),n(7),n(5),n(18),n(17),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_){"use strict";const y=new t.Cartesian3,g=new t.Ellipsoid,C=new t.Rectangle,b={min:void 0,max:void 0,indexBytesPerElement:void 0};function A(e,t,r){const i=t.length,a=2+i*o.OrientedBoundingBox.packedLength+1+function(e){const t=e.length;let r=0;for(let i=0;i<t;++i)r+=n.Color.packedLength+3+e[i].batchIds.length;return r}(r),s=new Float64Array(a);let u=0;s[u++]=e,s[u++]=i;for(let e=0;e<i;++e)o.OrientedBoundingBox.pack(t[e],s,u),u+=o.OrientedBoundingBox.packedLength;const l=r.length;s[u++]=l;for(let e=0;e<l;++e){const t=r[e];n.Color.pack(t.color,s,u),u+=n.Color.packedLength,s[u++]=t.offset,s[u++]=t.count;const i=t.batchIds,a=i.length;s[u++]=a;for(let e=0;e<a;++e)s[u++]=i[e]}return s}const E=new t.Cartesian3,w=new t.Cartesian3,T=new t.Cartesian3,x=new t.Cartesian3,v=new t.Cartesian3,R=new t.Cartographic,O=new t.Rectangle;return s((function(s,u){let l;!function(e){const n=new Float64Array(e);let r=0;b.indexBytesPerElement=n[r++],b.min=n[r++],b.max=n[r++],t.Cartesian3.unpack(n,r,y),r+=t.Cartesian3.packedLength,t.Ellipsoid.unpack(n,r,g),r+=t.Ellipsoid.packedLength,t.Rectangle.unpack(n,r,C)}(s.packedBuffer),l=2===b.indexBytesPerElement?new Uint16Array(s.indices):new Uint32Array(s.indices);const c=new Uint16Array(s.positions),f=new Uint32Array(s.counts),d=new Uint32Array(s.indexCounts),p=new Uint32Array(s.batchIds),h=new Uint32Array(s.batchTableColors),m=new Array(f.length),_=y,M=g;let S=C;const I=b.min,P=b.max;let N,L,D,F=s.minimumHeights,G=s.maximumHeights;r.defined(F)&&r.defined(G)&&(F=new Float32Array(F),G=new Float32Array(G));const B=c.length/2,U=c.subarray(0,B),k=c.subarray(B,2*B);e.AttributeCompression.zigZagDeltaDecode(U,k);const V=new Float64Array(3*B);for(N=0;N<B;++N){const e=U[N],n=k[N],r=a.CesiumMath.lerp(S.west,S.east,e/32767),i=a.CesiumMath.lerp(S.south,S.north,n/32767),o=t.Cartographic.fromRadians(r,i,0,R),s=M.cartographicToCartesian(o,E);t.Cartesian3.pack(s,V,3*N)}const z=f.length,j=new Array(z),H=new Array(z);let q=0,W=0;for(N=0;N<z;++N)j[N]=q,H[N]=W,q+=f[N],W+=d[N];const K=new Float32Array(3*B*2),Y=new Uint16Array(2*B),X=new Uint32Array(H.length),Z=new Uint32Array(d.length);let Q=[];const $={};for(N=0;N<z;++N)D=h[N],r.defined($[D])?($[D].positionLength+=f[N],$[D].indexLength+=d[N],$[D].batchIds.push(N)):$[D]={positionLength:f[N],indexLength:d[N],offset:0,indexOffset:0,batchIds:[N]};let J,ee=0,te=0;for(D in $)if($.hasOwnProperty(D)){J=$[D],J.offset=ee,J.indexOffset=te;const e=2*J.positionLength,t=2*J.indexLength+6*J.positionLength;ee+=e,te+=t,J.indexLength=t}const ne=[];for(D in $)$.hasOwnProperty(D)&&(J=$[D],ne.push({color:n.Color.fromRgba(parseInt(D)),offset:J.indexOffset,count:J.indexLength,batchIds:J.batchIds}));for(N=0;N<z;++N){D=h[N],J=$[D];const e=J.offset;let n=3*e,i=e;const a=j[N],s=f[N],u=p[N];let c=I,y=P;r.defined(F)&&r.defined(G)&&(c=F[N],y=G[N]);let g=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY,b=Number.POSITIVE_INFINITY,A=Number.NEGATIVE_INFINITY;for(L=0;L<s;++L){const e=t.Cartesian3.unpack(V,3*a+3*L,E);M.scaleToGeodeticSurface(e,e);const r=M.cartesianToCartographic(e,R),o=r.latitude,s=r.longitude;g=Math.min(o,g),C=Math.max(o,C),b=Math.min(s,b),A=Math.max(s,A);const l=M.geodeticSurfaceNormal(e,w);let f=t.Cartesian3.multiplyByScalar(l,c,T);const d=t.Cartesian3.add(e,f,x);f=t.Cartesian3.multiplyByScalar(l,y,f);const p=t.Cartesian3.add(e,f,v);t.Cartesian3.subtract(p,_,p),t.Cartesian3.subtract(d,_,d),t.Cartesian3.pack(p,K,n),t.Cartesian3.pack(d,K,n+3),Y[i]=u,Y[i+1]=u,n+=6,i+=2}S=O,S.west=b,S.east=A,S.south=g,S.north=C,m[N]=o.OrientedBoundingBox.fromRectangle(S,I,P,M);let B=J.indexOffset;const U=H[N],k=d[N];for(X[N]=B,L=0;L<k;L+=3){const t=l[U+L]-a,n=l[U+L+1]-a,r=l[U+L+2]-a;Q[B++]=2*t+e,Q[B++]=2*n+e,Q[B++]=2*r+e,Q[B++]=2*r+1+e,Q[B++]=2*n+1+e,Q[B++]=2*t+1+e}for(L=0;L<s;++L){const t=L,n=(L+1)%s;Q[B++]=2*t+1+e,Q[B++]=2*n+e,Q[B++]=2*t+e,Q[B++]=2*t+1+e,Q[B++]=2*n+1+e,Q[B++]=2*n+e}J.offset+=2*s,J.indexOffset=B,Z[N]=B-X[N]}Q=i.IndexDatatype.createTypedArray(K.length/3,Q);const re=ne.length;for(let e=0;e<re;++e){const t=ne[e].batchIds;let n=0;const r=t.length;for(let e=0;e<r;++e)n+=Z[t[e]];ne[e].count=n}const ie=A(2===Q.BYTES_PER_ELEMENT?i.IndexDatatype.UNSIGNED_SHORT:i.IndexDatatype.UNSIGNED_INT,m,ne);return u.push(K.buffer,Q.buffer,X.buffer,Z.buffer,Y.buffer,ie.buffer),{positions:K.buffer,indices:Q.buffer,indexOffsets:X.buffer,indexCounts:Z.buffer,batchIds:Y.buffer,packedBuffer:ie.buffer}}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(7),n(15),n(3),n(10),n(20),n(1),n(0),n(5)],void 0===(i=function(e,t,n,r,i,a,o,s,u){"use strict";const l=new e.Cartographic,c=new e.Cartesian3;const f=new e.Rectangle,d=new e.Ellipsoid,p=new e.Cartesian3,h={min:void 0,max:void 0};const m=new e.Cartesian3,_=new e.Cartesian3,y=new e.Cartesian3,g=new e.Cartesian3,C=new e.Cartesian3;return a((function(a,o){const s=new Uint16Array(a.positions),u=new Uint16Array(a.widths),b=new Uint32Array(a.counts),A=new Uint16Array(a.batchIds);!function(t){t=new Float64Array(t);let n=0;h.min=t[n++],h.max=t[n++],e.Rectangle.unpack(t,n,f),n+=e.Rectangle.packedLength,e.Ellipsoid.unpack(t,n,d),n+=e.Ellipsoid.packedLength,e.Cartesian3.unpack(t,n,p)}(a.packedBuffer);const E=d,w=p,T=function(t,i,a,o,s){const u=t.length/3,f=t.subarray(0,u),d=t.subarray(u,2*u),p=t.subarray(2*u,3*u);n.AttributeCompression.zigZagDeltaDecode(f,d,p);const h=new Float64Array(t.length);for(let t=0;t<u;++t){const n=f[t],u=d[t],m=p[t],_=r.CesiumMath.lerp(i.west,i.east,n/32767),y=r.CesiumMath.lerp(i.south,i.north,u/32767),g=r.CesiumMath.lerp(a,o,m/32767),C=e.Cartographic.fromRadians(_,y,g,l),b=s.cartographicToCartesian(C,c);e.Cartesian3.pack(b,h,3*t)}return h}(s,f,h.min,h.max,E),x=T.length/3,v=4*x-4,R=new Float32Array(3*v),O=new Float32Array(3*v),M=new Float32Array(3*v),S=new Float32Array(2*v),I=new Uint16Array(v);let P,N=0,L=0,D=0,F=0,G=b.length;for(P=0;P<G;++P){const t=b[P],n=u[P],r=A[P];for(let i=0;i<t;++i){let a;if(0===i){const t=e.Cartesian3.unpack(T,3*F,m),n=e.Cartesian3.unpack(T,3*(F+1),_);a=e.Cartesian3.subtract(t,n,y),e.Cartesian3.add(t,a,a)}else a=e.Cartesian3.unpack(T,3*(F+i-1),y);const o=e.Cartesian3.unpack(T,3*(F+i),g);let s;if(i===t-1){const n=e.Cartesian3.unpack(T,3*(F+t-1),m),r=e.Cartesian3.unpack(T,3*(F+t-2),_);s=e.Cartesian3.subtract(n,r,C),e.Cartesian3.add(n,s,s)}else s=e.Cartesian3.unpack(T,3*(F+i+1),C);e.Cartesian3.subtract(a,w,a),e.Cartesian3.subtract(o,w,o),e.Cartesian3.subtract(s,w,s);const u=i===t-1?2:4;for(let t=0===i?2:0;t<u;++t){e.Cartesian3.pack(o,R,N),e.Cartesian3.pack(a,O,N),e.Cartesian3.pack(s,M,N),N+=3;const i=t-2<0?-1:1;S[L++]=t%2*2-1,S[L++]=i*n,I[D++]=r}}F+=t}const B=i.IndexDatatype.createTypedArray(v,6*x-6);let U=0,k=0;for(G=x-1,P=0;P<G;++P)B[k++]=U,B[k++]=U+2,B[k++]=U+1,B[k++]=U+1,B[k++]=U+2,B[k++]=U+3,U+=4;o.push(R.buffer,O.buffer,M.buffer),o.push(S.buffer,I.buffer,B.buffer);let V={indexDatatype:2===B.BYTES_PER_ELEMENT?i.IndexDatatype.UNSIGNED_SHORT:i.IndexDatatype.UNSIGNED_INT,currentPositions:R.buffer,previousPositions:O.buffer,nextPositions:M.buffer,expandAndWidth:S.buffer,batchIds:I.buffer,indices:B.buffer};if(a.keepDecodedPositions){const e=function(e){const t=e.length,n=new Uint32Array(t+1);let r=0;for(let i=0;i<t;++i)n[i]=r,r+=e[i];return n[t]=r,n}(b);o.push(T.buffer,e.buffer),V=t.combine(V,{decodedPositions:T.buffer,decodedPositionOffsets:e.buffer})}return V}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(4),n(2),n(0),n(43),n(3),n(32),n(1),n(33),n(20),n(9),n(7),n(15),n(5),n(18),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_){"use strict";const y=Uint16Array.BYTES_PER_ELEMENT,g=Int32Array.BYTES_PER_ELEMENT,C=Uint32Array.BYTES_PER_ELEMENT,b=Float32Array.BYTES_PER_ELEMENT,A=Float64Array.BYTES_PER_ELEMENT;function E(e,t,n){n=r.defaultValue(n,a.CesiumMath);const i=e.length;for(let r=0;r<i;++r)if(n.equalsEpsilon(e[r],t,a.CesiumMath.EPSILON12))return r;return-1}const w=new n.Cartographic,T=new n.Cartesian3,x=new n.Cartesian3,v=new n.Cartesian3,R=new n.Matrix4;function O(e,t,i,o,s,u,l,c,f,d,p){const h=c.length;for(let m=0;m<h;++m){const _=c[m],y=_.cartographic,g=_.index,C=e.length,b=y.longitude;let A=y.latitude;A=a.CesiumMath.clamp(A,-a.CesiumMath.PI_OVER_TWO,a.CesiumMath.PI_OVER_TWO);const E=y.height-l.skirtHeight;l.hMin=Math.min(l.hMin,E),n.Cartographic.fromRadians(b,A,E,w),d&&(w.longitude+=f),d?m===h-1?w.latitude+=p:0===m&&(w.latitude-=p):w.latitude+=f;const x=l.ellipsoid.cartographicToCartesian(w);e.push(x),t.push(E),i.push(n.Cartesian2.clone(i[g])),o.length>0&&o.push(o[g]),s.length>0&&s.push(s[g]),n.Matrix4.multiplyByPoint(l.toENU,x,T);const v=l.minimum,R=l.maximum;n.Cartesian3.minimumByComponent(T,v,v),n.Cartesian3.maximumByComponent(T,R,R);const O=l.lastBorderPoint;if(r.defined(O)){const e=O.index;u.push(e,C-1,C,C,g,e)}l.lastBorderPoint=_}}return l((function(l,c){l.ellipsoid=n.Ellipsoid.clone(l.ellipsoid),l.rectangle=n.Rectangle.clone(l.rectangle);const f=function(l,c,f,d,p,h,m,_,M,S,I){let P,N,L,D,F,G;r.defined(d)?(P=d.west,N=d.south,L=d.east,D=d.north,F=d.width,G=d.height):(P=a.CesiumMath.toRadians(p.west),N=a.CesiumMath.toRadians(p.south),L=a.CesiumMath.toRadians(p.east),D=a.CesiumMath.toRadians(p.north),F=a.CesiumMath.toRadians(d.width),G=a.CesiumMath.toRadians(d.height));const B=[N,D],U=[P,L],k=t.Transforms.eastNorthUpToFixedFrame(c,f),V=n.Matrix4.inverseTransformation(k,R);let z,j;M&&(z=u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(N),j=1/(u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(D)-z));const H=1!==h,q=new DataView(l);let W=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY;const Y=x;Y.x=Number.POSITIVE_INFINITY,Y.y=Number.POSITIVE_INFINITY,Y.z=Number.POSITIVE_INFINITY;const X=v;X.x=Number.NEGATIVE_INFINITY,X.y=Number.NEGATIVE_INFINITY,X.z=Number.NEGATIVE_INFINITY;let Z,Q,$=0,J=0,ee=0;for(Q=0;Q<4;++Q){let e=$;Z=q.getUint32(e,!0),e+=C;const t=a.CesiumMath.toRadians(180*q.getFloat64(e,!0));e+=A,-1===E(U,t)&&U.push(t);const n=a.CesiumMath.toRadians(180*q.getFloat64(e,!0));e+=A,-1===E(B,n)&&B.push(n),e+=2*A;let r=q.getInt32(e,!0);e+=g,J+=r,r=q.getInt32(e,!0),ee+=3*r,$+=Z+C}const te=[],ne=[],re=new Array(J),ie=new Array(J),ae=new Array(J),oe=M?new Array(J):[],se=H?new Array(J):[],ue=new Array(ee),le=[],ce=[],fe=[],de=[];let pe=0,he=0;for($=0,Q=0;Q<4;++Q){Z=q.getUint32($,!0),$+=C;const e=$,t=a.CesiumMath.toRadians(180*q.getFloat64($,!0));$+=A;const r=a.CesiumMath.toRadians(180*q.getFloat64($,!0));$+=A;const i=a.CesiumMath.toRadians(180*q.getFloat64($,!0)),o=.5*i;$+=A;const l=a.CesiumMath.toRadians(180*q.getFloat64($,!0)),c=.5*l;$+=A;const d=q.getInt32($,!0);$+=g;const p=q.getInt32($,!0);$+=g,$+=g;const h=new Array(d);for(let e=0;e<d;++e){const s=t+q.getUint8($++)*i;w.longitude=s;const d=r+q.getUint8($++)*l;w.latitude=d;let p=q.getFloat32($,!0);if($+=b,0!==p&&p<I&&(p*=-Math.pow(2,S)),p*=6371010,w.height=p,-1!==E(U,s)||-1!==E(B,d)){const t=E(te,w,n.Cartographic);if(-1!==t){h[e]=ne[t];continue}te.push(n.Cartographic.clone(w)),ne.push(pe)}h[e]=pe,Math.abs(s-P)<o?le.push({index:pe,cartographic:n.Cartographic.clone(w)}):Math.abs(s-L)<o?fe.push({index:pe,cartographic:n.Cartographic.clone(w)}):Math.abs(d-N)<c?ce.push({index:pe,cartographic:n.Cartographic.clone(w)}):Math.abs(d-D)<c&&de.push({index:pe,cartographic:n.Cartographic.clone(w)}),W=Math.min(p,W),K=Math.max(p,K),ae[pe]=p;const m=f.cartographicToCartesian(w);if(re[pe]=m,M&&(oe[pe]=(u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(d)-z)*j),H){const e=f.geodeticSurfaceNormal(m);se[pe]=e}n.Matrix4.multiplyByPoint(V,m,T),n.Cartesian3.minimumByComponent(T,Y,Y),n.Cartesian3.maximumByComponent(T,X,X);let _=(s-P)/(L-P);_=a.CesiumMath.clamp(_,0,1);let y=(d-N)/(D-N);y=a.CesiumMath.clamp(y,0,1),ie[pe]=new n.Cartesian2(_,y),++pe}const m=3*p;for(let e=0;e<m;++e,++he)ue[he]=h[q.getUint16($,!0)],$+=y;if(Z!==$-e)throw new s.RuntimeError("Invalid terrain tile.")}re.length=pe,ie.length=pe,ae.length=pe,M&&(oe.length=pe);H&&(se.length=pe);const me=pe,_e=he,ye={hMin:W,lastBorderPoint:void 0,skirtHeight:_,toENU:V,ellipsoid:f,minimum:Y,maximum:X};le.sort((function(e,t){return t.cartographic.latitude-e.cartographic.latitude})),ce.sort((function(e,t){return e.cartographic.longitude-t.cartographic.longitude})),fe.sort((function(e,t){return e.cartographic.latitude-t.cartographic.latitude})),de.sort((function(e,t){return t.cartographic.longitude-e.cartographic.longitude}));if(O(re,ae,ie,oe,se,ue,ye,le,-1e-5*F,!0,-1e-5*G),O(re,ae,ie,oe,se,ue,ye,ce,-1e-5*G,!1),O(re,ae,ie,oe,se,ue,ye,fe,1e-5*F,!0,1e-5*G),O(re,ae,ie,oe,se,ue,ye,de,1e-5*G,!1),le.length>0&&de.length>0){const e=le[0].index,t=me,n=de[de.length-1].index,r=re.length-1;ue.push(n,r,t,t,e,n)}J=re.length;const ge=t.BoundingSphere.fromPoints(re);let Ce;r.defined(d)&&(Ce=o.OrientedBoundingBox.fromRectangle(d,W,K,f));const be=new i.EllipsoidalOccluder(f).computeHorizonCullingPointPossiblyUnderEllipsoid(c,re,W),Ae=new e.AxisAlignedBoundingBox(Y,X,c),Ee=new i.TerrainEncoding(c,Ae,ye.hMin,K,k,!1,M,H,h,m),we=new Float32Array(J*Ee.stride);let Te=0;for(let e=0;e<J;++e)Te=Ee.encode(we,Te,re[e],ie[e],ae[e],void 0,oe[e],se[e]);const xe=le.map((function(e){return e.index})).reverse(),ve=ce.map((function(e){return e.index})).reverse(),Re=fe.map((function(e){return e.index})).reverse(),Oe=de.map((function(e){return e.index})).reverse();return ve.unshift(Re[Re.length-1]),ve.push(xe[0]),Oe.unshift(xe[xe.length-1]),Oe.push(Re[0]),{vertices:we,indices:new Uint16Array(ue),maximumHeight:K,minimumHeight:W,encoding:Ee,boundingSphere3D:ge,orientedBoundingBox:Ce,occludeePointInScaledSpace:be,vertexCountWithoutSkirts:me,indexCountWithoutSkirts:_e,westIndicesSouthToNorth:xe,southIndicesEastToWest:ve,eastIndicesNorthToSouth:Re,northIndicesWestToEast:Oe}}(l.buffer,l.relativeToCenter,l.ellipsoid,l.rectangle,l.nativeRectangle,l.exaggeration,l.exaggerationRelativeHeight,l.skirtHeight,l.includeWebMercatorT,l.negativeAltitudeExponentBias,l.negativeElevationThreshold),d=f.vertices;c.push(d.buffer);const p=f.indices;return c.push(p.buffer),{vertices:d.buffer,indices:p.buffer,numberOfAttributes:f.encoding.stride,minimumHeight:f.minimumHeight,maximumHeight:f.maximumHeight,boundingSphere3D:f.boundingSphere3D,orientedBoundingBox:f.orientedBoundingBox,occludeePointInScaledSpace:f.occludeePointInScaledSpace,encoding:f.encoding,vertexCountWithoutSkirts:f.vertexCountWithoutSkirts,indexCountWithoutSkirts:f.indexCountWithoutSkirts,westIndicesSouthToNorth:f.westIndicesSouthToNorth,southIndicesEastToWest:f.southIndicesEastToWest,eastIndicesNorthToSouth:f.eastIndicesNorthToSouth,northIndicesWestToEast:f.northIndicesWestToEast}}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(17),n(4),n(0),n(1),n(43),n(3),n(32),n(33),n(9),n(20),n(7),n(15),n(5),n(18),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_){"use strict";var y=Object.freeze({NONE:0,LERC:1});const g={};g.DEFAULT_STRUCTURE=Object.freeze({heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1});const C=new e.Cartesian3,b=new e.Matrix4,A=new e.Cartesian3,E=new e.Cartesian3;g.computeVertices=function(i){const l=Math.cos,c=Math.sin,f=Math.sqrt,d=Math.atan,p=Math.exp,h=o.CesiumMath.PI_OVER_TWO,m=o.CesiumMath.toRadians,_=i.heightmap,y=i.width,w=i.height,T=i.skirtHeight,x=T>0,v=r.defaultValue(i.isGeographic,!0),R=r.defaultValue(i.ellipsoid,e.Ellipsoid.WGS84),O=1/R.maximumRadius,M=e.Rectangle.clone(i.nativeRectangle),S=e.Rectangle.clone(i.rectangle);let I,P,N,L;r.defined(S)?(I=S.west,P=S.south,N=S.east,L=S.north):v?(I=m(M.west),P=m(M.south),N=m(M.east),L=m(M.north)):(I=M.west*O,P=h-2*d(p(-M.south*O)),N=M.east*O,L=h-2*d(p(-M.north*O)));let D=i.relativeToCenter;const F=r.defined(D);D=F?D:e.Cartesian3.ZERO;const G=r.defaultValue(i.includeWebMercatorT,!1),B=r.defaultValue(i.exaggeration,1),U=r.defaultValue(i.exaggerationRelativeHeight,0),k=1!==B,V=r.defaultValue(i.structure,g.DEFAULT_STRUCTURE),z=r.defaultValue(V.heightScale,g.DEFAULT_STRUCTURE.heightScale),j=r.defaultValue(V.heightOffset,g.DEFAULT_STRUCTURE.heightOffset),H=r.defaultValue(V.elementsPerHeight,g.DEFAULT_STRUCTURE.elementsPerHeight),q=r.defaultValue(V.stride,g.DEFAULT_STRUCTURE.stride),W=r.defaultValue(V.elementMultiplier,g.DEFAULT_STRUCTURE.elementMultiplier),K=r.defaultValue(V.isBigEndian,g.DEFAULT_STRUCTURE.isBigEndian);let Y=e.Rectangle.computeWidth(M),X=e.Rectangle.computeHeight(M);const Z=Y/(y-1),Q=X/(w-1);v||(Y*=O,X*=O);const $=R.radiiSquared,J=$.x,ee=$.y,te=$.z;let ne=65536,re=-65536;const ie=n.Transforms.eastNorthUpToFixedFrame(D,R),ae=e.Matrix4.inverseTransformation(ie,b);let oe,se;G&&(oe=u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(P),se=1/(u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(L)-oe));const ue=A;ue.x=Number.POSITIVE_INFINITY,ue.y=Number.POSITIVE_INFINITY,ue.z=Number.POSITIVE_INFINITY;const le=E;le.x=Number.NEGATIVE_INFINITY,le.y=Number.NEGATIVE_INFINITY,le.z=Number.NEGATIVE_INFINITY;let ce=Number.POSITIVE_INFINITY;const fe=y*w,de=fe+(T>0?2*y+2*w:0),pe=new Array(de),he=new Array(de),me=new Array(de),_e=G?new Array(de):[],ye=k?new Array(de):[];let ge=0,Ce=w,be=0,Ae=y;x&&(--ge,++Ce,--be,++Ae);for(let t=ge;t<Ce;++t){let n=t;n<0&&(n=0),n>=w&&(n=w-1);let r=M.north-Q*n;r=v?m(r):h-2*d(p(-r*O));let i=(r-P)/(L-P);i=o.CesiumMath.clamp(i,0,1);const a=t===ge,s=t===Ce-1;T>0&&(a?r+=1e-5*X:s&&(r-=1e-5*X));const g=l(r),b=c(r),A=te*b;let E;G&&(E=(u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(r)-oe)*se);for(let t=be;t<Ae;++t){let r=t;r<0&&(r=0),r>=y&&(r=y-1);const u=n*(y*q)+r*q;let d;if(1===H)d=_[u];else{let e;if(d=0,K)for(e=0;e<H;++e)d=d*W+_[u+e];else for(e=H-1;e>=0;--e)d=d*W+_[u+e]}d=d*z+j,re=Math.max(re,d),ne=Math.min(ne,d);let p=M.west+Z*r;v?p=m(p):p*=O;let h=(p-I)/(N-I);h=o.CesiumMath.clamp(h,0,1);let x=n*y+r;if(T>0){const e=t===be,i=t===Ae-1,o=a||s||e||i;if((a||s)&&(e||i))continue;o&&(d-=T,e?(x=fe+(w-n-1),p-=1e-5*Y):s?x=fe+w+(y-r-1):i?(x=fe+w+y+n,p+=1e-5*Y):a&&(x=fe+w+y+w+r))}const S=g*l(p),P=g*c(p),L=J*S,D=ee*P,F=1/f(L*S+D*P+A*b),B=L*F,U=D*F,V=A*F,X=new e.Cartesian3;X.x=B+S*d,X.y=U+P*d,X.z=V+b*d,e.Matrix4.multiplyByPoint(ae,X,C),e.Cartesian3.minimumByComponent(C,ue,ue),e.Cartesian3.maximumByComponent(C,le,le),ce=Math.min(ce,d),pe[x]=X,me[x]=new e.Cartesian2(h,i),he[x]=d,G&&(_e[x]=E),k&&(ye[x]=R.geodeticSurfaceNormal(X))}}const Ee=n.BoundingSphere.fromPoints(pe);let we,Te;if(r.defined(S)&&(we=s.OrientedBoundingBox.fromRectangle(S,ne,re,R)),F){Te=new a.EllipsoidalOccluder(R).computeHorizonCullingPointPossiblyUnderEllipsoid(D,pe,ne)}const xe=new t.AxisAlignedBoundingBox(ue,le,D),ve=new a.TerrainEncoding(D,xe,ce,re,ie,!1,G,k,B,U),Re=new Float32Array(de*ve.stride);let Oe=0;for(let e=0;e<de;++e)Oe=ve.encode(Re,Oe,pe[e],me[e],he[e],void 0,_e[e],ye[e]);return{vertices:Re,maximumHeight:re,minimumHeight:ne,encoding:ve,boundingSphere3D:Ee,orientedBoundingBox:we,occludeePointInScaledSpace:Te}};var w=l.createCommonjsModule((function(e){
/* Copyright 2015-2018 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */
!function(){var t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y=(t={defaultNoDataValue:-34027999387901484e22,decode:function(e,o){var s=(o=o||{}).encodedMaskData||null===o.encodedMaskData,u=a(e,o.inputOffset||0,s),l=null!==o.noDataValue?o.noDataValue:t.defaultNoDataValue,c=n(u,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),f={width:u.width,height:u.height,pixelData:c.resultPixels,minValue:c.minValue,maxValue:u.pixels.maxValue,noDataValue:l};return c.resultMask&&(f.maskData=c.resultMask),o.returnEncodedMask&&u.mask&&(f.encodedMaskData=u.mask.bitset?u.mask.bitset:null),o.returnFileInfo&&(f.fileInfo=r(u),o.computeUsedBitDepths&&(f.fileInfo.bitDepths=i(u))),f}},n=function(e,t,n,r,i){var a,s,u,l=0,c=e.pixels.numBlocksX,f=e.pixels.numBlocksY,d=Math.floor(e.width/c),p=Math.floor(e.height/f),h=2*e.maxZError,m=Number.MAX_VALUE;n=n||(e.mask?e.mask.bitset:null),s=new t(e.width*e.height),i&&n&&(u=new Uint8Array(e.width*e.height));for(var _,y,g=new Float32Array(d*p),C=0;C<=f;C++){var b=C!==f?p:e.height%f;if(0!==b)for(var A=0;A<=c;A++){var E=A!==c?d:e.width%c;if(0!==E){var w,T,x,v,R=C*e.width*p+A*d,O=e.width-E,M=e.pixels.blocks[l];if(M.encoding<2?(0===M.encoding?w=M.rawData:(o(M.stuffedData,M.bitsPerPixel,M.numValidPixels,M.offset,h,g,e.pixels.maxValue),w=g),T=0):x=2===M.encoding?0:M.offset,n)for(y=0;y<b;y++){for(7&R&&(v=n[R>>3],v<<=7&R),_=0;_<E;_++)7&R||(v=n[R>>3]),128&v?(u&&(u[R]=1),m=m>(a=M.encoding<2?w[T++]:x)?a:m,s[R++]=a):(u&&(u[R]=0),s[R++]=r),v<<=1;R+=O}else if(M.encoding<2)for(y=0;y<b;y++){for(_=0;_<E;_++)m=m>(a=w[T++])?a:m,s[R++]=a;R+=O}else for(m=m>x?x:m,y=0;y<b;y++){for(_=0;_<E;_++)s[R++]=x;R+=O}if(1===M.encoding&&T!==M.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:u,minValue:m}},r=function(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},i=function(e){for(var t=e.pixels.numBlocksX*e.pixels.numBlocksY,n={},r=0;r<t;r++){var i=e.pixels.blocks[r];0===i.encoding?n.float32=!0:1===i.encoding?n[i.bitsPerPixel]=!0:n[0]=!0}return Object.keys(n)},a=function(e,t,n){var r={},i=new Uint8Array(e,t,10);if(r.fileIdentifierString=String.fromCharCode.apply(null,i),"CntZImage"!==r.fileIdentifierString.trim())throw"Unexpected file identifier string: "+r.fileIdentifierString;t+=10;var a=new DataView(e,t,24);if(r.fileVersion=a.getInt32(0,!0),r.imageType=a.getInt32(4,!0),r.height=a.getUint32(8,!0),r.width=a.getUint32(12,!0),r.maxZError=a.getFloat64(16,!0),t+=24,!n)if(a=new DataView(e,t,16),r.mask={},r.mask.numBlocksY=a.getUint32(0,!0),r.mask.numBlocksX=a.getUint32(4,!0),r.mask.numBytes=a.getUint32(8,!0),r.mask.maxValue=a.getFloat32(12,!0),t+=16,r.mask.numBytes>0){var o=new Uint8Array(Math.ceil(r.width*r.height/8)),s=(a=new DataView(e,t,r.mask.numBytes)).getInt16(0,!0),u=2,l=0;do{if(s>0)for(;s--;)o[l++]=a.getUint8(u++);else{var c=a.getUint8(u++);for(s=-s;s--;)o[l++]=c}s=a.getInt16(u,!0),u+=2}while(u<r.mask.numBytes);if(-32768!==s||l<o.length)throw"Unexpected end of mask RLE encoding";r.mask.bitset=o,t+=r.mask.numBytes}else 0==(r.mask.numBytes|r.mask.numBlocksY|r.mask.maxValue)&&(r.mask.bitset=new Uint8Array(Math.ceil(r.width*r.height/8)));a=new DataView(e,t,16),r.pixels={},r.pixels.numBlocksY=a.getUint32(0,!0),r.pixels.numBlocksX=a.getUint32(4,!0),r.pixels.numBytes=a.getUint32(8,!0),r.pixels.maxValue=a.getFloat32(12,!0),t+=16;var f=r.pixels.numBlocksX,d=r.pixels.numBlocksY,p=f+(r.width%f>0?1:0),h=d+(r.height%d>0?1:0);r.pixels.blocks=new Array(p*h);for(var m=0,_=0;_<h;_++)for(var y=0;y<p;y++){var g=0,C=e.byteLength-t;a=new DataView(e,t,Math.min(10,C));var b={};r.pixels.blocks[m++]=b;var A=a.getUint8(0);if(g++,b.encoding=63&A,b.encoding>3)throw"Invalid block encoding ("+b.encoding+")";if(2!==b.encoding){if(0!==A&&2!==A){if(A>>=6,b.offsetType=A,2===A)b.offset=a.getInt8(1),g++;else if(1===A)b.offset=a.getInt16(1,!0),g+=2;else{if(0!==A)throw"Invalid block offset type";b.offset=a.getFloat32(1,!0),g+=4}if(1===b.encoding)if(A=a.getUint8(g),g++,b.bitsPerPixel=63&A,A>>=6,b.numValidPixelsType=A,2===A)b.numValidPixels=a.getUint8(g),g++;else if(1===A)b.numValidPixels=a.getUint16(g,!0),g+=2;else{if(0!==A)throw"Invalid valid pixel count type";b.numValidPixels=a.getUint32(g,!0),g+=4}}var E;if(t+=g,3!==b.encoding)if(0===b.encoding){var w=(r.pixels.numBytes-1)/4;if(w!==Math.floor(w))throw"uncompressed block has invalid length";E=new ArrayBuffer(4*w),new Uint8Array(E).set(new Uint8Array(e,t,4*w));var T=new Float32Array(E);b.rawData=T,t+=4*w}else if(1===b.encoding){var x=Math.ceil(b.numValidPixels*b.bitsPerPixel/8),v=Math.ceil(x/4);E=new ArrayBuffer(4*v),new Uint8Array(E).set(new Uint8Array(e,t,x)),b.stuffedData=new Uint32Array(E),t+=x}}else t++}return r.eofOffset=t,r},o=function(e,t,n,r,i,a,o){var s,u,l,c=(1<<t)-1,f=0,d=0,p=Math.ceil((o-r)/i),h=4*e.length-Math.ceil(t*n/8);for(e[e.length-1]<<=8*h,s=0;s<n;s++){if(0===d&&(l=e[f++],d=32),d>=t)u=l>>>d-t&c,d-=t;else{var m=t-d;u=(l&c)<<m&c,u+=(l=e[f++])>>>(d=32-m)}a[s]=u<p?r+u*i:o}return a},t),g=(s=function(e,t,n,r,i,a,o,s){var u,l,c,f,d,p=(1<<n)-1,h=0,m=0,_=4*e.length-Math.ceil(n*r/8);if(e[e.length-1]<<=8*_,i)for(u=0;u<r;u++)0===m&&(c=e[h++],m=32),m>=n?(l=c>>>m-n&p,m-=n):(l=(c&p)<<(f=n-m)&p,l+=(c=e[h++])>>>(m=32-f)),t[u]=i[l];else for(d=Math.ceil((s-a)/o),u=0;u<r;u++)0===m&&(c=e[h++],m=32),m>=n?(l=c>>>m-n&p,m-=n):(l=(c&p)<<(f=n-m)&p,l+=(c=e[h++])>>>(m=32-f)),t[u]=l<d?a+l*o:s},u=function(e,t,n,r,i,a){var o,s=(1<<t)-1,u=0,l=0,c=0,f=0,d=0,p=[],h=4*e.length-Math.ceil(t*n/8);e[e.length-1]<<=8*h;var m=Math.ceil((a-r)/i);for(l=0;l<n;l++)0===f&&(o=e[u++],f=32),f>=t?(d=o>>>f-t&s,f-=t):(d=(o&s)<<(c=t-f)&s,d+=(o=e[u++])>>>(f=32-c)),p[l]=d<m?r+d*i:a;return p.unshift(r),p},l=function(e,t,n,r,i,a,o,s){var u,l,c,f,d=(1<<n)-1,p=0,h=0,m=0;if(i)for(u=0;u<r;u++)0===h&&(c=e[p++],h=32,m=0),h>=n?(l=c>>>m&d,h-=n,m+=n):(l=c>>>m&d,h=32-(f=n-h),l|=((c=e[p++])&(1<<f)-1)<<n-f,m=f),t[u]=i[l];else{var _=Math.ceil((s-a)/o);for(u=0;u<r;u++)0===h&&(c=e[p++],h=32,m=0),h>=n?(l=c>>>m&d,h-=n,m+=n):(l=c>>>m&d,h=32-(f=n-h),l|=((c=e[p++])&(1<<f)-1)<<n-f,m=f),t[u]=l<_?a+l*o:s}return t},c=function(e,t,n,r,i,a){var o,s=(1<<t)-1,u=0,l=0,c=0,f=0,d=0,p=0,h=[],m=Math.ceil((a-r)/i);for(l=0;l<n;l++)0===f&&(o=e[u++],f=32,p=0),f>=t?(d=o>>>p&s,f-=t,p+=t):(d=o>>>p&s,f=32-(c=t-f),d|=((o=e[u++])&(1<<c)-1)<<t-c,p=c),h[l]=d<m?r+d*i:a;return h.unshift(r),h},f=function(e,t,n,r){var i,a,o,s,u=(1<<n)-1,l=0,c=0,f=4*e.length-Math.ceil(n*r/8);for(e[e.length-1]<<=8*f,i=0;i<r;i++)0===c&&(o=e[l++],c=32),c>=n?(a=o>>>c-n&u,c-=n):(a=(o&u)<<(s=n-c)&u,a+=(o=e[l++])>>>(c=32-s)),t[i]=a;return t},d=function(e,t,n,r){var i,a,o,s,u=(1<<n)-1,l=0,c=0,f=0;for(i=0;i<r;i++)0===c&&(o=e[l++],c=32,f=0),c>=n?(a=o>>>f&u,c-=n,f+=n):(a=o>>>f&u,c=32-(s=n-c),a|=((o=e[l++])&(1<<s)-1)<<n-s,f=s),t[i]=a;return t},p={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t=65535,n=65535,r=e.length,i=Math.floor(r/2),a=0;i;){var o=i>=359?359:i;i-=o;do{t+=e[a++]<<8,n+=t+=e[a++]}while(--o);t=(65535&t)+(t>>>16),n=(65535&n)+(n>>>16)}return 1&r&&(n+=t+=e[a]<<8),((n=(65535&n)+(n>>>16))<<16|(t=(65535&t)+(t>>>16)))>>>0},readHeaderInfo:function(e,t){var n=t.ptr,r=new Uint8Array(e,n,6),i={};if(i.fileIdentifierString=String.fromCharCode.apply(null,r),0!==i.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;n+=6;var a,o=new DataView(e,n,8),s=o.getInt32(0,!0);if(i.fileVersion=s,n+=4,s>=3&&(i.checksum=o.getUint32(4,!0),n+=4),o=new DataView(e,n,12),i.height=o.getUint32(0,!0),i.width=o.getUint32(4,!0),n+=8,s>=4?(i.numDims=o.getUint32(8,!0),n+=4):i.numDims=1,o=new DataView(e,n,40),i.numValidPixel=o.getUint32(0,!0),i.microBlockSize=o.getInt32(4,!0),i.blobSize=o.getInt32(8,!0),i.imageType=o.getInt32(12,!0),i.maxZError=o.getFloat64(16,!0),i.zMin=o.getFloat64(24,!0),i.zMax=o.getFloat64(32,!0),n+=40,t.headerInfo=i,t.ptr=n,s>=3&&(a=s>=4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,n-a,i.blobSize-14))!==i.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var n=t.headerInfo,r=this.getDataTypeArray(n.imageType),i=n.numDims*this.getDataTypeSize(n.imageType),a=this.readSubArray(e,t.ptr,r,i),o=this.readSubArray(e,t.ptr+i,r,i);t.ptr+=2*i;var s,u=!0;for(s=0;s<n.numDims;s++)if(a[s]!==o[s]){u=!1;break}return n.minValues=a,n.maxValues=o,u},readSubArray:function(e,t,n,r){var i;if(n===Uint8Array)i=new Uint8Array(e,t,r);else{var a=new ArrayBuffer(r);new Uint8Array(a).set(new Uint8Array(e,t,r)),i=new n(a)}return i},readMask:function(e,t){var n,r,i=t.ptr,a=t.headerInfo,o=a.width*a.height,s=a.numValidPixel,u=new DataView(e,i,4),l={};if(l.numBytes=u.getUint32(0,!0),i+=4,(0===s||o===s)&&0!==l.numBytes)throw"invalid mask";if(0===s)n=new Uint8Array(Math.ceil(o/8)),l.bitset=n,r=new Uint8Array(o),t.pixels.resultMask=r,i+=l.numBytes;else if(l.numBytes>0){n=new Uint8Array(Math.ceil(o/8));var c=(u=new DataView(e,i,l.numBytes)).getInt16(0,!0),f=2,d=0,p=0;do{if(c>0)for(;c--;)n[d++]=u.getUint8(f++);else for(p=u.getUint8(f++),c=-c;c--;)n[d++]=p;c=u.getInt16(f,!0),f+=2}while(f<l.numBytes);if(-32768!==c||d<n.length)throw"Unexpected end of mask RLE encoding";r=new Uint8Array(o);var h=0,m=0;for(m=0;m<o;m++)7&m?(h=n[m>>3],h<<=7&m):h=n[m>>3],128&h&&(r[m]=1);t.pixels.resultMask=r,l.bitset=n,i+=l.numBytes}return t.ptr=i,t.mask=l,!0},readDataOneSweep:function(e,t,n){var r,i=t.ptr,a=t.headerInfo,o=a.numDims,s=a.width*a.height,u=a.imageType,l=a.numValidPixel*p.getDataTypeSize(u)*o,c=t.pixels.resultMask;if(n===Uint8Array)r=new Uint8Array(e,i,l);else{var f=new ArrayBuffer(l);new Uint8Array(f).set(new Uint8Array(e,i,l)),r=new n(f)}if(r.length===s*o)t.pixels.resultPixels=r;else{t.pixels.resultPixels=new n(s*o);var d=0,h=0,m=0,_=0;if(o>1)for(m=0;m<o;m++)for(_=m*s,h=0;h<s;h++)c[h]&&(t.pixels.resultPixels[_+h]=r[d++]);else for(h=0;h<s;h++)c[h]&&(t.pixels.resultPixels[h]=r[d++])}return i+=l,t.ptr=i,!0},readHuffmanTree:function(e,t){var n=this.HUFFMAN_LUT_BITS_MAX,r=new DataView(e,t.ptr,16);if(t.ptr+=16,r.getInt32(0,!0)<2)throw"unsupported Huffman version";var i=r.getInt32(4,!0),a=r.getInt32(8,!0),o=r.getInt32(12,!0);if(a>=o)return!1;var s=new Uint32Array(o-a);p.decodeBits(e,t,s);var u,l,c,f,d=[];for(u=a;u<o;u++)d[l=u-(u<i?0:i)]={first:s[u-a],second:null};var m=e.byteLength-t.ptr,_=Math.ceil(m/4),y=new ArrayBuffer(4*_);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var g,C=new Uint32Array(y),b=0,A=0;for(g=C[0],u=a;u<o;u++)(f=d[l=u-(u<i?0:i)].first)>0&&(d[l].second=g<<b>>>32-f,32-b>=f?32===(b+=f)&&(b=0,g=C[++A]):(b+=f-32,g=C[++A],d[l].second|=g>>>32-b));var E=0,w=0,T=new h;for(u=0;u<d.length;u++)void 0!==d[u]&&(E=Math.max(E,d[u].first));w=E>=n?n:E,E>=30&&console.log("WARning, large NUM LUT BITS IS "+E);var x,v,R,O,M,S=[];for(u=a;u<o;u++)if((f=d[l=u-(u<i?0:i)].first)>0)if(x=[f,l],f<=w)for(v=d[l].second<<w-f,R=1<<w-f,c=0;c<R;c++)S[v|c]=x;else for(v=d[l].second,M=T,O=f-1;O>=0;O--)v>>>O&1?(M.right||(M.right=new h),M=M.right):(M.left||(M.left=new h),M=M.left),0!==O||M.val||(M.val=x[1]);return{decodeLut:S,numBitsLUTQick:w,numBitsLUT:E,tree:T,stuffedData:C,srcPtr:A,bitPos:b}},readHuffman:function(e,t,n){var r,i,a,o,s,u,l,c,f,d=t.headerInfo,p=d.numDims,h=t.headerInfo.height,m=t.headerInfo.width,_=m*h,y=this.readHuffmanTree(e,t),g=y.decodeLut,C=y.tree,b=y.stuffedData,A=y.srcPtr,E=y.bitPos,w=y.numBitsLUTQick,T=y.numBitsLUT,x=0===t.headerInfo.imageType?128:0,v=t.pixels.resultMask,R=0;E>0&&(A++,E=0);var O,M=b[A],S=1===t.encodeMode,I=new n(_*p),P=I;for(O=0;O<d.numDims;O++){if(p>1&&(P=new n(I.buffer,_*O,_),R=0),t.headerInfo.numValidPixel===m*h)for(c=0,u=0;u<h;u++)for(l=0;l<m;l++,c++){if(i=0,s=o=M<<E>>>32-w,32-E<w&&(s=o|=b[A+1]>>>64-E-w),g[s])i=g[s][1],E+=g[s][0];else for(s=o=M<<E>>>32-T,32-E<T&&(s=o|=b[A+1]>>>64-E-T),r=C,f=0;f<T;f++)if(!(r=o>>>T-f-1&1?r.right:r.left).left&&!r.right){i=r.val,E=E+f+1;break}E>=32&&(E-=32,M=b[++A]),a=i-x,S?(a+=l>0?R:u>0?P[c-m]:R,a&=255,P[c]=a,R=a):P[c]=a}else for(c=0,u=0;u<h;u++)for(l=0;l<m;l++,c++)if(v[c]){if(i=0,s=o=M<<E>>>32-w,32-E<w&&(s=o|=b[A+1]>>>64-E-w),g[s])i=g[s][1],E+=g[s][0];else for(s=o=M<<E>>>32-T,32-E<T&&(s=o|=b[A+1]>>>64-E-T),r=C,f=0;f<T;f++)if(!(r=o>>>T-f-1&1?r.right:r.left).left&&!r.right){i=r.val,E=E+f+1;break}E>=32&&(E-=32,M=b[++A]),a=i-x,S?(l>0&&v[c-1]?a+=R:u>0&&v[c-m]?a+=P[c-m]:a+=R,a&=255,P[c]=a,R=a):P[c]=a}t.ptr=t.ptr+4*(A+1)+(E>0?4:0)}t.pixels.resultPixels=I},decodeBits:function(e,t,n,r,i){var a=t.headerInfo,o=a.fileVersion,p=0,h=new DataView(e,t.ptr,5),m=h.getUint8(0);p++;var _=m>>6,y=0===_?4:3-_,g=(32&m)>0,C=31&m,b=0;if(1===y)b=h.getUint8(p),p++;else if(2===y)b=h.getUint16(p,!0),p+=2;else{if(4!==y)throw"Invalid valid pixel count type";b=h.getUint32(p,!0),p+=4}var A,E,w,T,x,v,R,O,M,S=2*a.maxZError,I=a.numDims>1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,O=h.getUint8(p),p++,T=Math.ceil((O-1)*C/8),x=Math.ceil(T/4),E=new ArrayBuffer(4*x),w=new Uint8Array(E),t.ptr+=p,w.set(new Uint8Array(e,t.ptr,T)),R=new Uint32Array(E),t.ptr+=T,M=0;O-1>>>M;)M++;T=Math.ceil(b*M/8),x=Math.ceil(T/4),E=new ArrayBuffer(4*x),(w=new Uint8Array(E)).set(new Uint8Array(e,t.ptr,T)),A=new Uint32Array(E),t.ptr+=T,v=o>=3?c(R,C,O-1,r,S,I):u(R,C,O-1,r,S,I),o>=3?l(A,n,M,b,v):s(A,n,M,b,v)}else t.counter.bitstuffer++,M=C,t.ptr+=p,M>0&&(T=Math.ceil(b*M/8),x=Math.ceil(T/4),E=new ArrayBuffer(4*x),(w=new Uint8Array(E)).set(new Uint8Array(e,t.ptr,T)),A=new Uint32Array(E),t.ptr+=T,o>=3?null==r?d(A,n,M,b):l(A,n,M,b,!1,r,S,I):null==r?f(A,n,M,b):s(A,n,M,b,!1,r,S,I))},readTiles:function(e,t,n){var r=t.headerInfo,i=r.width,a=r.height,o=r.microBlockSize,s=r.imageType,u=p.getDataTypeSize(s),l=Math.ceil(i/o),c=Math.ceil(a/o);t.pixels.numBlocksY=c,t.pixels.numBlocksX=l,t.pixels.ptr=0;var f,d,h,m,_,y,g,C,b=0,A=0,E=0,w=0,T=0,x=0,v=0,R=0,O=0,M=0,S=0,I=0,P=0,N=0,L=0,D=new n(o*o),F=a%o||o,G=i%o||o,B=r.numDims,U=t.pixels.resultMask,k=t.pixels.resultPixels;for(E=0;E<c;E++)for(T=E!==c-1?o:F,w=0;w<l;w++)for(M=E*i*o+w*o,S=i-(x=w!==l-1?o:G),C=0;C<B;C++){if(B>1&&(k=new n(t.pixels.resultPixels.buffer,i*a*C*u,i*a)),v=e.byteLength-t.ptr,d={},L=0,L++,O=(R=(f=new DataView(e,t.ptr,Math.min(10,v))).getUint8(0))>>6&255,(R>>2&15)!=(w*o>>3&15))throw"integrity issue";if((_=3&R)>3)throw t.ptr+=L,"Invalid block encoding ("+_+")";if(2!==_)if(0===_){if(t.counter.uncompressed++,t.ptr+=L,I=(I=T*x*u)<(P=e.byteLength-t.ptr)?I:P,h=new ArrayBuffer(I%u==0?I:I+u-I%u),new Uint8Array(h).set(new Uint8Array(e,t.ptr,I)),m=new n(h),N=0,U)for(b=0;b<T;b++){for(A=0;A<x;A++)U[M]&&(k[M]=m[N++]),M++;M+=S}else for(b=0;b<T;b++){for(A=0;A<x;A++)k[M++]=m[N++];M+=S}t.ptr+=N*u}else if(y=p.getDataTypeUsed(s,O),g=p.getOnePixel(d,L,y,f),L+=p.getDataTypeSize(y),3===_)if(t.ptr+=L,t.counter.constantoffset++,U)for(b=0;b<T;b++){for(A=0;A<x;A++)U[M]&&(k[M]=g),M++;M+=S}else for(b=0;b<T;b++){for(A=0;A<x;A++)k[M++]=g;M+=S}else if(t.ptr+=L,p.decodeBits(e,t,D,g,C),L=0,U)for(b=0;b<T;b++){for(A=0;A<x;A++)U[M]&&(k[M]=D[L++]),M++;M+=S}else for(b=0;b<T;b++){for(A=0;A<x;A++)k[M++]=D[L++];M+=S}else t.counter.constant++,t.ptr+=L}},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:p.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e){var t=e.headerInfo.zMax,n=e.headerInfo.numDims,r=e.headerInfo.height*e.headerInfo.width,i=r*n,a=0,o=0,s=0,u=e.pixels.resultMask;if(u)if(n>1)for(a=0;a<n;a++)for(s=a*r,o=0;o<r;o++)u[o]&&(e.pixels.resultPixels[s+o]=t);else for(o=0;o<r;o++)u[o]&&(e.pixels.resultPixels[o]=t);else if(e.pixels.resultPixels.fill)e.pixels.resultPixels.fill(t);else for(o=0;o<i;o++)e.pixels.resultPixels[o]=t},getDataTypeArray:function(e){var t;switch(e){case 0:t=Int8Array;break;case 1:t=Uint8Array;break;case 2:t=Int16Array;break;case 3:t=Uint16Array;break;case 4:t=Int32Array;break;case 5:t=Uint32Array;break;case 6:t=Float32Array;break;case 7:t=Float64Array;break;default:t=Float32Array}return t},getPixelType:function(e){var t;switch(e){case 0:t="S8";break;case 1:t="U8";break;case 2:t="S16";break;case 3:t="U16";break;case 4:t="S32";break;case 5:t="U32";break;case 6:t="F32";break;case 7:t="F64";break;default:t="F32"}return t},isValidPixelValue:function(e,t){if(null==t)return!1;var n;switch(e){case 0:n=t>=-128&&t<=127;break;case 1:n=t>=0&&t<=255;break;case 2:n=t>=-32768&&t<=32767;break;case 3:n=t>=0&&t<=65536;break;case 4:n=t>=-2147483648&&t<=2147483647;break;case 5:n=t>=0&&t<=4294967296;break;case 6:n=t>=-34027999387901484e22&&t<=34027999387901484e22;break;case 7:n=t>=5e-324&&t<=17976931348623157e292;break;default:n=!1}return n},getDataTypeSize:function(e){var t=0;switch(e){case 0:case 1:t=1;break;case 2:case 3:t=2;break;case 4:case 5:case 6:t=4;break;case 7:t=8;break;default:t=e}return t},getDataTypeUsed:function(e,t){var n=e;switch(e){case 2:case 4:n=e-t;break;case 3:case 5:n=e-2*t;break;case 6:n=0===t?e:1===t?2:1;break;case 7:n=0===t?e:e-2*t+1;break;default:n=e}return n},getOnePixel:function(e,t,n,r){var i=0;switch(n){case 0:i=r.getInt8(t);break;case 1:i=r.getUint8(t);break;case 2:i=r.getInt16(t,!0);break;case 3:i=r.getUint16(t,!0);break;case 4:i=r.getInt32(t,!0);break;case 5:i=r.getUInt32(t,!0);break;case 6:i=r.getFloat32(t,!0);break;case 7:i=r.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i}},h=function(e,t,n){this.val=e,this.left=t,this.right=n},{decode:function(e,t){var n=(t=t||{}).noDataValue,r=0,i={};i.ptr=t.inputOffset||0,i.pixels={},p.readHeaderInfo(e,i);var a=i.headerInfo,o=a.fileVersion,s=p.getDataTypeArray(a.imageType);p.readMask(e,i),a.numValidPixel===a.width*a.height||i.pixels.resultMask||(i.pixels.resultMask=t.maskData);var u,l=a.width*a.height;if(i.pixels.resultPixels=new s(l*a.numDims),i.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0},0!==a.numValidPixel)if(a.zMax===a.zMin)p.constructConstantSurface(i);else if(o>=4&&p.checkMinMaxRanges(e,i))p.constructConstantSurface(i);else{var c=new DataView(e,i.ptr,2),f=c.getUint8(0);if(i.ptr++,f)p.readDataOneSweep(e,i,s);else if(o>1&&a.imageType<=1&&Math.abs(a.maxZError-.5)<1e-5){var d=c.getUint8(1);if(i.ptr++,i.encodeMode=d,d>2||o<4&&d>1)throw"Invalid Huffman flag "+d;d?p.readHuffman(e,i,s):p.readTiles(e,i,s)}else p.readTiles(e,i,s)}i.eofOffset=i.ptr,t.inputOffset?(u=i.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(u)>=1&&(i.eofOffset=t.inputOffset+i.headerInfo.blobSize)):(u=i.headerInfo.blobSize-i.ptr,Math.abs(u)>=1&&(i.eofOffset=i.headerInfo.blobSize));var h={width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask&&p.isValidPixelValue(a.imageType,n)){var m=i.pixels.resultMask;for(r=0;r<l;r++)m[r]||(h.pixelData[r]=n);h.noDataValue=n}return i.noDataValue=n,t.returnFileInfo&&(h.fileInfo=p.formatFileInfo(i)),h},getBandCount:function(e){for(var t=0,n=0,r={ptr:0,pixels:{}};n<e.byteLength-58;)p.readHeaderInfo(e,r),n+=r.headerInfo.blobSize,t++,r.ptr=n;return t}}),C=(m=new ArrayBuffer(4),_=new Uint8Array(m),new Uint32Array(m)[0]=1,1===_[0]),b={decode:function(e,t){if(!C)throw"Big endian system is not supported.";var n,r,i=(t=t||{}).inputOffset||0,a=new Uint8Array(e,i,10),o=String.fromCharCode.apply(null,a);if("CntZImage"===o.trim())n=y,r=1;else{if("Lerc2"!==o.substring(0,5))throw"Unexpected file identifier string: "+o;n=g,r=2}for(var s,u,l,c,f,d,p=0,h=e.byteLength-10,m=[],_={width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]};i<h;){var b=n.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0===p,returnEncodedMask:0===p,returnFileInfo:!0,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i=b.fileInfo.eofOffset,0===p&&(s=b.encodedMaskData,l=b.maskData,_.width=b.width,_.height=b.height,_.dimCount=b.dimCount||1,_.pixelType=b.pixelType||b.fileInfo.pixelType,_.mask=b.maskData),r>1&&b.fileInfo.mask&&b.fileInfo.mask.numBytes>0&&m.push(b.maskData),p++,_.pixels.push(b.pixelData),_.statistics.push({minValue:b.minValue,maxValue:b.maxValue,noDataValue:b.noDataValue,dimStats:b.dimStats})}if(r>1&&m.length>1){for(d=_.width*_.height,_.bandMasks=m,(l=new Uint8Array(d)).set(m[0]),c=1;c<m.length;c++)for(u=m[c],f=0;f<d;f++)l[f]=l[f]&u[f];_.maskData=l}return _}};e.exports?e.exports=b:this.Lerc=b}()}));return c((function(t,n){if(t.encoding===y.LERC){let e;try{e=w.decode(t.heightmap)}catch(e){throw new i.RuntimeError(e)}if(e.statistics[0].minValue===Number.MAX_VALUE)throw new i.RuntimeError("Invalid tile data");t.heightmap=e.pixels[0],t.width=e.width,t.height=e.height}t.ellipsoid=e.Ellipsoid.clone(t.ellipsoid),t.rectangle=e.Rectangle.clone(t.rectangle);const r=g.computeVertices(t),a=r.vertices;return n.push(a.buffer),{vertices:a.buffer,numberOfAttributes:r.encoding.stride,minimumHeight:r.minimumHeight,maximumHeight:r.maximumHeight,gridWidth:t.width,gridHeight:t.height,boundingSphere3D:r.boundingSphere3D,orientedBoundingBox:r.orientedBoundingBox,occludeePointInScaledSpace:r.occludeePointInScaledSpace,encoding:r.encoding,westIndicesSouthToNorth:r.westIndicesSouthToNorth,southIndicesEastToWest:r.southIndicesEastToWest,eastIndicesNorthToSouth:r.eastIndicesNorthToSouth,northIndicesWestToEast:r.northIndicesWestToEast}}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(17),n(2),n(0),n(43),n(10),n(3),n(1),n(4),n(33),n(20),n(15),n(5),n(9),n(7)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p){"use strict";function h(){o.DeveloperError.throwInstantiationError()}Object.defineProperties(h.prototype,{errorEvent:{get:o.DeveloperError.throwInstantiationError},credit:{get:o.DeveloperError.throwInstantiationError},tilingScheme:{get:o.DeveloperError.throwInstantiationError},ready:{get:o.DeveloperError.throwInstantiationError},readyPromise:{get:o.DeveloperError.throwInstantiationError},hasWaterMask:{get:o.DeveloperError.throwInstantiationError},hasVertexNormals:{get:o.DeveloperError.throwInstantiationError},availability:{get:o.DeveloperError.throwInstantiationError}});const m=[];h.getRegularGridIndices=function(e,t){let r=m[e];n.defined(r)||(m[e]=r=[]);let i=r[t];return n.defined(i)||(i=e*t<a.CesiumMath.SIXTY_FOUR_KILOBYTES?r[t]=new Uint16Array((e-1)*(t-1)*6):r[t]=new Uint32Array((e-1)*(t-1)*6),C(e,t,i,0)),i};const _=[];h.getRegularGridIndicesAndEdgeIndices=function(e,t){let r=_[e];n.defined(r)||(_[e]=r=[]);let i=r[t];if(!n.defined(i)){const n=h.getRegularGridIndices(e,t),a=g(e,t),o=a.westIndicesSouthToNorth,s=a.southIndicesEastToWest,u=a.eastIndicesNorthToSouth,l=a.northIndicesWestToEast;i=r[t]={indices:n,westIndicesSouthToNorth:o,southIndicesEastToWest:s,eastIndicesNorthToSouth:u,northIndicesWestToEast:l}}return i};const y=[];function g(e,t){const n=new Array(t),r=new Array(e),i=new Array(t),a=new Array(e);let o;for(o=0;o<e;++o)a[o]=o,r[o]=e*t-1-o;for(o=0;o<t;++o)i[o]=(o+1)*e-1,n[o]=(t-o-1)*e;return{westIndicesSouthToNorth:n,southIndicesEastToWest:r,eastIndicesNorthToSouth:i,northIndicesWestToEast:a}}function C(e,t,n,r){let i=0;for(let a=0;a<t-1;++a){for(let t=0;t<e-1;++t){const t=i,a=t+e,o=a+1,s=t+1;n[r++]=t,n[r++]=a,n[r++]=s,n[r++]=s,n[r++]=a,n[r++]=o,++i}++i}}function b(e,t,n,r){let i=e[0];const a=e.length;for(let o=1;o<a;++o){const a=e[o];n[r++]=i,n[r++]=a,n[r++]=t,n[r++]=t,n[r++]=a,n[r++]=t+1,i=a,++t}return r}h.getRegularGridAndSkirtIndicesAndEdgeIndices=function(e,t){let r=y[e];n.defined(r)||(y[e]=r=[]);let a=r[t];if(!n.defined(a)){const n=e*t,o=(e-1)*(t-1)*6,s=2*e+2*t,u=n+s,l=o+6*Math.max(0,s-4),c=g(e,t),f=c.westIndicesSouthToNorth,d=c.southIndicesEastToWest,p=c.eastIndicesNorthToSouth,m=c.northIndicesWestToEast,_=i.IndexDatatype.createTypedArray(u,l);C(e,t,_,0),h.addSkirtIndices(f,d,p,m,n,_,o),a=r[t]={indices:_,westIndicesSouthToNorth:f,southIndicesEastToWest:d,eastIndicesNorthToSouth:p,northIndicesWestToEast:m,indexCountWithoutSkirts:o}}return a},h.addSkirtIndices=function(e,t,n,r,i,a,o){let s=i;o=b(e,s,a,o),s+=e.length,o=b(t,s,a,o),s+=t.length,o=b(n,s,a,o),s+=n.length,b(r,s,a,o)},h.heightmapTerrainQuality=.25,h.getEstimatedLevelZeroGeometricErrorForAHeightmap=function(e,t,n){return 2*e.maximumRadius*Math.PI*h.heightmapTerrainQuality/(t*n)},h.prototype.requestTileGeometry=o.DeveloperError.throwInstantiationError,h.prototype.getLevelMaximumGeometricError=o.DeveloperError.throwInstantiationError,h.prototype.getTileDataAvailable=o.DeveloperError.throwInstantiationError,h.prototype.loadTileDataAvailability=o.DeveloperError.throwInstantiationError;const A=new t.Cartesian3,E=new t.Cartesian3,w=new t.Cartesian3,T=new t.Cartographic,x=new t.Cartesian2;function v(e,n,r,i,o,s,u,l,c){let f=Number.POSITIVE_INFINITY;const d=o.north,p=o.south;let h=o.east;const m=o.west;h<m&&(h+=a.CesiumMath.TWO_PI);const _=e.length;for(let o=0;o<_;++o){const _=e[o],y=r[_],g=i[_];T.longitude=a.CesiumMath.lerp(m,h,g.x),T.latitude=a.CesiumMath.lerp(p,d,g.y),T.height=y-n;const C=s.cartographicToCartesian(T,A);t.Matrix4.multiplyByPoint(u,C,C),t.Cartesian3.minimumByComponent(C,l,l),t.Cartesian3.maximumByComponent(C,c,c),f=Math.min(f,T.height)}return f}function R(e,t,r,i,o,s,l,c,f,d,p,h,m,_){const y=n.defined(l),g=f.north,C=f.south;let b=f.east;const E=f.west;b<E&&(b+=a.CesiumMath.TWO_PI);const w=r.length;for(let n=0;n<w;++n){const f=r[n],w=o[f],v=s[f];T.longitude=a.CesiumMath.lerp(E,b,v.x)+m,T.latitude=a.CesiumMath.lerp(C,g,v.y)+_,T.height=w-d;const R=c.cartographicToCartesian(T,A);if(y){const e=2*f;x.x=l[e],x.y=l[e+1]}let O,M;i.hasWebMercatorT&&(O=(u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(T.latitude)-p)*h),i.hasGeodeticSurfaceNormals&&(M=c.geodeticSurfaceNormal(R)),t=i.encode(e,t,R,v,T.height,x,O,M)}}function O(e,t){let r;return"function"==typeof e.slice&&(r=e.slice(),"function"!=typeof r.sort&&(r=void 0)),n.defined(r)||(r=Array.prototype.slice.call(e)),r.sort(t),r}return l((function(o,l){const c=o.quantizedVertices,f=c.length/3,d=o.octEncodedNormals,p=o.westIndices.length+o.eastIndices.length+o.southIndices.length+o.northIndices.length,m=o.includeWebMercatorT,_=o.exaggeration,y=o.exaggerationRelativeHeight,g=1!==_,C=t.Rectangle.clone(o.rectangle),b=C.west,M=C.south,S=C.east,I=C.north,P=t.Ellipsoid.clone(o.ellipsoid),N=o.minimumHeight,L=o.maximumHeight,D=o.relativeToCenter,F=s.Transforms.eastNorthUpToFixedFrame(D,P),G=t.Matrix4.inverseTransformation(F,new t.Matrix4);let B,U;m&&(B=u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(M),U=1/(u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(I)-B));const k=c.subarray(0,f),V=c.subarray(f,2*f),z=c.subarray(2*f,3*f),j=n.defined(d),H=new Array(f),q=new Array(f),W=new Array(f),K=m?new Array(f):[],Y=g?new Array(f):[],X=E;X.x=Number.POSITIVE_INFINITY,X.y=Number.POSITIVE_INFINITY,X.z=Number.POSITIVE_INFINITY;const Z=w;Z.x=Number.NEGATIVE_INFINITY,Z.y=Number.NEGATIVE_INFINITY,Z.z=Number.NEGATIVE_INFINITY;let Q=Number.POSITIVE_INFINITY,$=Number.NEGATIVE_INFINITY,J=Number.POSITIVE_INFINITY,ee=Number.NEGATIVE_INFINITY;for(let e=0;e<f;++e){const n=k[e]/32767,r=V[e]/32767,i=a.CesiumMath.lerp(N,L,z[e]/32767);T.longitude=a.CesiumMath.lerp(b,S,n),T.latitude=a.CesiumMath.lerp(M,I,r),T.height=i,Q=Math.min(T.longitude,Q),$=Math.max(T.longitude,$),J=Math.min(T.latitude,J),ee=Math.max(T.latitude,ee);const o=P.cartographicToCartesian(T);H[e]=new t.Cartesian2(n,r),q[e]=i,W[e]=o,m&&(K[e]=(u.WebMercatorProjection.geodeticLatitudeToMercatorAngle(T.latitude)-B)*U),g&&(Y[e]=P.geodeticSurfaceNormal(o)),t.Matrix4.multiplyByPoint(G,o,A),t.Cartesian3.minimumByComponent(A,X,X),t.Cartesian3.maximumByComponent(A,Z,Z)}const te=O(o.westIndices,(function(e,t){return H[e].y-H[t].y})),ne=O(o.eastIndices,(function(e,t){return H[t].y-H[e].y})),re=O(o.southIndices,(function(e,t){return H[t].x-H[e].x})),ie=O(o.northIndices,(function(e,t){return H[e].x-H[t].x}));let ae;if(N<0){ae=new r.EllipsoidalOccluder(P).computeHorizonCullingPointPossiblyUnderEllipsoid(D,W,N)}let oe=N;oe=Math.min(oe,v(o.westIndices,o.westSkirtHeight,q,H,C,P,G,X,Z)),oe=Math.min(oe,v(o.southIndices,o.southSkirtHeight,q,H,C,P,G,X,Z)),oe=Math.min(oe,v(o.eastIndices,o.eastSkirtHeight,q,H,C,P,G,X,Z)),oe=Math.min(oe,v(o.northIndices,o.northSkirtHeight,q,H,C,P,G,X,Z));const se=new e.AxisAlignedBoundingBox(X,Z,D),ue=new r.TerrainEncoding(D,se,oe,L,F,j,m,g,_,y),le=ue.stride,ce=new Float32Array(f*le+p*le);let fe=0;for(let e=0;e<f;++e){if(j){const t=2*e;x.x=d[t],x.y=d[t+1]}fe=ue.encode(ce,fe,W[e],H[e],q[e],x,K[e],Y[e])}const de=Math.max(0,2*(p-4)),pe=o.indices.length+3*de,he=i.IndexDatatype.createTypedArray(f+p,pe);he.set(o.indices,0);const me=1e-4*($-Q),_e=1e-4*(ee-J),ye=-me,ge=me,Ce=_e,be=-_e;let Ae=f*le;return R(ce,Ae,te,ue,q,H,d,P,C,o.westSkirtHeight,B,U,ye,0),Ae+=o.westIndices.length*le,R(ce,Ae,re,ue,q,H,d,P,C,o.southSkirtHeight,B,U,0,be),Ae+=o.southIndices.length*le,R(ce,Ae,ne,ue,q,H,d,P,C,o.eastSkirtHeight,B,U,ge,0),Ae+=o.eastIndices.length*le,R(ce,Ae,ie,ue,q,H,d,P,C,o.northSkirtHeight,B,U,0,Ce),h.addSkirtIndices(te,re,ne,ie,f,he,o.indices.length),l.push(ce.buffer,he.buffer),{vertices:ce.buffer,indices:he.buffer,westIndicesSouthToNorth:te,southIndicesEastToWest:re,eastIndicesNorthToSouth:ne,northIndicesWestToEast:ie,vertexStride:le,center:D,minimumHeight:N,maximumHeight:L,occludeePointInScaledSpace:ae,encoding:ue,indexCountWithoutSkirts:o.indices.length}}))}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(3),n(0),n(10),n(1),n(20),n(5)],void 0===(i=function(e,t,r,i,a,o){"use strict";let s;function u(e,t){const n=e.num_points(),i=e.num_faces(),a=new s.DracoInt32Array,o=3*i,u=r.IndexDatatype.createTypedArray(n,o);let l=0;for(let n=0;n<i;++n)t.GetFaceFromMesh(e,n,a),u[l+0]=a.GetValue(0),u[l+1]=a.GetValue(1),u[l+2]=a.GetValue(2),l+=3;return s.destroy(a),{typedArray:u,numberOfIndices:o}}function l(n,r,i){const a=n.num_points(),o=i.num_components();let u,l=new s.AttributeQuantizationTransform;if(l.InitFromAttribute(i)){const e=new Array(o);for(let t=0;t<o;++t)e[t]=l.min_value(t);u={quantizationBits:l.quantization_bits(),minValues:e,range:l.range(),octEncoded:!1}}s.destroy(l),l=new s.AttributeOctahedronTransform,l.InitFromAttribute(i)&&(u={quantizationBits:l.quantization_bits(),octEncoded:!0}),s.destroy(l);const c=a*o;let f;f=t.defined(u)?function(e,t,n,r,i){let a,o;r.quantizationBits<=8?(o=new s.DracoUInt8Array,a=new Uint8Array(i),t.GetAttributeUInt8ForAllPoints(e,n,o)):(o=new s.DracoUInt16Array,a=new Uint16Array(i),t.GetAttributeUInt16ForAllPoints(e,n,o));for(let e=0;e<i;++e)a[e]=o.GetValue(e);return s.destroy(o),a}(n,r,i,u,c):function(e,t,n,r){let i,a;switch(n.data_type()){case 1:case 11:a=new s.DracoInt8Array,i=new Int8Array(r),t.GetAttributeInt8ForAllPoints(e,n,a);break;case 2:a=new s.DracoUInt8Array,i=new Uint8Array(r),t.GetAttributeUInt8ForAllPoints(e,n,a);break;case 3:a=new s.DracoInt16Array,i=new Int16Array(r),t.GetAttributeInt16ForAllPoints(e,n,a);break;case 4:a=new s.DracoUInt16Array,i=new Uint16Array(r),t.GetAttributeUInt16ForAllPoints(e,n,a);break;case 5:case 7:a=new s.DracoInt32Array,i=new Int32Array(r),t.GetAttributeInt32ForAllPoints(e,n,a);break;case 6:case 8:a=new s.DracoUInt32Array,i=new Uint32Array(r),t.GetAttributeUInt32ForAllPoints(e,n,a);break;case 9:case 10:a=new s.DracoFloat32Array,i=new Float32Array(r),t.GetAttributeFloatForAllPoints(e,n,a)}for(let e=0;e<r;++e)i[e]=a.GetValue(e);return s.destroy(a),i}(n,r,i,c);const d=e.ComponentDatatype.fromTypedArray(f);return{array:f,data:{componentsPerAttribute:o,componentDatatype:d,byteOffset:i.byte_offset(),byteStride:e.ComponentDatatype.getSizeInBytes(d)*o,normalized:i.normalized(),quantization:u}}}function c(e){return t.defined(e.bufferView)?function(e){const t=new s.Decoder,n=["POSITION","NORMAL","COLOR","TEX_COORD"];if(e.dequantizeInShader)for(let e=0;e<n.length;++e)t.SkipAttributeTransform(s[n[e]]);const r=e.bufferView,a=new s.DecoderBuffer;if(a.Init(e.array,r.byteLength),t.GetEncodedGeometryType(a)!==s.TRIANGULAR_MESH)throw new i.RuntimeError("Unsupported draco mesh geometry type.");const o=new s.Mesh,c=t.DecodeBufferToMesh(a,o);if(!c.ok()||0===o.ptr)throw new i.RuntimeError("Error decoding draco mesh geometry: "+c.error_msg());s.destroy(a);const f={},d=e.compressedAttributes;for(const e in d)if(d.hasOwnProperty(e)){const n=d[e],r=t.GetAttributeByUniqueId(o,n);f[e]=l(o,t,r)}const p={indexArray:u(o,t),attributeData:f};return s.destroy(o),s.destroy(t),p}(e):function(e){const t=new s.Decoder;e.dequantizeInShader&&(t.SkipAttributeTransform(s.POSITION),t.SkipAttributeTransform(s.NORMAL));const n=new s.DecoderBuffer;if(n.Init(e.buffer,e.buffer.length),t.GetEncodedGeometryType(n)!==s.POINT_CLOUD)throw new i.RuntimeError("Draco geometry type must be POINT_CLOUD.");const r=new s.PointCloud,a=t.DecodeBufferToPointCloud(n,r);if(!a.ok()||0===r.ptr)throw new i.RuntimeError("Error decoding draco point cloud: "+a.error_msg());s.destroy(n);const o={},u=e.properties;for(const e in u)if(u.hasOwnProperty(e)){let n;if("POSITION"===e||"NORMAL"===e){const i=t.GetAttributeId(r,s[e]);n=t.GetAttribute(r,i)}else{const i=u[e];n=t.GetAttributeByUniqueId(r,i)}o[e]=l(r,t,n)}return s.destroy(r),s.destroy(t),o}(e)}function f(e){s=e,self.onmessage=a(c),self.postMessage(!0)}return function(e){const r=e.data.webAssemblyConfig;if(t.defined(r)){const e=n(191);t.defined(r.wasmBinaryFile)?(t.defined(e)||(e=self.DracoDecoderModule),e(r).then((function(e){f(e)}))):f(e())}}}.apply(t,r))||(e.exports=i)},function(e,t,n){(function(t,r,i,a){var o=o||{};o.scope={},o.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.ASSUME_ES5=!1,o.ASSUME_NO_NATIVE_MAP=!1,o.ASSUME_NO_NATIVE_SET=!1,o.SIMPLE_FROUND_POLYFILL=!1,o.ISOLATE_POLYFILLS=!1,o.FORCE_POLYFILL_PROMISE=!1,o.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,o.defineProperty=o.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},o.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},o.global=o.getGlobal(this),o.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),o.TRUST_ES6_POLYFILLS=!o.ISOLATE_POLYFILLS||o.IS_SYMBOL_NATIVE,o.polyfills={},o.propertyToPolyfillSymbol={},o.POLYFILL_PREFIX="$jscp$";o.polyfill=function(e,t,n,r){t&&(o.ISOLATE_POLYFILLS?o.polyfillIsolated(e,t,n,r):o.polyfillUnisolated(e,t,n,r))},o.polyfillUnisolated=function(e,t,n,r){for(n=o.global,e=e.split("."),r=0;r<e.length-1;r++){var i=e[r];if(!(i in n))return;n=n[i]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},o.polyfillIsolated=function(e,t,n,r){var i=e.split(".");e=1===i.length,r=i[0],r=!e&&r in o.polyfills?o.polyfills:o.global;for(var a=0;a<i.length-1;a++){var s=i[a];if(!(s in r))return;r=r[s]}i=i[i.length-1],null!=(t=t(n=o.IS_SYMBOL_NATIVE&&"es6"===n?r[i]:null))&&(e?o.defineProperty(o.polyfills,i,{configurable:!0,writable:!0,value:t}):t!==n&&(void 0===o.propertyToPolyfillSymbol[i]&&(n=1e9*Math.random()>>>0,o.propertyToPolyfillSymbol[i]=o.IS_SYMBOL_NATIVE?o.global.Symbol(i):o.POLYFILL_PREFIX+n+"$"+i),o.defineProperty(r,o.propertyToPolyfillSymbol[i],{configurable:!0,writable:!0,value:t})))},o.assign=o.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)o.owns(r,i)&&(e[i]=r[i])}return e},o.polyfill("Object.assign",(function(e){return e||o.assign}),"es6","es3"),o.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},o.arrayIterator=function(e){return{next:o.arrayIteratorImpl(e)}},o.makeIterator=function(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):o.arrayIterator(e)},o.polyfill("Promise",(function(e){function t(){this.batch_=null}function n(e){return e instanceof i?e:new i((function(t,n){t(e)}))}if(e&&(!(o.FORCE_POLYFILL_PROMISE||o.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&void 0===o.global.PromiseRejectionEvent)||!o.global.Promise||-1===o.global.Promise.toString().indexOf("[native code]")))return e;t.prototype.asyncExecute=function(e){if(null==this.batch_){this.batch_=[];var t=this;this.asyncExecuteFunction((function(){t.executeBatch_()}))}this.batch_.push(e)};var r=o.global.setTimeout;t.prototype.asyncExecuteFunction=function(e){r(e,0)},t.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.asyncThrow_(e)}}}this.batch_=null},t.prototype.asyncThrow_=function(e){this.asyncExecuteFunction((function(){throw e}))};var i=function(e){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var t=this.createResolveAndReject_();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}};i.prototype.createResolveAndReject_=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}},i.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof i)this.settleSameAsPromise_(e);else{e:switch(typeof e){case"object":var t=null!=e;break e;case"function":t=!0;break e;default:t=!1}t?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}},i.prototype.resolveToNonPromiseObj_=function(e){var t=void 0;try{t=e.then}catch(e){return void this.reject_(e)}"function"==typeof t?this.settleSameAsThenable_(t,e):this.fulfill_(e)},i.prototype.reject_=function(e){this.settle_(2,e)},i.prototype.fulfill_=function(e){this.settle_(1,e)},i.prototype.settle_=function(e,t){if(0!=this.state_)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.state_);this.state_=e,this.result_=t,2===this.state_&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},i.prototype.scheduleUnhandledRejectionCheck_=function(){var e=this;r((function(){if(e.notifyUnhandledRejection_()){var t=o.global.console;void 0!==t&&t.error(e.result_)}}),1)},i.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var e=o.global.CustomEvent,t=o.global.Event,n=o.global.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=o.global.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.result_,n(e))},i.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=0;e<this.onSettledCallbacks_.length;++e)a.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var a=new t;return i.prototype.settleSameAsPromise_=function(e){var t=this.createResolveAndReject_();e.callWhenSettled_(t.resolve,t.reject)},i.prototype.settleSameAsThenable_=function(e,t){var n=this.createResolveAndReject_();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},i.prototype.then=function(e,t){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){a(e)}}:t}var r,a,o=new i((function(e,t){r=e,a=t}));return this.callWhenSettled_(n(e,r),n(t,a)),o},i.prototype.catch=function(e){return this.then(void 0,e)},i.prototype.callWhenSettled_=function(e,t){function n(){switch(r.state_){case 1:e(r.result_);break;case 2:t(r.result_);break;default:throw Error("Unexpected state: "+r.state_)}}var r=this;null==this.onSettledCallbacks_?a.asyncExecute(n):this.onSettledCallbacks_.push(n),this.isRejectionHandled_=!0},i.resolve=n,i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,r){for(var i=o.makeIterator(e),a=i.next();!a.done;a=i.next())n(a.value).callWhenSettled_(t,r)}))},i.all=function(e){var t=o.makeIterator(e),r=t.next();return r.done?n([]):new i((function(e,i){function a(t){return function(n){o[t]=n,0==--s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,n(r.value).callWhenSettled_(a(o.length-1),i),r=t.next()}while(!r.done)}))},i}),"es6","es3"),o.checkStringArgs=function(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""},o.polyfill("String.prototype.startsWith",(function(e){return e||function(e,t){var n=o.checkStringArgs(this,e,"startsWith");e+="";var r=n.length,i=e.length;t=Math.max(0,Math.min(0|t,n.length));for(var a=0;a<i&&t<r;)if(n[t++]!=e[a++])return!1;return a>=i}}),"es6","es3"),o.polyfill("Array.prototype.copyWithin",(function(e){function t(e){return 1/0===(e=Number(e))||-1/0===e?e:0|e}return e||function(e,n,r){var i=this.length;if(e=t(e),n=t(n),r=void 0===r?i:t(r),e=0>e?Math.max(i+e,0):Math.min(e,i),n=0>n?Math.max(i+n,0):Math.min(n,i),r=0>r?Math.max(i+r,0):Math.min(r,i),e<n)for(;n<r;)n in this?this[e++]=this[n++]:(delete this[e++],n++);else for(e+=(r=Math.min(r,i+n-e))-n;r>n;)--r in this?this[--e]=this[r]:delete this[--e];return this}}),"es6","es3"),o.typedArrayCopyWithin=function(e){return e||Array.prototype.copyWithin},o.polyfill("Int8Array.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5"),o.polyfill("Uint8Array.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5"),o.polyfill("Uint8ClampedArray.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5"),o.polyfill("Int16Array.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5"),o.polyfill("Uint16Array.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5"),o.polyfill("Int32Array.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5"),o.polyfill("Uint32Array.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5"),o.polyfill("Float32Array.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5"),o.polyfill("Float64Array.prototype.copyWithin",o.typedArrayCopyWithin,"es6","es5");var s,u=(s=(s="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||r,function(e){function t(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&fe)return fe.decode(e.subarray(t,n));for(r="";t<n;){var i=e[t++];if(128&i){var a=63&e[t++];if(192==(224&i))r+=String.fromCharCode((31&i)<<6|a);else{var o=63&e[t++];65536>(i=224==(240&i)?(15&i)<<12|a<<6|o:(7&i)<<18|a<<12|o<<6|63&e[t++])?r+=String.fromCharCode(i):(i-=65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}}else r+=String.fromCharCode(i)}return r}function r(e,n){return e?t(se,e,n):""}function o(e){ae=e,V.HEAP8=oe=new Int8Array(e),V.HEAP16=new Int16Array(e),V.HEAP32=ue=new Int32Array(e),V.HEAPU8=se=new Uint8Array(e),V.HEAPU16=new Uint16Array(e),V.HEAPU32=new Uint32Array(e),V.HEAPF32=new Float32Array(e),V.HEAPF64=new Float64Array(e)}function u(e){throw V.onAbort&&V.onAbort(e),re(e="Aborted("+e+")"),ce=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),k(e),e}function l(e){try{if(e==be&&te)return new Uint8Array(te);if(J)return J(e);throw"both async and sync fetching of the wasm failed"}catch(e){u(e)}}function c(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(V);else{var n=t.func;"number"==typeof n?void 0===t.arg?f(n)():f(n)(t.arg):n(void 0===t.arg?null:t.arg)}}}function f(e){var t=Ae[e];return t||(e>=Ae.length&&(Ae.length=e+1),Ae[e]=t=le.get(e)),t}function d(e){this.excPtr=e,this.ptr=e-16,this.set_type=function(e){ue[this.ptr+4>>2]=e},this.get_type=function(){return ue[this.ptr+4>>2]},this.set_destructor=function(e){ue[this.ptr+8>>2]=e},this.get_destructor=function(){return ue[this.ptr+8>>2]},this.set_refcount=function(e){ue[this.ptr>>2]=e},this.set_caught=function(e){oe[this.ptr+12>>0]=e?1:0},this.get_caught=function(){return 0!=oe[this.ptr+12>>0]},this.set_rethrown=function(e){oe[this.ptr+13>>0]=e?1:0},this.get_rethrown=function(){return 0!=oe[this.ptr+13>>0]},this.init=function(e,t){this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){ue[this.ptr>>2]+=1},this.release_ref=function(){var e=ue[this.ptr>>2];return ue[this.ptr>>2]=e-1,1===e}}function p(e){function t(){if(!Te&&(Te=!0,V.calledRun=!0,!ce)){if(me=!0,c(pe),U(V),V.onRuntimeInitialized&&V.onRuntimeInitialized(),V.postRun)for("function"==typeof V.postRun&&(V.postRun=[V.postRun]);V.postRun.length;)he.unshift(V.postRun.shift());c(he)}}if(!(0<_e)){if(V.preRun)for("function"==typeof V.preRun&&(V.preRun=[V.preRun]);V.preRun.length;)de.unshift(V.preRun.shift());c(de),0<_e||(V.setStatus?(V.setStatus("Running..."),setTimeout((function(){setTimeout((function(){V.setStatus("")}),1),t()}),1)):t())}}function h(){}function m(e){return(e||h).__cache__}function _(e,t){var n=m(t),r=n[e];return r||((r=Object.create((t||h).prototype)).ptr=e,n[e]=r)}function y(e){if("string"==typeof e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}if(n=0,0<(r=(t=Array(t+1)).length)){r=n+r-1;for(var i=0;i<e.length;++i){var a=e.charCodeAt(i);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++i)),127>=a){if(n>=r)break;t[n++]=a}else{if(2047>=a){if(n+1>=r)break;t[n++]=192|a>>6}else{if(65535>=a){if(n+2>=r)break;t[n++]=224|a>>12}else{if(n+3>=r)break;t[n++]=240|a>>18,t[n++]=128|a>>12&63}t[n++]=128|a>>6&63}t[n++]=128|63&a}}t[n]=0}return e=ur.alloc(t,oe),ur.copy(t,oe,e),e}return e}function g(e){if("object"==typeof e){var t=ur.alloc(e,oe);return ur.copy(e,oe,t),t}return e}function C(){throw"cannot construct a VoidPtr, no constructor in IDL"}function b(){this.ptr=ve(),m(b)[this.ptr]=this}function A(){this.ptr=Me(),m(A)[this.ptr]=this}function E(){this.ptr=Pe(),m(E)[this.ptr]=this}function w(){this.ptr=Le(),m(w)[this.ptr]=this}function T(){this.ptr=qe(),m(T)[this.ptr]=this}function x(){this.ptr=Qe(),m(x)[this.ptr]=this}function v(){this.ptr=tt(),m(v)[this.ptr]=this}function R(){this.ptr=at(),m(R)[this.ptr]=this}function O(){this.ptr=ct(),m(O)[this.ptr]=this}function M(){throw"cannot construct a Status, no constructor in IDL"}function S(){this.ptr=_t(),m(S)[this.ptr]=this}function I(){this.ptr=bt(),m(I)[this.ptr]=this}function P(){this.ptr=Tt(),m(P)[this.ptr]=this}function N(){this.ptr=Ot(),m(N)[this.ptr]=this}function L(){this.ptr=Pt(),m(L)[this.ptr]=this}function D(){this.ptr=Ft(),m(D)[this.ptr]=this}function F(){this.ptr=kt(),m(F)[this.ptr]=this}function G(){this.ptr=Ht(),m(G)[this.ptr]=this}function B(){this.ptr=Jt(),m(B)[this.ptr]=this}var U,k,V=void 0!==(e=e||{})?e:{},z=Object.assign;V.ready=new Promise((function(e,t){U=e,k=t}));var j=!1,H=!1;V.onRuntimeInitialized=function(){j=!0,H&&"function"==typeof V.onModuleLoaded&&V.onModuleLoaded(V)},V.onModuleParsed=function(){H=!0,j&&"function"==typeof V.onModuleLoaded&&V.onModuleLoaded(V)},V.isVersionSupported=function(e){return"string"==typeof e&&!(2>(e=e.split(".")).length||3<e.length)&&(1==e[0]&&0<=e[1]&&5>=e[1]||!(0!=e[0]||10<e[1]))};var q,W,K=z({},V),Y="object"==typeof window,X="function"==typeof importScripts,Z="";if("object"==typeof i&&"object"==typeof i.versions&&"string"==typeof i.versions.node){Z=X?n(108).dirname(Z)+"/":a+"/";var Q=function(){W||(q=n(192),W=n(108))},$=function(e,t){return Q(),e=W.normalize(e),q.readFileSync(e,t?null:"utf8")},J=function(e){return(e=$(e,!0)).buffer||(e=new Uint8Array(e)),e},ee=function(e,t,n){Q(),e=W.normalize(e),q.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))};1<i.argv.length&&i.argv[1].replace(/\\/g,"/"),i.argv.slice(2),V.inspect=function(){return"[Emscripten Module object]"}}else(Y||X)&&(X?Z=self.location.href:"undefined"!=typeof document&&document.currentScript&&(Z=document.currentScript.src),s&&(Z=s),Z=0!==Z.indexOf("blob:")?Z.substr(0,Z.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},X&&(J=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ee=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var te,ne=V.print||console.log.bind(console),re=V.printErr||console.warn.bind(console);z(V,K),K=null,V.wasmBinary&&(te=V.wasmBinary),"object"!=typeof WebAssembly&&u("no native wasm support detected");var ie,ae,oe,se,ue,le,ce=!1,fe="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,de=[],pe=[],he=[],me=!1,_e=0,ye=null,ge=null;V.preloadedImages={},V.preloadedAudios={};var Ce,be="draco_decoder.wasm";be.startsWith("data:application/octet-stream;base64,")||(Ce=be,be=V.locateFile?V.locateFile(Ce,Z):Z+Ce);var Ae=[],Ee={mappings:{},buffers:[null,[],[]],printChar:function(e,n){var r=Ee.buffers[e];0===n||10===n?((1===e?ne:re)(t(r,0)),r.length=0):r.push(n)},varargs:void 0,get:function(){return Ee.varargs+=4,ue[Ee.varargs-4>>2]},getStr:function(e){return r(e)},get64:function(e,t){return e}},we={h:function(e){return sr(e+16)+16},g:function(e,t,n){throw new d(e).init(t,n),e},a:function(){u("")},f:function(e,t,n){se.copyWithin(e,t,t+n)},d:function(e){var t=se.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var i=Math,a=i.min;0<(r=Math.max(e,r))%65536&&(r+=65536-r%65536),i=a.call(i,2147483648,r);e:{try{ie.grow(i-ae.byteLength+65535>>>16),o(ie.buffer);var s=1;break e}catch(e){}s=void 0}if(s)return!0}return!1},e:function(e){return 0},c:function(e,t,n,r,i){},b:function(e,t,n,r){for(var i=0,a=0;a<n;a++){var o=ue[t>>2],s=ue[t+4>>2];t+=8;for(var u=0;u<s;u++)Ee.printChar(e,se[o+u]);i+=s}return ue[r>>2]=i,0}};!function(){function e(e,t){V.asm=e.exports,o((ie=V.asm.i).buffer),le=V.asm.k,pe.unshift(V.asm.j),_e--,V.monitorRunDependencies&&V.monitorRunDependencies(_e),0==_e&&(null!==ye&&(clearInterval(ye),ye=null),ge&&(e=ge,ge=null,e()))}function t(t){e(t.instance)}function n(e){return function(){if(!te&&(Y||X)){if("function"==typeof fetch&&!be.startsWith("file://"))return fetch(be,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+be+"'";return e.arrayBuffer()})).catch((function(){return l(be)}));if(ee)return new Promise((function(e,t){ee(be,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return l(be)}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){re("failed to asynchronously prepare wasm: "+e),u(e)}))}var r={a:we};if(_e++,V.monitorRunDependencies&&V.monitorRunDependencies(_e),V.instantiateWasm)try{return V.instantiateWasm(r,e)}catch(e){return re("Module.instantiateWasm callback failed with error: "+e),!1}(te||"function"!=typeof WebAssembly.instantiateStreaming||be.startsWith("data:application/octet-stream;base64,")||be.startsWith("file://")||"function"!=typeof fetch?n(t):fetch(be,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return re("wasm streaming compile failed: "+e),re("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(k)}(),V.___wasm_call_ctors=function(){return(V.___wasm_call_ctors=V.asm.j).apply(null,arguments)};var Te,xe=V._emscripten_bind_VoidPtr___destroy___0=function(){return(xe=V._emscripten_bind_VoidPtr___destroy___0=V.asm.l).apply(null,arguments)},ve=V._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return(ve=V._emscripten_bind_DecoderBuffer_DecoderBuffer_0=V.asm.m).apply(null,arguments)},Re=V._emscripten_bind_DecoderBuffer_Init_2=function(){return(Re=V._emscripten_bind_DecoderBuffer_Init_2=V.asm.n).apply(null,arguments)},Oe=V._emscripten_bind_DecoderBuffer___destroy___0=function(){return(Oe=V._emscripten_bind_DecoderBuffer___destroy___0=V.asm.o).apply(null,arguments)},Me=V._emscripten_bind_AttributeTransformData_AttributeTransformData_0=function(){return(Me=V._emscripten_bind_AttributeTransformData_AttributeTransformData_0=V.asm.p).apply(null,arguments)},Se=V._emscripten_bind_AttributeTransformData_transform_type_0=function(){return(Se=V._emscripten_bind_AttributeTransformData_transform_type_0=V.asm.q).apply(null,arguments)},Ie=V._emscripten_bind_AttributeTransformData___destroy___0=function(){return(Ie=V._emscripten_bind_AttributeTransformData___destroy___0=V.asm.r).apply(null,arguments)},Pe=V._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return(Pe=V._emscripten_bind_GeometryAttribute_GeometryAttribute_0=V.asm.s).apply(null,arguments)},Ne=V._emscripten_bind_GeometryAttribute___destroy___0=function(){return(Ne=V._emscripten_bind_GeometryAttribute___destroy___0=V.asm.t).apply(null,arguments)},Le=V._emscripten_bind_PointAttribute_PointAttribute_0=function(){return(Le=V._emscripten_bind_PointAttribute_PointAttribute_0=V.asm.u).apply(null,arguments)},De=V._emscripten_bind_PointAttribute_size_0=function(){return(De=V._emscripten_bind_PointAttribute_size_0=V.asm.v).apply(null,arguments)},Fe=V._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return(Fe=V._emscripten_bind_PointAttribute_GetAttributeTransformData_0=V.asm.w).apply(null,arguments)},Ge=V._emscripten_bind_PointAttribute_attribute_type_0=function(){return(Ge=V._emscripten_bind_PointAttribute_attribute_type_0=V.asm.x).apply(null,arguments)},Be=V._emscripten_bind_PointAttribute_data_type_0=function(){return(Be=V._emscripten_bind_PointAttribute_data_type_0=V.asm.y).apply(null,arguments)},Ue=V._emscripten_bind_PointAttribute_num_components_0=function(){return(Ue=V._emscripten_bind_PointAttribute_num_components_0=V.asm.z).apply(null,arguments)},ke=V._emscripten_bind_PointAttribute_normalized_0=function(){return(ke=V._emscripten_bind_PointAttribute_normalized_0=V.asm.A).apply(null,arguments)},Ve=V._emscripten_bind_PointAttribute_byte_stride_0=function(){return(Ve=V._emscripten_bind_PointAttribute_byte_stride_0=V.asm.B).apply(null,arguments)},ze=V._emscripten_bind_PointAttribute_byte_offset_0=function(){return(ze=V._emscripten_bind_PointAttribute_byte_offset_0=V.asm.C).apply(null,arguments)},je=V._emscripten_bind_PointAttribute_unique_id_0=function(){return(je=V._emscripten_bind_PointAttribute_unique_id_0=V.asm.D).apply(null,arguments)},He=V._emscripten_bind_PointAttribute___destroy___0=function(){return(He=V._emscripten_bind_PointAttribute___destroy___0=V.asm.E).apply(null,arguments)},qe=V._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return(qe=V._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=V.asm.F).apply(null,arguments)},We=V._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return(We=V._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=V.asm.G).apply(null,arguments)},Ke=V._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return(Ke=V._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=V.asm.H).apply(null,arguments)},Ye=V._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return(Ye=V._emscripten_bind_AttributeQuantizationTransform_min_value_1=V.asm.I).apply(null,arguments)},Xe=V._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return(Xe=V._emscripten_bind_AttributeQuantizationTransform_range_0=V.asm.J).apply(null,arguments)},Ze=V._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return(Ze=V._emscripten_bind_AttributeQuantizationTransform___destroy___0=V.asm.K).apply(null,arguments)},Qe=V._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return(Qe=V._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=V.asm.L).apply(null,arguments)},$e=V._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=function(){return($e=V._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=V.asm.M).apply(null,arguments)},Je=V._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return(Je=V._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=V.asm.N).apply(null,arguments)},et=V._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return(et=V._emscripten_bind_AttributeOctahedronTransform___destroy___0=V.asm.O).apply(null,arguments)},tt=V._emscripten_bind_PointCloud_PointCloud_0=function(){return(tt=V._emscripten_bind_PointCloud_PointCloud_0=V.asm.P).apply(null,arguments)},nt=V._emscripten_bind_PointCloud_num_attributes_0=function(){return(nt=V._emscripten_bind_PointCloud_num_attributes_0=V.asm.Q).apply(null,arguments)},rt=V._emscripten_bind_PointCloud_num_points_0=function(){return(rt=V._emscripten_bind_PointCloud_num_points_0=V.asm.R).apply(null,arguments)},it=V._emscripten_bind_PointCloud___destroy___0=function(){return(it=V._emscripten_bind_PointCloud___destroy___0=V.asm.S).apply(null,arguments)},at=V._emscripten_bind_Mesh_Mesh_0=function(){return(at=V._emscripten_bind_Mesh_Mesh_0=V.asm.T).apply(null,arguments)},ot=V._emscripten_bind_Mesh_num_faces_0=function(){return(ot=V._emscripten_bind_Mesh_num_faces_0=V.asm.U).apply(null,arguments)},st=V._emscripten_bind_Mesh_num_attributes_0=function(){return(st=V._emscripten_bind_Mesh_num_attributes_0=V.asm.V).apply(null,arguments)},ut=V._emscripten_bind_Mesh_num_points_0=function(){return(ut=V._emscripten_bind_Mesh_num_points_0=V.asm.W).apply(null,arguments)},lt=V._emscripten_bind_Mesh___destroy___0=function(){return(lt=V._emscripten_bind_Mesh___destroy___0=V.asm.X).apply(null,arguments)},ct=V._emscripten_bind_Metadata_Metadata_0=function(){return(ct=V._emscripten_bind_Metadata_Metadata_0=V.asm.Y).apply(null,arguments)},ft=V._emscripten_bind_Metadata___destroy___0=function(){return(ft=V._emscripten_bind_Metadata___destroy___0=V.asm.Z).apply(null,arguments)},dt=V._emscripten_bind_Status_code_0=function(){return(dt=V._emscripten_bind_Status_code_0=V.asm._).apply(null,arguments)},pt=V._emscripten_bind_Status_ok_0=function(){return(pt=V._emscripten_bind_Status_ok_0=V.asm.$).apply(null,arguments)},ht=V._emscripten_bind_Status_error_msg_0=function(){return(ht=V._emscripten_bind_Status_error_msg_0=V.asm.aa).apply(null,arguments)},mt=V._emscripten_bind_Status___destroy___0=function(){return(mt=V._emscripten_bind_Status___destroy___0=V.asm.ba).apply(null,arguments)},_t=V._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return(_t=V._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=V.asm.ca).apply(null,arguments)},yt=V._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return(yt=V._emscripten_bind_DracoFloat32Array_GetValue_1=V.asm.da).apply(null,arguments)},gt=V._emscripten_bind_DracoFloat32Array_size_0=function(){return(gt=V._emscripten_bind_DracoFloat32Array_size_0=V.asm.ea).apply(null,arguments)},Ct=V._emscripten_bind_DracoFloat32Array___destroy___0=function(){return(Ct=V._emscripten_bind_DracoFloat32Array___destroy___0=V.asm.fa).apply(null,arguments)},bt=V._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return(bt=V._emscripten_bind_DracoInt8Array_DracoInt8Array_0=V.asm.ga).apply(null,arguments)},At=V._emscripten_bind_DracoInt8Array_GetValue_1=function(){return(At=V._emscripten_bind_DracoInt8Array_GetValue_1=V.asm.ha).apply(null,arguments)},Et=V._emscripten_bind_DracoInt8Array_size_0=function(){return(Et=V._emscripten_bind_DracoInt8Array_size_0=V.asm.ia).apply(null,arguments)},wt=V._emscripten_bind_DracoInt8Array___destroy___0=function(){return(wt=V._emscripten_bind_DracoInt8Array___destroy___0=V.asm.ja).apply(null,arguments)},Tt=V._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return(Tt=V._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=V.asm.ka).apply(null,arguments)},xt=V._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return(xt=V._emscripten_bind_DracoUInt8Array_GetValue_1=V.asm.la).apply(null,arguments)},vt=V._emscripten_bind_DracoUInt8Array_size_0=function(){return(vt=V._emscripten_bind_DracoUInt8Array_size_0=V.asm.ma).apply(null,arguments)},Rt=V._emscripten_bind_DracoUInt8Array___destroy___0=function(){return(Rt=V._emscripten_bind_DracoUInt8Array___destroy___0=V.asm.na).apply(null,arguments)},Ot=V._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return(Ot=V._emscripten_bind_DracoInt16Array_DracoInt16Array_0=V.asm.oa).apply(null,arguments)},Mt=V._emscripten_bind_DracoInt16Array_GetValue_1=function(){return(Mt=V._emscripten_bind_DracoInt16Array_GetValue_1=V.asm.pa).apply(null,arguments)},St=V._emscripten_bind_DracoInt16Array_size_0=function(){return(St=V._emscripten_bind_DracoInt16Array_size_0=V.asm.qa).apply(null,arguments)},It=V._emscripten_bind_DracoInt16Array___destroy___0=function(){return(It=V._emscripten_bind_DracoInt16Array___destroy___0=V.asm.ra).apply(null,arguments)},Pt=V._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return(Pt=V._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=V.asm.sa).apply(null,arguments)},Nt=V._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return(Nt=V._emscripten_bind_DracoUInt16Array_GetValue_1=V.asm.ta).apply(null,arguments)},Lt=V._emscripten_bind_DracoUInt16Array_size_0=function(){return(Lt=V._emscripten_bind_DracoUInt16Array_size_0=V.asm.ua).apply(null,arguments)},Dt=V._emscripten_bind_DracoUInt16Array___destroy___0=function(){return(Dt=V._emscripten_bind_DracoUInt16Array___destroy___0=V.asm.va).apply(null,arguments)},Ft=V._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return(Ft=V._emscripten_bind_DracoInt32Array_DracoInt32Array_0=V.asm.wa).apply(null,arguments)},Gt=V._emscripten_bind_DracoInt32Array_GetValue_1=function(){return(Gt=V._emscripten_bind_DracoInt32Array_GetValue_1=V.asm.xa).apply(null,arguments)},Bt=V._emscripten_bind_DracoInt32Array_size_0=function(){return(Bt=V._emscripten_bind_DracoInt32Array_size_0=V.asm.ya).apply(null,arguments)},Ut=V._emscripten_bind_DracoInt32Array___destroy___0=function(){return(Ut=V._emscripten_bind_DracoInt32Array___destroy___0=V.asm.za).apply(null,arguments)},kt=V._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return(kt=V._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=V.asm.Aa).apply(null,arguments)},Vt=V._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return(Vt=V._emscripten_bind_DracoUInt32Array_GetValue_1=V.asm.Ba).apply(null,arguments)},zt=V._emscripten_bind_DracoUInt32Array_size_0=function(){return(zt=V._emscripten_bind_DracoUInt32Array_size_0=V.asm.Ca).apply(null,arguments)},jt=V._emscripten_bind_DracoUInt32Array___destroy___0=function(){return(jt=V._emscripten_bind_DracoUInt32Array___destroy___0=V.asm.Da).apply(null,arguments)},Ht=V._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return(Ht=V._emscripten_bind_MetadataQuerier_MetadataQuerier_0=V.asm.Ea).apply(null,arguments)},qt=V._emscripten_bind_MetadataQuerier_HasEntry_2=function(){return(qt=V._emscripten_bind_MetadataQuerier_HasEntry_2=V.asm.Fa).apply(null,arguments)},Wt=V._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return(Wt=V._emscripten_bind_MetadataQuerier_GetIntEntry_2=V.asm.Ga).apply(null,arguments)},Kt=V._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=function(){return(Kt=V._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=V.asm.Ha).apply(null,arguments)},Yt=V._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=function(){return(Yt=V._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=V.asm.Ia).apply(null,arguments)},Xt=V._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return(Xt=V._emscripten_bind_MetadataQuerier_GetStringEntry_2=V.asm.Ja).apply(null,arguments)},Zt=V._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return(Zt=V._emscripten_bind_MetadataQuerier_NumEntries_1=V.asm.Ka).apply(null,arguments)},Qt=V._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return(Qt=V._emscripten_bind_MetadataQuerier_GetEntryName_2=V.asm.La).apply(null,arguments)},$t=V._emscripten_bind_MetadataQuerier___destroy___0=function(){return($t=V._emscripten_bind_MetadataQuerier___destroy___0=V.asm.Ma).apply(null,arguments)},Jt=V._emscripten_bind_Decoder_Decoder_0=function(){return(Jt=V._emscripten_bind_Decoder_Decoder_0=V.asm.Na).apply(null,arguments)},en=V._emscripten_bind_Decoder_DecodeArrayToPointCloud_3=function(){return(en=V._emscripten_bind_Decoder_DecodeArrayToPointCloud_3=V.asm.Oa).apply(null,arguments)},tn=V._emscripten_bind_Decoder_DecodeArrayToMesh_3=function(){return(tn=V._emscripten_bind_Decoder_DecodeArrayToMesh_3=V.asm.Pa).apply(null,arguments)},nn=V._emscripten_bind_Decoder_GetAttributeId_2=function(){return(nn=V._emscripten_bind_Decoder_GetAttributeId_2=V.asm.Qa).apply(null,arguments)},rn=V._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return(rn=V._emscripten_bind_Decoder_GetAttributeIdByName_2=V.asm.Ra).apply(null,arguments)},an=V._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return(an=V._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=V.asm.Sa).apply(null,arguments)},on=V._emscripten_bind_Decoder_GetAttribute_2=function(){return(on=V._emscripten_bind_Decoder_GetAttribute_2=V.asm.Ta).apply(null,arguments)},sn=V._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return(sn=V._emscripten_bind_Decoder_GetAttributeByUniqueId_2=V.asm.Ua).apply(null,arguments)},un=V._emscripten_bind_Decoder_GetMetadata_1=function(){return(un=V._emscripten_bind_Decoder_GetMetadata_1=V.asm.Va).apply(null,arguments)},ln=V._emscripten_bind_Decoder_GetAttributeMetadata_2=function(){return(ln=V._emscripten_bind_Decoder_GetAttributeMetadata_2=V.asm.Wa).apply(null,arguments)},cn=V._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return(cn=V._emscripten_bind_Decoder_GetFaceFromMesh_3=V.asm.Xa).apply(null,arguments)},fn=V._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return(fn=V._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=V.asm.Ya).apply(null,arguments)},dn=V._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=function(){return(dn=V._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=V.asm.Za).apply(null,arguments)},pn=V._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=function(){return(pn=V._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=V.asm._a).apply(null,arguments)},hn=V._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return(hn=V._emscripten_bind_Decoder_GetAttributeFloat_3=V.asm.$a).apply(null,arguments)},mn=V._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return(mn=V._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=V.asm.ab).apply(null,arguments)},_n=V._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return(_n=V._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=V.asm.bb).apply(null,arguments)},yn=V._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return(yn=V._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=V.asm.cb).apply(null,arguments)},gn=V._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return(gn=V._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=V.asm.db).apply(null,arguments)},Cn=V._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return(Cn=V._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=V.asm.eb).apply(null,arguments)},bn=V._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=function(){return(bn=V._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=V.asm.fb).apply(null,arguments)},An=V._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return(An=V._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=V.asm.gb).apply(null,arguments)},En=V._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return(En=V._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=V.asm.hb).apply(null,arguments)},wn=V._emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5=function(){return(wn=V._emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5=V.asm.ib).apply(null,arguments)},Tn=V._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return(Tn=V._emscripten_bind_Decoder_SkipAttributeTransform_1=V.asm.jb).apply(null,arguments)},xn=V._emscripten_bind_Decoder_GetEncodedGeometryType_Deprecated_1=function(){return(xn=V._emscripten_bind_Decoder_GetEncodedGeometryType_Deprecated_1=V.asm.kb).apply(null,arguments)},vn=V._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return(vn=V._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=V.asm.lb).apply(null,arguments)},Rn=V._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return(Rn=V._emscripten_bind_Decoder_DecodeBufferToMesh_2=V.asm.mb).apply(null,arguments)},On=V._emscripten_bind_Decoder___destroy___0=function(){return(On=V._emscripten_bind_Decoder___destroy___0=V.asm.nb).apply(null,arguments)},Mn=V._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return(Mn=V._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=V.asm.ob).apply(null,arguments)},Sn=V._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return(Sn=V._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=V.asm.pb).apply(null,arguments)},In=V._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return(In=V._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=V.asm.qb).apply(null,arguments)},Pn=V._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=function(){return(Pn=V._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=V.asm.rb).apply(null,arguments)},Nn=V._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return(Nn=V._emscripten_enum_draco_GeometryAttribute_Type_INVALID=V.asm.sb).apply(null,arguments)},Ln=V._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return(Ln=V._emscripten_enum_draco_GeometryAttribute_Type_POSITION=V.asm.tb).apply(null,arguments)},Dn=V._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return(Dn=V._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=V.asm.ub).apply(null,arguments)},Fn=V._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return(Fn=V._emscripten_enum_draco_GeometryAttribute_Type_COLOR=V.asm.vb).apply(null,arguments)},Gn=V._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return(Gn=V._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=V.asm.wb).apply(null,arguments)},Bn=V._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return(Bn=V._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=V.asm.xb).apply(null,arguments)},Un=V._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return(Un=V._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=V.asm.yb).apply(null,arguments)},kn=V._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return(kn=V._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=V.asm.zb).apply(null,arguments)},Vn=V._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return(Vn=V._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=V.asm.Ab).apply(null,arguments)},zn=V._emscripten_enum_draco_DataType_DT_INVALID=function(){return(zn=V._emscripten_enum_draco_DataType_DT_INVALID=V.asm.Bb).apply(null,arguments)},jn=V._emscripten_enum_draco_DataType_DT_INT8=function(){return(jn=V._emscripten_enum_draco_DataType_DT_INT8=V.asm.Cb).apply(null,arguments)},Hn=V._emscripten_enum_draco_DataType_DT_UINT8=function(){return(Hn=V._emscripten_enum_draco_DataType_DT_UINT8=V.asm.Db).apply(null,arguments)},qn=V._emscripten_enum_draco_DataType_DT_INT16=function(){return(qn=V._emscripten_enum_draco_DataType_DT_INT16=V.asm.Eb).apply(null,arguments)},Wn=V._emscripten_enum_draco_DataType_DT_UINT16=function(){return(Wn=V._emscripten_enum_draco_DataType_DT_UINT16=V.asm.Fb).apply(null,arguments)},Kn=V._emscripten_enum_draco_DataType_DT_INT32=function(){return(Kn=V._emscripten_enum_draco_DataType_DT_INT32=V.asm.Gb).apply(null,arguments)},Yn=V._emscripten_enum_draco_DataType_DT_UINT32=function(){return(Yn=V._emscripten_enum_draco_DataType_DT_UINT32=V.asm.Hb).apply(null,arguments)},Xn=V._emscripten_enum_draco_DataType_DT_INT64=function(){return(Xn=V._emscripten_enum_draco_DataType_DT_INT64=V.asm.Ib).apply(null,arguments)},Zn=V._emscripten_enum_draco_DataType_DT_UINT64=function(){return(Zn=V._emscripten_enum_draco_DataType_DT_UINT64=V.asm.Jb).apply(null,arguments)},Qn=V._emscripten_enum_draco_DataType_DT_FLOAT32=function(){return(Qn=V._emscripten_enum_draco_DataType_DT_FLOAT32=V.asm.Kb).apply(null,arguments)},$n=V._emscripten_enum_draco_DataType_DT_FLOAT64=function(){return($n=V._emscripten_enum_draco_DataType_DT_FLOAT64=V.asm.Lb).apply(null,arguments)},Jn=V._emscripten_enum_draco_DataType_DT_BOOL=function(){return(Jn=V._emscripten_enum_draco_DataType_DT_BOOL=V.asm.Mb).apply(null,arguments)},er=V._emscripten_enum_draco_DataType_DT_TYPES_COUNT=function(){return(er=V._emscripten_enum_draco_DataType_DT_TYPES_COUNT=V.asm.Nb).apply(null,arguments)},tr=V._emscripten_enum_draco_StatusCode_OK=function(){return(tr=V._emscripten_enum_draco_StatusCode_OK=V.asm.Ob).apply(null,arguments)},nr=V._emscripten_enum_draco_StatusCode_DRACO_ERROR=function(){return(nr=V._emscripten_enum_draco_StatusCode_DRACO_ERROR=V.asm.Pb).apply(null,arguments)},rr=V._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return(rr=V._emscripten_enum_draco_StatusCode_IO_ERROR=V.asm.Qb).apply(null,arguments)},ir=V._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=function(){return(ir=V._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=V.asm.Rb).apply(null,arguments)},ar=V._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return(ar=V._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=V.asm.Sb).apply(null,arguments)},or=V._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return(or=V._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=V.asm.Tb).apply(null,arguments)},sr=V._malloc=function(){return(sr=V._malloc=V.asm.Ub).apply(null,arguments)};if(V._free=function(){return(V._free=V.asm.Vb).apply(null,arguments)},ge=function e(){Te||p(),Te||(ge=e)},V.run=p,V.preInit)for("function"==typeof V.preInit&&(V.preInit=[V.preInit]);0<V.preInit.length;)V.preInit.pop()();p(),h.prototype=Object.create(h.prototype),h.prototype.constructor=h,h.prototype.__class__=h,h.__cache__={},V.WrapperObject=h,V.getCache=m,V.wrapPointer=_,V.castObject=function(e,t){return _(e.ptr,t)},V.NULL=_(0),V.destroy=function(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete m(e.__class__)[e.ptr]},V.compare=function(e,t){return e.ptr===t.ptr},V.getPointer=function(e){return e.ptr},V.getClass=function(e){return e.__class__};var ur={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(ur.needed){for(var e=0;e<ur.temps.length;e++)V._free(ur.temps[e]);ur.temps.length=0,V._free(ur.buffer),ur.buffer=0,ur.size+=ur.needed,ur.needed=0}ur.buffer||(ur.size+=128,ur.buffer=V._malloc(ur.size),ur.buffer||u(void 0)),ur.pos=0},alloc:function(e,t){return ur.buffer||u(void 0),e=7+(e=e.length*t.BYTES_PER_ELEMENT)&-8,ur.pos+e>=ur.size?(0<e||u(void 0),ur.needed+=e,t=V._malloc(e),ur.temps.push(t)):(t=ur.buffer+ur.pos,ur.pos+=e),t},copy:function(e,t,n){switch(n>>>=0,t.BYTES_PER_ELEMENT){case 2:n>>>=1;break;case 4:n>>>=2;break;case 8:n>>>=3}for(var r=0;r<e.length;r++)t[n+r]=e[r]}};return C.prototype=Object.create(h.prototype),C.prototype.constructor=C,C.prototype.__class__=C,C.__cache__={},V.VoidPtr=C,C.prototype.__destroy__=C.prototype.__destroy__=function(){xe(this.ptr)},b.prototype=Object.create(h.prototype),b.prototype.constructor=b,b.prototype.__class__=b,b.__cache__={},V.DecoderBuffer=b,b.prototype.Init=b.prototype.Init=function(e,t){var n=this.ptr;ur.prepare(),"object"==typeof e&&(e=g(e)),t&&"object"==typeof t&&(t=t.ptr),Re(n,e,t)},b.prototype.__destroy__=b.prototype.__destroy__=function(){Oe(this.ptr)},A.prototype=Object.create(h.prototype),A.prototype.constructor=A,A.prototype.__class__=A,A.__cache__={},V.AttributeTransformData=A,A.prototype.transform_type=A.prototype.transform_type=function(){return Se(this.ptr)},A.prototype.__destroy__=A.prototype.__destroy__=function(){Ie(this.ptr)},E.prototype=Object.create(h.prototype),E.prototype.constructor=E,E.prototype.__class__=E,E.__cache__={},V.GeometryAttribute=E,E.prototype.__destroy__=E.prototype.__destroy__=function(){Ne(this.ptr)},w.prototype=Object.create(h.prototype),w.prototype.constructor=w,w.prototype.__class__=w,w.__cache__={},V.PointAttribute=w,w.prototype.size=w.prototype.size=function(){return De(this.ptr)},w.prototype.GetAttributeTransformData=w.prototype.GetAttributeTransformData=function(){return _(Fe(this.ptr),A)},w.prototype.attribute_type=w.prototype.attribute_type=function(){return Ge(this.ptr)},w.prototype.data_type=w.prototype.data_type=function(){return Be(this.ptr)},w.prototype.num_components=w.prototype.num_components=function(){return Ue(this.ptr)},w.prototype.normalized=w.prototype.normalized=function(){return!!ke(this.ptr)},w.prototype.byte_stride=w.prototype.byte_stride=function(){return Ve(this.ptr)},w.prototype.byte_offset=w.prototype.byte_offset=function(){return ze(this.ptr)},w.prototype.unique_id=w.prototype.unique_id=function(){return je(this.ptr)},w.prototype.__destroy__=w.prototype.__destroy__=function(){He(this.ptr)},T.prototype=Object.create(h.prototype),T.prototype.constructor=T,T.prototype.__class__=T,T.__cache__={},V.AttributeQuantizationTransform=T,T.prototype.InitFromAttribute=T.prototype.InitFromAttribute=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),!!We(t,e)},T.prototype.quantization_bits=T.prototype.quantization_bits=function(){return Ke(this.ptr)},T.prototype.min_value=T.prototype.min_value=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Ye(t,e)},T.prototype.range=T.prototype.range=function(){return Xe(this.ptr)},T.prototype.__destroy__=T.prototype.__destroy__=function(){Ze(this.ptr)},x.prototype=Object.create(h.prototype),x.prototype.constructor=x,x.prototype.__class__=x,x.__cache__={},V.AttributeOctahedronTransform=x,x.prototype.InitFromAttribute=x.prototype.InitFromAttribute=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),!!$e(t,e)},x.prototype.quantization_bits=x.prototype.quantization_bits=function(){return Je(this.ptr)},x.prototype.__destroy__=x.prototype.__destroy__=function(){et(this.ptr)},v.prototype=Object.create(h.prototype),v.prototype.constructor=v,v.prototype.__class__=v,v.__cache__={},V.PointCloud=v,v.prototype.num_attributes=v.prototype.num_attributes=function(){return nt(this.ptr)},v.prototype.num_points=v.prototype.num_points=function(){return rt(this.ptr)},v.prototype.__destroy__=v.prototype.__destroy__=function(){it(this.ptr)},R.prototype=Object.create(h.prototype),R.prototype.constructor=R,R.prototype.__class__=R,R.__cache__={},V.Mesh=R,R.prototype.num_faces=R.prototype.num_faces=function(){return ot(this.ptr)},R.prototype.num_attributes=R.prototype.num_attributes=function(){return st(this.ptr)},R.prototype.num_points=R.prototype.num_points=function(){return ut(this.ptr)},R.prototype.__destroy__=R.prototype.__destroy__=function(){lt(this.ptr)},O.prototype=Object.create(h.prototype),O.prototype.constructor=O,O.prototype.__class__=O,O.__cache__={},V.Metadata=O,O.prototype.__destroy__=O.prototype.__destroy__=function(){ft(this.ptr)},M.prototype=Object.create(h.prototype),M.prototype.constructor=M,M.prototype.__class__=M,M.__cache__={},V.Status=M,M.prototype.code=M.prototype.code=function(){return dt(this.ptr)},M.prototype.ok=M.prototype.ok=function(){return!!pt(this.ptr)},M.prototype.error_msg=M.prototype.error_msg=function(){return r(ht(this.ptr))},M.prototype.__destroy__=M.prototype.__destroy__=function(){mt(this.ptr)},S.prototype=Object.create(h.prototype),S.prototype.constructor=S,S.prototype.__class__=S,S.__cache__={},V.DracoFloat32Array=S,S.prototype.GetValue=S.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),yt(t,e)},S.prototype.size=S.prototype.size=function(){return gt(this.ptr)},S.prototype.__destroy__=S.prototype.__destroy__=function(){Ct(this.ptr)},I.prototype=Object.create(h.prototype),I.prototype.constructor=I,I.prototype.__class__=I,I.__cache__={},V.DracoInt8Array=I,I.prototype.GetValue=I.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),At(t,e)},I.prototype.size=I.prototype.size=function(){return Et(this.ptr)},I.prototype.__destroy__=I.prototype.__destroy__=function(){wt(this.ptr)},P.prototype=Object.create(h.prototype),P.prototype.constructor=P,P.prototype.__class__=P,P.__cache__={},V.DracoUInt8Array=P,P.prototype.GetValue=P.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),xt(t,e)},P.prototype.size=P.prototype.size=function(){return vt(this.ptr)},P.prototype.__destroy__=P.prototype.__destroy__=function(){Rt(this.ptr)},N.prototype=Object.create(h.prototype),N.prototype.constructor=N,N.prototype.__class__=N,N.__cache__={},V.DracoInt16Array=N,N.prototype.GetValue=N.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Mt(t,e)},N.prototype.size=N.prototype.size=function(){return St(this.ptr)},N.prototype.__destroy__=N.prototype.__destroy__=function(){It(this.ptr)},L.prototype=Object.create(h.prototype),L.prototype.constructor=L,L.prototype.__class__=L,L.__cache__={},V.DracoUInt16Array=L,L.prototype.GetValue=L.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Nt(t,e)},L.prototype.size=L.prototype.size=function(){return Lt(this.ptr)},L.prototype.__destroy__=L.prototype.__destroy__=function(){Dt(this.ptr)},D.prototype=Object.create(h.prototype),D.prototype.constructor=D,D.prototype.__class__=D,D.__cache__={},V.DracoInt32Array=D,D.prototype.GetValue=D.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Gt(t,e)},D.prototype.size=D.prototype.size=function(){return Bt(this.ptr)},D.prototype.__destroy__=D.prototype.__destroy__=function(){Ut(this.ptr)},F.prototype=Object.create(h.prototype),F.prototype.constructor=F,F.prototype.__class__=F,F.__cache__={},V.DracoUInt32Array=F,F.prototype.GetValue=F.prototype.GetValue=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Vt(t,e)},F.prototype.size=F.prototype.size=function(){return zt(this.ptr)},F.prototype.__destroy__=F.prototype.__destroy__=function(){jt(this.ptr)},G.prototype=Object.create(h.prototype),G.prototype.constructor=G,G.prototype.__class__=G,G.__cache__={},V.MetadataQuerier=G,G.prototype.HasEntry=G.prototype.HasEntry=function(e,t){var n=this.ptr;return ur.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:y(t),!!qt(n,e,t)},G.prototype.GetIntEntry=G.prototype.GetIntEntry=function(e,t){var n=this.ptr;return ur.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:y(t),Wt(n,e,t)},G.prototype.GetIntEntryArray=G.prototype.GetIntEntryArray=function(e,t,n){var r=this.ptr;ur.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:y(t),n&&"object"==typeof n&&(n=n.ptr),Kt(r,e,t,n)},G.prototype.GetDoubleEntry=G.prototype.GetDoubleEntry=function(e,t){var n=this.ptr;return ur.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:y(t),Yt(n,e,t)},G.prototype.GetStringEntry=G.prototype.GetStringEntry=function(e,t){var n=this.ptr;return ur.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:y(t),r(Xt(n,e,t))},G.prototype.NumEntries=G.prototype.NumEntries=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),Zt(t,e)},G.prototype.GetEntryName=G.prototype.GetEntryName=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),r(Qt(n,e,t))},G.prototype.__destroy__=G.prototype.__destroy__=function(){$t(this.ptr)},B.prototype=Object.create(h.prototype),B.prototype.constructor=B,B.prototype.__class__=B,B.__cache__={},V.Decoder=B,B.prototype.DecodeArrayToPointCloud=B.prototype.DecodeArrayToPointCloud=function(e,t,n){var r=this.ptr;return ur.prepare(),"object"==typeof e&&(e=g(e)),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),_(en(r,e,t,n),M)},B.prototype.DecodeArrayToMesh=B.prototype.DecodeArrayToMesh=function(e,t,n){var r=this.ptr;return ur.prepare(),"object"==typeof e&&(e=g(e)),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),_(tn(r,e,t,n),M)},B.prototype.GetAttributeId=B.prototype.GetAttributeId=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),nn(n,e,t)},B.prototype.GetAttributeIdByName=B.prototype.GetAttributeIdByName=function(e,t){var n=this.ptr;return ur.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:y(t),rn(n,e,t)},B.prototype.GetAttributeIdByMetadataEntry=B.prototype.GetAttributeIdByMetadataEntry=function(e,t,n){var r=this.ptr;return ur.prepare(),e&&"object"==typeof e&&(e=e.ptr),t=t&&"object"==typeof t?t.ptr:y(t),n=n&&"object"==typeof n?n.ptr:y(n),an(r,e,t,n)},B.prototype.GetAttribute=B.prototype.GetAttribute=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),_(on(n,e,t),w)},B.prototype.GetAttributeByUniqueId=B.prototype.GetAttributeByUniqueId=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),_(sn(n,e,t),w)},B.prototype.GetMetadata=B.prototype.GetMetadata=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),_(un(t,e),O)},B.prototype.GetAttributeMetadata=B.prototype.GetAttributeMetadata=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),_(ln(n,e,t),O)},B.prototype.GetFaceFromMesh=B.prototype.GetFaceFromMesh=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!cn(r,e,t,n)},B.prototype.GetTriangleStripsFromMesh=B.prototype.GetTriangleStripsFromMesh=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),fn(n,e,t)},B.prototype.GetTrianglesUInt16Array=B.prototype.GetTrianglesUInt16Array=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!dn(r,e,t,n)},B.prototype.GetTrianglesUInt32Array=B.prototype.GetTrianglesUInt32Array=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!pn(r,e,t,n)},B.prototype.GetAttributeFloat=B.prototype.GetAttributeFloat=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!hn(r,e,t,n)},B.prototype.GetAttributeFloatForAllPoints=B.prototype.GetAttributeFloatForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!mn(r,e,t,n)},B.prototype.GetAttributeIntForAllPoints=B.prototype.GetAttributeIntForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!_n(r,e,t,n)},B.prototype.GetAttributeInt8ForAllPoints=B.prototype.GetAttributeInt8ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!yn(r,e,t,n)},B.prototype.GetAttributeUInt8ForAllPoints=B.prototype.GetAttributeUInt8ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!gn(r,e,t,n)},B.prototype.GetAttributeInt16ForAllPoints=B.prototype.GetAttributeInt16ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!Cn(r,e,t,n)},B.prototype.GetAttributeUInt16ForAllPoints=B.prototype.GetAttributeUInt16ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!bn(r,e,t,n)},B.prototype.GetAttributeInt32ForAllPoints=B.prototype.GetAttributeInt32ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!An(r,e,t,n)},B.prototype.GetAttributeUInt32ForAllPoints=B.prototype.GetAttributeUInt32ForAllPoints=function(e,t,n){var r=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),!!En(r,e,t,n)},B.prototype.GetAttributeDataArrayForAllPoints=B.prototype.GetAttributeDataArrayForAllPoints=function(e,t,n,r,i){var a=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),n&&"object"==typeof n&&(n=n.ptr),r&&"object"==typeof r&&(r=r.ptr),i&&"object"==typeof i&&(i=i.ptr),!!wn(a,e,t,n,r,i)},B.prototype.SkipAttributeTransform=B.prototype.SkipAttributeTransform=function(e){var t=this.ptr;e&&"object"==typeof e&&(e=e.ptr),Tn(t,e)},B.prototype.GetEncodedGeometryType_Deprecated=B.prototype.GetEncodedGeometryType_Deprecated=function(e){var t=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),xn(t,e)},B.prototype.DecodeBufferToPointCloud=B.prototype.DecodeBufferToPointCloud=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),_(vn(n,e,t),M)},B.prototype.DecodeBufferToMesh=B.prototype.DecodeBufferToMesh=function(e,t){var n=this.ptr;return e&&"object"==typeof e&&(e=e.ptr),t&&"object"==typeof t&&(t=t.ptr),_(Rn(n,e,t),M)},B.prototype.__destroy__=B.prototype.__destroy__=function(){On(this.ptr)},function(){function e(){V.ATTRIBUTE_INVALID_TRANSFORM=Mn(),V.ATTRIBUTE_NO_TRANSFORM=Sn(),V.ATTRIBUTE_QUANTIZATION_TRANSFORM=In(),V.ATTRIBUTE_OCTAHEDRON_TRANSFORM=Pn(),V.INVALID=Nn(),V.POSITION=Ln(),V.NORMAL=Dn(),V.COLOR=Fn(),V.TEX_COORD=Gn(),V.GENERIC=Bn(),V.INVALID_GEOMETRY_TYPE=Un(),V.POINT_CLOUD=kn(),V.TRIANGULAR_MESH=Vn(),V.DT_INVALID=zn(),V.DT_INT8=jn(),V.DT_UINT8=Hn(),V.DT_INT16=qn(),V.DT_UINT16=Wn(),V.DT_INT32=Kn(),V.DT_UINT32=Yn(),V.DT_INT64=Xn(),V.DT_UINT64=Zn(),V.DT_FLOAT32=Qn(),V.DT_FLOAT64=$n(),V.DT_BOOL=Jn(),V.DT_TYPES_COUNT=er(),V.OK=tr(),V.DRACO_ERROR=nr(),V.IO_ERROR=rr(),V.INVALID_PARAMETER=ir(),V.UNSUPPORTED_VERSION=ar(),V.UNKNOWN_VERSION=or()}me?e():pe.unshift(e)}(),"function"==typeof V.onModuleParsed&&V.onModuleParsed(),V.Decoder.prototype.GetEncodedGeometryType=function(e){if(e.__class__&&e.__class__===V.DecoderBuffer)return V.Decoder.prototype.GetEncodedGeometryType_Deprecated(e);if(8>e.byteLength)return V.INVALID_GEOMETRY_TYPE;switch(e[7]){case 0:return V.POINT_CLOUD;case 1:return V.TRIANGULAR_MESH;default:return V.INVALID_GEOMETRY_TYPE}},e.ready});e.exports=u}).call(this,n(21),"/index.js",n(28),"/")},function(e,t){},function(e,t,n){var r,i;r=[n(1),n(0),n(9),n(20)],void 0===(i=function(e,t,n,r){"use strict";function i(t,n){if(i.passThroughDataForTesting)return n;const r=t.byteLength;if(0===r||r%4!=0)throw new e.RuntimeError("The length of key must be greater than 0 and a multiple of 4.");const a=new DataView(n),o=a.getUint32(0,!0);if(1953029805===o||2917034100===o)return n;const s=new DataView(t);let u=0;const l=n.byteLength,c=l-l%8,f=r;let d,p=8;for(;u<c;)for(p=(p+8)%24,d=p;u<c&&d<f;)a.setUint32(u,a.getUint32(u,!0)^s.getUint32(d,!0),!0),a.setUint32(u+4,a.getUint32(u+4,!0)^s.getUint32(d+4,!0),!0),u+=8,d+=24;if(u<l)for(d>=f&&(p=(p+8)%24,d=p);u<l;)a.setUint8(u,a.getUint8(u)^s.getUint8(d)),u++,d++}function a(e,t){return 0!=(e&t)}i.passThroughDataForTesting=!1;const o=[1,2,4,8];function s(e,t,n,r,i,a){this._bits=e,this.cnodeVersion=t,this.imageryVersion=n,this.terrainVersion=r,this.imageryProvider=i,this.terrainProvider=a,this.ancestorHasTerrain=!1,this.terrainState=void 0}s.clone=function(e,n){return t.defined(n)?(n._bits=e._bits,n.cnodeVersion=e.cnodeVersion,n.imageryVersion=e.imageryVersion,n.terrainVersion=e.terrainVersion,n.imageryProvider=e.imageryProvider,n.terrainProvider=e.terrainProvider):n=new s(e._bits,e.cnodeVersion,e.imageryVersion,e.terrainVersion,e.imageryProvider,e.terrainProvider),n.ancestorHasTerrain=e.ancestorHasTerrain,n.terrainState=e.terrainState,n},s.prototype.setParent=function(e){this.ancestorHasTerrain=e.ancestorHasTerrain||this.hasTerrain()},s.prototype.hasSubtree=function(){return a(this._bits,16)},s.prototype.hasImagery=function(){return a(this._bits,64)},s.prototype.hasTerrain=function(){return a(this._bits,128)},s.prototype.hasChildren=function(){return a(this._bits,15)},s.prototype.hasChild=function(e){return a(this._bits,o[e])},s.prototype.getChildBitmask=function(){return 15&this._bits};var u=n.createCommonjsModule((function(e,t){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)}));var l=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+t[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0};var c=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();var f=function(e,t,n,r){var i=c,a=r+n;e^=-1;for(var o=r;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e},d=function(e,t){var n,r,i,a,o,s,u,l,c,f,d,p,h,m,_,y,g,C,b,A,E,w,T,x,v;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),a=e.next_out,v=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,d=n.window,p=n.hold,h=n.bits,m=n.lencode,_=n.distcode,y=(1<<n.lenbits)-1,g=(1<<n.distbits)-1;e:do{h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),C=m[p&y];t:for(;;){if(p>>>=b=C>>>24,h-=b,0===(b=C>>>16&255))v[a++]=65535&C;else{if(!(16&b)){if(0==(64&b)){C=m[(65535&C)+(p&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}A=65535&C,(b&=15)&&(h<b&&(p+=x[r++]<<h,h+=8),A+=p&(1<<b)-1,p>>>=b,h-=b),h<15&&(p+=x[r++]<<h,h+=8,p+=x[r++]<<h,h+=8),C=_[p&g];n:for(;;){if(p>>>=b=C>>>24,h-=b,!(16&(b=C>>>16&255))){if(0==(64&b)){C=_[(65535&C)+(p&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&C,h<(b&=15)&&(p+=x[r++]<<h,(h+=8)<b&&(p+=x[r++]<<h,h+=8)),(E+=p&(1<<b)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=b,h-=b,E>(b=a-o)){if((b=E-b)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(w=0,T=d,0===f){if(w+=l-b,b<A){A-=b;do{v[a++]=d[w++]}while(--b);w=a-E,T=v}}else if(f<b){if(w+=l+f-b,(b-=f)<A){A-=b;do{v[a++]=d[w++]}while(--b);if(w=0,f<A){A-=b=f;do{v[a++]=d[w++]}while(--b);w=a-E,T=v}}}else if(w+=f-b,b<A){A-=b;do{v[a++]=d[w++]}while(--b);w=a-E,T=v}for(;A>2;)v[a++]=T[w++],v[a++]=T[w++],v[a++]=T[w++],A-=3;A&&(v[a++]=T[w++],A>1&&(v[a++]=T[w++]))}else{w=a-E;do{v[a++]=v[w++],v[a++]=v[w++],v[a++]=v[w++],A-=3}while(A>2);A&&(v[a++]=v[w++],A>1&&(v[a++]=v[w++]))}break}}break}}while(r<i&&a<s);r-=A=h>>3,p&=(1<<(h-=A<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=h},p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],y=function(e,t,n,r,i,a,o,s){var l,c,f,d,y,g,C,b,A,E=s.bits,w=0,T=0,x=0,v=0,R=0,O=0,M=0,S=0,I=0,P=0,N=null,L=0,D=new u.Buf16(16),F=new u.Buf16(16),G=null,B=0;for(w=0;w<=15;w++)D[w]=0;for(T=0;T<r;T++)D[t[n+T]]++;for(R=E,v=15;v>=1&&0===D[v];v--);if(R>v&&(R=v),0===v)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(x=1;x<v&&0===D[x];x++);for(R<x&&(R=x),S=1,w=1;w<=15;w++)if(S<<=1,(S-=D[w])<0)return-1;if(S>0&&(0===e||1!==v))return-1;for(F[1]=0,w=1;w<15;w++)F[w+1]=F[w]+D[w];for(T=0;T<r;T++)0!==t[n+T]&&(o[F[t[n+T]]++]=T);if(0===e?(N=G=o,g=19):1===e?(N=p,L-=257,G=h,B-=257,g=256):(N=m,G=_,g=-1),P=0,T=0,w=x,y=a,O=R,M=0,f=-1,d=(I=1<<R)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){C=w-M,o[T]<g?(b=0,A=o[T]):o[T]>g?(b=G[B+o[T]],A=N[L+o[T]]):(b=96,A=0),l=1<<w-M,x=c=1<<O;do{i[y+(P>>M)+(c-=l)]=C<<24|b<<16|A|0}while(0!==c);for(l=1<<w-1;P&l;)l>>=1;if(0!==l?(P&=l-1,P+=l):P=0,T++,0==--D[w]){if(w===v)break;w=t[n+o[T]]}if(w>R&&(P&d)!==f){for(0===M&&(M=R),y+=x,S=1<<(O=w-M);O+M<v&&!((S-=D[O+M])<=0);)O++,S<<=1;if(I+=1<<O,1===e&&I>852||2===e&&I>592)return 1;i[f=P&d]=R<<24|O<<16|y-a|0}}return 0!==P&&(i[y+P]=w-M<<24|64<<16|0),s.bits=R,0};function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function C(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new u.Buf32(852),t.distcode=t.distdyn=new u.Buf32(592),t.sane=1,t.back=-1,0):-2}function A(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):-2}function E(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,A(e))):-2}function w(e,t){var n,r;return e?(r=new C,e.state=r,r.window=null,0!==(n=E(e,t))&&(e.state=null),n):-2}var T,x,v=!0;function R(e){if(v){var t;for(T=new u.Buf32(512),x=new u.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(y(1,e.lens,0,288,T,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;y(2,e.lens,0,32,x,0,e.work,{bits:5}),v=!1}e.lencode=T,e.lenbits=9,e.distcode=x,e.distbits=5}function O(e,t,n,r){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new u.Buf8(a.wsize)),r>=a.wsize?(u.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>r&&(i=r),u.arraySet(a.window,t,n-r,i,a.wnext),(r-=i)?(u.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}var M={inflateReset:A,inflateReset2:E,inflateResetKeep:b,inflateInit:function(e){return w(e,15)},inflateInit2:w,inflate:function(e,t){var n,r,i,a,o,s,c,p,h,m,_,C,b,A,E,w,T,x,v,M,S,I,P,N,L=0,D=new u.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,p=n.hold,h=n.bits,m=s,_=c,I=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;h<16;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(2&n.wrap&&35615===p){n.check=0,D[0]=255&p,D[1]=p>>>8&255,n.check=f(n.check,D,2,0),p=0,h=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&p)){e.msg="unknown compression method",n.mode=30;break}if(h-=4,S=8+(15&(p>>>=4)),0===n.wbits)n.wbits=S;else if(S>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<S,e.adler=n.check=1,n.mode=512&p?10:12,p=0,h=0;break;case 2:for(;h<16;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(n.flags=p,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(D[0]=255&p,D[1]=p>>>8&255,n.check=f(n.check,D,2,0)),p=0,h=0,n.mode=3;case 3:for(;h<32;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}n.head&&(n.head.time=p),512&n.flags&&(D[0]=255&p,D[1]=p>>>8&255,D[2]=p>>>16&255,D[3]=p>>>24&255,n.check=f(n.check,D,4,0)),p=0,h=0,n.mode=4;case 4:for(;h<16;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(D[0]=255&p,D[1]=p>>>8&255,n.check=f(n.check,D,2,0)),p=0,h=0,n.mode=5;case 5:if(1024&n.flags){for(;h<16;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(D[0]=255&p,D[1]=p>>>8&255,n.check=f(n.check,D,2,0)),p=0,h=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((C=n.length)>s&&(C=s),C&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),u.arraySet(n.head.extra,r,a,C,S)),512&n.flags&&(n.check=f(n.check,r,C,a)),s-=C,a+=C,n.length-=C),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;C=0;do{S=r[a+C++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&C<s);if(512&n.flags&&(n.check=f(n.check,r,C,a)),s-=C,a+=C,S)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;C=0;do{S=r[a+C++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&C<s);if(512&n.flags&&(n.check=f(n.check,r,C,a)),s-=C,a+=C,S)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;h<16;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}p=0,h=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;h<32;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}e.adler=n.check=g(p),p=0,h=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=p,n.bits=h,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){p>>>=7&h,h-=7&h,n.mode=27;break}for(;h<3;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}switch(n.last=1&p,h-=1,3&(p>>>=1)){case 0:n.mode=14;break;case 1:if(R(n),n.mode=20,6===t){p>>>=2,h-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}p>>>=2,h-=2;break;case 14:for(p>>>=7&h,h-=7&h;h<32;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&p,p=0,h=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(C=n.length){if(C>s&&(C=s),C>c&&(C=c),0===C)break e;u.arraySet(i,r,a,C,o),s-=C,a+=C,c-=C,o+=C,n.length-=C;break}n.mode=12;break;case 17:for(;h<14;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(n.nlen=257+(31&p),p>>>=5,h-=5,n.ndist=1+(31&p),p>>>=5,h-=5,n.ncode=4+(15&p),p>>>=4,h-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;h<3;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}n.lens[F[n.have++]]=7&p,p>>>=3,h-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},I=y(0,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,I){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;w=(L=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,T=65535&L,!((E=L>>>24)<=h);){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(T<16)p>>>=E,h-=E,n.lens[n.have++]=T;else{if(16===T){for(N=E+2;h<N;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(p>>>=E,h-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}S=n.lens[n.have-1],C=3+(3&p),p>>>=2,h-=2}else if(17===T){for(N=E+3;h<N;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}h-=E,S=0,C=3+(7&(p>>>=E)),p>>>=3,h-=3}else{for(N=E+7;h<N;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}h-=E,S=0,C=11+(127&(p>>>=E)),p>>>=7,h-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=S}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,P={bits:n.lenbits},I=y(1,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,I){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},I=y(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,I){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(s>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=p,n.bits=h,d(e,_),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,s=e.avail_in,p=n.hold,h=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;w=(L=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,T=65535&L,!((E=L>>>24)<=h);){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(w&&0==(240&w)){for(x=E,v=w,M=T;w=(L=n.lencode[M+((p&(1<<x+v)-1)>>x)])>>>16&255,T=65535&L,!(x+(E=L>>>24)<=h);){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}p>>>=x,h-=x,n.back+=x}if(p>>>=E,h-=E,n.back+=E,n.length=T,0===w){n.mode=26;break}if(32&w){n.back=-1,n.mode=12;break}if(64&w){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&w,n.mode=22;case 22:if(n.extra){for(N=n.extra;h<N;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,h-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;w=(L=n.distcode[p&(1<<n.distbits)-1])>>>16&255,T=65535&L,!((E=L>>>24)<=h);){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(0==(240&w)){for(x=E,v=w,M=T;w=(L=n.distcode[M+((p&(1<<x+v)-1)>>x)])>>>16&255,T=65535&L,!(x+(E=L>>>24)<=h);){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}p>>>=x,h-=x,n.back+=x}if(p>>>=E,h-=E,n.back+=E,64&w){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&w,n.mode=24;case 24:if(n.extra){for(N=n.extra;h<N;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,h-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===c)break e;if(C=_-c,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}C>n.wnext?(C-=n.wnext,b=n.wsize-C):b=n.wnext-C,C>n.length&&(C=n.length),A=n.window}else A=i,b=o-n.offset,C=n.length;C>c&&(C=c),c-=C,n.length-=C;do{i[o++]=A[b++]}while(--C);0===n.length&&(n.mode=21);break;case 26:if(0===c)break e;i[o++]=n.length,c--,n.mode=21;break;case 27:if(n.wrap){for(;h<32;){if(0===s)break e;s--,p|=r[a++]<<h,h+=8}if(_-=c,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?f(n.check,i,_,o-_):l(n.check,i,_,o-_)),_=c,(n.flags?p:g(p))!==n.check){e.msg="incorrect data check",n.mode=30;break}p=0,h=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;h<32;){if(0===s)break e;s--,p+=r[a++]<<h,h+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}p=0,h=0}n.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=s,n.hold=p,n.bits=h,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&O(e,e.output,e.next_out,_-e.avail_out),m-=e.avail_in,_-=e.avail_out,e.total_in+=m,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?f(n.check,i,_,e.next_out-_):l(n.check,i,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===m&&0===_||4===t)&&0===I&&(I=-5),I},inflateEnd:function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},inflateGetHeader:function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},inflateSetDictionary:function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&l(1,t,r,0)!==n.check?-3:O(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},S=!0,I=!0;try{String.fromCharCode.apply(null,[0])}catch(e){S=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){I=!1}for(var P=new u.Buf8(256),N=0;N<256;N++)P[N]=N>=252?6:N>=248?5:N>=240?4:N>=224?3:N>=192?2:1;P[254]=P[254]=1;function L(e,t){if(t<65534&&(e.subarray&&I||!e.subarray&&S))return String.fromCharCode.apply(null,u.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var D=function(e){var t,n,r,i,a,o=e.length,s=0;for(i=0;i<o;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new u.Buf8(s),a=0,i=0;a<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},F=function(e){for(var t=new u.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},G=function(e,t){var n,r,i,a,o=t||e.length,s=new Array(2*o);for(r=0,n=0;n<o;)if((i=e[n++])<128)s[r++]=i;else if((a=P[i])>4)s[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<o;)i=i<<6|63&e[n++],a--;a>1?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return L(s,r)},B=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+P[e[n]]>t?n:t},U=0,k=2,V=4,z=0,j=1,H=2,q=-5,W={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var K=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var Y=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},X=Object.prototype.toString;function Z(e){if(!(this instanceof Z))return new Z(e);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new K,this.strm.avail_out=0;var n=M.inflateInit2(this.strm,t.windowBits);if(n!==z)throw new Error(W[n]);if(this.header=new Y,M.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=D(t.dictionary):"[object ArrayBuffer]"===X.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=M.inflateSetDictionary(this.strm,t.dictionary))!==z))throw new Error(W[n])}function Q(e,t){var n=new Z(t);if(n.push(e,!0),n.err)throw n.msg||W[n.err];return n.result}Z.prototype.push=function(e,t){var n,r,i,a,o,s=this.strm,l=this.options.chunkSize,c=this.options.dictionary,f=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?V:U,"string"==typeof e?s.input=F(e):"[object ArrayBuffer]"===X.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new u.Buf8(l),s.next_out=0,s.avail_out=l),(n=M.inflate(s,U))===H&&c&&(n=M.inflateSetDictionary(this.strm,c)),n===q&&!0===f&&(n=z,f=!1),n!==j&&n!==z)return this.onEnd(n),this.ended=!0,!1;s.next_out&&(0!==s.avail_out&&n!==j&&(0!==s.avail_in||r!==V&&r!==k)||("string"===this.options.to?(i=B(s.output,s.next_out),a=s.next_out-i,o=G(s.output,i),s.next_out=a,s.avail_out=l-a,a&&u.arraySet(s.output,s.output,i,a,0),this.onData(o)):this.onData(u.shrinkBuf(s.output,s.next_out)))),0===s.avail_in&&0===s.avail_out&&(f=!0)}while((s.avail_in>0||0===s.avail_out)&&n!==j);return n===j&&(r=V),r===V?(n=M.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===z):r!==k||(this.onEnd(z),s.avail_out=0,!0)},Z.prototype.onData=function(e){this.chunks.push(e)},Z.prototype.onEnd=function(e){e===z&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var $={Inflate:Z,inflate:Q,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Q(e,t)},ungzip:Q};const J=Uint16Array.BYTES_PER_ELEMENT,ee=Int32Array.BYTES_PER_ELEMENT,te=Uint32Array.BYTES_PER_ELEMENT,ne={METADATA:0,TERRAIN:1,DBROOT:2};ne.fromString=function(e){return"Metadata"===e?ne.METADATA:"Terrain"===e?ne.TERRAIN:"DbRoot"===e?ne.DBROOT:void 0};return r((function(t,n){const r=ne.fromString(t.type);let a=t.buffer;i(t.key,a);const o=function(t){const n=new DataView(t);let r=0;const i=n.getUint32(r,!0);if(r+=te,1953029805!==i&&2917034100!==i)throw new e.RuntimeError("Invalid magic");const a=n.getUint32(r,1953029805===i);r+=te;const o=new Uint8Array(t,r),s=$.inflate(o);if(s.length!==a)throw new e.RuntimeError("Size of packet doesn't match header");return s}(a);a=o.buffer;const u=o.length;switch(r){case ne.METADATA:return function(t,n,r){const i=new DataView(t);let a=0;const o=i.getUint32(a,!0);if(a+=te,32301!==o)throw new e.RuntimeError("Invalid magic");const u=i.getUint32(a,!0);if(a+=te,1!==u)throw new e.RuntimeError("Invalid data type. Must be 1 for QuadTreePacket");const l=i.getUint32(a,!0);if(a+=te,2!==l)throw new e.RuntimeError("Invalid QuadTreePacket version. Only version 2 is supported.");const c=i.getInt32(a,!0);a+=ee;const f=i.getInt32(a,!0);if(a+=ee,32!==f)throw new e.RuntimeError("Invalid instance size.");const d=i.getInt32(a,!0);a+=ee;const p=i.getInt32(a,!0);a+=ee;const h=i.getInt32(a,!0);if(a+=ee,d!==c*f+a)throw new e.RuntimeError("Invalid dataBufferOffset");if(d+p+h!==n)throw new e.RuntimeError("Invalid packet offsets");const m=[];for(let e=0;e<c;++e){const e=i.getUint8(a);++a,++a;const t=i.getUint16(a,!0);a+=J;const n=i.getUint16(a,!0);a+=J;const r=i.getUint16(a,!0);a+=J,a+=J,a+=J,a+=ee,a+=ee,a+=8;const o=i.getUint8(a++),u=i.getUint8(a++);a+=J,m.push(new s(e,t,n,r,o,u))}const _=[];let y=0;let g=0;const C=m[y++];""===r?++g:_[r]=C;return function e(t,n,r){let i=!1;if(4===r){if(n.hasSubtree())return;i=!0}for(let a=0;a<4;++a){const o=t+a.toString();if(i)_[o]=null;else if(r<4)if(n.hasChild(a)){if(y===c)return void console.log("Incorrect number of instances");const t=m[y++];_[o]=t,e(o,t,r+1)}else _[o]=null}}(r,C,g),_}(a,u,t.quadKey);case ne.TERRAIN:return function(t,n,r){const i=new DataView(t),a=function(t){for(let r=0;r<4;++r){const r=i.getUint32(t,!0);if(t+=te,(t+=r)>n)throw new e.RuntimeError("Malformed terrain packet found.")}return t};let o=0;const s=[];for(;s.length<5;){const e=o;o=a(o);const n=t.slice(e,o);r.push(n),s.push(n)}return s}(a,u,n);case ne.DBROOT:return n.push(a),{buffer:a}}}))}.apply(t,r))||(e.exports=i)},function(e,t,n){(function(r){var i,a;i=[n(0),n(1),n(5),n(20)],void 0===(a=function(e,t,i,a){"use strict";const o={UNSIGNED_BYTE:i.WebGLConstants.UNSIGNED_BYTE,UNSIGNED_SHORT:i.WebGLConstants.UNSIGNED_SHORT,UNSIGNED_INT:i.WebGLConstants.UNSIGNED_INT,FLOAT:i.WebGLConstants.FLOAT,HALF_FLOAT:i.WebGLConstants.HALF_FLOAT_OES,UNSIGNED_INT_24_8:i.WebGLConstants.UNSIGNED_INT_24_8,UNSIGNED_SHORT_4_4_4_4:i.WebGLConstants.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:i.WebGLConstants.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:i.WebGLConstants.UNSIGNED_SHORT_5_6_5,toWebGLConstant:function(e,t){switch(e){case o.UNSIGNED_BYTE:return i.WebGLConstants.UNSIGNED_BYTE;case o.UNSIGNED_SHORT:return i.WebGLConstants.UNSIGNED_SHORT;case o.UNSIGNED_INT:return i.WebGLConstants.UNSIGNED_INT;case o.FLOAT:return i.WebGLConstants.FLOAT;case o.HALF_FLOAT:return t.webgl2?i.WebGLConstants.HALF_FLOAT:i.WebGLConstants.HALF_FLOAT_OES;case o.UNSIGNED_INT_24_8:return i.WebGLConstants.UNSIGNED_INT_24_8;case o.UNSIGNED_SHORT_4_4_4_4:return i.WebGLConstants.UNSIGNED_SHORT_4_4_4_4;case o.UNSIGNED_SHORT_5_5_5_1:return i.WebGLConstants.UNSIGNED_SHORT_5_5_5_1;case o.UNSIGNED_SHORT_5_6_5:return o.UNSIGNED_SHORT_5_6_5}},isPacked:function(e){return e===o.UNSIGNED_INT_24_8||e===o.UNSIGNED_SHORT_4_4_4_4||e===o.UNSIGNED_SHORT_5_5_5_1||e===o.UNSIGNED_SHORT_5_6_5},sizeInBytes:function(e){switch(e){case o.UNSIGNED_BYTE:return 1;case o.UNSIGNED_SHORT:case o.UNSIGNED_SHORT_4_4_4_4:case o.UNSIGNED_SHORT_5_5_5_1:case o.UNSIGNED_SHORT_5_6_5:case o.HALF_FLOAT:return 2;case o.UNSIGNED_INT:case o.FLOAT:case o.UNSIGNED_INT_24_8:return 4}},validate:function(e){return e===o.UNSIGNED_BYTE||e===o.UNSIGNED_SHORT||e===o.UNSIGNED_INT||e===o.FLOAT||e===o.HALF_FLOAT||e===o.UNSIGNED_INT_24_8||e===o.UNSIGNED_SHORT_4_4_4_4||e===o.UNSIGNED_SHORT_5_5_5_1||e===o.UNSIGNED_SHORT_5_6_5}};var s=Object.freeze(o);const u={DEPTH_COMPONENT:i.WebGLConstants.DEPTH_COMPONENT,DEPTH_STENCIL:i.WebGLConstants.DEPTH_STENCIL,ALPHA:i.WebGLConstants.ALPHA,RGB:i.WebGLConstants.RGB,RGBA:i.WebGLConstants.RGBA,LUMINANCE:i.WebGLConstants.LUMINANCE,LUMINANCE_ALPHA:i.WebGLConstants.LUMINANCE_ALPHA,RGB_DXT1:i.WebGLConstants.COMPRESSED_RGB_S3TC_DXT1_EXT,RGBA_DXT1:i.WebGLConstants.COMPRESSED_RGBA_S3TC_DXT1_EXT,RGBA_DXT3:i.WebGLConstants.COMPRESSED_RGBA_S3TC_DXT3_EXT,RGBA_DXT5:i.WebGLConstants.COMPRESSED_RGBA_S3TC_DXT5_EXT,RGB_PVRTC_4BPPV1:i.WebGLConstants.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,RGB_PVRTC_2BPPV1:i.WebGLConstants.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,RGBA_PVRTC_4BPPV1:i.WebGLConstants.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,RGBA_PVRTC_2BPPV1:i.WebGLConstants.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG,RGBA_ASTC:i.WebGLConstants.COMPRESSED_RGBA_ASTC_4x4_WEBGL,RGB_ETC1:i.WebGLConstants.COMPRESSED_RGB_ETC1_WEBGL,RGB8_ETC2:i.WebGLConstants.COMPRESSED_RGB8_ETC2,RGBA8_ETC2_EAC:i.WebGLConstants.COMPRESSED_RGBA8_ETC2_EAC,RGBA_BC7:i.WebGLConstants.COMPRESSED_RGBA_BPTC_UNORM,componentsLength:function(e){switch(e){case u.RGB:return 3;case u.RGBA:return 4;case u.LUMINANCE_ALPHA:return 2;case u.ALPHA:case u.LUMINANCE:default:return 1}},validate:function(e){return e===u.DEPTH_COMPONENT||e===u.DEPTH_STENCIL||e===u.ALPHA||e===u.RGB||e===u.RGBA||e===u.LUMINANCE||e===u.LUMINANCE_ALPHA||e===u.RGB_DXT1||e===u.RGBA_DXT1||e===u.RGBA_DXT3||e===u.RGBA_DXT5||e===u.RGB_PVRTC_4BPPV1||e===u.RGB_PVRTC_2BPPV1||e===u.RGBA_PVRTC_4BPPV1||e===u.RGBA_PVRTC_2BPPV1||e===u.RGBA_ASTC||e===u.RGB_ETC1||e===u.RGB8_ETC2||e===u.RGBA8_ETC2_EAC||e===u.RGBA_BC7},isColorFormat:function(e){return e===u.ALPHA||e===u.RGB||e===u.RGBA||e===u.LUMINANCE||e===u.LUMINANCE_ALPHA},isDepthFormat:function(e){return e===u.DEPTH_COMPONENT||e===u.DEPTH_STENCIL},isCompressedFormat:function(e){return e===u.RGB_DXT1||e===u.RGBA_DXT1||e===u.RGBA_DXT3||e===u.RGBA_DXT5||e===u.RGB_PVRTC_4BPPV1||e===u.RGB_PVRTC_2BPPV1||e===u.RGBA_PVRTC_4BPPV1||e===u.RGBA_PVRTC_2BPPV1||e===u.RGBA_ASTC||e===u.RGB_ETC1||e===u.RGB8_ETC2||e===u.RGBA8_ETC2_EAC||e===u.RGBA_BC7},isDXTFormat:function(e){return e===u.RGB_DXT1||e===u.RGBA_DXT1||e===u.RGBA_DXT3||e===u.RGBA_DXT5},isPVRTCFormat:function(e){return e===u.RGB_PVRTC_4BPPV1||e===u.RGB_PVRTC_2BPPV1||e===u.RGBA_PVRTC_4BPPV1||e===u.RGBA_PVRTC_2BPPV1},isASTCFormat:function(e){return e===u.RGBA_ASTC},isETC1Format:function(e){return e===u.RGB_ETC1},isETC2Format:function(e){return e===u.RGB8_ETC2||e===u.RGBA8_ETC2_EAC},isBC7Format:function(e){return e===u.RGBA_BC7},compressedTextureSizeInBytes:function(e,t,n){switch(e){case u.RGB_DXT1:case u.RGBA_DXT1:case u.RGB_ETC1:case u.RGB8_ETC2:return Math.floor((t+3)/4)*Math.floor((n+3)/4)*8;case u.RGBA_DXT3:case u.RGBA_DXT5:case u.RGBA_ASTC:case u.RGBA8_ETC2_EAC:return Math.floor((t+3)/4)*Math.floor((n+3)/4)*16;case u.RGB_PVRTC_4BPPV1:case u.RGBA_PVRTC_4BPPV1:return Math.floor((Math.max(t,8)*Math.max(n,8)*4+7)/8);case u.RGB_PVRTC_2BPPV1:case u.RGBA_PVRTC_2BPPV1:return Math.floor((Math.max(t,16)*Math.max(n,8)*2+7)/8);case u.RGBA_BC7:return Math.ceil(t/4)*Math.ceil(n/4)*16;default:return 0}},textureSizeInBytes:function(e,t,n,r){let i=u.componentsLength(e);return s.isPacked(t)&&(i=1),i*s.sizeInBytes(t)*n*r},alignmentInBytes:function(e,t,n){const r=u.textureSizeInBytes(e,t,n,1)%4;return 0===r?4:2===r?2:1},createTypedArray:function(e,t,n,r){let i;const a=s.sizeInBytes(t);i=a===Uint8Array.BYTES_PER_ELEMENT?Uint8Array:a===Uint16Array.BYTES_PER_ELEMENT?Uint16Array:a===Float32Array.BYTES_PER_ELEMENT&&t===s.FLOAT?Float32Array:Uint32Array;return new i(u.componentsLength(e)*n*r)},flipY:function(e,t,n,r,i){if(1===i)return e;const a=u.createTypedArray(t,n,r,i),o=u.componentsLength(t),s=r*o;for(let t=0;t<i;++t){const n=t*r*o,u=(i-t-1)*r*o;for(let t=0;t<s;++t)a[u+t]=e[n+t]}return a},toInternalFormat:function(e,t,n){if(!n.webgl2)return e;if(e===u.DEPTH_STENCIL)return i.WebGLConstants.DEPTH24_STENCIL8;if(e===u.DEPTH_COMPONENT){if(t===s.UNSIGNED_SHORT)return i.WebGLConstants.DEPTH_COMPONENT16;if(t===s.UNSIGNED_INT)return i.WebGLConstants.DEPTH_COMPONENT24}if(t===s.FLOAT)switch(e){case u.RGBA:return i.WebGLConstants.RGBA32F;case u.RGB:return i.WebGLConstants.RGB32F;case u.RG:return i.WebGLConstants.RG32F;case u.R:return i.WebGLConstants.R32F}if(t===s.HALF_FLOAT)switch(e){case u.RGBA:return i.WebGLConstants.RGBA16F;case u.RGB:return i.WebGLConstants.RGB16F;case u.RG:return i.WebGLConstants.RG16F;case u.R:return i.WebGLConstants.R16F}return e}};var l=Object.freeze(u);var c=Object.freeze({VK_FORMAT_UNDEFINED:0,VK_FORMAT_R4G4_UNORM_PACK8:1,VK_FORMAT_R4G4B4A4_UNORM_PACK16:2,VK_FORMAT_B4G4R4A4_UNORM_PACK16:3,VK_FORMAT_R5G6B5_UNORM_PACK16:4,VK_FORMAT_B5G6R5_UNORM_PACK16:5,VK_FORMAT_R5G5B5A1_UNORM_PACK16:6,VK_FORMAT_B5G5R5A1_UNORM_PACK16:7,VK_FORMAT_A1R5G5B5_UNORM_PACK16:8,VK_FORMAT_R8_UNORM:9,VK_FORMAT_R8_SNORM:10,VK_FORMAT_R8_USCALED:11,VK_FORMAT_R8_SSCALED:12,VK_FORMAT_R8_UINT:13,VK_FORMAT_R8_SINT:14,VK_FORMAT_R8_SRGB:15,VK_FORMAT_R8G8_UNORM:16,VK_FORMAT_R8G8_SNORM:17,VK_FORMAT_R8G8_USCALED:18,VK_FORMAT_R8G8_SSCALED:19,VK_FORMAT_R8G8_UINT:20,VK_FORMAT_R8G8_SINT:21,VK_FORMAT_R8G8_SRGB:22,VK_FORMAT_R8G8B8_UNORM:23,VK_FORMAT_R8G8B8_SNORM:24,VK_FORMAT_R8G8B8_USCALED:25,VK_FORMAT_R8G8B8_SSCALED:26,VK_FORMAT_R8G8B8_UINT:27,VK_FORMAT_R8G8B8_SINT:28,VK_FORMAT_R8G8B8_SRGB:29,VK_FORMAT_B8G8R8_UNORM:30,VK_FORMAT_B8G8R8_SNORM:31,VK_FORMAT_B8G8R8_USCALED:32,VK_FORMAT_B8G8R8_SSCALED:33,VK_FORMAT_B8G8R8_UINT:34,VK_FORMAT_B8G8R8_SINT:35,VK_FORMAT_B8G8R8_SRGB:36,VK_FORMAT_R8G8B8A8_UNORM:37,VK_FORMAT_R8G8B8A8_SNORM:38,VK_FORMAT_R8G8B8A8_USCALED:39,VK_FORMAT_R8G8B8A8_SSCALED:40,VK_FORMAT_R8G8B8A8_UINT:41,VK_FORMAT_R8G8B8A8_SINT:42,VK_FORMAT_R8G8B8A8_SRGB:43,VK_FORMAT_B8G8R8A8_UNORM:44,VK_FORMAT_B8G8R8A8_SNORM:45,VK_FORMAT_B8G8R8A8_USCALED:46,VK_FORMAT_B8G8R8A8_SSCALED:47,VK_FORMAT_B8G8R8A8_UINT:48,VK_FORMAT_B8G8R8A8_SINT:49,VK_FORMAT_B8G8R8A8_SRGB:50,VK_FORMAT_A8B8G8R8_UNORM_PACK32:51,VK_FORMAT_A8B8G8R8_SNORM_PACK32:52,VK_FORMAT_A8B8G8R8_USCALED_PACK32:53,VK_FORMAT_A8B8G8R8_SSCALED_PACK32:54,VK_FORMAT_A8B8G8R8_UINT_PACK32:55,VK_FORMAT_A8B8G8R8_SINT_PACK32:56,VK_FORMAT_A8B8G8R8_SRGB_PACK32:57,VK_FORMAT_A2R10G10B10_UNORM_PACK32:58,VK_FORMAT_A2R10G10B10_SNORM_PACK32:59,VK_FORMAT_A2R10G10B10_USCALED_PACK32:60,VK_FORMAT_A2R10G10B10_SSCALED_PACK32:61,VK_FORMAT_A2R10G10B10_UINT_PACK32:62,VK_FORMAT_A2R10G10B10_SINT_PACK32:63,VK_FORMAT_A2B10G10R10_UNORM_PACK32:64,VK_FORMAT_A2B10G10R10_SNORM_PACK32:65,VK_FORMAT_A2B10G10R10_USCALED_PACK32:66,VK_FORMAT_A2B10G10R10_SSCALED_PACK32:67,VK_FORMAT_A2B10G10R10_UINT_PACK32:68,VK_FORMAT_A2B10G10R10_SINT_PACK32:69,VK_FORMAT_R16_UNORM:70,VK_FORMAT_R16_SNORM:71,VK_FORMAT_R16_USCALED:72,VK_FORMAT_R16_SSCALED:73,VK_FORMAT_R16_UINT:74,VK_FORMAT_R16_SINT:75,VK_FORMAT_R16_SFLOAT:76,VK_FORMAT_R16G16_UNORM:77,VK_FORMAT_R16G16_SNORM:78,VK_FORMAT_R16G16_USCALED:79,VK_FORMAT_R16G16_SSCALED:80,VK_FORMAT_R16G16_UINT:81,VK_FORMAT_R16G16_SINT:82,VK_FORMAT_R16G16_SFLOAT:83,VK_FORMAT_R16G16B16_UNORM:84,VK_FORMAT_R16G16B16_SNORM:85,VK_FORMAT_R16G16B16_USCALED:86,VK_FORMAT_R16G16B16_SSCALED:87,VK_FORMAT_R16G16B16_UINT:88,VK_FORMAT_R16G16B16_SINT:89,VK_FORMAT_R16G16B16_SFLOAT:90,VK_FORMAT_R16G16B16A16_UNORM:91,VK_FORMAT_R16G16B16A16_SNORM:92,VK_FORMAT_R16G16B16A16_USCALED:93,VK_FORMAT_R16G16B16A16_SSCALED:94,VK_FORMAT_R16G16B16A16_UINT:95,VK_FORMAT_R16G16B16A16_SINT:96,VK_FORMAT_R16G16B16A16_SFLOAT:97,VK_FORMAT_R32_UINT:98,VK_FORMAT_R32_SINT:99,VK_FORMAT_R32_SFLOAT:100,VK_FORMAT_R32G32_UINT:101,VK_FORMAT_R32G32_SINT:102,VK_FORMAT_R32G32_SFLOAT:103,VK_FORMAT_R32G32B32_UINT:104,VK_FORMAT_R32G32B32_SINT:105,VK_FORMAT_R32G32B32_SFLOAT:106,VK_FORMAT_R32G32B32A32_UINT:107,VK_FORMAT_R32G32B32A32_SINT:108,VK_FORMAT_R32G32B32A32_SFLOAT:109,VK_FORMAT_R64_UINT:110,VK_FORMAT_R64_SINT:111,VK_FORMAT_R64_SFLOAT:112,VK_FORMAT_R64G64_UINT:113,VK_FORMAT_R64G64_SINT:114,VK_FORMAT_R64G64_SFLOAT:115,VK_FORMAT_R64G64B64_UINT:116,VK_FORMAT_R64G64B64_SINT:117,VK_FORMAT_R64G64B64_SFLOAT:118,VK_FORMAT_R64G64B64A64_UINT:119,VK_FORMAT_R64G64B64A64_SINT:120,VK_FORMAT_R64G64B64A64_SFLOAT:121,VK_FORMAT_B10G11R11_UFLOAT_PACK32:122,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:123,VK_FORMAT_D16_UNORM:124,VK_FORMAT_X8_D24_UNORM_PACK32:125,VK_FORMAT_D32_SFLOAT:126,VK_FORMAT_S8_UINT:127,VK_FORMAT_D16_UNORM_S8_UINT:128,VK_FORMAT_D24_UNORM_S8_UINT:129,VK_FORMAT_D32_SFLOAT_S8_UINT:130,VK_FORMAT_BC1_RGB_UNORM_BLOCK:131,VK_FORMAT_BC1_RGB_SRGB_BLOCK:132,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:133,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:134,VK_FORMAT_BC2_UNORM_BLOCK:135,VK_FORMAT_BC2_SRGB_BLOCK:136,VK_FORMAT_BC3_UNORM_BLOCK:137,VK_FORMAT_BC3_SRGB_BLOCK:138,VK_FORMAT_BC4_UNORM_BLOCK:139,VK_FORMAT_BC4_SNORM_BLOCK:140,VK_FORMAT_BC5_UNORM_BLOCK:141,VK_FORMAT_BC5_SNORM_BLOCK:142,VK_FORMAT_BC6H_UFLOAT_BLOCK:143,VK_FORMAT_BC6H_SFLOAT_BLOCK:144,VK_FORMAT_BC7_UNORM_BLOCK:145,VK_FORMAT_BC7_SRGB_BLOCK:146,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:147,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:148,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:149,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:150,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:151,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:152,VK_FORMAT_EAC_R11_UNORM_BLOCK:153,VK_FORMAT_EAC_R11_SNORM_BLOCK:154,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:155,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:156,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:157,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:158,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:159,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:160,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:161,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:162,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:163,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:164,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:165,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:166,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:167,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:168,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:169,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:170,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:171,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:172,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:173,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:174,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:175,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:176,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:177,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:178,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:179,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:180,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:181,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:182,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:183,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:184,VK_FORMAT_G8B8G8R8_422_UNORM:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM:1000156001,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM:1000156002,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM:1000156003,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM:1000156004,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM:1000156005,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM:1000156006,VK_FORMAT_R10X6_UNORM_PACK16:1000156007,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:1000156008,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:1000156009,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:1000156010,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:1000156011,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16:1000156012,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16:1000156013,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16:1000156014,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16:1000156015,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16:1000156016,VK_FORMAT_R12X4_UNORM_PACK16:1000156017,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:1000156018,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:1000156019,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:1000156020,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:1000156021,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16:1000156022,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16:1000156023,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16:1000156024,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16:1000156025,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16:1000156026,VK_FORMAT_G16B16G16R16_422_UNORM:1000156027,VK_FORMAT_B16G16R16G16_422_UNORM:1000156028,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM:1000156029,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM:1000156030,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM:1000156031,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM:1000156032,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM:1000156033,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:1000054e3,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:1000054001,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:1000054002,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:1000054003,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:1000054004,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:1000054005,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:1000054006,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:1000054007,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:1000066e3,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:1000066001,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:1000066002,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:1000066003,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:1000066004,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:1000066005,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:1000066006,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:1000066007,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:1000066008,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:1000066009,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:1000066010,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:1000066011,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:1000066012,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:1000066013,VK_FORMAT_G8B8G8R8_422_UNORM_KHR:1000156e3,VK_FORMAT_B8G8R8G8_422_UNORM_KHR:1000156001,VK_FORMAT_G8_B8_R8_3PLANE_420_UNORM_KHR:1000156002,VK_FORMAT_G8_B8R8_2PLANE_420_UNORM_KHR:1000156003,VK_FORMAT_G8_B8_R8_3PLANE_422_UNORM_KHR:1000156004,VK_FORMAT_G8_B8R8_2PLANE_422_UNORM_KHR:1000156005,VK_FORMAT_G8_B8_R8_3PLANE_444_UNORM_KHR:1000156006,VK_FORMAT_R10X6_UNORM_PACK16_KHR:1000156007,VK_FORMAT_R10X6G10X6_UNORM_2PACK16_KHR:1000156008,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16_KHR:1000156009,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16_KHR:1000156010,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16_KHR:1000156011,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_420_UNORM_3PACK16_KHR:1000156012,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_420_UNORM_3PACK16_KHR:1000156013,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_422_UNORM_3PACK16_KHR:1000156014,VK_FORMAT_G10X6_B10X6R10X6_2PLANE_422_UNORM_3PACK16_KHR:1000156015,VK_FORMAT_G10X6_B10X6_R10X6_3PLANE_444_UNORM_3PACK16_KHR:1000156016,VK_FORMAT_R12X4_UNORM_PACK16_KHR:1000156017,VK_FORMAT_R12X4G12X4_UNORM_2PACK16_KHR:1000156018,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16_KHR:1000156019,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16_KHR:1000156020,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16_KHR:1000156021,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_420_UNORM_3PACK16_KHR:1000156022,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_420_UNORM_3PACK16_KHR:1000156023,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_422_UNORM_3PACK16_KHR:1000156024,VK_FORMAT_G12X4_B12X4R12X4_2PLANE_422_UNORM_3PACK16_KHR:1000156025,VK_FORMAT_G12X4_B12X4_R12X4_3PLANE_444_UNORM_3PACK16_KHR:1000156026,VK_FORMAT_G16B16G16R16_422_UNORM_KHR:1000156027,VK_FORMAT_B16G16R16G16_422_UNORM_KHR:1000156028,VK_FORMAT_G16_B16_R16_3PLANE_420_UNORM_KHR:1000156029,VK_FORMAT_G16_B16R16_2PLANE_420_UNORM_KHR:1000156030,VK_FORMAT_G16_B16_R16_3PLANE_422_UNORM_KHR:1000156031,VK_FORMAT_G16_B16R16_2PLANE_422_UNORM_KHR:1000156032,VK_FORMAT_G16_B16_R16_3PLANE_444_UNORM_KHR:1000156033});const f=[171,75,84,88,32,50,48,187,13,10,26,10];var d,p,h,m,_,y,g,C,b;(b=d||(d={}))[b.NONE=0]="NONE",b[b.BASISLZ=1]="BASISLZ",b[b.ZSTD=2]="ZSTD",b[b.ZLIB=3]="ZLIB",function(e){e[e.BASICFORMAT=0]="BASICFORMAT"}(p||(p={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ETC1S=163]="ETC1S",e[e.UASTC=166]="UASTC"}(h||(h={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SRGB=1]="SRGB"}(m||(m={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LINEAR=1]="LINEAR",e[e.SRGB=2]="SRGB",e[e.ITU=3]="ITU",e[e.NTSC=4]="NTSC",e[e.SLOG=5]="SLOG",e[e.SLOG2=6]="SLOG2"}(_||(_={})),function(e){e[e.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",e[e.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(y||(y={})),function(e){e[e.RGB=0]="RGB",e[e.RRR=3]="RRR",e[e.GGG=4]="GGG",e[e.AAA=15]="AAA"}(g||(g={})),function(e){e[e.RGB=0]="RGB",e[e.RGBA=3]="RGBA",e[e.RRR=4]="RRR",e[e.RRRG=5]="RRRG"}(C||(C={}));class A{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=d.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:p.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:h.UNSPECIFIED,colorPrimaries:m.SRGB,transferFunction:m.SRGB,flags:y.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null}}class E{constructor(e,t,n,r){this._dataView=new DataView(e.buffer,e.byteOffset+t,n),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const n=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+n,r)}}function w(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):r.from(e).toString("utf8")}const T=["positiveX","negativeX","positiveY","negativeY","positiveZ","negativeZ"];let x;function v(n,r){const i=n.ktx2Buffer,a=n.supportedTargetFormats;let o;try{o=function(e){const t=new Uint8Array(e.buffer,e.byteOffset,f.length);if(t[0]!==f[0]||t[1]!==f[1]||t[2]!==f[2]||t[3]!==f[3]||t[4]!==f[4]||t[5]!==f[5]||t[6]!==f[6]||t[7]!==f[7]||t[8]!==f[8]||t[9]!==f[9]||t[10]!==f[10]||t[11]!==f[11])throw new Error("Missing KTX 2.0 identifier.");const n=new A,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new E(e,f.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();const a=i._nextUint32();n.supercompressionScheme=i._nextUint32();const o=i._nextUint32(),s=i._nextUint32(),u=i._nextUint32(),l=i._nextUint32(),c=i._nextUint64(),d=i._nextUint64(),p=new E(e,f.length+r,3*a*8,!0);for(let t=0;t<a;t++)n.levels.push({levelData:new Uint8Array(e.buffer,e.byteOffset+p._nextUint64(),p._nextUint64()),uncompressedByteLength:p._nextUint64()});const h=new E(e,o,s,!0),m={vendorId:h._skip(4)._nextUint16(),descriptorType:h._nextUint16(),versionNumber:h._nextUint16(),descriptorBlockSize:h._nextUint16(),colorModel:h._nextUint8(),colorPrimaries:h._nextUint8(),transferFunction:h._nextUint8(),flags:h._nextUint8(),texelBlockDimension:{x:h._nextUint8()+1,y:h._nextUint8()+1,z:h._nextUint8()+1,w:h._nextUint8()+1},bytesPlane:[h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8()],samples:[]},_=(m.descriptorBlockSize/4-6)/4;for(let e=0;e<_;e++)m.samples[e]={bitOffset:h._nextUint16(),bitLength:h._nextUint8(),channelID:h._nextUint8(),samplePosition:[h._nextUint8(),h._nextUint8(),h._nextUint8(),h._nextUint8()],sampleLower:h._nextUint32(),sampleUpper:h._nextUint32()};n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(m);const y=new E(e,u,l,!0);for(;y._offset<l;){const e=y._nextUint32(),t=y._scan(e),r=w(t),i=y._scan(e-t.byteLength);n.keyValue[r]=r.match(/^ktx/i)?w(i):i,y._offset%4&&y._skip(4-y._offset%4)}if(d<=0)return n;const g=new E(e,c,d,!0),C=g._nextUint16(),b=g._nextUint16(),T=g._nextUint32(),x=g._nextUint32(),v=g._nextUint32(),R=g._nextUint32(),O=[];for(let e=0;e<a;e++)O.push({imageFlags:g._nextUint32(),rgbSliceByteOffset:g._nextUint32(),rgbSliceByteLength:g._nextUint32(),alphaSliceByteOffset:g._nextUint32(),alphaSliceByteLength:g._nextUint32()});const M=c+g._offset,S=M+T,I=S+x,P=I+v,N=new Uint8Array(e.buffer,e.byteOffset+M,T),L=new Uint8Array(e.buffer,e.byteOffset+S,x),D=new Uint8Array(e.buffer,e.byteOffset+I,v),F=new Uint8Array(e.buffer,e.byteOffset+P,R);return n.globalData={endpointCount:C,selectorCount:b,imageDescs:O,endpointsData:N,selectorsData:L,tablesData:D,extendedData:F},n}(i)}catch(e){throw new t.RuntimeError("Invalid KTX2 file.")}if(0!==o.layerCount)throw new t.RuntimeError("KTX2 texture arrays are not supported.");if(0!==o.pixelDepth)throw new t.RuntimeError("KTX2 3D textures are unsupported.");const u=o.dataFormatDescriptor[0],d=new Array(o.levelCount);return 0!==o.vkFormat||163!==u.colorModel&&166!==u.colorModel?(r.push(i.buffer),function(t,n){const r=t.vkFormat===c.VK_FORMAT_R8G8B8_SRGB?l.RGB:l.RGBA;let i;t.vkFormat===c.VK_FORMAT_R8G8B8A8_UNORM?i=s.UNSIGNED_BYTE:t.vkFormat===c.VK_FORMAT_R16G16B16A16_SFLOAT?i=s.HALF_FLOAT:t.vkFormat===c.VK_FORMAT_R32G32B32A32_SFLOAT&&(i=s.FLOAT);for(let a=0;a<t.levels.length;++a){const o={};n[a]=o;const u=t.levels[a].levelData,c=t.pixelWidth>>a,f=t.pixelHeight>>a,d=c*f*l.componentsLength(r);for(let n=0;n<t.faceCount;++n){const a=u.byteOffset+d*t.typeSize*n;let l;l=e.defined(i)&&1!==s.sizeInBytes(i)?2===s.sizeInBytes(i)?new Uint16Array(u.buffer,a,d):new Float32Array(u.buffer,a,d):new Uint8Array(u.buffer,a,d),o[T[n]]={internalFormat:r,datatype:i,width:c,height:f,levelBuffer:l}}}}(o,d)):function(n,r,i,a,o,s){const u=new a.KTX2File(n);let c=u.getWidth(),f=u.getHeight();const d=u.getLevels(),p=u.getHasAlpha();if(!(c>0&&f>0&&d>0))throw u.close(),u.delete(),new t.RuntimeError("Invalid KTX2 file");let h,m;const _=r.dataFormatDescriptor[0],y=a.transcoder_texture_format;if(163===_.colorModel)if(i.etc)h=p?l.RGBA8_ETC2_EAC:l.RGB8_ETC2,m=p?y.cTFETC2_RGBA:y.cTFETC1_RGB;else if(i.etc1&&!p)h=l.RGB_ETC1,m=y.cTFETC1_RGB;else if(i.s3tc)h=p?l.RGBA_DXT5:l.RGB_DXT1,m=p?y.cTFBC3_RGBA:y.cTFBC1_RGB;else if(i.pvrtc)h=p?l.RGBA_PVRTC_4BPPV1:l.RGB_PVRTC_4BPPV1,m=p?y.cTFPVRTC1_4_RGBA:y.cTFPVRTC1_4_RGB;else if(i.astc)h=l.RGBA_ASTC,m=y.cTFASTC_4x4_RGBA;else{if(!i.bc7)throw new t.RuntimeError("No transcoding format target available for ETC1S compressed ktx2.");h=l.RGBA_BC7,m=y.cTFBC7_RGBA}else if(166===_.colorModel)if(i.astc)h=l.RGBA_ASTC,m=y.cTFASTC_4x4_RGBA;else if(i.bc7)h=l.RGBA_BC7,m=y.cTFBC7_RGBA;else if(i.s3tc)h=p?l.RGBA_DXT5:l.RGB_DXT1,m=p?y.cTFBC3_RGBA:y.cTFBC1_RGB;else if(i.etc)h=p?l.RGBA8_ETC2_EAC:l.RGB8_ETC2,m=p?y.cTFETC2_RGBA:y.cTFETC1_RGB;else if(i.etc1&&!p)h=l.RGB_ETC1,m=y.cTFETC1_RGB;else{if(!i.pvrtc)throw new t.RuntimeError("No transcoding format target available for UASTC compressed ktx2.");h=p?l.RGBA_PVRTC_4BPPV1:l.RGB_PVRTC_4BPPV1,m=p?y.cTFPVRTC1_4_RGBA:y.cTFPVRTC1_4_RGB}if(!u.startTranscoding())throw u.close(),u.delete(),new t.RuntimeError("startTranscoding() failed");for(let n=0;n<r.levels.length;++n){const i={};s[n]=i,c=r.pixelWidth>>n,f=r.pixelHeight>>n;const a=u.getImageTranscodedSizeInBytes(n,0,0,m.value),l=new Uint8Array(a),d=u.transcodeImage(l,n,0,0,m.value,0,-1,-1);if(!e.defined(d))throw new t.RuntimeError("transcodeImage() failed.");o.push(l.buffer),i[T[0]]={internalFormat:h,width:c,height:f,levelBuffer:l}}u.close(),u.delete()}(i,o,a,x,r,d),d}function R(e){x=e,x.initializeBasis(),self.onmessage=a(v),self.postMessage(!0)}return function(t){const r=t.data.webAssemblyConfig;if(e.defined(r))return Promise.resolve().then((function(){var t=[n(107)(r.modulePath)];(function(t){if(!e.defined(r.wasmBinaryFile))return t().then((function(e){R(e)}));e.defined(t)||(t=self.MSC_TRANSCODER),t(r).then((function(e){R(e)}))}).apply(null,t)})).catch(n.oe)}}.apply(t,i))||(e.exports=a)}).call(this,n(27).Buffer)},function(e,t){"undefined"==typeof self&&(self={}),self.onmessage=function(e){const t=e.data.array,n=self.webkitPostMessage||self.postMessage;try{n({array:t},[t.buffer])}catch(e){n({})}}},function(e,t,n){var r,i;r=[n(15),n(4),n(2),n(0),n(43),n(10),n(1),n(3),n(32),n(20),n(9),n(7),n(5),n(18),n(17),n(13),n(11)],void 0===(i=function(e,t,n,r,i,a,o,s,u,l,c,f,d,p,h,m,_){"use strict";const y={clipTriangleAtAxisAlignedThreshold:function(e,t,n,i,a,o){let s,u,l;r.defined(o)?o.length=0:o=[],t?(s=n<e,u=i<e,l=a<e):(s=n>e,u=i>e,l=a>e);const c=s+u+l;let f,d,p,h,m,_;return 1===c?s?(f=(e-n)/(i-n),d=(e-n)/(a-n),o.push(1),o.push(2),1!==d&&(o.push(-1),o.push(0),o.push(2),o.push(d)),1!==f&&(o.push(-1),o.push(0),o.push(1),o.push(f))):u?(p=(e-i)/(a-i),h=(e-i)/(n-i),o.push(2),o.push(0),1!==h&&(o.push(-1),o.push(1),o.push(0),o.push(h)),1!==p&&(o.push(-1),o.push(1),o.push(2),o.push(p))):l&&(m=(e-a)/(n-a),_=(e-a)/(i-a),o.push(0),o.push(1),1!==_&&(o.push(-1),o.push(2),o.push(1),o.push(_)),1!==m&&(o.push(-1),o.push(2),o.push(0),o.push(m))):2===c?s||n===e?u||i===e?l||a===e||(d=(e-n)/(a-n),p=(e-i)/(a-i),o.push(2),o.push(-1),o.push(0),o.push(2),o.push(d),o.push(-1),o.push(1),o.push(2),o.push(p)):(_=(e-a)/(i-a),f=(e-n)/(i-n),o.push(1),o.push(-1),o.push(2),o.push(1),o.push(_),o.push(-1),o.push(0),o.push(1),o.push(f)):(h=(e-i)/(n-i),m=(e-a)/(n-a),o.push(0),o.push(-1),o.push(1),o.push(0),o.push(h),o.push(-1),o.push(2),o.push(0),o.push(m)):3!==c&&(o.push(0),o.push(1),o.push(2)),o},computeBarycentricCoordinates:function(e,t,i,a,o,s,u,l,c){const f=i-u,d=u-o,p=s-l,h=a-l,m=1/(p*f+d*h),_=t-l,y=e-u,g=(p*y+d*_)*m,C=(-h*y+f*_)*m,b=1-g-C;return r.defined(c)?(c.x=g,c.y=C,c.z=b,c):new n.Cartesian3(g,C,b)},computeLineSegmentLineSegmentIntersection:function(e,t,i,a,o,s,u,l,c){const f=(l-s)*(i-e)-(u-o)*(a-t);if(0===f)return;const d=((u-o)*(t-s)-(l-s)*(e-o))/f,p=((i-e)*(t-s)-(a-t)*(e-o))/f;return d>=0&&d<=1&&p>=0&&p<=1?(r.defined(c)||(c=new n.Cartesian2),c.x=e+d*(i-e),c.y=t+d*(a-t),c):void 0}},g=[],C=[],b=[],A=new n.Cartographic;let E=new n.Cartesian3;const w=[],T=[],x=[],v=[],R=[],O=new n.Cartesian3,M=new t.BoundingSphere,S=new u.OrientedBoundingBox,I=new n.Cartesian2,P=new n.Cartesian3;function N(){this.vertexBuffer=void 0,this.index=void 0,this.first=void 0,this.second=void 0,this.ratio=void 0}N.prototype.clone=function(e){return r.defined(e)||(e=new N),e.uBuffer=this.uBuffer,e.vBuffer=this.vBuffer,e.heightBuffer=this.heightBuffer,e.normalBuffer=this.normalBuffer,e.index=this.index,e.first=this.first,e.second=this.second,e.ratio=this.ratio,e},N.prototype.initializeIndexed=function(e,t,n,r,i){this.uBuffer=e,this.vBuffer=t,this.heightBuffer=n,this.normalBuffer=r,this.index=i,this.first=void 0,this.second=void 0,this.ratio=void 0},N.prototype.initializeFromClipResult=function(e,t,n){let r=t+1;return-1!==e[t]?n[e[t]].clone(this):(this.vertexBuffer=void 0,this.index=void 0,this.first=n[e[r]],++r,this.second=n[e[r]],++r,this.ratio=e[r],++r),r},N.prototype.getKey=function(){return this.isIndexed()?this.index:JSON.stringify({first:this.first.getKey(),second:this.second.getKey(),ratio:this.ratio})},N.prototype.isIndexed=function(){return r.defined(this.index)},N.prototype.getH=function(){return r.defined(this.index)?this.heightBuffer[this.index]:s.CesiumMath.lerp(this.first.getH(),this.second.getH(),this.ratio)},N.prototype.getU=function(){return r.defined(this.index)?this.uBuffer[this.index]:s.CesiumMath.lerp(this.first.getU(),this.second.getU(),this.ratio)},N.prototype.getV=function(){return r.defined(this.index)?this.vBuffer[this.index]:s.CesiumMath.lerp(this.first.getV(),this.second.getV(),this.ratio)};let L=new n.Cartesian2,D=-1;const F=[new n.Cartesian3,new n.Cartesian3],G=[new n.Cartesian3,new n.Cartesian3];function B(t,r){++D;let i=F[D],a=G[D];return i=e.AttributeCompression.octDecode(t.first.getNormalX(),t.first.getNormalY(),i),a=e.AttributeCompression.octDecode(t.second.getNormalX(),t.second.getNormalY(),a),E=n.Cartesian3.lerp(i,a,t.ratio,E),n.Cartesian3.normalize(E,E),e.AttributeCompression.octEncode(E,r),--D,r}N.prototype.getNormalX=function(){return r.defined(this.index)?this.normalBuffer[2*this.index]:(L=B(this,L),L.x)},N.prototype.getNormalY=function(){return r.defined(this.index)?this.normalBuffer[2*this.index+1]:(L=B(this,L),L.y)};const U=[];function k(e,t,n,i,a,o,s,u,l){if(0===s.length)return;let c=0,f=0;for(;f<s.length;)f=U[c++].initializeFromClipResult(s,f,u);for(let a=0;a<c;++a){const s=U[a];if(s.isIndexed())s.newIndex=o[s.index],s.uBuffer=e,s.vBuffer=t,s.heightBuffer=n,l&&(s.normalBuffer=i);else{const a=s.getKey();if(r.defined(o[a]))s.newIndex=o[a];else{const r=e.length;e.push(s.getU()),t.push(s.getV()),n.push(s.getH()),l&&(i.push(s.getNormalX()),i.push(s.getNormalY())),s.newIndex=r,o[a]=r}}}3===c?(a.push(U[0].newIndex),a.push(U[1].newIndex),a.push(U[2].newIndex)):4===c&&(a.push(U[0].newIndex),a.push(U[1].newIndex),a.push(U[2].newIndex),a.push(U[0].newIndex),a.push(U[2].newIndex),a.push(U[3].newIndex))}return U.push(new N),U.push(new N),U.push(new N),U.push(new N),l((function(e,r){const o=e.isEastChild,l=e.isNorthChild,c=o?16383:0,f=o?32767:16383,d=l?16383:0,p=l?32767:16383,h=w,m=T,_=x,L=R;h.length=0,m.length=0,_.length=0,L.length=0;const D=v;D.length=0;const F={},G=e.vertices;let B=e.indices;B=B.subarray(0,e.indexCountWithoutSkirts);const U=i.TerrainEncoding.clone(e.encoding),V=U.hasVertexNormals;let z=0;const j=e.vertexCountWithoutSkirts,H=e.minimumHeight,q=e.maximumHeight,W=new Array(j),K=new Array(j),Y=new Array(j),X=V?new Array(2*j):void 0;let Z,Q,$,J,ee;for(Q=0,$=0;Q<j;++Q,$+=2){const e=U.decodeTextureCoordinates(G,Q,I);if(Z=U.decodeHeight(G,Q),J=s.CesiumMath.clamp(32767*e.x|0,0,32767),ee=s.CesiumMath.clamp(32767*e.y|0,0,32767),Y[Q]=s.CesiumMath.clamp((Z-H)/(q-H)*32767|0,0,32767),J<20&&(J=0),ee<20&&(ee=0),32767-J<20&&(J=32767),32767-ee<20&&(ee=32767),W[Q]=J,K[Q]=ee,V){const e=U.getOctEncodedNormal(G,Q,P);X[$]=e.x,X[$+1]=e.y}(o&&J>=16383||!o&&J<=16383)&&(l&&ee>=16383||!l&&ee<=16383)&&(F[Q]=z,h.push(J),m.push(ee),_.push(Y[Q]),V&&(L.push(X[$]),L.push(X[$+1])),++z)}const te=[];te.push(new N),te.push(new N),te.push(new N);const ne=[];let re,ie;for(ne.push(new N),ne.push(new N),ne.push(new N),Q=0;Q<B.length;Q+=3){const e=B[Q],t=B[Q+1],n=B[Q+2],r=W[e],i=W[t],a=W[n];te[0].initializeIndexed(W,K,Y,X,e),te[1].initializeIndexed(W,K,Y,X,t),te[2].initializeIndexed(W,K,Y,X,n);const s=y.clipTriangleAtAxisAlignedThreshold(16383,o,r,i,a,g);re=0,re>=s.length||(re=ne[0].initializeFromClipResult(s,re,te),re>=s.length||(re=ne[1].initializeFromClipResult(s,re,te),re>=s.length||(re=ne[2].initializeFromClipResult(s,re,te),ie=y.clipTriangleAtAxisAlignedThreshold(16383,l,ne[0].getV(),ne[1].getV(),ne[2].getV(),C),k(h,m,_,L,D,F,ie,ne,V),re<s.length&&(ne[2].clone(ne[1]),ne[2].initializeFromClipResult(s,re,te),ie=y.clipTriangleAtAxisAlignedThreshold(16383,l,ne[0].getV(),ne[1].getV(),ne[2].getV(),C),k(h,m,_,L,D,F,ie,ne,V)))))}const ae=o?-32767:0,oe=l?-32767:0,se=[],ue=[],le=[],ce=[];let fe=Number.MAX_VALUE,de=-fe;const pe=b;pe.length=0;const he=n.Ellipsoid.clone(e.ellipsoid),me=n.Rectangle.clone(e.childRectangle),_e=me.north,ye=me.south;let ge=me.east;const Ce=me.west;for(ge<Ce&&(ge+=s.CesiumMath.TWO_PI),Q=0;Q<h.length;++Q)J=Math.round(h[Q]),J<=c?(se.push(Q),J=0):J>=f?(le.push(Q),J=32767):J=2*J+ae,h[Q]=J,ee=Math.round(m[Q]),ee<=d?(ue.push(Q),ee=0):ee>=p?(ce.push(Q),ee=32767):ee=2*ee+oe,m[Q]=ee,Z=s.CesiumMath.lerp(H,q,_[Q]/32767),Z<fe&&(fe=Z),Z>de&&(de=Z),_[Q]=Z,A.longitude=s.CesiumMath.lerp(Ce,ge,J/32767),A.latitude=s.CesiumMath.lerp(ye,_e,ee/32767),A.height=Z,he.cartographicToCartesian(A,E),pe.push(E.x),pe.push(E.y),pe.push(E.z);const be=t.BoundingSphere.fromVertices(pe,n.Cartesian3.ZERO,3,M),Ae=u.OrientedBoundingBox.fromRectangle(me,fe,de,he,S),Ee=new i.EllipsoidalOccluder(he).computeHorizonCullingPointFromVerticesPossiblyUnderEllipsoid(be.center,pe,3,be.center,fe,O),we=de-fe,Te=new Uint16Array(h.length+m.length+_.length);for(Q=0;Q<h.length;++Q)Te[Q]=h[Q];let xe=h.length;for(Q=0;Q<m.length;++Q)Te[xe+Q]=m[Q];for(xe+=m.length,Q=0;Q<_.length;++Q)Te[xe+Q]=32767*(_[Q]-fe)/we;const ve=a.IndexDatatype.createTypedArray(h.length,D);let Re;if(V){const e=new Uint8Array(L);r.push(Te.buffer,ve.buffer,e.buffer),Re=e.buffer}else r.push(Te.buffer,ve.buffer);return{vertices:Te.buffer,encodedNormals:Re,indices:ve.buffer,minimumHeight:fe,maximumHeight:de,westIndices:se,southIndices:ue,eastIndices:le,northIndices:ce,boundingSphere:be,orientedBoundingBox:Ae,horizonOcclusionPoint:Ee}}))}.apply(t,r))||(e.exports=i)}]);
//# sourceMappingURL=cesiumWorkers.js.map