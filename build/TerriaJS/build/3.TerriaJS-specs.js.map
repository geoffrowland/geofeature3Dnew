{"version":3,"sources":["webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/TinyMCE.js","webpack:///./node_modules/tinymce/icons/default/index.js","webpack:///./node_modules/tinymce/icons/default/icons.js","webpack:///./node_modules/tinymce/themes/silver/index.js","webpack:///./node_modules/tinymce/themes/silver/theme.js","webpack:///./node_modules/tinymce/models/dom/index.js","webpack:///./node_modules/tinymce/models/dom/model.js","webpack:///./node_modules/tinymce/plugins/media/index.js","webpack:///./node_modules/tinymce/plugins/media/plugin.js","webpack:///./node_modules/tinymce/plugins/image/index.js","webpack:///./node_modules/tinymce/plugins/image/plugin.js","webpack:///./node_modules/tinymce/plugins/link/index.js","webpack:///./node_modules/tinymce/plugins/link/plugin.js","webpack:///./node_modules/tinymce/plugins/lists/index.js","webpack:///./node_modules/tinymce/plugins/lists/plugin.js","webpack:///./node_modules/tinymce/plugins/table/index.js","webpack:///./node_modules/tinymce/plugins/table/plugin.js","webpack:///./node_modules/tinymce/plugins/autolink/index.js","webpack:///./node_modules/tinymce/plugins/autolink/plugin.js","webpack:///./node_modules/tinymce/skins/content/default/content.min.css","webpack:///./node_modules/tinymce/skins/ui/oxide/content.min.css","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/ScriptLoader.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/Editor.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/components/EditorPropTypes.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/Utils.js","webpack:///./node_modules/@tinymce/tinymce-react/lib/es2015/main/ts/index.js"],"names":["getGlobal","window","global","getTinymce","tinymce","IconManager","add","icons","getPrototypeOf","Object","hasProto","v","constructor","predicate","_a","prototype","name","isType$1","type","value","x","t","Array","isArray","String","o","proto","isPrototypeOf","typeOf","isSimpleType","eq$1","a","isString","isObject","isPlainObject","is$2","isNull","isBoolean","isUndefined","undefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","i","len","length","noop","compose","fa","fb","args","apply","constant$1","identity","tripleEquals","b","curry","fn","initialArgs","restArgs","all","concat","not","f","die","msg","Error","never","always","global$a","util","Tools","resolve","Optional","tag","this","singletonNone","onNone","onSome","mapper","some","none","binder","replacement","thunk","message","worker","nativeSlice","slice","nativeIndexOf","indexOf","nativePush","push","rawIndexOf","ts","call","xs","r","contains$2","exists","range$2","num","chunk$1","array","size","s","map$2","each$1","partition$3","pass","fail","filter$2","foldr","acc","eachr","foldl","find$5","until","findUntil","findIndex$1","flatten","bind$3","forall","reverse","difference","a1","a2","mapToObject","pure$2","sort","comparator","copy","get$h","head","last$1","from","findMap","arr","isSome","keys","hasOwnProperty","each","obj","props","k","map$1","tupleMap","tuple","objAcc","internalFilter","onTrue","onFalse","mapToArray","find$4","values","get$g","key","has$2","hasNonNullableKey","is$1","lhs","rhs","left","cat","lift2","oa","ob","getOrDie","someIf","checkRange","str","substr","start","contains$1","startsWith","prefix","endsWith","suffix","trim$1","replace","blank","isNotEmpty","isSupported$1","dom","style","getPropertyValue","fromDom","node","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","map","Function","name$3","element","nodeName","toLowerCase","isType","nodeType","type$1","isElement$1","isText","isDocument","isDocumentFragment","isTag","e","is","selector","elem","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","eq","e1","e2","contains","d1","d2","owner$4","ownerDocument","documentOrOwner","dos","documentElement","defaultView","parent","parentNode","parentElement","offsetParent","children","child$2","index","cs","spot","offset","leaf","isShadowRoot","host","supported","Element","attachShadow","Node","getRootNode","isSupported","getContentContainer","body","getShadowRoot","getShadowHost","isOpenShadowHost","shadowRoot","inBody","doc","fold","fbc","fab","getBody","rawSet","setAttribute","set$9","setAll$1","attrs","get$f","getAttribute","getOpt","has$1","hasAttribute","remove$7","removeAttribute","internalSet","property","setProperty","internalRemove","removeProperty","set$8","setAll","css","setOptions","get$e","getComputedStyle","getUnsafeProperty","getRaw","raw","filter","getAllRaw","ruleName","item","isValidValue","remove$6","reflow","offsetWidth","Dimension","getOffset","get","parseFloat","aggregate","properties","val","parseInt","isNaN","set","h","match","getOuter","max","cumulativeInclusions","api$2","getBoundingClientRect","height","offsetHeight","get$d","getOuter$2","r$1","top","translate","SugarPosition","firstDefinedOrZero","absolute$3","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport$1","box","boxPosition","api$1","get$c","getOuter$1","cached","called","unknown$3","nu$d","major","minor","Version","nu","detect","versionRegexes","agent","cleanedAgent","regexes","test","firstMatch","group","Number","find$3","unknown","detect$3","candidates","userAgent","candidate","search","normalVersionRegex","checkContains","target","uastring","browsers","brand","oses","PlatformInfo","nu$c","info","current","version","isBrowser","isEdge","isChromium","isIE","isOpera","isFirefox","isSafari","Browser","edge","chromium","ie","opera","firefox","safari","nu$b","isOS","isWindows","isiOS","isAndroid","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","windows","ios","android","linux","macos","solaris","freebsd","chromeos","PlatformDetection","userAgentDataOpt","mediaMatch","browser","bind","userAgentData","brands","uaBrand","lcBrand","detectBrowser$1","orThunk","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","query","matchMedia","platform","navigator","detect$1","fromRawEvent$1","rawEvent","event","el","composed","composedPath","getOriginalEventTarget","getOr","stop","stopPropagation","prevent","preventDefault","kill","mkEvent","clientX","clientY","handler","useCapture","wrapped","handle","addEventListener","unbind","removeEventListener","before$1","marker","insertBefore","after$2","nextSibling","append$2","prepend$1","firstChild","appendChild","append$1","elements","empty","textContent","rogue","remove$5","removeChild","get$b","_DOC","to","scrollTo","bounds$1","width","right","bottom","getBounds$3","_win","scroll","visualViewport","get$a","clientWidth","clientHeight","Math","pageLeft","pageTop","getDocument","walkUp","navigation","view","owner","rest","Navigation","freeze","__proto__","frameElement","find$2","d","paths","pathTo","frames","loc","bounds","box$1","xy","w","absolute$2","position","value$4","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","or","getOrThunk","toOptional","error$1","onError","_onValue","fromOption","optional","err","SimpleResultType","fold$1","res","stype","serror","svalue","Value","SimpleResult","results","errors","field$2","newKey","presence","prop","ifField","ifCustom","instantiator","baseMerge","merger","objects","ret","j","curObject","deepMerge","old","merge$1","defaultedThunk","fallbackThunk","process","defaulted$1","fallback","mergeWithThunk","baseThunk","mergeErrors$1","ResultCombine","partitions","formatObj","input","JSON","stringify","nu$a","path","getErrorInfo","value$3","validator","extract","custom","toString","anyValue$1","requiredAccess","bundle","missingRequired","fallbackAccess","extractField","field","av","bundleAsOption","optValue","ov","result","optionAccess","optionDefaultedAccess","valueThunk","getDelegate","getSetKeys","filter$1","objOfOnly","fields","delegate","objOf","fieldNames","extra","unsupported","join","unsupportedFields","success","extractFields","_okey","_presence","_instantiator","arrOf","oneOf","setOf$1","keys$1","validatedKeys","validateKeys","validKeys","schema","vk","arrOfObj","anyValue","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","postMessageable","chooseFrom","branches","ch","branch","missingBranch","vp","choose$2","missingKey","chosen","valueOf","setOf","asRaw","label","errs","extractValue","extraction","errInfo","formatError","asRawOrDie$1","es","formatErrors","choose$1","field$1","customField","validateEnum","required$1","requiredOf","requiredNumber","requiredString","requiredStringEnum","requiredFunction","requiredObjOf","objSchema","requiredArrayOfObj","objFields","requiredArrayOf","option$3","optionOf","optionNumber","optionString","optionStringEnum","optionFunction","optionArrayOf","optionObjOf","defaulted","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedArrayOf","defaultedObjOf","Cell","initial","Adt","cases","constructors","adt","acase","count","argLength","foldArgs","branchKeys","reqKey","log","params","bothErrors","firstError","secondError","bothValues","exclude","exclude$1","wrap$1","wrap$2","wrapAll","keyvalues","kv","wrapAll$1","consolidate","objs","base","partition$1","mergeValues","ensureIsRoot","isRoot","ancestor$2","transform","transformed","closest$4","isSource","component","simulatedEvent","defaultEventHandler","can","abort","run","nu$9","parts","fuse$1","handlers","all$2","any","constant","touchstart","touchmove","touchend","touchcancel","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitioncancel","transitionend","transitionstart","selectstart","prefixName","alloy","tap","focus$4","postBlur","postPaste","receive","execute$5","focusItem","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight$1","dehighlight$1","emit","dispatchWith","emitWith","emitExecute","dispatch","data","getSystem","triggerEvent","dispatchEvent","derive$2","configs","run$1","runActionExtra","action","runOnSourceName","redirectToPart","detail","partName","uid","getByUid","redirectee","redirectToUid","partUids","runWithTarget","ev","getByDom","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute$1","runOnName","get$9","set$6","content","docDom","fragment","createDocumentFragment","contentElements","fromHtml$1","shallow","original","isDeep","cloneNode","clone","getHtml","container","events$i","originator","isRecursive","warn","DefaultEvents","events","unique","generate$6","time","Date","getTime","random","floor","prefix$1","idAttr$1","idAttr","writeOnly","defineProperty","writable","read$1","id","generate$5","make$8","NoContextApi","getComp","getMessage","debugInfo","triggerFocus","triggerEscape","broadcast","broadcastOn","broadcastEvent","build","buildOrPatch","addToWorld","removeFromWorld","addToGui","removeFromGui","isConnected","singleton$1","cleanParameters","parameters","p","substring","markAsExtraApi","extraName","endIndex","openBracketIndex","split","toFunctionAnnotation","premadeTag","premade$1","comp","getPremade","spec","makeApi","apiFunction","markAsSketchApi","getApis","NoState","init","nu$8","readState","byInnerKey","indexKey","chain","nu$7","classes","attributes","styles","getCurried","descHandler","cHandler","behaviourTuple","nameToHandlers","behaviours","behaviour","combine$1","eventOrder","byEventName","behaviourEvents","groupByEvents","combineGroups","assemble","rawHandler","read$2","fuse","tuples","eventName","order","keyName","sorted","aKey","bKey","aIndex","bIndex","sortKeys","sortedTuples","c","missingOrderError","assembled","purpose","uncurried","baseBehaviour","schema$z","mergeWith","toEvents","read","attr","supports","classList","get$8","add$3","clazz","add$4","remove$3","remove$4","add$2","remove$2","remove","cleanClass","has","add$1","remove$1","get$7","getNative","get$6","set$5","ensureInDom","child","obsoleted","obs","patchChildrenWith","builtChildren","currentChildren","patchSpecChild","oldObsoleted","childComp","newObs","oldTag","determineObsoleted","diffKeyValueSet","newObj","oldObj","newKeys","oldKeys","toRemove","toSet","bifilter","reconcileToDom","definition","class","existingAttributes","clone$1","attrsToSet","attrsToRemove","existingStyles","stylesToSet","stylesToRemove","existingClasses","classesToRemove","classesToAdd","innerHtml","domChildren","nodes","optObsoleted","patchDomChildren","valueElement","updateValue","renderToDom","hasMixedChildren","isPremade","attemptPatch","subject","introduceToDom","generateFrom","validated","list","optBlobThunk","blob","config","state","generateFrom$1","generate$4","me","getBehaviours$2","getDomDefinition","bList","bData","components","infoModification","domModification","toModification","baseModification","modification","baseMod","modsByBehaviour","exhibit","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","combine$2","defnA","mod","build$2","getMe","systemApi","toInfo","bBlob","getBehaviours$3","getData$2","modDefinition","baseEvents","getEvents","subcomponents","hasConfigured","behaviourName","apis","connect","newApi","disconnect","syncComponents","children$1","subs","buildFromSpec","userSpec","specEvents","build$1","buildSubcomponents","completeSpec","text$1","external$1","extSpec","uids","userSpecWithUid","isSketchSpec$1","premade","ClosestOrAncestor","ancestor","ancestor$1","closest$3","closest$2","child$1","descendant","querySelector","one","closest$1","attribute","manager","ariaId","link","unlink","isAriaPartOf","queryElem","dep","find$1","isPartOf$1","EventConfiguration","eventConfig","processEvent","initialTarget","patterns","NORMAL","noLogger","LOGGING","logger","sequence","startTime","logEventCut","_name","outcome","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","write","finishTime","makeEventLogger","STOP","monitorEvent","menuFields","itemFields","itemSchema$3","_initSize","tieredMenuMarkers","markers$1","required","onPresenceHandler","fieldName","stack","lines","line","getTrace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","output$1","snapshot","initSize","nu$6","bubble","direction","placement","boundsRestriction","labelPrefix","alwaysFit","restriction","adt$a","southeast","southwest","northeast","northwest","south","north","east","west","southeast$3","southwest$3","northeast$3","northwest$3","south$3","north$3","east$3","west$3","cycleBy","delta","min","clamp","anchor","restrictions","dir","getRestriction","eastX$1","middleX$1","westX$1","northY$2","southY$2","centreY$1","southeast$2","bubbles","southwest$2","northeast$2","northwest$2","north$2","south$2","east$2","eastEdgeX$1","west$2","westEdgeX$1","all$1","allRtl$1","aboveOrBelow","aboveOrBelowRtl","belowOrAbove","belowOrAboveRtl","ActiveReceiving","receiveConfig","channelMap","channels","receivingData","targetChannels","universal","chooseChannels","channelInfo","channelSchema","onReceive","ReceivingSchema","loadEvent","bConfig","bState","_simulatedEvent","wrapApi","bName","apiName","markAsBehaviourApi","revokeBehaviour","doCreate","configSchema","schemaSchema","active","getConfig","wrappedApis","apiF","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$3","create$4","modeSchema","createModes","modes","createModes$1","branchKey","Receiving","ActivePosition","posConfig","useFixed","focus$3","focus","hasFocus","root","activeElement","active$1","preserve$1","refocus","focused","descend","descendant$1","oldFocus","newFocus","NuPositionCss","toPx","applyPositionCss","toOptions","adt$9","relative","fixed","positionWithDirection","posName","decision","decisionRect","rect","decisionX","decisionY","decisionRight","decisionBottom","cata$2","reposition","origin","toBox","rel","viewport","getBounds","pos","translate$2","outerScroll","relative$1","fixed$1","anchorBox","getPlacement","adt$8","fit","nofit","attempt","bubbleOffset","adjustedBounds","applyRestriction","isVerticalAxis","newPos","adjustedLeft","adjustedTop","adjustedRight","adjustedBottom","adjustBounds","newX","newY","originInBounds","sizeInBounds","visibleW","visibleH","boundsX","boundsY","boundsRight","boundsBottom","determinePosition","fits","fittedBox","maxX","maxY","restrictedX","restrictedY","restrictedWidth","restrictedHeight","calcReposition","isPartlyVisible","maxWidth","maxHeight","upAvailable","downAvailable","middle","cataVertical","westAvailable","eastAvailable","cataHorizontal","calcMaxSizes","on","classesOn","off","classesOff","layout","testY","singleton","doRevoke","clear","isSet","unbindable","value$2","bind$2","capture","capture$1","fromRawEvent","timerAttr","isTransitioning$1","transition","hasAll","hasChanges","intermediate","round","toFixed","isNone","equals","setupTransitionListeners","transitionEnd","transitionCancel","timer","isSourceTransition","pseudoElement","propertyName","transitionDone","clearTimeout","transitionStart","duration","times","parse","delay","dur","getTransitionDuration","requestAnimationFrame","setTimeout","applyTransitionCss","lastPlacement","shouldTransition","placer","mode","shouldApplyTransitionCss","intermediatePosition","intermediateCssOptions","timerId","startTransitioning","options","elementBox","panelWidth","panelHeight","attemptBestFit","isVisible","next","attemptLayout","newReposition","newVisibleW","newVisibleH","newIsVisible","bestNext","attempts","preference","setPlacement","setPlacement$1","setMaxHeight","absMax","setMax$1","anchored","available","expandable$1","defaultOr","dephault","go","positionCss","position$2","classInfo","setClasses","maxHeightFunction","setHeight","maxWidthFunction","setWidth","allAlignments","nu$5","xOffset","yOffset","insetModifier","insetXOffset","insetYOffset","getClasses","make","xDelta","yDelta","alignmentsOn","alignmentsOff","insetNortheast","insetNorthwest","insetNorth","insetSoutheast","insetSouthwest","insetSouth","insetEast","insetWest","nu$4","onDirection","isLtr","isRtl","getDirection","AttributeValue","Attribute","isBottomToTopDir","BottomToTop","schema$y","get$5","defaultLtr","defaultRtl","defaultBottomLtr","defaultBottomRtl","dirElement","isBottomToTop","customLtr","layouts","ls","onLtr","customRtl","onRtl","ltr","onBottomLtr","rtl","onBottomRtl","HotspotAnchor","anchorInfo","hotspot","overrides","MakeshiftAnchor","adt$7","screen","absolute","point","toAbsolute","sum","points","sumAsAbsolute","positions","absolute$1","getRootPoint","frame","frameOwner","compOwner","getBox","pointed","calcNewAnchor","optBox","rootPoint","topLeft","onRelative","onFixed","sumAsFixed","layoutsLtr","showAbove","layoutsRtl","NodeAnchor","nodeBox","SimRange","soffset","finish","foffset","adt$6","before","after","Situ","situ","adt$5","domRange","exact","SimSelection","exactFromRange","simRange","getWin","selection","rng","startContainer","startSitu","_finishSitu","_soffset","_finish","_foffset","getStart","range","relativeToNative","finishSitu","createRange","setStartBefore","setStart","setStartAfter","setEndBefore","setEnd","setEndAfter","setFinish","exactToNative","toRect","adt$4","fromRange","startOffset","endContainer","endOffset","diagnose","ranges","collapsed","rev","doDiagnose","getRanges","asLtrRange","descendants","querySelectorAll","all$3","makeRange","same","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","getExact","getSelection","getNativeSelection","sel","getFirstRect","rects","getClientRects","getFirstRect$1","getBounds$1","getBounds$2","api","getOption","nodeValue","NodeValue","descendOnce$1","last","get$4","descendOnce","getAnchorSelection","modStart","modFinish","SelectionAnchor","selectionBox","rawRect","eastX","westX","northY$1","southY$1","southeast$1","southwest$1","northeast$1","northwest$1","allRtl","SubmenuAnchor","submenuInfo","AnchorSchema","submenu","makeshift","TransitionSchema","PositionSchema","PlacementSchema","place","anchoring","placee","lastPlace","overrideOptions","simple","positionWithin","posState","placementSpec","boxElement","boundsBox","positionWithinBounds","placeeDetail","anchorage","placeeState","oldVisibility","getFixedOrigin","getRelativeOrigin","newState","doPlace","vis","Positioning","getMode","pConfig","_pState","reset","reset$2","fireDetaching","fireAttaching","virtualAttach","virtualDetach","attach$1","replaceChildren","newSpecs","buildNewChildren","detachChildren$1","newChildren","deleted","attach","attachWith","insertion","doDetach","detach","parent$1","detachChildren","attachSystem","guiSystem","attachSystemWith","inserter","detachSystem","rebuild","sandbox","sConfig","sState","_data","getAttachPoint","built","open$1","onOpen","close$1","onClose","isOpen$1","_sandbox","_sConfig","isOpen","cloak","_sState","sink","cssKey","newValue","store","cloakVisibilityAttr","decloak","hasPosition","oldValue","restore","SandboxApis","open","openWhileCloaked","transaction","close","isPartOf","getState","setContent","ActiveSandbox","sandboxConfig","sandboxState","SandboxSchema","Sandboxing","contents","dismissPopups","repositionPopups","mouseReleased","schema$x","receivingChannel$1","rawSpec","isExtraPart","fireEventInstead","fe","schema$w","receivingChannel","doReposition","onLoad$5","repConfig","repState","onLoad","onUnload$2","onUnload","RepresentApis","setValue","getValue","ActiveRepresenting","resetOnDom","_se","memory$1","isNotSet","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","RepresentState","memory","manual","setValue$2","onSetValue","DatasetStore","getDataKey","getFallbackEntry","initialValue","ManualStore","_repState","MemoryStore","initVal","RepresentSchema","Representing","setValueFrom","source","forbidden","forbid","_v","get$3","dump","augment","SketchBehaviours","adt$3","single","multiple","isSubstituted","scan","compSpec","placeholders","uiType","newSpec","subPlaceholder","substitute","req","childSpecs","substituted","valuesThunk","preprocess","preprocessor","substitutePlaces","ps","ph","replacements","_","used","oneReplace","substituteAll","single$2","placeholder","adt$2","external","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$2","convert","adtConstructor","partSchema","PartType","asCommon","combine","partSpec","partValidated","defaults","generate$3","np","g","doGenerateOne","pname","generateOne$1","schemas","toArray","names","substitutes","internals","externals","factory","_partSpec","_partValidated","units","u","components$1","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","_k","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","generate","generateOne","asRawOrDie","partSchemas","partUidsSchemas","baseS","composite$1","specWithUid","supplyUid","partUidsSchema","hasUid","singleSchema","compositeSchema","rawConfig","extraApis","configFields","single$1","composite","partFields","inside","ComposeApis","getCurrent","composeConfig","_composeState","find","ComposeSchema","Composing","nativeDisabled","onLoad$1","disableConfig","disableState","disabled","disable","enable","hasNative","useNative","nativeDisable","nativeEnable","ariaDisable","ariaEnable","_disableState","disableClass","onDisabled","onEnabled","isDisabled","nativeIsDisabled","ariaIsDisabled","DisableApis","ActiveDisable","DisableSchema","Disabling","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","highlight","isHighlighted","onHighlight","queryTarget","getByIndex","itemClass","getFirst","_hState","getLast","getDelta$2","selected","dest","getCandidates","HighlightApis","dehighlightAll","dehighlight","highlightFirst","firstComp","highlightLast","lastComp","highlightAt","highlightBy","getHighlighted","getPrevious","getNext","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","reportFocusShifting","prevFocus","n","dom$2","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","rules","transitions","onFocusHandler","focusInside","OnFocusMode","focusIn","keyboardEvents","isEnterOrSpace","OnEnterOrSpaceMode","tryGoInsideComponent","create$1","cyclicField","tabbingConfig","visibilitySelector","_tabbingState","tabstops","visibles","firstTabstop","findInitial","focusManager","goFromTabstop","stopIndex","cycle","useTabstopAt","isTabstop","cyclic","findCurrent","tabstop","navigate","onEscape","onEnter","AcyclicType","CyclicType","defaultExecute","doDefaultExecute","stopEventForFirefox","_component","schema$v","execute$4","executeConfig","execute","ExecutionType","_executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","flatgrid$1","dimensions","numRows","numColumns","setGridSize","getNumRows","getNumColumns","KeyingState","flatgrid","useH","movement","move","use","west$1","moveLeft","moveRight","east$1","useV","north$1","south$1","move$1","isHidden$1","locateVisible","locate","findIndex","withGrid","numCols","address","newIndex","row","column","cycleHorizontal$1","oldRow","oldColumn","colsInRow","newColumn","cycleVertical$1","newRow","newCol","schema$u","focusIn$3","gridConfig","_gridState","first","doMove$2","gridState","identified","handleTab","captureTab","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$4","findCurrent$1","getKeyupRules$4","FlatgridType","horizontal","tryCycle","schema$t","execute$2","flowConfig","focusIn$2","_state","getInitial","moveLeft$2","moveRight$2","doMove$1","flowState","executeOnMove","doEscape","getKeyupRules$3","FlowType","_flowState","westMovers","allowVertical","eastMovers","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal","startCol","deltaCol","newColIndex","cycleVertical","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","schema$s","focusIn$1","matrixConfig","previousSelector","selectors","doMove","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","rows","toMatrix","moveNorth","moveSouth","getKeydownRules$2","getKeyupRules$2","MatrixType","schema$r","menuConfig","moveUp","moveDown","getKeydownRules$1","menuState","moveOnTab","getKeyupRules$1","MenuType","schema$q","SpecialType","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","stopSpaceKeyup","acyclic","flow","execution","menu","special","Keying","keyConfig","keyState","sendFocusIn","isFlatgridState","withoutReuse","withReuse","existingComps","deletedComp","virtualReplaceChildren","specs","patchSpecChildren","virtualReplace","replacee","replaceeIndex","childSpec","insert","appendAt","_replaceConfig","replaceAt","replaceConfig","replaceState","replacer","reuseDom","ReplaceApis","append","appendee","prepend","prependee","removee","replaceBy","replaceePred","Replacing","eventHandlers","events$d","focus$2","focusConfig","ignore","onFocus","FocusApis","blur","blur$1","isFocused","ActiveFocus","tabindex","stopMousedown","FocusSchema","Focusing","updateAriaState","toggleConfig","toggleState","ariaInfo","aria","updateClass","toggleClass","toggle$2","set$2","ToggleApis","toggle","isOn","ActiveToggle","executor","load","toggleOnExecute","updateExpanded","status","ToggleSchema","pressed","syncWithExpanded","checked","expanded","Toggling","initialState","pointerEvents","onClick","events$a","optAction","onHover","onFocus$1","hover","focus$1","schema$p","toggling","hasSubmenu","itemBehaviours","tConfig","ignoreFocus","schema$o","owner$2","parts$h","schema$n","focusWidget","widget","onHorizontalArrow","autofocus","setSource","_widget","widgetBehaviours","itemSchema$2","separator","parts$g","itemInfo","builder","unit","fakeFocus","markers","schema$m","grid","movementInfo","rowSelector","Menu","_spec","_externals","menuBehaviours","selectedItem","role","trace","byItem","byMenu","triggerItem","triggerMenu","generate$2","menus","expansions","menuItems","menuPaths","_triggerItem","extractPreparedMenu","prep","LayeredState","primary","directory","getTriggerData","menuValue","getItemByValue","getPreparedMenu","getTriggeringItem","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","lookupMenu","lookupItem","itemValue","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","sPaths","expand","refresh","collapse","otherMenus","menuValues","getPrimary","getMenus","isClear","getTriggeringPath","extraPath","revPath","menuIndex","collapseItem$1","tieredMenu","collapseMenu","tmenu","highlightPrimary","repositionMenus","_rawUiSpec","submenuParentItems","layeredState","setup","componentMap","primaryName","makeSketch","nbMenu","buildMenus","toDirectory","getItemValue","_container","_menuName","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","updateAriaExpansions","parentItems","itemComp","getSubmenuParents","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","expandRight","HighlightSubmenu","activeMenuPrep","buildIfRequired","onOpenSubmenu","collapseLeft","onCollapseMenu","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","updateView","HighlightParent","getActiveItem","currentItem","allMenus","preparedMenus","extractMenuFromContainer","primaryMenu","onRepositionMenu","tmenuBehaviours","_keyInfo","selectedMenu","tieredData","singleData","collapseItem","InlineView","showWithin","thing","showWithinBounds","lazySink","showMenuWithinBounds","menuSpec","menuSandbox","getSubmenuLayouts","triggeringPaths","isFirstTierSubmenu","submenuTriggers","st","submenuLayouts","makeMenu","showAt","showMenuAt","hide","getContent","inlineBehaviours","getRelated","isPartOfRelated","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","global$9","Button","lookupAttr","buttonBehaviours","getModAttributes","record","isSketchSpec","anyInSystem","asSpec","global$8","rtlTransform","defaultIcon","getIconName","lcName","rtlName","addToEnd","ensureTrailing","lookupIcon","get$2","iconProvider","addFocusableBehaviour","svg","renderIcon$2","iconName","fallbackIcon","_b","rtlIconClasses","needsRtlTransform","iconHtml","render$3","notificationIconMap","warning","Notification","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","banner","iconChoices","icon","level","memButton","onAction","iconNames","renderFirst","closeButton","ToolbarMode$1","ToolbarLocation$1","global$7","global$6","global$5","ToolbarMode","ToolbarLocation","option$2","editor","wrapOptional","register$e","registerOption","register","stringOrFalseProcessor","stringOrNumberProcessor","processor","default","getElement","DOM","getStyle","valid","auto","inline","isReadOnly","getHeightOption","getWidthOption","getMinWidthOption","getMinHeightOption","getMaxWidthOption","getMaxHeightOption","getUserStyleFormats","shouldMergeStyleFormats","shouldAutoHideStyleFormats","getContentLanguages","getRemovedMenuItems","getToolbarMode","getToolbarGroups","getToolbarLocation","fixedContainerSelector","fixedToolbarContainerTarget","isToolbarPersist","getStickyToolbarOffset","getMenubar","getToolbar","getFilePickerCallback","getFilePickerValidatorHandler","getFilePickerTypes","useTypeaheadUrls","getAnchorTop","getAnchorBottom","isDraggableModal$1","useStatusBar","useElementPath","useBranding","getResize","getPasteAsText","isSkinDisabled","isMenubarEnabled","getSkinUrl","skinUrl","documentBaseURI","skin","baseURL","getLineHeightFormats","isToolbarEnabled","toolbar","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsOption","toolbars","toolbarArray","isToolbarLocationBottom","fixedContainerTarget","useFixedContainer","getUiContainer","isDistractionFree","isStickyToolbar","Options","isDraggableModal","elm","AutocompleterEditorEvents","redirectKeyToItem","getItem","getView","keyCode","isActive","isMenuOpen","stopImmediatePropagation","cancelIfNecessary","isProcessingAction","ItemResponse","ItemResponse$1","navClass","presetClasses","normal","color","textClass","activeClass","classForPreset","presets","forMenu","hasIcons","menuClasses","dom$1","columns","chunk","rowDom","chunks","preprocessCollection","isSeparator","allSplits","currentSplit","forCollection","initItems","_hasIcons","_item","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_presets","structure","createPartialMenuWithAlloyItems","forSwatch","forToolbar","name$1","title","value$1","fetch$1","getSubmenuItems","onItemAction","onSetup","optionalName","optionalText","optionalIcon","optionalTooltip","optionalLabel","optionalShortcut","optionalSelect","borderless","enabled","defaultedColumns","defaultedMeta","defaultedOnAction","defaultedType","generatedName","namePrefix","separatorMenuItemSchema","autocompleterItemSchema","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","cardImageFields","cardImageSchema","cardTextFields","cardTextSchema","itemSchema$1","cardimage","cardtext","cardcontainer","cardContainerSchema","commonMenuItemFields","valuePrefix","cardMenuItemSchema","choiceMenuItemSchema","baseFields","insertTableFields","colorSwatchFields","fancyMenuItemSchema","inserttable","colorswatch","menuItemSchema","nestedMenuItemSchema","toggleMenuItemSchema","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","abs","ceil","namedEvents","SimpleBehaviours","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","_tConfig","_tState","TooltippingApis","setComponents","tState","getTooltip","tooltip","ActiveTooltipping","tooltipConfig","clearTooltip","clearTimer","resetTimer","isShowing","popup","tooltipDom","tooltipComponents","setTooltip","show","TooltippingSchema","Tooltipping","ReadOnlyDataSchema","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","uiMothership","setupReadonlyModeSwitch","receivingConfig","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onControlDetached","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","providersbackstage","optComponents","buildData","convertText","isMac","alt","ctrl","shift","access","shortcut","updated","segment","trim","renderIcon$1","renderText","renderHtml","renderStyledText","renderShortcut","renderCheckmark","renderColorStructure","providerBackstage","itemText","ariaLabel","iconSvg","iconContent","baseDom","getDom","renderItemDomStructure","domTitle","renderItemStructure","providersBackstage","renderIcons","iconSpec","leftIcon","checkmark","checkMark","textRender","htmlContent","shortcutContent","caret","renderNormalItemStructure","tooltipBehaviour","sharedBackstage","tooltipWorker","getSink","_tooltip","replaceText","matchText","encoded","encode","encodeText","escapedMatchRegex","RegExp","escape","render$2","extras","align","valign","getValignClass","renderContainer","src","renderImage","cardText","highlightOn","parts$f","hexColour","shorthandRegex","longformRegex","isHexString","hex","normalizeHex","numChars","removeFromStart","removeLeading","toUpperCase","extractValues","longForm","m","getLongForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round$1","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","fireResizeContent","hsvColour","fromRgb","minRGB","maxRGB","hsvToHex","anyToHex","fromString$1","canvas","canvasContext","getContext","clearRect","fillStyle","fillRect","getImageData","global$4","colorCache","storageString","localstorage","cache","idx","splice","unshift","pop","setItem","ColorCache","mapColors","colorMap","colors","option$1","getColorCols$1","hasCustomColors$1","getColors$2","addColor","getAdditionalColors","hasCustom","applyColor","format","onChoice","colorPickerDialog","dialog","colorOpt","execCommand","getColors$1","getFetch$1","callback","setIconColor","splitButtonApi","newColor","setIconFill","registerTextColorButton","lastColor","ui","registry","addSplitButton","select","getParents","getCurrentColor","currentRgb","currentHex","fetch","_splitButtonApi","fireTextColorChange","registerTextColorMenuItem","addNestedMenuItem","fancytype","isValid","initialData","colorpicker","windowManager","buttons","_api","details","onSubmit","getData","alert","onCancel","createPartialChoiceMenu","onItemValueHandler","alloyItems","createChoiceItems","itemPresets","useText","isSelected","setActive","isEnabled","setEnabled","renderChoiceItem","deriveMenuMovement","menuMarkers","getColorItems","backstage","useCustomColors","initData","allowCustomColors","colorinput","hasCustomColors","getColors","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","se","makeComponents","cells","cellRow","makeLabelText","fancyMenuItems","sizeLabelId","makeCells","emptyLabelText","memLabel","selectedRow","selectedColumn","selectCells","getColorCols","widgetSpec","shared","providers","autocomplete","separator$3","nested","downwardsCaret","renderSubmenuCaret","toggle$1","fancy","render","card","FocusMode","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createNestedMenuItem","createToggleMenuItem","createSeparatorMenuItem","createFancyMenuItem","createAutocompleteItems","createCardMenuItem","createAutocompleterItem","createPartialMenu","createItem","itemHasIcon","createTieredDataFrom","partialMenu","Autocompleter","processingAction","activeState","autocompleter","hideIfNecessary","getCombinedItems","choices","itemMeta","nr","getRng","initRange","createRng","selectNode","getAutocompleterRange","autocompleterApi","reload","fetchOptions","BUBBLE_TO_SANDBOX","display","lookupData","ld","focusMode","ContentFocus","createMenuFrom","updateDisplay","combinedItems","autocompleterUiApi","closest","DelayedFunction","fun","ref","cancel","schedule","getTouch","touches","monitor","settings","startData","longpressFired","longpress$1","touch","distX","distY","isFarEnough","fireIfReady","setup$d","rawSettings","stopBackspace","tapEvent","simpleEvents","tapStopped","pasteTimeout","onPaste","onKeydown","isDangerous","onFocusIn","focusoutTimeout","onFocusOut","derive","rawTarget","adt$1","stopped","resume","complete","doTriggerHandler","eventType","isStopped","isCut","fromSource","handlerInfo","eventHandler","doTriggerOnUntilStopped","listeners","_logger","fromExternal","listener","triggerOnUntilStopped","EventRegistry","registerId","extraArgs","curried","curryArgs","unregisterId","handlersById","_eventName","filterByType","broadcastHandler","isAboveRoot","findHandler","Registry","readOrTag","unregister","tagId","conflict","failOnDuplicate","getById","Container","domWithoutAttributes","containerBehaviours","takeover","domEvents","triggerUntilStopped","_alloyId","triggerHandler","broadcast$1","broadcastData","receivers","receiver","destroy","schema$l","parts$e","excludeFactory","FormField","fieldBehaviours","descriptor","descriptorId","getField","getLabel","ActiveTabstopping","tabConfig","tabAttr","TabstopSchema","Tabstopping","global$3","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormFieldDomWith","renderLabel$2","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderCollection","runOnItem","tgt","collectionEvents","currentActive","iterCollectionItems","applyAttributes","childElm","htmlLines","mapItemName","encodeAllRaw","schema$k","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","inputAttributes","inputStyles","inputClasses","Input","nu$3","baseFn","callbacks","nCallback","isReady","cbs","cb","LazyValue","pure","errorReporter","make$5","then","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","Future","Promise","ariaElements","isAriaElement","markValid","invalidConfig","getRoot","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","_invalidState","validatorInfo","validate","onValidate","InvalidateApis","isInvalid","ActiveInvalidate","onEvent","validateOnLoad","InvalidateSchema","Invalidating","validation","CouplingApis","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingSchema","Coupling","coupled","partType$1","HighlightOnOpen","getAnchor","getHotspot","getAnchorOverrides","mapFetch","onOpenSync","highlightOnOpen","futureData","fetcher","getLazySink","tdata","HighlightFirst","openF","_onOpenSync","_highlightOnOpen","togglePopup","matchWidth","useMinWidth","buttonWidth","set$7","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox$1","ariaControls","sandboxClasses","sandboxBehaviours","sandboxFields","schema$j","parts$d","Dropdown","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","Unselecting","unselectable","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","renderPanelButton","colorPicker","valueOpt","colorButton","_field","labelPart","edgePart","model","edgeActions","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","SliderParts","getValueFromEvent","spectrum","sliderChangeEvent","getEventSource","evt","isTouchEvent$1","touchEvent","mouseEvent","minX","minY","min1X","min1Y","max1X","max1Y","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xyValue","fireSliderChange$3","reduceBy","increaseBy","capValue","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","snapValueOf","findOffsetOfValue$2","maxOffset","centerMinEdge","centerMaxEdge","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$2","findValueOfOffset$1","handleMovement$2","xValue","moveBy$2","findPositionOfValue$1","slider","minEdge","maxEdge","minOffset","findOffsetOfValue$1","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","HorizontalModel","setToMin","setToMax","findValueOfOffset","findPositionOfValue","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","fireSliderChange$1","handleMovement$1","yValue","moveBy$1","findOffsetOfValue","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","getTopEdge","getBottomEdge","fireSliderChange","sliderValue","handleMovement","isVerticalMovement","moveBy","TwoDModel","mX","mY","xPos","yPos","thumbXRadius","thumbYRadius","Slider","getThumb","modelDetail","choose","wasDown","onChoose","onDragStart","onDragEnd","sliderBehaviours","onChange","changeValue","getInitialValue","onInit","resetToMin","resetToMax","fieldsUpdate","sliderUpdate","paletteUpdate","schema$i","getPartName$1","make$4","formBehaviours","form","resPs","resPThunk","pName","opt","wrapper","Form","fSpec","fieldParts","validInput","invalidInput","validatingInput","rgbFormFactory","getClass","onValidHexx","onInvalidHexx","invalidation","renderTextField","description","helptext","translatePrefix","comps","concats","copyRgbToForm","rgb","memPreview","updatePreview","preview","setValueRgb","onInvalidInput","onValidRgb","hexField","copyRgbToHex","onValidInput","isHexInputEvent","onValidHex","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","copyHexToRgb","paletteFactory","_translate","spectrumPart","thumbPart","setColour","ctx","grdWhite","createLinearGradient","addColorStop","grdBlack","_detail","_thumb","_slider","_value","setHue","_apis","setPaletteHue","setThumb","setPaletteThumb","makeFactory","rgbForm","onInvalidHex","sbPalette","paletteRgba","paletteHue","memSlider","sliderFactory","memPalette","memRgb","updatePalette","_hex","palette","updateFields","updateSlider","hueDegreesToSlider","updatePaletteThumb","runUpdates","updates","updateState","hexToHsv","onFieldsUpdate","oldHue","newHsv","newHex","onPaletteUpdate","hueSliderToDegrees","oldRgb","oldHsv","onSliderUpdate","ComposingConfigs","mem","processors","withComp","optInitialValue","getter","setter","withElement","RepresentingConfigs","rawProcessors","other","rawValue","postprocess","english","renderColorPicker","colourPickerFactory","translate$1","memPicker","picker","global$2","global$1","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","files","onSelect","allowedImageFileTypes","explode","file","filterByExtension","memInput","accept","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","targetComp","isPseudoStop","renderIFrame","isSandbox","sandboxed","srcdoc","sourcing","cachedValue","_frameComponent","frameComponent","getDynamicSource","renderImagePreview","cachedData","url","memImage","memContainer","fakeValidatedData","zoom","cachedWidth","cachedHeight","translatedData","z","applyFramePositioning","imageWidth","imageHeight","panel","panelW","panelH","zoomToFit","calculateImagePosition","imageComponent","img","image","reject","loaded","l","naturalWidth","naturalHeight","internalToolbarButtonExecute","toolbarButtonEventOrder","renderIcon","iconsProvider","renderIconFromPack","renderReplacableIconFromPack","renderLabel","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","displayText","displayIcon","isSeparator$1","separator$2","unwrapReferences","realItems","isMenuItemReference","getFromItem","isExpandingMenuItem","submenuItems","getFromExpandingItem","itemWithValue","generateValueIfRequired","newData","mainMenu","submenus","isSingleListItem","fetchItems","dropdownComp","selectedValue","findItemByValue","HtmlSelect","option","initialValues","selectClasses","selectAttributes","selectBehaviours","schema$h","coupledPart","selfName","otherName","lock","onLockedChange","parts$c","locked","lockClass","FormCoupledInputs","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","parseSize","sizeText","convertUnit","inInch","noSizeConversion","_input","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","ratioSizeConversion","scale","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","extraClasses2","flex","maximized","ActiveStreaming","streamConfig","streamState","stream","streams","cancelEvent","rate","throttle","_config","setTimer","StreamingState","StreamingSchema","streamInfo","sInfo","throttler","onStream","stopEvent","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","attemptSelectOver","selectsOver","inputDisplay","getDisplayText","setSelectionToEnd","itemExecute","schema$g","parts$b","previewing","populateFromBrowse","typeahead","Typeahead","navigateList","highlighter","focusBehaviours$1","responseTime","minChars","previousValue","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeaheadBehaviours","wrap","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","timeout","errorThunk","timedOut","nu$1","FutureResult","getMenuButtonApi","renderMenuButton","_comp","getFetch","getButton","getMenuItemAction","storage","orig","getMenuItemSetup","renderCommonSpec","actionOpt","common","domFinal","renderIconButtonSpec","renderButtonSpec","translatedText","buttonType","calculateClassesFromButtonType","renderButton","buttonSpec","getAction","renderFooterButton","isMenuFooterButtonSpec","menuButtonSpec","fixedSpec","isNormalFooterButtonSpec","renderDialogButton","separator$1","toMenuItem","staticMenuItem","filteredTargets","targets","toMenuItems","filterLinkTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","history","historyTargets","getHistory","errorId","set$1","get$1","make$2","dialogData","factories","bar","interpreter","renderBar","collection","alertbanner","iconTooltip","renderAlertBanner","renderInput","textarea","renderTextarea","backstageShared","renderLabel$1","iframe","iframeSpec","makeIframe","button","checkbox","toggleCheckboxHandler","makeIcon","className","memIcons","renderCheckbox","dropzone","renderGrid","listbox","initialItem","listBoxWrap","sketchSpec","renderListBox","selectbox","translatedOptions","chevron","selectWrap","renderSelectBox","sizeinput","converter","ratioEvent","pLock","formGroup","getFieldPart","isField1","widthField","heightField","_lock","newSize","unitDec","numText","formatSize","optCurrent","optOther","value1","value2","renderSizeInput","renderSlider","urlinput","updateHistory","urlEntry","addToHistory","filetype","memUrlBox","_newValue","getValidationHandler","memInvalidIcon","invalidComp","completer","_menu","_entry","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","componentData","urlData","fieldname","chosenData","renderUrlInput","customeditor","editorApi","memReplaced","ta","isOldCustomEditor","scriptId","scriptUrl","ea","cvalue","ed","htmlpanel","imagepreview","table","renderTh","renderTd","renderTr","header","renderTable","renderPanel","noFormParts","interpretInForm","oldBackstage","newBackstage","interpretParts","westEdgeX","middleX","eastEdgeX","northY","southY","centreY","lookupPreserveLayout","preserve","lookupFlippedLayout","flip","bubbleAlignments$2","valignCentre","alignCentre","alignLeft","alignRight","getInlineDialogAnchor","contentAreaElement","lazyAnchorbar","lazyUseEditableAreaAnchor","getBannerAnchor","getCursorAnchor","bodyElement","getNodeAnchor$1","getAnchors","isToolbarTop","useFixedToolbarContainer","getContentAreaContainer","inlineDialog","cursor","ColorInputBackstage","DialogBackstage","defaultStyleFormats","mapFormats","userFormats","fmt","customFormats","formats","isInlineFormat","isBlockFormat","isSelectorFormat","formatNameWithPrefix","getStyleFormats","registeredUserFormats","registerFormats","formatter","registerCustomFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","register$a","doEnrich","newItems","enrichMenu","getStyleItems","enrichSupported","formatName","customSpec","newItem","enrichCustom","init$8","block","parseStyle","getCssText","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","_e","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","hasContentEditableState","isElement","contentEditable","isContentEditableTrue","isContentEditableFalse","create","getElementText","innerText","isValidAnchor","isAnchor","isEditable","isHeader","isChildOfContentEditableTrue","isValidHeader","headerTarget","headerId","getOrGenerateId","getLevel","anchorTarget","anchorId","anchorText","getTargetElements","hasTitle","LinkTargets","elms","getHeaderTargets","getAnchorTargets","STORAGE_KEY","isHttpUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","SyntaxError","itemsWithoutUrl","setAllHistory","isTruthy","makeMap","getPicker","getPickerSetting","pickerTypes","optFileTypes","_picker","types","getPickerTypes","getTextSetting","getOrUndefined","UrlInputBackstage","entry","init$7","contextMenuState","isPositionedAtTop","getDockingMode","setDockingMode","HeaderBackstage","getAll","interpretWithoutForm","anchors","isContextMenuOpen","setContextMenuState","parts$a","partType","schema$f","itemsPart","parts$9","CustomList","_external","shell","getListContainer","listBehaviours","setItems","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","schema$e","parts$8","Toolbar","getGroupContainer","toolbarBehaviours","setGroups","groups","setup$a","isDocked$2","getBehaviours$1","StaticHeader","isDocked","getBehaviours","getOffsetParent","offsetParent$1","getOrigin","morphAdt","static","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isVisibleForModes","isBottomCompletelyVisible","isTopCompletelyVisible","getPrior","getInitialPos","revertToOriginal","clearInitialPos","offsetBox","_left","_top","_right","_bottom","morphToFixed","getModes","setInitialPos","storePrior","winBox","isTop","getMorph","morphToOriginal","morphToStatic","setDocked","onUndocked","morphToCoord","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","isPartiallyVisible","setVisible","resetInternal","getMorphToOriginal","morph","refresh$4","lazyViewport","refreshInternal","DockingApis","setModes","ActiveDocking","dockInfo","dockState","onShown","onHidden","DockingSchema","Docking","docked","visible","initialBounds","toolbarHeightChange","visibility","isDockedMode","updateIframeContentFlow","parentElem","padding","parentWidth","getOccupiedHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","focusedElm","runOnSinkElement","onDockingSwitch","additionalBehaviours","headerHeight","boxHeight","topBound","headerElem","focusedElem","ownerDoc","activeElm","restoreFocus","rootElm","findFocusedElem","win$1","StickyHeader","lazyHeader","containerHeader","viewHeight","innerHeight","scrollPos","markerElement","markerPos","markerHeight","markerTop","markerBottom","editorHeaderPos","editorHeaderHeight","editorHeaderTop","editorHeaderBottom","editorHeaderDockedAtTop","editorHeaderDockedAtBottom","scrollFromBehindHeader","groupToolbarButtonSchema","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","SilverMenubar","setMenus","newMenus","internal","activeButton","hoveredButton","activeComp","hoveredComp","prev","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","doStartGrow","wasShrinking","beforeSize","fullSize","setExpanded","onStartGrow","isGrowing","_slideState","isShrinking","SlidingApis","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isTransitioning","toggleGrow","ActiveSliding","onGrown","SlidingSchema","Sliding","schema$d","getPartName","make$1","getSlotNames","onSlot","def","slot","doShowing","_key","hideSlot","hideSlots","showSlot","getSlot","hideAllSlots","slotBehaviours","SlotContainer","sSpec","sidebarSchema","makePanels","panelConfigs","bridged","createSidebar","sidepanel","sidePanelSpec","makeSidebar","slotContainer","whichSidebar","sidebar","fixSize","autoSize","BlockingApis","getBusySpec","blockerBehaviours","blockSpec","blocker","isBlocked","onBlock","blockWith","unblock","onUnblock","BlockingSchema","Blocking","getAttrs","focusBusyComponent","throbber","toggleThrobber","iframeElement","tabIndex","toggleEditorTabIndex","_root","_behaviours","getBusySpec$1","throbberFocus","busyComp","setup$7","lazyThrobber","throbberState","stealFocus","isFocusEvent","targetElm","isPasteBinTarget","editorManager","command","setEditorTimeout","within","withinWidth","apportion","total","parray","toUnit","partition","overflower","divide","tryFit","fitLast","overflow","fitAll","setGroups$1","storedGroups","bGroups","refresh$2","setOverflow","builtGroups","overflowGroup","focusedComp","availableWidth","overflows","schema$c","schema$b","parts$7","expandable","setMax","schema$a","parts$6","toggledClass","toolbarSandbox","bounder","FloatingToolbarButton","makeSandbox","schema$9","parts$5","ToolbarGroup","tgroupBehaviours","itemSelector","buildGroups","refresh$1","memFloatingToolbarButton","overflowGroups","floatingToolbarButton","SplitFloatingToolbar","getOverflowBounds","overflowToggledClass","splitToolbarBehaviours","getOverflow","schema$8","parts$4","onClosed","onOpened","toggleToolbar","overf","SplitSlidingToolbar","_button","doSetGroups","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","moreDrawerData","headerBounds","docElem","docBounds","scrollHeight","overflowXOffset","renderSlidingMoreToolbar","renderToolbar","scrolling","partMenubar","partMultipleToolbar","_mToolbar","tc","_index","partToolbar","sliding","floating","toolbarFactory","renderer","lazyToolbar","lazyMoreButton","partHeader","sticky","partSocket","partSidebar","partThrobber","OuterContainer","getSocket","setSidebar","toggleSidebar","getOrNull","getHeader","setToolbar","setToolbars","mToolbar","refreshToolbar","toggleToolbarDrawer","isToolbarDrawerToggled","getThrobber","focusToolbar","setMenubar","menubar","focusMenubar","grps","grp","renderedToolbars","defaultMenus","edit","tools","help","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","isDefaultMenu","menuData","removedMenuItems","itemName","removedMenuItem","fireSkinLoaded","done","_skinLoaded","fireSkinLoaded$1","initialized","loadStylesheet","stylesheetUrl","styleSheetLoader","unload","loadUiSkins","loadShadowDomUiSkins","loadSkin","isInline","contentCSS","fireSkinLoadError$1","fireSkinLoadError","onSetupFormatToggle","boundCallback","binding","formatChanged","once","onSetupEvent","handleEvent","onActionToggleFormat$1","rawItem","undoManager","transact","onActionExecCommand","generateSelectItems","_editor","generateItem","response","invalid","si","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","Delimiter","buildBasicSettingsDataset","settingName","delimiter","rawFormats","SemiColon","alignMenuItems","getSpec$4","_format","alignment","canApply","findNearest","getStyles","getSpec$3","systemStackFonts","splitFonts","fontFamily","fonts","font","getSpec$2","getMatchingValue","getFirstFont","queryCommandValue","matchOpt","matchesSystemStack","isSystemFontStack","legacyFontSizes","keywordFontSizes","toPt","fontSize","precision","factor","pow","toLegacy","getSpec$1","pt","legacy","Space","getSpec","getFormatItems","flattenedItems","ActiveReflecting","reflectingConfig","reflectingState","renderComponents","newComponents","channel","rawData","ReflectingApis","reflectState","ReflectingSchema","Reflecting","schema$7","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$3","SplitDropdown","executeOnButton","buttonEvents","splitDropdownBehaviours","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","renderCommonStructure","renderCommonToolbarButton","specialisation","itemApi","buttonApi","toolbarButtonBehaviours","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButtonWith","fetchChoices","defaultToolbar","renderFromBridge","bridgeBuilder","renderToolbarButton","togglebutton","renderToolbarToggleButton","menubutton","splitbutton","displayChannel","underlinePath","buttonComp","_c","renderSplitButton","grouptoolbarbutton","identify","identifyButtons","allowToolbarGroups","TopToBottom","renderFloatingToolbarButton","styleSelectButton","createStylesButton","fontsizeSelectButton","createFontSizeButton","fontSelectButton","createFontFamilyButton","formatButton","createBlocksButton","alignMenuButton","createAlignButton","bespokeButtons","fontsize","fontfamily","blocks","createToolbar","toolbarConfig","filteredItemGroups","subItem","removeUnusedDefaults","strToolbar","groupsStrings","convertStringToolbar","isToolbarGroupSettingArray","lookupButton","toolbarItem","prefixes","extractFrom","toolbarGroups","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","Iframe","lastToolbarWidth","eTargetNode","targetNode","uiRoot","attachSystemAfter","innerWidth","contentWindow","initialDocEle","getDoc","lastWindowDimensions","lastDocumentDimensions","resizeWindow","outer","resizeDocument","docEle","fireScrollContent","elementLoad","setupEvents$1","socket","limit","unbinder","addCommand","_ui","addQueryValueHandler","toolbarMode","iframeContainer","parseToInt","numToPx","calcCappedSize","minSize","maxSize","minOverride","maxOverride","getHeightWithFallback","baseHeight","minHeight","getHeight","getWidth","baseWidth","minWidth","InlineHeader","floatContainer","isSticky","editorMaxWidthOpt","headerBackstage","isSplitToolbar","removed","calcToolbarOffset","tbar","repositionPopups$1","updateChromeUi","resetDocking","bodyMargin","updateChromeWidth","targetBounds","updateChromePosition","floatContainerComp","updateMode","updateUi","currentMode","newMode","toolbarHeight","docHeight","calcMode","verticalDir","setupMode","addClass","removeClass","getTargetPosAndBounds","Inline","toolbarPersist","uiContainer","prevPosAndBounds","resizeContent","prevPos","prevBounds","hasResized","setupEvents","nodeChanged","runOnExecute","formApi","getFormApi","renderContextToggleButton","renderContextButton","buildInitGroups","commands","findPrimary","mementos","asSpecs","compInSystem","ContextForm","isVerticalOverlap","threshold","getSelectionBounds","leaf$1","getRangeRect","bodyPos","getContextToolbarBounds","toolbarType","viewportBounds","contentAreaBox","toolbarOrMenubarEnabled","getHorizontalBounds","isToolbarLocationTop","headerBox","isToolbarBelowContentArea","isToolbarAbove","containerBounds","getVerticalBounds","bubbleAlignments$1","inset","anchorOverrides","shouldUseInsetLayouts","determineInsetLayout","contextbar","selectionBounds","isSameAnchorElement","lastElement","isEntireElementSelected","currentPosition","preservePosition","isReposition","getAnchorSpec$2","mobile","smartInsetLayout","getInsetLayouts","matchTargetWith","ctxs","toolbarApi","contextToolbars","contextForms","matchStartNode","nodeCandidates","editorCandidates","nodeMatches","editorMatches","doesPositionExist","filterToolbarsByPosition","hasSelectionToolbars","hasNodeToolbars","nodeToolbars","selectionToolbars","filterByPositionForStartNode","matchAncestor","startNode","scopes","ancestorElem","inNodeScope","findPosition","filterByPositionForAncestorNode","categorise","forms","inEditorScope","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","forwardSlideEvent","backSlideEvent","changeSlideEvent","register$9","registryContextToolbars","lastTrigger","lastContextPosition","currentWidth","newWidth","newContents","oldContents","forwardContents","renderContextToolbar","canLaunchToolbar","shouldContextToolbarHide","contextToolbarBounds","anchorBounds","getAnchorElementBounds","hideOrRepositionIfNecessary","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","buildContextToolbarGroups","buildContextFormGroups","anchorLayout","getAnchorLayout","launchContext","launchContextToolbar","isSameLaunchElement","rootElem","getNode","isOutsideRoot","lookup$1","toolbarKey","unsupportedLength","pattern","unsignedDecimalLiteral","decimalDigits","dot","accepted","unitRaw","check","isUnit","registerController","getMenuItems","getOptions","hash","oldApi","unbindWatcher","watcher","setCurrent","addMenuButton","onToolbarSetup","onMenuSetup","lineHeightSpec","normalise","register$7","customCode","code","customValue","ele","lang","languageSpec","register$6","createAlignMenu","createFontFamilyMenu","createStylesMenu","createBlocksMenu","createFontSizeMenu","onSetupOutdentState","queryCommandState","register$5","addButton","registerButtons$2","makeSetupHandler","pasteAsText","pastePlainTextToggleHandler","onActionToggleFormat","registerButtons$1","_idx","addToggleButton","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","register$3","addMenuItem","registerMenuItems$2","onSetupUndoRedoState","register$2","registerMenuItems$1","registerButtons","onSetupVisualAidState","hasVisual","register$1","registerToolbarButton","addToggleMenuItem","registerMenuItems","setup$6","cmd","register$8","applyFormat","removeFormat","registerCommands","lastForeColor","lastBackColor","register$c","register$4","patchPipeConfig","shouldNeverUseNative","getAvoidOverlapSelector","getContextMenu","contextMenus","contextMenu","isTouchEvent","transposeContentAreaContainer","containerPos","getPos","dx","dy","transpose","getPointAnchor","pageX","pageY","fromPageXY","fromClientXY","getSelectionAnchor","getAnchorSpec$1","anchorType","getNodeAnchor","initAndShow$1","buildMenu","contextmenu","anchorSpec","bubbleAlignments","getAnchorSpec","initAndShow","openiOS","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","setupiOSOverrides","rngRect","isTouchWithinSelection","makeContextItem","commonMenuItem","addContextMenuGroup","groupItems","isTriggeredByKeyboard","pointerType","getSelectedElement","setup$5","hideContextMenu","showContextMenu","isNativeOverrideKeyEvent","isContextMenuDisabled","getAnchorType","selectedElement","sections","allItems","generateContextMenu","hideEvents","subtract","changes","asFixed","coord","asAbsolute","asOffset","toStyles","stylesOpt","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","parseAttrToInt","NaN","getCoords","snapInfo","snapsInfo","leftAttr","topAttr","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","coord1","coord2","withinRange","getSnapPoints","deltas","getDeltas","bestDeltas","DraggingApis","snapTo","dragConfig","getTarget","repositionTarget","snapPin","snapTo$1","instigate","anyComponent","zindex","changeZIndex","discard","zIndex","resetZIndex","createComponent","blockerClass","blockerEvents","SnapSchema","schema$6","getCurrentCoord","lift3","oc","location","calcNewCoord","optSnaps","currentCoord","coords","absoluteCoord","newCoords","offset$1","clampCoords","translated","deltaX","deltaY","snapping","onSensor","calcStartData","dragState","dragMode","dragStartData","getStartData","dlt","onDrag","dragBy","updateStartState","setStartData","MouseData","getDelta","events$2","stop$1","delayDrop","dragApi","drop","forceDrop","init$2","schema$5","TouchData","getDataFrom","events$1","blockerSingleton","stopBlocking","init$1","mouse","mouseOrTouch","Dragging","dragger","previous","dragEvent","nuData","calculateDelta","calcSnap","selectorOpt","td","snapWidth","selectorHandle","sensorLeft","sensorTop","getSnapsConfig","cellOpt","currentTd","isSameCell","createSelector","setup$4","tlTds","brTds","startCell","finishCell","getTopLeftSnap","memTopLeft","getBottomRightSnap","memBottomRight","topLeftSnaps","bottomRightSnaps","bottomRight","getSnapConfig","isAbove","isBelow","cellRect","viewportHeight","aboveViewport","belowViewport","showOrHideHandle","snapTopLeft","snapBottomRight","otherCells","upOrLeftCells","downOrRightCells","renderElementPath","renderPathData","_btn","renderElement","newPath","parents","isDefaultPrevented","isPropagationStopped","updatePath","ResizeTypes","resize","resizeType","originalHeight","originalWidth","Both","getDimensions","dim","fireResizeEditor","keyboardHandler","renderResizeHandler","None","Vertical","getResizeType","_target","renderStatusbar","getTextComponents","hasPlugin","replaceCountText","words","characters","currentVal","wordCount","renderWordCount","resizeHandler","getComponents","getLazyMothership","setup$3","lazyOuterContainer","lazyMothership","lazyUiMothership","deviceClasses","isToolbarBottom","memAnchorBar","lazySinkResult","verticalDirAttributes","hasMultipleToolbar","hasToolbar","hasMenubar","makeHeaderPart","sidebarContainer","statusbar","editorComponents","containerComponents","isHidden","opacity","border","setEditorSize","parsedHeight","parsedWidth","getWidthWithFallback","getMothership","getUiMothership","renderUI","isGridUiContainer","sinkSpec","reactiveWidthSpec","renderSink","toolbarGroupButtonConfig","addGroupToolbarButton","sidebars","toolbarOpt","addShortcut","addQueryStateHandler","setupShortcutsAndCommands","ship","fireDismissPopups","onTouchstart","onTouchmove","onTouchend","onMousedown","onMouseup","onContentClick","onContentMouseup","onContentMousedown","loopEditor","relatedTarget","onWindowScroll","onWindowResize","onEditorResize","onEditorProgress","onDismissPopups","setup$b","handleToggle","setup$8","schema$2","basic","parts$2","dragBlockClass","getDragBounds","ModalDialog","dialogComp","modalEventsId","externalBlocker","blockerDom","getFooter","setIdle","setBusy","modalBehaviours","labelledElement","labelElement","labelledBy","describedElement","describeElement","describeId","describedBy","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseFooterButtonFields","dialogFooterButtonFields","normalFooterButtonFields","menuFooterButtonFields","dialogFooterButtonSchema","submit","alertBannerFields","alertBannerSchema","buttonFields","buttonSchema","formComponentFields","formComponentWithLabelFields","checkboxFields","checkboxSchema","checkboxDataProcessor","collectionFields","collectionSchema","collectionDataProcessor","colorInputSchema","colorInputDataProcessor","colorPickerSchema","colorPickerDataProcessor","customEditorFields","defaultedPostMsg","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","dropZoneSchema","dropZoneDataProcessor","createGridFields","itemsField","htmlPanelFields","htmlPanelSchema","iframeFields","iframeSchema","iframeDataProcessor","imagePreviewSchema","imagePreviewDataProcessor","inputFields","inputSchema","inputDataProcessor","createLabelFields","listBoxSingleItemFields","listBoxNestedItemFields","desc","_desc","getP","thunkOf","listBoxItemSchema","listBoxFields","listBoxSchema","listBoxDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","sliderFields","sliderSchema","sliderInputDataProcessor","tableFields","tableSchema","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","createItemsField","itemSchema","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogButtonFields","dialogButtonSchema","dialogSchema","tabpanel","urlDialogButtonSchema","urlDialogSchema","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","createDataValidator","namedItems","getNamedItems","getDataProcessor","internalDialog","dataValidator","DialogManager","openUrl","redial","toValidValues","renderBodyPanel","memForm","formValue","TabButton","tabButtonBehaviours","schema$1","tabsPart","barDetail","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$1","Tabbar","tabbarBehaviours","selectedClass","tab","Tabview","tabviewBehaviours","barPart","tabs","viewPart","TabSection","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","tabValue","tabview","tabData","onChangeTab","onDismissTab","getViewItems","showTab","tabKey","setTabviewHeight","updateTabviewHeight","dialogBody","maxTabHeight","tablist","documentElement$1","tabviewHeight","currentTabHeight","dialogTopMargin","dialogBottomMargin","getMaxTabviewHeight","getTabview","setMode","allTabs","smartTabHeight","extraEvents","tabviewComp","heights","getMaxHeight","_tab","measureHeights","oldHeight","newHeight","naiveTabHeight","renderTabPanel","storedValue","updateDataWithForm","formData","validData","currentData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","dialogId","contentId","ariaAttrs","incoming","isTabPanel","hiddenHeader","pClose","pUntitled","pBodyMessage","pFooter","footer","pFooterGroup","startButtons","endButtons","renderDialog$1","dialogClass","blockerBackdropClass","scrollLockClass","extraStyles","dialogEvents","renderClose","renderTitle","titleId","renderDragHandle","pTitle","pHandle","draghandle","draggable","renderModalHeader","bs","getEventExtras","lazyDialog","closeWindow","blockEvent","renderModalDialog","mapMenuButtons","mapItems","extractCellsToObject","innerAcc","initCommonEvents","fireApiEvent","_event","self","SilverDialogEvents","getInstanceApi","withSpec","currentDialog","currentDialogInit","rootNode","cur","onTabChange","newTabName","oldTabName","footerButtons","buttonGroups","makeGroup","memento","renderFooter","initSpec","makeButton","lookupByName","buttonName","renderModalFooter","getCompByName","getFormWrapper","getDialogApi","doRedial","menuItemStates","withRoot","instanceApi","valueComp","setData","prevData","mergedData","newInternalData","dialogState","validateData$1","tabSection","getId","dialogInit","renderDialog","bodySpec","renderModalBody","storagedMenuButtons","objOfCells","dialogSize","getDialogSizeClasses","modalAccess","outerForm","renderInlineDialog","dialogLabelId","dialogContentId","memHeader","renderInlineHeader","memBody","renderInlineBody","memFooter","renderInlineFooter","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","renderUrlDialog","renderIframeBody","iframeUri","base_uri","href","iframeDomain","protocol","port","messageHandlerUnbinder","isSameOrigin","insertContent","handleMessage","isCustomMessage","onMessage","iframeEle","postMessage","sendMessage","getUrlDialogApi","inlineAdditionalBehaviours","isStickyToolbar$1","alertDialog","closeDialog","memFooterClose","titleSpec","closeSpec","footerCloseButton","setup$2","confirmDialog","memFooterYes","footerNo","footerYesButton","setup$1","openModalUrlDialog","openModalDialog","internalInitialData","openInlineDialog","config$1","refreshDocking","dialogUi","inlineDialogComp","isAlertOrConfirmDialog","confirm","registerOptions","sqrt","register$d","windowMgr","getWindowManagerImpl","getNotificationManagerImpl","contentArea","closeCallback","notificationWrapper","notification","progressBar","thisNotification","notificationSpec","allNotifications","notificationManager","getNotifications","previousNotification","getEl","nodeAnchor","nuText","getArgs","NotificationManagerImpl","range$1","each$2","last$2","isComment","clone$2","fromDom$1","rawParent","prevSibling","previousSibling","children$2","before$3","after$5","after$4","unwrap","deep","shallowAs","validSectionList","rowspan","colspan","rowdetail","elementnew","isNew","isLocked","rowcells","getBody$1","ancestors$3","ancestors$4","getRaw$2","getAttrValue","getSpan","hasColspan","cellOrCol","hasRowspan","getCssValue","firstLayer","filterFirstLayer","tags","cells$1","columns$1","columnGroups","columnGroup","rows$1","fromRowsOrColGroups","elems","getSection","getParentSection","parentName","isValidSection","fromTable$1","unknown$2","nu$2","detect$4","detect$2","toNumber","px","toFloat","getProp","getCalculatedWidth","boxSizing","upper","lower","calcContentBoxSize","getInner","getRuntime$1","addCells","gridRow","existingCells","newCells","setCells","addCell","mutateCell","getCell","getCellElement","cellLength","extractGridDetails","cols","cloneRow","cloneCell","LOCKED_COL_ATTR","getLockedColumnsFromTable","lockedColStr","lockedCols","getLockedColumnsFromGrid","sort$1","_val","filterItems","warehouse","generate$1","lockedColumns","rowData","maxRows","maxColumns","rowCount","colgroupRows","currentRow","rowCell","extended","occupiedColumnPosition","occupiedRowPosition","columnPosition","newpos","colgroups","columnsGroup","columnext","generateColumns","colgroup","Warehouse","fromTable","getAt","findItem","filtered","justCells","justColumns","hasColumns","getColumnAt","isValidCell","rowsArr","decide","getBlock","getFallback","inBlock","deduce","aa","getRuntime","rowInfo","colInfo","rtlEdge","ltrEdge","getTop$1","findPositions","getInnerEdge","getOuterEdge","cellOption","lastLine","optElements","amount","rPercentageBasedSizeRegex","rPixelBasedSizeRegex","isCol$2","getPercentSize","outerGetter","innerGetter","relativeParent","setPixelWidth","setPercentageWidth","normalizePixelSize","getTotalHeight","getHeightValue","getRaw$1","getRawWidth$1","getPercentageWidth","getPixelWidth$1","setGenericWidth","getPercentTableWidth","percentageBasedSizeRegex","isCol$1","getRawW","getRawH","backups","getWidthFrom","columnCells","justCols","colFilter","supportsColWidths","isValidColumn","getDeduced","deduced","getPixelWidths","tableSize","minCellWidth","getHeightFrom","widthLookup","noneSize","zero","pixelWidth","getWidths","getCellDelta","singleColumnWidth","setElementWidth","adjustTableWidth","isRelative","percentageSize","getFloatWidth","cellWidth","getPercentageWidths","_delta","pixelSize","TableSize","chooseSize","seenSelected","extract$1","selectedSelector","replica","replicaHouse","replicaStats","house","totalColumns","minRow","minCol","maxRow","maxCol","allCells","selectedCells","endRow","endCol","statsStruct","findSelectedStats","unselectedCells","stats","totalRows","fillInGaps","widthDelta","emptyRows","clean","colWidths","allColsWidth","getTableWidthDelta","getEnd","elementsWithCursorPosition","isCursorPosition","descendantRtl","transferableAttributes","createCell","createCol","createColgroup","createRow$1","replace$1","cloneChildren","copy$2","pasteReplace","cellOperations","mutate","formatsToClone","cloneCss","sourceDom","targetDom","cssText","copy$1","lastNode","oldCell","newCell","firstText","formatSelector","clonedFormat","cloneFormats","validAttributes","attributeName","cloneAppropriateAttributes","colGap","gap","paste$1","getIsRoot","removeDataStyle","removeStyleAttribute","getSelectionStart","getPixelWidth","getPixelHeight","inSelection","leftEdge","rightEdge","topEdge","bottomEdge","finishCol","finishRow","isWithin","getAnyBox","startCoords","finishCoords","sc","fc","detailA","detailB","getBox$1","isRect","detailIsWithin","isRectangular","intercepts$1","parentCell","innerCell","c1","c2","deltaColumn","getWarehouse","intercepts","nestedIntercepts","firstTable","lastTable","optStartCell","optLastCell","lastCell","TagBoundaries","DomUniverse","up","down","copyTo","destination","as","afterAll","appendAll","comparePosition","compareDocumentPosition","isSpecial","getLanguage","getText","setText","isBoundary","isEmptyTag","isNonEditable","unsafeOne","universe","look","tail","commonElement","end","sharedOne$1","ancestors$1","ps1","ps2","prune","ind","pruned1","pruned2","firstpath","secondpath","universe$3","sharedOne","_universe","rootTable","boxes","startTable","finishTable","ancestorCells","ancestors","lca","lcaTable","finishAncestorCells","startAncestorCells","retrieve$1","sels","getEdges","firstSelectedSelector","lastSelectedSelector","shiftSelection","expandTo","retrieve","retrieveBox","firstAncestor","lastAncestor","fA","lA","unmergable","hasSpan","mergable","ephemera","firstSelected","lastSelected","getSelectionFromSelector","initCell","cellName","getSelectionCellOrCaption","getSelectionCell","getCellsFromSelection","getSelectedCells","registerEvents","multiCellContext","extractSelected","getTextContent","serializer","serialize","serializeElements","getCellsFromFakeSelection","paste","isTable","generators","clipboard","pasteCells","scan$1","toEnd","freefallRtl$2","freefallRtl$1","universe$2","halve","main","getGenericWidth","surround","sizes","startIndex","clampDeltaHelper","minCellSize","diff","clampNegativeDelta","clampDelta","resizeTable","calcRelativeDeltas","ratio","newThis","calcLeftEdgeDeltas","clampedDelta","calcFixedDeltas","resizer","clampTableDelta","calcMiddleDeltas","_prev","calcRightEdgeDeltas","calcRedestributedWidths","totalWidth","pixelDelta","newSizes","preserveTable","isLastColumn","maxDelta","_minCellSize","_totalWidth","_pixelDelta","_isRelative","getGridSize","isHeaderCell","isHeaderCells","getRowHeaderType","isHeaderRow","getRowType","findCommonCellType","subType","headerCells","transformCell","substitution","transformRow","fixedCell","mutate$1","sectionCells","TableSection","rowType","findTableRowHeaderType","isEditable$1","assumeEditable","isContentEditable","editable","setIfNot","insert$1","render$1","newRows","syncRows","gridSection","tr","syncColGroup","colGroup","renderSection","sectionName","newSection","generateSection","sectionElems","renderOrRemoveSection","removeSection","headSection","bodySection","footSection","columnGroupsSection","findDiff","subgrid","getRow","isColRow","getColumn","toDetails","seen","updateSeen","rowdetailnew","toGrid","colgroupCols","rowCells","rowDetail","toDetailList","findInWarehouse","extractCells","cell$1","lc","operation","postAction","genWrappers","tableSection","fromWarehouse","out","newElements","tableSizing","sizing","resizing","onPasteByEditor","onCells","onUnlockedCells","allUnlocked","isUnlockedTableCell","unmerge","currentCell","isToReplace","splitRows","uniqueCells","sub","measureWidth","gridA","gridB","rowDelta","colDelta","measureHeight","generateElements","generator","rowFill","exampleRow","colFill","tailor","fillCols","fillRows","gridWidth","isLastColLocked","modifiedCols","newLockedColumns","isSpanning","matching","getLockedColumnsWithinBounds","startAddress","colNum","validStartAddress","currentStartAddress","gridColLength","adjustedRowAddress","possibleColAddresses","getValidStartAddress","gridBRows","lockedColumnsWithinBounds","rowRemainder","colRemainder","colRequired","rowRequired","measure","fittedGrid","newLockedColumnsWithinBounds","lockedColumnObj","skippedCol","gridBColIndex","newCellElm","mergeTables","insertCols","prevCell","splitCols","fittedNewGrid","secondDelta","fittedOldGrid","insertRows","oldCols","oldRows","newLocked","secondDiff","fittedGridB","newChild","lockedColFill","insertRowAt","example","ex","insertColumnAt","withinSpan","getElementFor","isDuplicatedCell","notInStartRow","notInStartColumn","determineScope","applyScope","newScope","isInHeader","getScope","replaceIn","genScope","shouldReplace","mapCells","isTarget","getColumnCells","replaceColumns","indexes","rowHeaders","shouldReplaceCell","targetColumn","_colIndex","columnReplacePredicate","scopeGenerator","columnScopeGenerator","replaceRows","targetRow","getRowCells","columnHeaders","_cell","newGrid","_rowIndex","rowReplacerPredicate","rowScopeGenerator","replaceCells","targetCells","ColumnContext","only","determine","context","neighbours","measures","recalculateHeightForCells","recalculate","widths","recalculateWidthForColumns","recalculateWidthForCells","recalculateAndApply","adjustWidth","clampedStep","newWidths","adjustHeight","getPixelHeights","newHeights","newCellSizes","newRowSizes","matchRowHeight","uniqueColumns","currentDetail","isCol","isColgroup","isRow$1","elementToData","getScopeAttribute","Generators","toData","nuCell","recent","getOrInit","makeNew","replaceOrInit","merge","stringAttributes","baseScope","getScopeProperty","blockList","universe$1","isBlock","tagName","isBlock$1","isList","isList$1","isEmptyTag$1","isBr","markCell","rightSiblingIsBlock","rightSibling","isListItem","advancedBr","markContent","elementFromGrid","findEditableCursorPosition","cursorElement","uniqueRows","makeRowsSection","initialGrid","rowIndexes","opMakeRowsHeader","opMakeRowsBody","opMakeRowsFooter","gridifyRows","pasteDetails","fromPastedRows","wh","_table","_info","adjustWidthTo","adjustAndRedistributeWidths","resizeBehaviour","tablePixelWidth","adjustAndRedistributeWidths$1","firstColumnIsLocked","_warehouse","lastColumnIsLocked","getColumnsWidth","uniqueCols","insertColumnsExtractor","pasteColumnsExtractor","headerCellGenerator","bodyCellGenerator","insertRowsBefore","targetIndex","insertRowsAfter","newG","insertColumnsBefore","extractDetail","insertColumnsAfter","eraseColumns","_comparator","_genWrappers","deleteColumnsAt","maxColIndex","eraseRows","deleteRowsAt","maxRowIndex","makeColumnsHeader","columnIndexes","unmakeColumnsHeader","makeRowsHeader","makeRowsBody","makeRowsFooter","makeCellsHeader","unmakeCellsHeader","mergeCells","merge$2","onMergable","mergeable","unmergeCells","onUnmergable","gridify","pasteColsBefore","mergedGrid","pasteColsAfter","pasteRowsBefore","pasteRowsAfter","getColumnsType","lastSelectedCell","minColRange","maxColRange","selectedColumnCells","getCellsType","getRowsType","minRowRange","maxRowRange","rowTypes","hasHeader","hasFooter","hasBody","findCommonRowType","fireNewRow","fireNewCell","fireTableModified","styleModified","structureModified","styleAndStructureModified","getTableCloneElements","getTableHeaderType","getTableColumnResizingBehaviour","isPreserveTableColumnResizing","isResizeTableColumnResizing","getTableSizingMode","isTablePercentagesForced","isTablePixelsForced","isTableResponsiveForced","hasTableResizeBars","getTableDefaultAttributes","getTableDefaultStyles","defaultStyles","parentBlock","getParent","contentWidth","determineDefaultTableStyles","tableUseColumnGroup","TableActions","cellSelectionHandler","isTableBody","colMutationOp","getTableSectionType","setSelectionFromAction","firstCell","clearSelectedCells","des","guard","effect","noEvents","deleteRow","deleteColumn","getTableRowType","getTableCellType","getTableColType","constrainSpan","currentColspan","copyCols","colsToCopy","copiedCols","clonedCol","fakeColgroup","generateColGroup","cellsToCopy","copiedCells","clonedCell","fakeTR","generateRows","copyRows","slicedGrid","filteredGrid","slicedDetails","pixels","validateFor","rawAmount","Size","redistributeValues","newWidthType","newTotalWidth","pc","redistributeToPx","_pc","redistributeToPercent","redistribute$1","newType","floats","redistributeEmpty","normalize","floored","roundDown","getUnit","redistribute","optWidth","optHeight","widthUnit","oldWidths","getRawWidths","nuWidths","redistributeToColumns","redistributeToW","hUnit","totalHeight","oldHeights","getRawHeights","redistributeToH","isPercentSizing","isPixelSizing","isNoneSizing","cleanupLegacyAttributes","convertToPercentSize","convertToPixelSize","getPixelTableWidth","convertToNoneSize","rowElements","DefaultRenderOptions","colGroups","createGroupRow","createRows","createRow","placeCaretInCell","colHeaders","headerType","renderOpts","rowHeadersGoInThead","actualRowHeaders","thead","theadRows","tbody","tbodyRows","addVisual","isPercentage","fireEvents","tableElm","selectFirstCellInTable","tableTypeRow","tableTypeBase","fakeClipboardItem","FakeClipboardItem","getType","clearData","setRows","rowsOpt","clearRows","getRows","setColumns","columnsOpt","clearColumns","getColumns","getSelectionStartCellOrCaption","getTableFromCell","performActionOnSelection","getSelectionStartCell","postExecute","actOnSelection","copyRowSelection","copyColSelection","pasteOnSelection","clonedRows","pasteRows","actOnType","no_events","mceTableSplitCells","mceTableMergeCells","mceTableInsertRowBefore","mceTableInsertRowAfter","mceTableInsertColBefore","mceTableInsertColAfter","mceTableDeleteCol","mceTableDeleteRow","mceTableCutCol","mceTableCutRow","mceTableCopyCol","mceTableCopyRow","mceTablePasteColBefore","mceTablePasteColAfter","mceTablePasteRowBefore","mceTablePasteRowAfter","mceTableDelete","cellOrCaption","isEmpty","setCursorLocation","mceTableCellToggleClass","formatterAction","mceTableToggleClass","mceTableToggleCaption","caption","mceTableSizingMode","setSizingMode","mceTableCellType","mceTableColType","mceTableRowType","func","checkInput","headerRows","headerColumns","insertTable","getFormatName","validArgs","cata","onBefore","onOn","onAfter","Response","selectNodeContents","selectNodeContentsUsing","Situs","convertToRange","makeSitus","selectRange","cellSel","traverse","backtrack","_direction","sidestep","advance","sibling","successors","succ","Walkers","hone","isLeaf","seekLeft$1","seekRight$1","after$1","failedUp","failedDown","isRow","BeforeAfter","verify","bridge","beforeOffset","afterOffset","failure","afterCell","beforeCell","beforeBounds","getRect","afterBounds","isOverlapping","_sharedRow","onSuccess","onFailedUp","onFailedDown","gatherer","cand","gather","handleParent","findBr","br","adjacent","inParent","indexInParent","tryBr","handleBr","toCaret","getElemBox","getBoxAt","getRangedRect","getPartialBox","getEntireBox","retry","inOutsideBlock","isOutside","downMovement","adjuster","guessBox","lowerCaret","adjustTil","numRetries","isAtTable","adjustForTable","situsFromPoint","guess","newCaret","moved","adjusted","getInnerHeight","checkScroll","scrollBy","Retries","tryUp","higherCaret","tryDown","getJumpSize","findSpot","brNeighbour","fromSitus","analysis","_message","tryCursor","situs","tryAgain","tryAt","inSameTable","simulate","handle$1","precheck","firstUpCheck","seekLeft","lastOffset","lastDownCheck","seekRight","findCell","isKey","keycode","isUp","isDown","isNavigation","isBackward","isForward","caretPositionFromPoint","offsetNode","caretRangeFromPoint","availableSearch","beforeSpecial","doSetNativeRange","removeAllRanges","addRange","doSetRange","setRangeFromRelative","setBaseAndExtent","extend","setLegacyRtlRange","setExact","preprocessExact","setRelative","preprocessRelative","setToElement","selectNodeContents$1","getAtPoint","WindowBridge","exactAdt","clearSelection","collapseSelection","toStart","setSelection","setRelativeSelection","selectContents","getScrollY","by","rc","annotations","clearstate","applySelection","clearBeforeUpdate","singleCell","isNonEditableCell","isCellClosestContentEditable","MouseSelection","keyboard","clearToNavigate","realEvent","update$1","newSels","sync","SelectionAnnotation","onSelection","onClear","removeSelectionAttributes","addSelectionAttribute","getOtherCells","upGrid","upDetails","slicedCells","getUpOrLeftCells","downGrid","downDetails","getDownOrRightCells","bind$1","hasInternalTarget","TableCellSelectionHandler","cellSelection","lazyRoot","Selections","fireTableSelectionChange","fireTableSelectionClear","mouseHandlers","keyHandlers","handleResponse","hasShiftKey","ns","isLeftMouse","doubleTap","lastTarget","lastTimeStamp","touchEnd","lT","lTS","timeStamp","getDoubleTap","wrappedEvent","addTempAttr","onMultiple","onSingle","Event","trigger","typeDefs","baseWith","handleUnsupported","validateStrArr","everything","checkDupes","reqMessage","invalidKeys","incorrect","invalidTypeMessage","handleExact","unsuppMessage","exactly","DragMode","DragSink","DragApi","InDrag","compare","Movement","noDragState","NoDrag","inDragState","mutation","throttledDrop","runIfActive","namespace","dashNamespace","resolve$1","MouseDrag","layerClass","Blocker","mdown","mup","mmove","mout","BarMutation","drag","Mutation","assign","resizeBar","resizeRowBar","resizeColBar","wire","drawBar","cpOption","cp","refreshCol","colPositions","tableHeight","colBar","refreshRow","rowPositions","tableWidth","rowBar","refreshGrid","warhouse","isResizable","resizableRowBars","resizableRows","resizableRowPositions","_pos","barIndex","resizableColBars","resizableCols","resizableColumns","resizableColPositions","bars","resizeBarDragging","BarManager","hoverTable","getResizer","_dataRow","_dataCol","currentCol","startAdjust","isColBar","tbl","hideBars","showBars","TableResize","lazySizing","hdirection","vdirection","beforeResize","afterResize","startDrag","refreshBars","ResizeWire","chrome","createContainer","TableResizeHandler","selectionRng","tableResize","resizeWire","startW","startRawW","lazyResizingBehaviour","afterCornerResize","isRightEdgeResize","isPercentage$1","percentW","isPixel","computedWidth","syncPixels","sz","rawWire","objectResizing","hasTableObjectResizing","rawTable","fireObjectResizeStart","fireObjectResized","getAttrib","getRawWidth","setupTable","lookupOnSelection","registerQueryCommands","DomModel","getAudioTemplateCallback","getVideoTemplateCallback","hasLiveEmbeds","shouldFilterHtml","getUrlResolver","hasAltSource","hasPoster","hasDimensions","DOM$1","trimPx","getEphoxEmbedData","altsource","poster","htmlToData","forced_root_block","walk","mime","mp3","m4a","wav","mp4","webm","ogg","swf","Parser","allow_conditional_comments","addPx","updateEphoxEmbed","styleMap","serializeStyle","sources","updateHtml","updateAll","numSources","sourceCount","parser","addNodeFilter","hasImage","urlPatterns","regex","allowFullscreen","getUrl","protocolMatches","getProtocol","newUrl","dataToHtml","dataIn","embed","convertURL","sourcemime","altsourcemime","matchPattern","allowfullscreen","audioTemplateCallback","videoTemplateCallback","getIframeHtml","getFlashHtml","getAudioHtml","getScriptHtml","getVideoHtml","isMediaElement","loadedData","getEmbedHtml","embedHandler","rej","wrappedResolve","embedPromise","defaultPromise","metaData","dims","sourceInput","mainData","extractMeta","getFromData","getFromMetaData","getNonEmptyValue","errorMessage","addEmbedHtml","handleInsert","beforeObjects","afterObjects","selectPlaceholder","submitForm","catch","showDialog","editorData","snippet","getEditorData","sizeInput","constrain","generalTab","embedTab","advancedFormItems","advancedTab","serviceData","handleSource","dataFromEmbed","handleEmbed","handleUpdate","isLiveEmbedNode","defaultValue","setDimensions","previewNode","useDefaults","defaultWidth","fallbackHeight","defaultHeight","createPlaceholderNode","placeHolder","retainAttributesAndInnerHtml","transparentSrc","createPreviewNode","previewWrapper","frameborder","attrName","sanitizedHtml","newNode","appendNodeContent","unescape","shimNode","sourceNode","attribs","ai","attrValue","tempNode","isPageEmbedWrapper","nodeClass","isWithinEmbedWrapper","parseAndSanitize","boolAttrs","getBoolAttrs","getElementRule","attributesOrder","placeHolderConverter","addAttributeFilter","realElmName","realElm","selectorChangedWithUnbind","selectedNode","hasClass","hasAdvTab","hasUploadTab","getPrependUrl","getClassList","hasDescription","hasImageTitle","hasImageCaption","getImageList","showAccessibilityOptions","isAutomaticUploadsEnabled","parseIntAndGetMax","val1","val2","removePixelSuffix","addPixelSuffix","isPlaceholderImage","imgElm","isSafeImageUrl","isDomSafe","allow_html_data_urls","allow_script_urls","allow_svg_data_urls","getHspace","marginLeft","marginRight","getVspace","marginTop","marginBottom","getBorder","borderWidth","hasCaption","updateAttrib","toggleCaption","figureElm","insertAfter","removeFigure","wrapInFigure","normalizeStyle","normalizeCss","setSize","getSize","setHspace","pxValue","setVspace","setBorder","setBorderStyle","borderStyle","isFigure","getIsDecorative","getAlt","getStyleValue","hspace","vspace","getBorderStyle","isDecorative","updateProp","oldData","setAlt","setAttrib","sugarImage","normalized","updateAlt","normalizeCss$1","mergedCss","splitMargin","mergeMargins","compressed","getSelectedImage","splitTextBlock","figure","textBlockElements","getTextBlockElements","parentElm","isValidChild","textBlock","insertImageAtCaret","outerHTML","insertedElm","writeImageDataToSelection","syncSrcAttr","selectImage","onload","onerror","setAttribs","waitLoadImage","insertOrUpdateImage","partialData","sanitizedData","sanitizeImageData","deleteImage","sanitizeList","sanitizer","extractor","findEntryDelegate","isGroup","ListUtils","optList","AdvTab","collect","urlListSanitizer","futureImageList","imageList","ok","json","createImageList","hasAdvTab$1","hasUploadTab$1","hasUploadUrl$1","hasUploadUrl","hasUploadHandler$1","hasUploadHandler","readImageDataFromSelection","hasDescription$1","hasImageTitle$1","hasDimensions$1","hasImageCaption$1","hasAccessibilityOptions","automaticUploads","prependURL","preUrl","makeItems","imageDescription","useColumns","MainTab","UploadTab","fromImageData","images","borderstyle","fileinput","toImageData","removeEmptyAlt","addPrependUrl","srcURL","prependUrl","addPrependUrl2","formFillFromMeta","formFillFromMeta2","changeSrc","helpers","imageSize","calculateImageSize","prevImage","updateImagesDropdown","changeFileInput","blobUri","URL","createObjectURL","finalize","revokeObjectURL","updateSrcAndSwitchTab","reader","FileReader","readAsDataURL","dataUrl","blobInfo","createBlobCache","uploadImage","alertErr","addToBlobCache","changeHandler","prevAlt","changeImages","closeHandler","makeDialogBody","submitHandler","finalData","editorUpload","uploadImagesAuto","getImageSize","blobCache","filename","base64","stylesArg","upload","Dialog","createState","hasImageClass","toggleContentEditableState","toggleContentEditable","addContextMenu","assumeExternalTargets","hasContextToolbar","getLinkList","getDefaultLinkTarget","getDefaultLinkProtocol","getTargetList","getRelList","getLinkClassList","shouldShowLinkTitle","allowUnsafeLinkTarget","useQuickLink","sanitizeWith","extracter","ListOptions","sanitize","createUi","isLink","getHref","collectNodesInRange","cloneContents","walker","hasProtocol","applyRelTargetRules","isUnsafe","rels","removeTargetRules","inArray","newRels","addTargetRules","getAnchorElement","selectedElm","isImageFigure","getAnchorText","anchorElm","trimCaretContainers","hasLinks","grep","isOnlyTextSelected","inlineTextElements","getTextInlineElements","applyLinkOverrides","linkAttrs","newLinkAttrs","newRel","handleExternalTargets","linkDomMutation","attachState","getLinkAttrs","updateLink","linkImageFigure","createHTML","createLink","unwrapOptions","cls","uriOptions","sanitizeData","unlinkImageFigure","bookmark","getBookmark","cloneRange","startAnchorElm","endAnchorElm","moveToBookmark","unlinkSelection","unlinkDomMutation","fig","isListGroup","findTextByValue","catalog","persistentText","hasPersistentText","DialogChanges","linkCatalog","persistentData","onUrlChange","getTitleFromUrlChange","onCatalogChange","catalogs","tryEmailTransform","tryProtocolTransform","defaultLinkProtocol","DialogConfirms","delayedConfirm","AnchorListOptions","anchorNodes","ClassListOptions","parseJson","LinkListOptions","linkList","optItems","RelOptions","isTargetBlank","safeRelExtractor","fallbacks","TargetOptions","nonEmptyAttr","DialogInfo","linkNode","links","linkClass","extractFromAnchor","optNode","flags","titleEnabled","collectData","titleText","defaultTarget","getInitialData","dialogDelta","makeDialog","getChangedValue","changedData","pData","handleSubmit","createEvent","initMouseEvent","appendClickRemove","getLink","getSelectedLink","gotoLink","targetEl","scrollIntoView","openDialog","gotoSelectedLink","toggler","toggleActiveState","toggleEnabledState","toggleUnlinkState","hasLinks$1","setupContextToolbars","onSetupLink","addContextForm","onlyText","getLinkText","collapseSelectionToEnd","setupButtons","setupMenuItems","setupContextMenu","metaKeyPressed","altKey","metaKey","hasOnlyAltModifier","setupGotoLinks","isDuplicated","lastChild","matchNodeName","matchNodeNames","isTextNode","isListNode","isOlUlNode","isOlNode","isListItemNode","isDlItemNode","isTableCellNode","isTextBlock","blockElements","isEmpty$1","keepBookmarks","isChildOfBody","isChildOf","shouldIndentOnTab","getForcedRootBlock","getForcedRootBlockAttrs","createTextBlock","contentNode","getBlockElements","createFragment","blockName","blockAttrs","hasContentNode","DOM$2","splitList","li","bookmarks","newBlock","tmpRng","extractContents","isDescriptionDetail","isDescriptionTerm","indentDlItem","dlIndentation","indentation","dlItems","dl","outdentDlItem","getNormalizedPoint","normalizeRange","outRng","rangeStart","rangeEnd","getParentList","selectionStart","getClosestListRootElm","getSelectedSubLists","parentList","selectedBlocks","getSelectedBlocks","isParentListSelected","findSubLists","getSelectedListItems","listItemsElms","parentLi","findParentListItemsNodes","parentTableCell","findLastParentListNode","parentLists","getSelectedListRoots","selectedLists","firstList","subsequentLists","getSelectedLists","getUniqueListRoots","lists","listRoots","fireListEvent","joinSegment","createSegment","listType","writeShallow","cast","newCast","depth","appendItem","itemAttributes","listAttributes","normalizeSegment","writeDeep","segments","createSegments","joinSegments","populateSegments","hasFirstChildList","isIndented","cloneItemContent","normalizeEntries","entries","dirty","closestSiblingEntry","cleanListProperties","matchingEntry","cloneListProperties","parseItem","itemSelection","selectionState","currentItemEntry","createEntry","childListEntries","parseList","outdentedComposer","normalizedEntries","fromElements","indentedComposer","composeList","contentDocument","listIndentation","entrySets","sourceList","parseLists","selectedListItems","getItemSelection","entrySet","indentEntry","indentSelectedEntries","composedLists","wasType","groupBy","composeEntries","composedList","selectionIndentation","getSelectedDlItems","isHandled","indentListSelection","outdentListSelection","flattenListSelection","createBookmark","setupEndPoint","resolveBookmark","restoreEndPoint","nodeIndex","listToggleActionFromListName","listName","isCustomList","listState","activate","nodeChangeHandler","inList","updateListWithDetails","setStyle","updateListStyle","updateListAttrs","getEndPointNode","applyList","listItemName","getContentEditable","selectedTextBlocks","textBlocks","endNode","siblings","isBookmarkNode","getSelectedTextBlocks","listBlock","sib","sibStyle","detailStyle","hasCompatibleStyle","rename","removeStyles","mergeWithAdjacentLists","shouldMerge","list1","list2","isValidLists","hasSameListStyle","elm2","toggleMultipleLists","parentIsList","hasListStyleDetail","allLists","newList","updateList$1","toggleList","selectedSubLists","toggleSingleList","normalizeLists","normalizeList","findNextCaretContainer","nonEmptyBlocks","getNonEmptyElements","isBogusBr","hasOnlyOneBlockChild","moveChildren","fromElm","toElm","unwrapSingleBlockChild","mergeLiElements","listNode","ul","nestedLists","mergeForward","fromLi","toLi","mergeIntoEmptyLi","backspaceDeleteFromListToListCaret","selectionStartElm","otherLi","resolvedBookmark","mergeBackward","backspaceDeleteCaret","removeBlock","backspaceDeleteIntoListCaret","backspaceDelete","backspaceDeleteRange","parseAlphabeticBase26","chars","char","charValue","charCodeAt","composeAlphabeticBase26","quotient","fromCharCode","parseDetail","listStyleType","currentList","isUppercase","isLowercase","deduceListType","parseStartValue","queryListCommandState","registerDialog","setStyles","updateList","setupTabKey","DELETE","listProperties","flatten$1","children$3","child$3","getTDTHOverallStyle","firstChildStyle","currentStyle","checkChildren","setAlign","defaultCellBorderWidths","defaultCellBorderStyles","getTableBorderWidths","getTableBorderStyles","getDefaultAttributes","hasAdvancedCellTab","hasAdvancedRowTab","hasAdvancedTableTab","hasAppearanceOptions","hasTableGrid","shouldStyleWithCss","getCellClassList","getRowClassList","getTableClassList","getTableBackgroundColorMap","getTableBorderColorMap","isPixelsForced","isResponsiveForced","getDefaultStyles","determineDefaultStyles","addPxSuffix","getRowsFromSelection","verticalAlignValues","onSetupToggle","formatValue","checkNode","buildListItems","buildMenuItems","applyTableCellStyle","filterNoneItem","generateMenuItemsCallback","buildColorMenu","colorList","changeRowHeader","changeColumnHeader","getItems$2","getClassList$1","getAdvancedTab","dialogName","advTabItems","DomModifier","setFormat","getRowType$1","onUnlockedMergable","onUnlockedUnmergable","selectedRows","rgbToHex","extractAdvancedStyles","borderwidth","bordercolor","backgroundcolor","getSharedValues","baseData","comparisonData","itemKey","comparisonValue","getAlignment","matchNode","getHAlignment","getVAlignment","cellA","cellB","applyStyleData$1","wasChanged","isSingleCell","cellElm","shouldOverrideCurrentValue","modifier","colModifier","shouldUpdate","updateSimpleProps$1","updateAdvancedProps$1","halign","setVAlign","onSubmitCellForm","modifiedData","celltype","applyStructureData$1","applyCellData","getData$1","cellsData","extractDataFromCellElement","open$2","dialogTabPanel","dialogPanel","formChildren","getItems$1","applyStyleData","rowElm","updateSimpleProps","updateAdvancedProps","onSubmitRowForm","typeModified","applyStructureData","applyRowData","rowsData","extractDataFromRowElement","insertNewTable","rowColCountItems","appearanceItems","classListItem","styleTDTH","onSubmitTableForm","removePxSuffix","cellspacing","cellpadding","applyDataToElement","captionElm","captionModified","hasAdvTableTab","advStyle","extractDataFromSettings","optBorderWidth","extractDataFromTableElement","generalPanel","getSelectionTargets","changeHandlers","selectionDetails","isCaption","isDisabledForSelection","getSelectionEnd","findTargets","startCellOrCaption","endTable","noMenu","getExtractedDetails","onAny","onFirst","onLast","unmergeable","resetTargets","setupHandler","onSetupWithToggle","isDisabledFromLocked","lockedDisable","onSetupTableHeaders","onSetupTableRowHeaders","onSetupTableColumnHeaders","onSetupTable","onSetupCellOrRow","onSetupColumn","onSetupPasteable","getClipboardData","onSetupPasteableColumn","onSetupMergeable","_targets","onSetupUnmergeable","onSetupTableWithCaption","Plugin","selectionTargets","mceTableProps","mceTableRowProps","mceTableCellProps","addMenuIfRegistered","queryCommandSupported","addToggleMenuIfRegistered","insertTableAction","hasRowMenuItems","hasColumnMenuItems","hasCellMenuItems","tableClassList","tableCellClassList","addMenuItems","addButtonIfRegistered","addToggleButtonIfRegistered","addButtons","addContextToolbar","addToolbars","getAutoLinkPattern","rangeEqualsBracketOrSpace","rangeString","scopeIndex","parseCurrentLine","rngText","autoLinkPattern","defaultLinkTarget","charAt","handleEnter","handleBracket","handleSpacebar","module","exports","extendStatics","__assign","arguments","eventPropTypes","onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onClearUndos","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDragDrop","onDragGesture","onDragOver","onExecCommand","onGetContent","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onUndo","onVisualAid","onSkinLoadError","onThemeLoadError","onModelLoadError","onPluginLoadError","onIconsLoadError","onLanguageLoadError","EditorPropTypes","apiKey","onEditorChange","cloudChannel","plugins","textareaName","tinymceScriptSrc","rollback","scriptLoading","async","defer","isEventProp","eventAttrToEventName","configHandlers","prevProps","boundHandlers","handlerLookup","adapter","prevEventKeys","currEventKeys","removedKeys","addedKeys","forEach","wrappedHandler","configHandlers2","uuid","now","isTextareaOrInput","normalizePluginArray","scriptLoaded","ScriptLoader","scriptTagInjection","scriptTag","referrerPolicy","injectScriptTag","reinitialize","__extends","setPrototypeOf","TypeError","__","changeEvents","Env","beforeInputEvent","InputEvent","getTargetRanges","_super","Editor","_this","rollbackTimer","valueCursor","rollbackChange","currentContent","handleBeforeInput","_evt","handleBeforeInputSpecial","handleEditorChange","newContent","handleEditorChangeSpecial","initialise","elementRef","parent_1","isInDoc","initPlugins","inputPlugins","finalInit","bindHandlers","init_instance_callback","setDirty","componentDidUpdate","localEditor_1","_i","componentDidMount","_d","_f","getScriptSrc","componentWillUnmount","renderInline","renderIframe","isValueControlled","wasControlled","nowControlled","propTypes","defaultProps"],"mappings":"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","file":"3.TerriaJS-specs.js","sourcesContent":["/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar getGlobal = function () { return (typeof window !== 'undefined' ? window : global); };\nvar getTinymce = function () {\n    var global = getGlobal();\n    return global && global.tinymce ? global.tinymce : null;\n};\nexport { getTinymce };\n","// Exports the \"default\" icons for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/icons/default')\n//   ES2015:\n//     import 'tinymce/icons/default'\nrequire('./icons.js');","tinymce.IconManager.add('default', {\n  icons: {\n    'accessibility-check': '<svg width=\"24\" height=\"24\"><path d=\"M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'action-next': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z\"/></svg>',\n    'action-prev': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z\"/></svg>',\n    'align-center': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-justify': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-left': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'align-none': '<svg width=\"24\" height=\"24\"><path d=\"M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z\" fill-rule=\"evenodd\"/></svg>',\n    'align-right': '<svg width=\"24\" height=\"24\"><path d=\"M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-left': '<svg width=\"24\" height=\"24\"><path d=\"M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'arrow-right': '<svg width=\"24\" height=\"24\"><path d=\"M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z\" fill-rule=\"evenodd\"/></svg>',\n    'bold': '<svg width=\"24\" height=\"24\"><path d=\"M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z\" fill-rule=\"evenodd\"/></svg>',\n    'bookmark': '<svg width=\"24\" height=\"24\"><path d=\"M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z\" fill-rule=\"nonzero\"/></svg>',\n    'border-style': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"6\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"3\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"6.8\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"10.6\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"14.4\" y=\"16\" rx=\"1\"/><rect width=\"2.8\" height=\"2\" x=\"18.2\" y=\"16\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><rect width=\"8\" height=\"2\" x=\"13\" y=\"11\" rx=\"1\"/></g></svg>',\n    'border-width': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><rect width=\"18\" height=\"5\" x=\"3\" y=\"5\" rx=\"1\"/><rect width=\"18\" height=\"3.5\" x=\"3\" y=\"11.5\" rx=\"1\"/><rect width=\"18\" height=\"2\" x=\"3\" y=\"17\" rx=\"1\"/></g></svg>',\n    'brightness': '<svg width=\"24\" height=\"24\"><path d=\"M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z\" fill-rule=\"evenodd\"/></svg>',\n    'browse': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z\" fill-rule=\"nonzero\"/></svg>',\n    'cancel': '<svg width=\"24\" height=\"24\"><path d=\"M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z\" fill-rule=\"nonzero\"/></svg>',\n    'cell-background-color': '<svg width=\"24\" height=\"24\"><path d=\"M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z\"/></svg>',\n    'cell-border-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z\" opacity=\".2\"/><path fill-rule=\"nonzero\" d=\"M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z\"/><path d=\"M13 11l-2 2H5v-2h6V6h2z\"/><path fill-rule=\"nonzero\" d=\"M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z\"/></g></svg>',\n    'change-case': '<svg width=\"24\" height=\"24\"><path d=\"M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z\" fill-rule=\"evenodd\"/></svg>',\n    'character-count': '<svg width=\"24\" height=\"24\"><path d=\"M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checklist': '<svg width=\"24\" height=\"24\"><path d=\"M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z\" fill-rule=\"evenodd\"/></svg>',\n    'checkmark': '<svg width=\"24\" height=\"24\"><path d=\"M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-down': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-left': '<svg width=\"10\" height=\"10\"><path d=\"M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-right': '<svg width=\"10\" height=\"10\"><path d=\"M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'chevron-up': '<svg width=\"10\" height=\"10\"><path d=\"M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z\" fill-rule=\"nonzero\"/></svg>',\n    'close': '<svg width=\"24\" height=\"24\"><path d=\"M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'code-sample': '<svg width=\"24\" height=\"26\"><path d=\"M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-levels': '<svg width=\"24\" height=\"24\"><path d=\"M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z\" fill-rule=\"evenodd\"/></svg>',\n    'color-picker': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z\" fill-rule=\"nonzero\"/></svg>',\n    'color-swatch-remove-color': '<svg width=\"24\" height=\"24\"><path stroke=\"#000\" stroke-width=\"2\" d=\"M21 3L3 21\" fill-rule=\"evenodd\"/></svg>',\n    'color-swatch': '<svg width=\"24\" height=\"24\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"1\" fill-rule=\"evenodd\"/></svg>',\n    'comment-add': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/><path d=\"M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z\"/></g></svg>',\n    'comment': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z\"/></svg>',\n    'contrast': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z\" fill-rule=\"evenodd\"/></svg>',\n    'copy': '<svg width=\"24\" height=\"24\"><path d=\"M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z\" fill-rule=\"nonzero\"/></svg>',\n    'crop': '<svg width=\"24\" height=\"24\"><path d=\"M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z\" fill-rule=\"evenodd\"/></svg>',\n    'cut-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z\"/></svg>',\n    'cut-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z\"/></svg>',\n    'cut': '<svg width=\"24\" height=\"24\"><path d=\"M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z\" fill-rule=\"evenodd\"/></svg>',\n    'document-properties': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'drag': '<svg width=\"24\" height=\"24\"><path d=\"M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z\" fill-rule=\"evenodd\"/></svg>',\n    'duplicate-column': '<svg width=\"24\" height=\"24\"><path d=\"M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z\"/></svg>',\n    'duplicate-row': '<svg width=\"24\" height=\"24\"><path d=\"M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z\"/></svg>',\n    'duplicate': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z\"/><path d=\"M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z\"/></g></svg>',\n    'edit-block': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z\"/></svg>',\n    'edit-image': '<svg width=\"24\" height=\"24\"><path d=\"M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'embed-page': '<svg width=\"24\" height=\"24\"><path d=\"M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z\" fill-rule=\"nonzero\"/></svg>',\n    'embed': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z\" fill-rule=\"nonzero\"/></svg>',\n    'emoji': '<svg width=\"24\" height=\"24\"><path d=\"M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z\" fill-rule=\"nonzero\"/></svg>',\n    'export': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z\"/><path d=\"M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z\"/><path d=\"M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z\"/></g></svg>',\n    'fill': '<svg width=\"24\" height=\"26\"><path d=\"M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-horizontally': '<svg width=\"24\" height=\"24\"><path d=\"M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z\" fill-rule=\"nonzero\"/></svg>',\n    'flip-vertically': '<svg width=\"24\" height=\"24\"><path d=\"M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z\" fill-rule=\"nonzero\"/></svg>',\n    'format-painter': '<svg width=\"24\" height=\"24\"><path d=\"M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z\" fill-rule=\"nonzero\"/></svg>',\n    'format': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z\"/></svg>',\n    'fullscreen': '<svg width=\"24\" height=\"24\"><path d=\"M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z\" fill-rule=\"nonzero\"/></svg>',\n    'gallery': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z\"/></svg>',\n    'gamma': '<svg width=\"24\" height=\"24\"><path d=\"M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z\" fill-rule=\"nonzero\"/></svg>',\n    'help': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z\"/><path d=\"M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z\" fill-rule=\"nonzero\"/><circle cx=\"12\" cy=\"16\" r=\"1\"/></g></svg>',\n    'highlight-bg-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-highlight-bg-color__color\" d=\"M3 18h18v3H3z\"/><path fill-rule=\"nonzero\" d=\"M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6\"/></g></svg>',\n    'home': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\"/></svg>',\n    'horizontal-rule': '<svg width=\"24\" height=\"24\"><path d=\"M4 11h16v2H4z\" fill-rule=\"evenodd\"/></svg>',\n    'image-options': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'image': '<svg width=\"24\" height=\"24\"><path d=\"M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z\" fill-rule=\"nonzero\"/></svg>',\n    'indent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'info': '<svg width=\"24\" height=\"24\"><path d=\"M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-character': '<svg width=\"24\" height=\"24\"><path d=\"M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z\" fill-rule=\"evenodd\"/></svg>',\n    'insert-time': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z\"/><path d=\"M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z\"/></g></svg>',\n    'invert': '<svg width=\"24\" height=\"24\"><path d=\"M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z\" fill-rule=\"evenodd\"/></svg>',\n    'italic': '<svg width=\"24\" height=\"24\"><path d=\"M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z\" fill-rule=\"evenodd\"/></svg>',\n    'language': '<svg width=\"24\" height=\"24\"><path d=\"M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z\"/></svg>',\n    'line-height': '<svg width=\"24\" height=\"24\"><path d=\"M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z\"/></svg>',\n    'line': '<svg width=\"24\" height=\"24\"><path d=\"M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z\" fill-rule=\"evenodd\"/></svg>',\n    'link': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z\" fill-rule=\"nonzero\"/></svg>',\n    'list-bull-circle': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z\" fill-rule=\"nonzero\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><circle cx=\"11\" cy=\"14\" r=\"3\"/><circle cx=\"11\" cy=\"24\" r=\"3\"/><circle cx=\"11\" cy=\"34\" r=\"3\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-bull-square': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path d=\"M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z\"/><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/></g></svg>',\n    'list-num-default-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-default': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z\"/></g></svg>',\n    'list-num-lower-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-greek': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-lower-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z\"/><path fill-rule=\"nonzero\" d=\"M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z\"/></g></svg>',\n    'list-num-lower-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z\"/><path fill-rule=\"nonzero\" d=\"M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z\"/></g></svg>',\n    'list-num-upper-alpha-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-alpha': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z\"/></g></svg>',\n    'list-num-upper-roman-rtl': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z\"/><path d=\"M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z\"/><path fill-rule=\"nonzero\" d=\"M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z\"/></g></svg>',\n    'list-num-upper-roman': '<svg width=\"48\" height=\"48\"><g fill-rule=\"evenodd\"><path opacity=\".2\" d=\"M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z\"/><path d=\"M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z\"/><path fill-rule=\"nonzero\" d=\"M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z\"/></g></svg>',\n    'lock': '<svg width=\"24\" height=\"24\"><path d=\"M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z\" fill-rule=\"evenodd\"/></svg>',\n    'ltr': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z\" fill-rule=\"evenodd\"/></svg>',\n    'more-drawer': '<svg width=\"24\" height=\"24\"><path d=\"M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z\" fill-rule=\"nonzero\"/></svg>',\n    'new-document': '<svg width=\"24\" height=\"24\"><path d=\"M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z\" fill-rule=\"nonzero\"/></svg>',\n    'new-tab': '<svg width=\"24\" height=\"24\"><path d=\"M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z\" fill-rule=\"evenodd\"/></svg>',\n    'non-breaking': '<svg width=\"24\" height=\"24\"><path d=\"M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'notice': '<svg width=\"24\" height=\"24\"><path d=\"M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'ordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'orientation': '<svg width=\"24\" height=\"24\"><path d=\"M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z\" fill-rule=\"nonzero\"/></svg>',\n    'outdent': '<svg width=\"24\" height=\"24\"><path d=\"M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'page-break': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z\"/></g></svg>',\n    'paragraph': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\"/></svg>',\n    'paste-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-row-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"evenodd\" d=\"M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z\"/></svg>',\n    'paste-text': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z\" fill-rule=\"nonzero\"/></svg>',\n    'paste': '<svg width=\"24\" height=\"24\"><path d=\"M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z\" fill-rule=\"nonzero\"/></svg>',\n    'permanent-pen': '<svg width=\"24\" height=\"24\"><path d=\"M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z\" fill-rule=\"nonzero\"/></svg>',\n    'plus': '<svg width=\"24\" height=\"24\"><path d=\"M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z\"/></svg>',\n    'preferences': '<svg width=\"24\" height=\"24\"><path d=\"M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z\" fill-rule=\"evenodd\"/></svg>',\n    'preview': '<svg width=\"24\" height=\"24\"><path d=\"M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z\" fill-rule=\"nonzero\"/></svg>',\n    'print': '<svg width=\"24\" height=\"24\"><path d=\"M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z\" fill-rule=\"nonzero\"/></svg>',\n    'quote': '<svg width=\"24\" height=\"24\"><path d=\"M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z\" fill-rule=\"nonzero\"/></svg>',\n    'redo': '<svg width=\"24\" height=\"24\"><path d=\"M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z\" fill-rule=\"nonzero\"/></svg>',\n    'reload': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z\"/></g></svg>',\n    'remove-formatting': '<svg width=\"24\" height=\"24\"><path d=\"M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z\" fill-rule=\"evenodd\"/></svg>',\n    'remove': '<svg width=\"24\" height=\"24\"><path d=\"M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z\" fill-rule=\"nonzero\"/></svg>',\n    'resize-handle': '<svg width=\"10\" height=\"10\"><g fill-rule=\"nonzero\"><path d=\"M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z\"/></g></svg>',\n    'resize': '<svg width=\"24\" height=\"24\"><path d=\"M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z\" fill-rule=\"evenodd\"/></svg>',\n    'restore-draft': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z\"/><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></g></svg>',\n    'rotate-left': '<svg width=\"24\" height=\"24\"><path d=\"M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z\" fill-rule=\"nonzero\"/></svg>',\n    'rotate-right': '<svg width=\"24\" height=\"24\"><path d=\"M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z\" fill-rule=\"nonzero\"/></svg>',\n    'rtl': '<svg width=\"24\" height=\"24\"><path d=\"M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z\" fill-rule=\"evenodd\"/></svg>',\n    'save': '<svg width=\"24\" height=\"24\"><path d=\"M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z\" fill-rule=\"nonzero\"/></svg>',\n    'search': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z\" fill-rule=\"nonzero\"/></svg>',\n    'select-all': '<svg width=\"24\" height=\"24\"><path d=\"M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z\" fill-rule=\"nonzero\"/></svg>',\n    'selected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z\"/></svg>',\n    'settings': '<svg width=\"24\" height=\"24\"><path d=\"M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z\" fill-rule=\"evenodd\"/></svg>',\n    'sharpen': '<svg width=\"24\" height=\"24\"><path d=\"M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'sourcecode': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z\"/></g></svg>',\n    'spell-check': '<svg width=\"24\" height=\"24\"><path d=\"M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z\" fill-rule=\"evenodd\"/></svg>',\n    'strike-through': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z\"/><path d=\"M5 11h14a1 1 0 010 2H5a1 1 0 010-2z\" fill-rule=\"nonzero\"/></g></svg>',\n    'subscript': '<svg width=\"24\" height=\"24\"><path d=\"M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z\" fill-rule=\"nonzero\"/></svg>',\n    'superscript': '<svg width=\"24\" height=\"24\"><path d=\"M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z\" fill-rule=\"nonzero\"/></svg>',\n    'table-caption': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"12\" height=\"2\" x=\"3\" y=\"4\" rx=\"1\"/><path d=\"M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></g></svg>',\n    'table-cell-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z\"/><path fill-rule=\"nonzero\" d=\"M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z\" opacity=\".2\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/><path fill-rule=\"nonzero\" d=\"M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z\" opacity=\".2\"/></g></svg>',\n    'table-cell-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z\"/></svg>',\n    'table-cell-select-all': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\" opacity=\".2\"/></g></svg>',\n    'table-cell-select-inner': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z\" opacity=\".2\"/><path d=\"M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z\"/></g></svg>',\n    'table-classes': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z\"/><path d=\"M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z\"/></g></svg>',\n    'table-delete-column': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z\"/></svg>',\n    'table-delete-row': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z\"/></svg>',\n    'table-delete-table': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z\"/><path d=\"M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z\"/></g></svg>',\n    'table-insert-column-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z\"/></svg>',\n    'table-insert-column-before': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z\"/></svg>',\n    'table-insert-row-above': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z\"/></svg>',\n    'table-insert-row-after': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z\"/></svg>',\n    'table-left-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z\"/></svg>',\n    'table-merge-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z\"/></svg>',\n    'table-row-numbering-rtl': '<svg width=\"24\" height=\"24\"><path d=\"M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z\"/></svg>',\n    'table-row-numbering': '<svg width=\"24\" height=\"24\"><path d=\"M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z\"/></svg>',\n    'table-row-properties': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z\"/></svg>',\n    'table-split-cells': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z\"/></svg>',\n    'table-top-header': '<svg width=\"24\" height=\"24\"><path d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z\"/></svg>',\n    'table': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z\"/></svg>',\n    'template': '<svg width=\"24\" height=\"24\"><path d=\"M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z\" fill-rule=\"nonzero\"/></svg>',\n    'temporary-placeholder': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path d=\"M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z\"/><circle cx=\"14\" cy=\"4\" r=\"1\"/><circle cx=\"12\" cy=\"2\" r=\"1\"/><circle cx=\"10\" cy=\"4\" r=\"1\"/></g></svg>',\n    'text-color': '<svg width=\"24\" height=\"24\"><g fill-rule=\"evenodd\"><path id=\"tox-icon-text-color__color\" d=\"M3 18h18v3H3z\"/><path d=\"M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z\"/></g></svg>',\n    'toc': '<svg width=\"24\" height=\"24\"><path d=\"M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'translate': '<svg width=\"24\" height=\"24\"><path d=\"M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z\" fill-rule=\"evenodd\"/></svg>',\n    'underline': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z\" fill-rule=\"evenodd\"/></svg>',\n    'undo': '<svg width=\"24\" height=\"24\"><path d=\"M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z\" fill-rule=\"nonzero\"/></svg>',\n    'unlink': '<svg width=\"24\" height=\"24\"><path d=\"M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z\" fill-rule=\"nonzero\"/></svg>',\n    'unlock': '<svg width=\"24\" height=\"24\"><path d=\"M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z\" fill-rule=\"evenodd\"/></svg>',\n    'unordered-list': '<svg width=\"24\" height=\"24\"><path d=\"M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z\" fill-rule=\"evenodd\"/></svg>',\n    'unselected': '<svg width=\"24\" height=\"24\"><path fill-rule=\"nonzero\" d=\"M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z\"/></svg>',\n    'upload': '<svg width=\"24\" height=\"24\"><path d=\"M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z\" fill-rule=\"nonzero\"/></svg>',\n    'user': '<svg width=\"24\" height=\"24\"><path d=\"M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z\" fill-rule=\"nonzero\"/></svg>',\n    'vertical-align': '<svg width=\"24\" height=\"24\"><g fill-rule=\"nonzero\"><rect width=\"18\" height=\"2\" x=\"3\" y=\"11\" rx=\"1\"/><path d=\"M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z\"/></g></svg>',\n    'visualblocks': '<svg width=\"24\" height=\"24\"><path d=\"M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z\" fill-rule=\"evenodd\"/></svg>',\n    'visualchars': '<svg width=\"24\" height=\"24\"><path d=\"M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z\" fill-rule=\"evenodd\"/></svg>',\n    'warning': '<svg width=\"24\" height=\"24\"><path d=\"M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z\" fill-rule=\"evenodd\"/></svg>',\n    'zoom-in': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n    'zoom-out': '<svg width=\"24\" height=\"24\"><path d=\"M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z\" fill-rule=\"nonzero\"/></svg>',\n  }\n});","// Exports the \"silver\" theme for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/themes/silver')\n//   ES2015:\n//     import 'tinymce/themes/silver'\nrequire('./theme.js');","/**\n * TinyMCE version 6.0.3 (2022-05-25)\n */\n\n(function () {\n    'use strict';\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$2 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$2(value, Object);\n    const isArray = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const noarg = f => () => f();\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant$1 = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant$1(false);\n    const always = constant$1(true);\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$2 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const chunk$1 = (array, size) => {\n      const r = [];\n      for (let i = 0; i < array.length; i += size) {\n        const s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    const map$2 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$3 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$5 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex$1 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$2(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$2(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const pure$2 = x => [x];\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$h = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$h(xs, 0);\n    const last$1 = xs => get$h(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$1 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const find$4 = (obj, pred) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        if (pred(x, i, obj)) {\n          return Optional.some(x);\n        }\n      }\n      return Optional.none();\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$g = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const is$1 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const equals = (lhs, rhs, comparator = tripleEquals) => lift2(lhs, rhs, comparator).getOr(lhs.isNone() && rhs.isNone());\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const sequence = arr => {\n      const r = [];\n      for (let i = 0; i < arr.length; i++) {\n        const x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Optional.none();\n        }\n      }\n      return Optional.some(r);\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const mapFrom = (a, f) => a !== undefined && a !== null ? Optional.some(f(a)) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const addToEnd = (str, suffix) => {\n      return str + suffix;\n    };\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const ensureTrailing = (str, suffix) => {\n      return endsWith(str, suffix) ? str : addToEnd(str, suffix);\n    };\n    const contains$1 = (str, substr) => {\n      return str.indexOf(substr) !== -1;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$1 = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$2 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml: fromHtml$2,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name$3 = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isElement$1 = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$1(e) && name$3(e) === tag;\n\n    const is = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$3 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$2(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$4 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner$4(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const offsetParent = element => Optional.from(element.dom.offsetParent).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map$2(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n    const spot = (element, offset) => ({\n      element,\n      offset\n    });\n    const leaf = (element, offset) => {\n      const cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant$1(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const isInShadowRoot = e => getShadowRoot(e).isSome();\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$1(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body = () => getBody(SugarElement.fromDom(document));\n    const getBody = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$9 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$f = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$f(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$8 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, css) => {\n      const dom = element.dom;\n      each(css, (v, k) => {\n        v.fold(() => {\n          internalRemove(dom, k);\n        }, value => {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    const get$e = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const isValidValue = (tag, property, value) => {\n      const element = SugarElement.fromTag(tag);\n      set$8(element, property, value);\n      const style = getRaw(element, property);\n      return style.isSome();\n    };\n    const remove$6 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$1(getOpt(element, 'style').map(trim$1), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$e(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$e(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api$2 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$d = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const setMax$1 = (element, value) => {\n      const inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      const absMax = api$2.max(element, value, inclusions);\n      set$8(element, 'max-height', absMax + 'px');\n    };\n\n    const r$1 = (left, top) => {\n      const translate = (x, y) => r$1(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r$1;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute$3 = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport$1(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport$1 = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const api$1 = Dimension('width', element => element.dom.offsetWidth);\n    const set$7 = (element, h) => api$1.set(element, h);\n    const get$c = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const setMax = (element, value) => {\n      const inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      const absMax = api$1.max(element, value, inclusions);\n      set$8(element, 'max-width', absMax + 'px');\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant$1(isiPad),\n        isiPhone: constant$1(isiPhone),\n        isTablet: constant$1(isTablet),\n        isPhone: constant$1(isPhone),\n        isTouch: constant$1(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant$1(iOSwebview),\n        isDesktop: constant$1(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$3 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$d(group(1), group(2));\n    };\n    const detect$4 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$3();\n      }\n      return find$3(versionRegexes, cleanedAgent);\n    };\n    const unknown$3 = () => {\n      return nu$d(0, 0);\n    };\n    const nu$d = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$d,\n      detect: detect$4,\n      unknown: unknown$3\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$5(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$3 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$5(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$3(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$3(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant$1(browsers),\n      oses: constant$1(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$2 = () => {\n      return nu$c({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$c = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$2,\n      nu: nu$c,\n      edge: constant$1(edge),\n      chromium: constant$1(chromium),\n      ie: constant$1(ie),\n      opera: constant$1(opera),\n      firefox: constant$1(firefox),\n      safari: constant$1(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown$1 = () => {\n      return nu$b({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$b = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown: unknown$1,\n      nu: nu$b,\n      windows: constant$1(windows),\n      ios: constant$1(ios),\n      android: constant$1(android),\n      linux: constant$1(linux),\n      macos: constant$1(macos),\n      solaris: constant$1(solaris),\n      freebsd: constant$1(freebsd),\n      chromeos: constant$1(chromeos)\n    };\n\n    const detect$2 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$2 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$1 = () => platform();\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const capture$1 = (element, event, filter, handler) => binder(element, event, filter, handler, true);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$2 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$2(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const prepend$1 = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$2(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$2 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$2(parent, element);\n      }, v => {\n        before$1(v, element);\n      });\n    };\n\n    const append$1 = (parent, elements) => {\n      each$1(elements, x => {\n        append$2(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove$5(rogue);\n      });\n    };\n    const remove$5 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    const get$b = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n\n    const get$a = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$1().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds$1 = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds$3 = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$b(SugarElement.fromDom(doc));\n      return get$a(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds$1(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds$1(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant$1([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      const paths = walkUp(navigation, d);\n      return Optional.some(paths);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner$3 = element => owner$4(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner$3\n    });\n\n    const find$2 = element => {\n      const doc = getDocument();\n      const scroll = get$b(doc);\n      const path = pathTo(element, Navigation);\n      return path.fold(curry(absolute$3, element), frames => {\n        const offset = viewport$1(element);\n        const r = foldr(frames, (b, a) => {\n          const loc = viewport$1(a);\n          return {\n            left: b.left + loc.left,\n            top: b.top + loc.top\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n      });\n    };\n\n    const pointed = (point, width, height) => ({\n      point,\n      width,\n      height\n    });\n    const rect = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height\n    });\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const box$1 = element => {\n      const xy = absolute$3(element);\n      const w = getOuter$1(element);\n      const h = getOuter$2(element);\n      return bounds(xy.left, xy.top, w, h);\n    };\n    const absolute$2 = element => {\n      const position = find$2(element);\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const win = () => getBounds$3(window);\n\n    const value$4 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant$1(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error$1 = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error$1(err), value$4);\n    const Result = {\n      value: value$4,\n      error: error$1,\n      fromOption\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition$2 = results => {\n      const values = [];\n      const errors = [];\n      each$1(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind$1 = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult$1 = res => fold$1(res, Result.error, Result.value);\n    const fromResult$1 = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult: fromResult$1,\n      toResult: toResult$1,\n      svalue,\n      partition: partition$2,\n      serror,\n      bind: bind$1,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const field$2 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const shallow$1 = (old, nu) => {\n      return nu;\n    };\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n    const merge$1 = baseMerge(shallow$1);\n\n    const required$2 = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant$1(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n    const mergeWithThunk = baseThunk => ({\n      tag: 'mergeWithThunk',\n      process: baseThunk\n    });\n    const mergeWith = base => mergeWithThunk(constant$1(base));\n\n    const mergeValues$1 = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge$1.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors$1 = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant$1('... (only showing first ten failures)')\n        }]) : errors;\n      return map$2(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu$a = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu$a(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu$a(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu$a(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const unsupportedFields = (path, unsupported) => nu$a(path, () => 'There are unsupported fields: [' + unsupported.join(', ') + '] specified');\n    const custom = (path, err) => nu$a(path, constant$1(err));\n\n    const value$3 = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant$1('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value$3(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$g(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$g(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$g(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$g(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant$1({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const valueThunk = getDelegate => {\n      const extract = (path, val) => getDelegate().extract(path, val);\n      const toString = () => getDelegate().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const getSetKeys = obj => keys(filter$1(obj, isNonNullable));\n    const objOfOnly = fields => {\n      const delegate = objOf(fields);\n      const fieldNames = foldr(fields, (acc, value) => {\n        return fold(value, key => deepMerge(acc, { [key]: true }), constant$1(acc));\n      }, {});\n      const extract = (path, o) => {\n        const keys = isBoolean(o) ? [] : getSetKeys(o);\n        const extra = filter$2(keys, k => !hasNonNullableKey(fieldNames, k));\n        return extra.length === 0 ? delegate.extract(path, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract,\n        toString: delegate.toString\n      };\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$2(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$2(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const oneOf = props => {\n      const extract = (path, val) => {\n        const errors = [];\n        for (const prop of props) {\n          const res = prop.extract(path, val);\n          if (res.stype === SimpleResultType.Value) {\n            return res;\n          }\n          errors.push(res);\n        }\n        return ResultCombine.consolidateArr(errors);\n      };\n      const toString = () => 'oneOf(' + map$2(props, prop => prop.toString()).join(', ') + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const setOf$1 = (validator, prop) => {\n      const validateKeys = (path, keys) => arrOf(value$3(validator)).extract(path, keys);\n      const extract = (path, o) => {\n        const keys$1 = keys(o);\n        const validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, validKeys => {\n          const schema = map$2(validKeys, vk => {\n            return field$2(vk, vk, required$2(), prop);\n          });\n          return objOf(schema).extract(path, o);\n        });\n      };\n      const toString = () => 'setOf(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n    const thunk = (_desc, processor) => {\n      const getP = cached(processor);\n      const extract = (path, val) => getP().extract(path, val);\n      const toString = () => getP().toString();\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOfObj = compose(arrOf, objOf);\n\n    const anyValue = constant$1(anyValue$1);\n    const typedValue = (validator, expectedType) => value$3(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n    const isPostMessageable = val => {\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(prop => isPostMessageable(val[prop]));\n      default:\n        return false;\n      }\n    };\n    const postMessageable = value$3(a => {\n      if (isPostMessageable(a)) {\n        return SimpleResult.svalue(a);\n      } else {\n        return SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n      }\n    });\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$g(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$2 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$g(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const arrOfVal = () => arrOf(anyValue$1);\n    const valueOf = validator => value$3(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const setOf = (validator, prop) => setOf$1(v => SimpleResult.fromResult(validator(v)), prop);\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const getOrDie = extraction => {\n      return extraction.fold(errInfo => {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    const asRawOrDie$1 = (label, prop, obj) => getOrDie(asRaw(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose$1 = (key, branches) => choose$2(key, map$1(branches, objOf));\n    const thunkOf = (desc, schema) => thunk(desc, schema);\n\n    const field$1 = field$2;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const required$1 = key => field$1(key, key, required$2(), anyValue());\n    const requiredOf = (key, schema) => field$1(key, key, required$2(), schema);\n    const requiredNumber = key => requiredOf(key, number);\n    const requiredString = key => requiredOf(key, string);\n    const requiredStringEnum = (key, values) => field$1(key, key, required$2(), validateEnum(values));\n    const requiredBoolean = key => requiredOf(key, boolean);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const forbid = (key, message) => field$1(key, key, asOption(), value$3(_v => SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message)));\n    const requiredObjOf = (key, objSchema) => field$1(key, key, required$2(), objOf(objSchema));\n    const requiredArrayOfObj = (key, objFields) => field$1(key, key, required$2(), arrOfObj(objFields));\n    const requiredArrayOf = (key, schema) => field$1(key, key, required$2(), arrOf(schema));\n    const option$3 = key => field$1(key, key, asOption(), anyValue());\n    const optionOf = (key, schema) => field$1(key, key, asOption(), schema);\n    const optionNumber = key => optionOf(key, number);\n    const optionString = key => optionOf(key, string);\n    const optionStringEnum = (key, values) => optionOf(key, validateEnum(values));\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const optionArrayOf = (key, schema) => optionOf(key, arrOf(schema));\n    const optionObjOf = (key, objSchema) => optionOf(key, objOf(objSchema));\n    const optionObjOfOnly = (key, objSchema) => optionOf(key, objOfOnly(objSchema));\n    const defaulted = (key, fallback) => field$1(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field$1(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedPostMsg = (key, fallback) => defaultedOf(key, fallback, postMessageable);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n    const defaultedObjOf = (key, fallback, objSchema) => defaultedOf(key, fallback, objOf(objSchema));\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const generate$7 = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$1(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate: generate$7 };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$1(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const exclude$1 = (obj, fields) => {\n      const r = {};\n      each(obj, (v, k) => {\n        if (!contains$2(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    const wrap$2 = (key, value) => ({ [key]: value });\n    const wrapAll$1 = keyvalues => {\n      const r = {};\n      each$1(keyvalues, kv => {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    const exclude = (obj, fields) => exclude$1(obj, fields);\n    const wrap$1 = (key, value) => wrap$2(key, value);\n    const wrapAll = keyvalues => wrapAll$1(keyvalues);\n    const mergeValues = (values, base) => {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge$1.apply(undefined, values)));\n    };\n    const mergeErrors = errors => Result.error(flatten(errors));\n    const consolidate = (objs, base) => {\n      const partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor$2 = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor$2(scope, transform, stop));\n    };\n\n    const isSource = (component, simulatedEvent) => eq(component.element, simulatedEvent.event.target);\n\n    const defaultEventHandler = {\n      can: always,\n      abort: never,\n      run: noop\n    };\n    const nu$9 = parts => {\n      if (!hasNonNullableKey(parts, 'can') && !hasNonNullableKey(parts, 'abort') && !hasNonNullableKey(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return {\n        ...defaultEventHandler,\n        ...parts\n      };\n    };\n    const all$2 = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc && f(handler).apply(undefined, args), true);\n    const any = (handlers, f) => (...args) => foldl(handlers, (acc, handler) => acc || f(handler).apply(undefined, args), false);\n    const read$2 = handler => isFunction(handler) ? {\n      can: always,\n      abort: never,\n      run: handler\n    } : handler;\n    const fuse$1 = handlers => {\n      const can = all$2(handlers, handler => handler.can);\n      const abort = any(handlers, handler => handler.abort);\n      const run = (...args) => {\n        each$1(handlers, handler => {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return {\n        can,\n        abort,\n        run\n      };\n    };\n\n    const constant = constant$1;\n    const touchstart = constant('touchstart');\n    const touchmove = constant('touchmove');\n    const touchend = constant('touchend');\n    const touchcancel = constant('touchcancel');\n    const mousedown = constant('mousedown');\n    const mousemove = constant('mousemove');\n    const mouseout = constant('mouseout');\n    const mouseup = constant('mouseup');\n    const mouseover = constant('mouseover');\n    const focusin = constant('focusin');\n    const focusout = constant('focusout');\n    const keydown = constant('keydown');\n    const keyup = constant('keyup');\n    const input = constant('input');\n    const change = constant('change');\n    const click = constant('click');\n    const transitioncancel = constant('transitioncancel');\n    const transitionend = constant('transitionend');\n    const transitionstart = constant('transitionstart');\n    const selectstart = constant('selectstart');\n\n    const prefixName = name => constant$1('alloy.' + name);\n    const alloy = { tap: prefixName('tap') };\n    const focus$4 = prefixName('focus');\n    const postBlur = prefixName('blur.post');\n    const postPaste = prefixName('paste.post');\n    const receive = prefixName('receive');\n    const execute$5 = prefixName('execute');\n    const focusItem = prefixName('focus.item');\n    const tap = alloy.tap;\n    const longpress = prefixName('longpress');\n    const sandboxClose = prefixName('sandbox.close');\n    const typeaheadCancel = prefixName('typeahead.cancel');\n    const systemInit = prefixName('system.init');\n    const documentTouchmove = prefixName('system.touchmove');\n    const documentTouchend = prefixName('system.touchend');\n    const windowScroll = prefixName('system.scroll');\n    const windowResize = prefixName('system.resize');\n    const attachedToDom = prefixName('system.attached');\n    const detachedFromDom = prefixName('system.detached');\n    const dismissRequested = prefixName('system.dismissRequested');\n    const repositionRequested = prefixName('system.repositionRequested');\n    const focusShifted = prefixName('focusmanager.shifted');\n    const slotVisibility = prefixName('slotcontainer.visibility');\n    const changeTab = prefixName('change.tab');\n    const dismissTab = prefixName('dismiss.tab');\n    const highlight$1 = prefixName('highlight');\n    const dehighlight$1 = prefixName('dehighlight');\n\n    const emit = (component, event) => {\n      dispatchWith(component, component.element, event, {});\n    };\n    const emitWith = (component, event, properties) => {\n      dispatchWith(component, component.element, event, properties);\n    };\n    const emitExecute = component => {\n      emit(component, execute$5());\n    };\n    const dispatch = (component, target, event) => {\n      dispatchWith(component, target, event, {});\n    };\n    const dispatchWith = (component, target, event, properties) => {\n      const data = {\n        target,\n        ...properties\n      };\n      component.getSystem().triggerEvent(event, target, data);\n    };\n    const dispatchEvent = (component, target, event, simulatedEvent) => {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event);\n    };\n\n    const derive$2 = configs => wrapAll(configs);\n    const abort = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ abort: predicate })\n      };\n    };\n    const can = (name, predicate) => {\n      return {\n        key: name,\n        value: nu$9({ can: predicate })\n      };\n    };\n    const preventDefault = name => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            simulatedEvent.event.prevent();\n          }\n        })\n      };\n    };\n    const run$1 = (name, handler) => {\n      return {\n        key: name,\n        value: nu$9({ run: handler })\n      };\n    };\n    const runActionExtra = (name, action, extra) => {\n      return {\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            action.apply(undefined, [\n              component,\n              simulatedEvent\n            ].concat(extra));\n          }\n        })\n      };\n    };\n    const runOnName = name => {\n      return handler => run$1(name, handler);\n    };\n    const runOnSourceName = name => {\n      return handler => ({\n        key: name,\n        value: nu$9({\n          run: (component, simulatedEvent) => {\n            if (isSource(component, simulatedEvent)) {\n              handler(component, simulatedEvent);\n            }\n          }\n        })\n      });\n    };\n    const redirectToUid = (name, uid) => {\n      return run$1(name, (component, simulatedEvent) => {\n        component.getSystem().getByUid(uid).each(redirectee => {\n          dispatchEvent(redirectee, redirectee.element, name, simulatedEvent);\n        });\n      });\n    };\n    const redirectToPart = (name, detail, partName) => {\n      const uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    const runWithTarget = (name, f) => {\n      return run$1(name, (component, simulatedEvent) => {\n        const ev = simulatedEvent.event;\n        const target = component.getSystem().getByDom(ev.target).getOrThunk(() => {\n          const closest = closest$4(ev.target, el => component.getSystem().getByDom(el).toOptional(), never);\n          return closest.getOr(component);\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    const cutter = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.cut();\n      });\n    };\n    const stopper = name => {\n      return run$1(name, (component, simulatedEvent) => {\n        simulatedEvent.stop();\n      });\n    };\n    const runOnSource = (name, f) => {\n      return runOnSourceName(name)(f);\n    };\n    const runOnAttached = runOnSourceName(attachedToDom());\n    const runOnDetached = runOnSourceName(detachedFromDom());\n    const runOnInit = runOnSourceName(systemInit());\n    const runOnExecute$1 = runOnName(execute$5());\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(SugarElement.fromDom(div));\n    };\n\n    const get$9 = element => element.dom.innerHTML;\n    const set$6 = (element, content) => {\n      const owner = owner$4(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append$2(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$2(container, clone);\n      return get$9(container);\n    };\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone(original, false);\n\n    const getHtml = element => {\n      if (isShadowRoot(element)) {\n        return '#shadow-root';\n      } else {\n        const clone = shallow(element);\n        return getOuter(clone);\n      }\n    };\n\n    const element = elem => getHtml(elem);\n\n    const isRecursive = (component, originator, target) => eq(originator, component.element) && !eq(originator, target);\n    const events$i = derive$2([can(focus$4(), (component, simulatedEvent) => {\n        const event = simulatedEvent.event;\n        const originator = event.originator;\n        const target = event.target;\n        if (isRecursive(component, originator, target)) {\n          console.warn(focus$4() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus$4() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$i\n    });\n\n    let unique = 0;\n    const generate$6 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const prefix$1 = constant$1('alloy-id-');\n    const idAttr$1 = constant$1('data-alloy-id');\n\n    const prefix = prefix$1();\n    const idAttr = idAttr$1();\n    const write = (label, elem) => {\n      const id = generate$6(prefix + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    const writeOnly = (elem, uid) => {\n      Object.defineProperty(elem.dom, idAttr, {\n        value: uid,\n        writable: true\n      });\n    };\n    const read$1 = elem => {\n      const id = isElement$1(elem) ? elem.dom[idAttr] : null;\n      return Optional.from(id);\n    };\n    const generate$5 = prefix => generate$6(prefix);\n\n    const make$8 = identity;\n\n    const NoContextApi = getComp => {\n      const getMessage = event => `The component must be in a context to execute: ${ event }` + (getComp ? '\\n' + element(getComp().element) + ' is not in context.' : '');\n      const fail = event => () => {\n        throw new Error(getMessage(event));\n      };\n      const warn = event => () => {\n        console.warn(getMessage(event));\n      };\n      return {\n        debugInfo: constant$1('fake'),\n        triggerEvent: warn('triggerEvent'),\n        triggerFocus: warn('triggerFocus'),\n        triggerEscape: warn('triggerEscape'),\n        broadcast: warn('broadcast'),\n        broadcastOn: warn('broadcastOn'),\n        broadcastEvent: warn('broadcastEvent'),\n        build: fail('build'),\n        buildOrPatch: fail('buildOrPatch'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        isConnected: never\n      };\n    };\n    const singleton$1 = NoContextApi();\n\n    const markAsBehaviourApi = (f, apiName, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: apiName,\n        parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n      });\n      return f;\n    };\n    const cleanParameters = parameters => map$2(parameters, p => endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p);\n    const markAsExtraApi = (f, extraName) => {\n      const delegate = f.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: extraName,\n        parameters: cleanParameters(parameters)\n      });\n      return f;\n    };\n    const markAsSketchApi = (f, apiFunction) => {\n      const delegate = apiFunction.toString();\n      const endIndex = delegate.indexOf(')') + 1;\n      const openBracketIndex = delegate.indexOf('(');\n      const parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = () => ({\n        name: 'OVERRIDE',\n        parameters: cleanParameters(parameters.slice(1))\n      });\n      return f;\n    };\n\n    const premadeTag = generate$6('alloy-premade');\n    const premade$1 = comp => {\n      Object.defineProperty(comp.element.dom, premadeTag, {\n        value: comp.uid,\n        writable: true\n      });\n      return wrap$1(premadeTag, comp);\n    };\n    const isPremade = element => has$2(element.dom, premadeTag);\n    const getPremade = spec => get$g(spec, premadeTag);\n    const makeApi = f => markAsSketchApi((component, ...rest) => f(component.getApis(), component, ...rest), f);\n\n    const NoState = { init: () => nu$8({ readState: constant$1('No State required') }) };\n    const nu$8 = spec => spec;\n\n    const generateFrom$1 = (spec, all) => {\n      const schema = map$2(all, a => optionObjOf(a.name(), [\n        required$1('config'),\n        defaulted('state', NoState)\n      ]));\n      const validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(errInfo => {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, identity);\n      return {\n        list: all,\n        data: map$1(validated, optBlobThunk => {\n          const output = optBlobThunk.map(blob => ({\n            config: blob.config,\n            state: blob.state.init(blob.config)\n          }));\n          return constant$1(output);\n        })\n      };\n    };\n    const getBehaviours$3 = bData => bData.list;\n    const getData$2 = bData => bData.data;\n\n    const byInnerKey = (data, tuple) => {\n      const r = {};\n      each(data, (detail, key) => {\n        each(detail, (value, indexKey) => {\n          const chain = get$g(r, indexKey).getOr([]);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    const nu$7 = s => ({\n      classes: isUndefined(s.classes) ? [] : s.classes,\n      attributes: isUndefined(s.attributes) ? {} : s.attributes,\n      styles: isUndefined(s.styles) ? {} : s.styles\n    });\n    const merge = (defnA, mod) => ({\n      ...defnA,\n      attributes: {\n        ...defnA.attributes,\n        ...mod.attributes\n      },\n      styles: {\n        ...defnA.styles,\n        ...mod.styles\n      },\n      classes: defnA.classes.concat(mod.classes)\n    });\n\n    const combine$2 = (info, baseMod, behaviours, base) => {\n      const modsByBehaviour = { ...baseMod };\n      each$1(behaviours, behaviour => {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      const byAspect = byInnerKey(modsByBehaviour, (name, modification) => ({\n        name,\n        modification\n      }));\n      const combineObjects = objects => foldr(objects, (b, a) => ({\n        ...a.modification,\n        ...b\n      }), {});\n      const combinedClasses = foldr(byAspect.classes, (b, a) => a.modification.concat(b), []);\n      const combinedAttributes = combineObjects(byAspect.attributes);\n      const combinedStyles = combineObjects(byAspect.styles);\n      return nu$7({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    const sortKeys = (label, keyName, array, order) => {\n      try {\n        const sorted = sort(array, (a, b) => {\n          const aKey = a[keyName];\n          const bKey = b[keyName];\n          const aIndex = order.indexOf(aKey);\n          const bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    const uncurried = (handler, purpose) => ({\n      handler,\n      purpose\n    });\n    const curried = (handler, purpose) => ({\n      cHandler: handler,\n      purpose\n    });\n    const curryArgs = (descHandler, extraArgs) => curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose);\n    const getCurried = descHandler => descHandler.cHandler;\n\n    const behaviourTuple = (name, handler) => ({\n      name,\n      handler\n    });\n    const nameToHandlers = (behaviours, info) => {\n      const r = {};\n      each$1(behaviours, behaviour => {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    const groupByEvents = (info, behaviours, base) => {\n      const behaviourEvents = {\n        ...base,\n        ...nameToHandlers(behaviours, info)\n      };\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    const combine$1 = (info, eventOrder, behaviours, base) => {\n      const byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    const assemble = rawHandler => {\n      const handler = read$2(rawHandler);\n      return (component, simulatedEvent, ...rest) => {\n        const args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    const missingOrderError = (eventName, tuples) => Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map$2(tuples, c => c.name), null, 2)]);\n    const fuse = (tuples, eventOrder, eventName) => {\n      const order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(sortedTuples => {\n          const handlers = map$2(sortedTuples, tuple => tuple.handler);\n          return fuse$1(handlers);\n        });\n      }\n    };\n    const combineGroups = (byEventName, eventOrder) => {\n      const r = mapToArray(byEventName, (tuples, eventName) => {\n        const combined = tuples.length === 1 ? Result.value(tuples[0].handler) : fuse(tuples, eventOrder, eventName);\n        return combined.map(handler => {\n          const assembled = assemble(handler);\n          const purpose = tuples.length > 1 ? filter$2(eventOrder[eventName], o => exists(tuples, t => t.name === o)).join(' > ') : tuples[0].name;\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    const baseBehaviour = 'alloy.base.behaviour';\n    const schema$z = objOf([\n      field$1('dom', 'dom', required$2(), objOf([\n        required$1('tag'),\n        defaulted('styles', {}),\n        defaulted('classes', []),\n        defaulted('attributes', {}),\n        option$3('value'),\n        option$3('innerHtml')\n      ])),\n      required$1('components'),\n      required$1('uid'),\n      defaulted('events', {}),\n      defaulted('apis', {}),\n      field$1('eventOrder', 'eventOrder', mergeWith({\n        [execute$5()]: [\n          'disabling',\n          baseBehaviour,\n          'toggling',\n          'typeaheadevents'\n        ],\n        [focus$4()]: [\n          baseBehaviour,\n          'focusing',\n          'keying'\n        ],\n        [systemInit()]: [\n          baseBehaviour,\n          'disabling',\n          'toggling',\n          'representing'\n        ],\n        [input()]: [\n          baseBehaviour,\n          'representing',\n          'streaming',\n          'invalidating'\n        ],\n        [detachedFromDom()]: [\n          baseBehaviour,\n          'representing',\n          'item-events',\n          'tooltipping'\n        ],\n        [mousedown()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [touchstart()]: [\n          'focusing',\n          baseBehaviour,\n          'item-type-events'\n        ],\n        [mouseover()]: [\n          'item-type-events',\n          'tooltipping'\n        ],\n        [receive()]: [\n          'receiving',\n          'reflecting',\n          'tooltipping'\n        ]\n      }), anyValue()),\n      option$3('domModification')\n    ]);\n    const toInfo = spec => asRaw('custom.definition', schema$z, spec);\n    const toDefinition = detail => ({\n      ...detail.dom,\n      uid: detail.uid,\n      domChildren: map$2(detail.components, comp => comp.element)\n    });\n    const toModification = detail => detail.domModification.fold(() => nu$7({}), nu$7);\n    const toEvents = info => info.events;\n\n    const read = (element, attr) => {\n      const value = get$f(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$9(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$9(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const add$1 = (element, classes) => {\n      each$1(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$1 = (element, classes) => {\n      each$1(classes, x => {\n        remove$2(element, x);\n      });\n    };\n    const hasAll = (element, classes) => forall(classes, clazz => has(element, clazz));\n    const getNative = element => {\n      const classList = element.dom.classList;\n      const r = new Array(classList.length);\n      for (let i = 0; i < classList.length; i++) {\n        const item = classList.item(i);\n        if (item !== null) {\n          r[i] = item;\n        }\n      }\n      return r;\n    };\n    const get$7 = element => supports(element) ? getNative(element) : get$8(element);\n\n    const get$6 = element => element.dom.value;\n    const set$5 = (element, value) => {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom.value = value;\n    };\n\n    const determineObsoleted = (parent, index, oldObsoleted) => {\n      const newObsoleted = child$2(parent, index);\n      return newObsoleted.map(newObs => {\n        const elemChanged = oldObsoleted.exists(o => !eq(o, newObs));\n        if (elemChanged) {\n          const oldTag = oldObsoleted.map(name$3).getOr('span');\n          const marker = SugarElement.fromTag(oldTag);\n          before$1(newObs, marker);\n          return marker;\n        } else {\n          return newObs;\n        }\n      });\n    };\n    const ensureInDom = (parent, child, obsoleted) => {\n      obsoleted.fold(() => append$2(parent, child), obs => {\n        if (!eq(obs, child)) {\n          before$1(obs, child);\n          remove$5(obs);\n        }\n      });\n    };\n    const patchChildrenWith = (parent, nu, f) => {\n      const builtChildren = map$2(nu, f);\n      const currentChildren = children(parent);\n      each$1(currentChildren.slice(builtChildren.length), remove$5);\n      return builtChildren;\n    };\n    const patchSpecChild = (parent, index, spec, build) => {\n      const oldObsoleted = child$2(parent, index);\n      const childComp = build(spec, oldObsoleted);\n      const obsoleted = determineObsoleted(parent, index, oldObsoleted);\n      ensureInDom(parent, childComp.element, obsoleted);\n      return childComp;\n    };\n    const patchSpecChildren = (parent, specs, build) => patchChildrenWith(parent, specs, (spec, index) => patchSpecChild(parent, index, spec, build));\n    const patchDomChildren = (parent, nodes) => patchChildrenWith(parent, nodes, (node, index) => {\n      const optObsoleted = child$2(parent, index);\n      ensureInDom(parent, node, optObsoleted);\n      return node;\n    });\n\n    const diffKeyValueSet = (newObj, oldObj) => {\n      const newKeys = keys(newObj);\n      const oldKeys = keys(oldObj);\n      const toRemove = difference(oldKeys, newKeys);\n      const toSet = bifilter(newObj, (v, k) => {\n        return !has$2(oldObj, k) || v !== oldObj[k];\n      }).t;\n      return {\n        toRemove,\n        toSet\n      };\n    };\n    const reconcileToDom = (definition, obsoleted) => {\n      const {\n        class: clazz,\n        style,\n        ...existingAttributes\n      } = clone$1(obsoleted);\n      const {\n        toSet: attrsToSet,\n        toRemove: attrsToRemove\n      } = diffKeyValueSet(definition.attributes, existingAttributes);\n      const updateAttrs = () => {\n        each$1(attrsToRemove, a => remove$7(obsoleted, a));\n        setAll$1(obsoleted, attrsToSet);\n      };\n      const existingStyles = getAllRaw(obsoleted);\n      const {\n        toSet: stylesToSet,\n        toRemove: stylesToRemove\n      } = diffKeyValueSet(definition.styles, existingStyles);\n      const updateStyles = () => {\n        each$1(stylesToRemove, s => remove$6(obsoleted, s));\n        setAll(obsoleted, stylesToSet);\n      };\n      const existingClasses = get$7(obsoleted);\n      const classesToRemove = difference(existingClasses, definition.classes);\n      const classesToAdd = difference(definition.classes, existingClasses);\n      const updateClasses = () => {\n        add$1(obsoleted, classesToAdd);\n        remove$1(obsoleted, classesToRemove);\n      };\n      const updateHtml = html => {\n        set$6(obsoleted, html);\n      };\n      const updateChildren = () => {\n        const children = definition.domChildren;\n        patchDomChildren(obsoleted, children);\n      };\n      const updateValue = () => {\n        const valueElement = obsoleted;\n        definition.value.filter(value => value !== get$6(valueElement)).each(value => set$5(valueElement, value));\n      };\n      updateAttrs();\n      updateClasses();\n      updateStyles();\n      definition.innerHtml.fold(updateChildren, updateHtml);\n      updateValue();\n      return obsoleted;\n    };\n\n    const introduceToDom = definition => {\n      const subject = SugarElement.fromTag(definition.tag);\n      setAll$1(subject, definition.attributes);\n      add$1(subject, definition.classes);\n      setAll(subject, definition.styles);\n      definition.innerHtml.each(html => set$6(subject, html));\n      const children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(value => {\n        set$5(subject, value);\n      });\n      return subject;\n    };\n    const attemptPatch = (definition, obsoleted) => {\n      try {\n        const e = reconcileToDom(definition, obsoleted);\n        return Optional.some(e);\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const hasMixedChildren = definition => definition.innerHtml.isSome() && definition.domChildren.length > 0;\n    const renderToDom = (definition, optObsoleted) => {\n      const canBePatched = candidate => name$3(candidate) === definition.tag && !hasMixedChildren(definition) && !isPremade(candidate);\n      const elem = optObsoleted.filter(canBePatched).bind(obsoleted => attemptPatch(definition, obsoleted)).getOrThunk(() => introduceToDom(definition));\n      writeOnly(elem, definition.uid);\n      return elem;\n    };\n\n    const getBehaviours$2 = spec => {\n      const behaviours = get$g(spec, 'behaviours').getOr({});\n      return bind$3(keys(behaviours), name => {\n        const behaviour = behaviours[name];\n        return isNonNullable(behaviour) ? [behaviour.me] : [];\n      });\n    };\n    const generateFrom = (spec, all) => generateFrom$1(spec, all);\n    const generate$4 = spec => {\n      const all = getBehaviours$2(spec);\n      return generateFrom(spec, all);\n    };\n\n    const getDomDefinition = (info, bList, bData) => {\n      const definition = toDefinition(info);\n      const infoModification = toModification(info);\n      const baseModification = { 'alloy.base.modification': infoModification };\n      const modification = bList.length > 0 ? combine$2(bData, baseModification, bList, definition) : infoModification;\n      return merge(definition, modification);\n    };\n    const getEvents = (info, bList, bData) => {\n      const baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    const build$2 = (spec, obsoleted) => {\n      const getMe = () => me;\n      const systemApi = Cell(singleton$1);\n      const info = getOrDie(toInfo(spec));\n      const bBlob = generate$4(spec);\n      const bList = getBehaviours$3(bBlob);\n      const bData = getData$2(bBlob);\n      const modDefinition = getDomDefinition(info, bList, bData);\n      const item = renderToDom(modDefinition, obsoleted);\n      const events = getEvents(info, bList, bData);\n      const subcomponents = Cell(info.components);\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(getMe));\n      };\n      const syncComponents = () => {\n        const children$1 = children(item);\n        const subs = bind$3(children$1, child => systemApi.get().getByDom(child).fold(() => [], pure$2));\n        subcomponents.set(subs);\n      };\n      const config = behaviour => {\n        const b = bData;\n        const f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : () => {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      const hasConfigured = behaviour => isFunction(bData[behaviour.name()]);\n      const getApis = () => info.apis;\n      const readState = behaviourName => bData[behaviourName]().map(b => b.state.readState()).getOr('not enabled');\n      const me = {\n        uid: spec.uid,\n        getSystem: systemApi.get,\n        config,\n        hasConfigured,\n        spec,\n        readState,\n        getApis,\n        connect,\n        disconnect,\n        element: item,\n        syncComponents,\n        components: subcomponents.get,\n        events\n      };\n      return me;\n    };\n\n    const buildSubcomponents = (spec, obsoleted) => {\n      const components = get$g(spec, 'components').getOr([]);\n      return obsoleted.fold(() => map$2(components, build$1), obs => map$2(components, (c, i) => {\n        return buildOrPatch(c, child$2(obs, i));\n      }));\n    };\n    const buildFromSpec = (userSpec, obsoleted) => {\n      const {\n        events: specEvents,\n        ...spec\n      } = make$8(userSpec);\n      const components = buildSubcomponents(spec, obsoleted);\n      const completeSpec = {\n        ...spec,\n        events: {\n          ...DefaultEvents,\n          ...specEvents\n        },\n        components\n      };\n      return Result.value(build$2(completeSpec, obsoleted));\n    };\n    const text$1 = textContent => {\n      const element = SugarElement.fromText(textContent);\n      return external$1({ element });\n    };\n    const external$1 = spec => {\n      const extSpec = asRawOrDie$1('external.component', objOfOnly([\n        required$1('element'),\n        option$3('uid')\n      ]), spec);\n      const systemApi = Cell(NoContextApi());\n      const connect = newApi => {\n        systemApi.set(newApi);\n      };\n      const disconnect = () => {\n        systemApi.set(NoContextApi(() => me));\n      };\n      const uid = extSpec.uid.getOrThunk(() => generate$5('external'));\n      writeOnly(extSpec.element, uid);\n      const me = {\n        uid,\n        getSystem: systemApi.get,\n        config: Optional.none,\n        hasConfigured: never,\n        connect,\n        disconnect,\n        getApis: () => ({}),\n        element: extSpec.element,\n        spec,\n        readState: constant$1('No state'),\n        syncComponents: noop,\n        components: constant$1([]),\n        events: {}\n      };\n      return premade$1(me);\n    };\n    const uids = generate$5;\n    const isSketchSpec$1 = spec => has$2(spec, 'uid');\n    const buildOrPatch = (spec, obsoleted) => getPremade(spec).getOrThunk(() => {\n      const userSpecWithUid = isSketchSpec$1(spec) ? spec : {\n        uid: uids(''),\n        ...spec\n      };\n      return buildFromSpec(userSpecWithUid, obsoleted).getOrDie();\n    });\n    const build$1 = spec => buildOrPatch(spec, Optional.none());\n    const premade = premade$1;\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$3 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$1, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$5(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const closest$2 = (scope, predicate, isRoot) => closest$3(scope, predicate, isRoot).isSome();\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is$1 = (element, selector) => is(element, selector);\n      return ClosestOrAncestor(is$1, ancestor, scope, selector, isRoot);\n    };\n\n    const attribute = 'aria-controls';\n    const find$1 = queryElem => {\n      const dependent = closest$3(queryElem, elem => {\n        if (!isElement$1(elem)) {\n          return false;\n        }\n        const id = get$f(elem, 'id');\n        return id !== undefined && id.indexOf(attribute) > -1;\n      });\n      return dependent.bind(dep => {\n        const id = get$f(dep, 'id');\n        const dos = getRootNode(dep);\n        return descendant(dos, `[${ attribute }=\"${ id }\"]`);\n      });\n    };\n    const manager = () => {\n      const ariaId = generate$6(attribute);\n      const link = elem => {\n        set$9(elem, attribute, ariaId);\n      };\n      const unlink = elem => {\n        remove$7(elem, attribute);\n      };\n      return {\n        id: ariaId,\n        link,\n        unlink\n      };\n    };\n\n    const isAriaPartOf = (component, queryElem) => find$1(queryElem).exists(owner => isPartOf$1(component, owner));\n    const isPartOf$1 = (component, queryElem) => closest$2(queryElem, el => eq(el, component.element), never) || isAriaPartOf(component, queryElem);\n\n    const unknown = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    const eventConfig = Cell({});\n    const makeEventLogger = (eventName, initialTarget) => {\n      const sequence = [];\n      const startTime = new Date().getTime();\n      return {\n        logEventCut: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'cut',\n            target,\n            purpose\n          });\n        },\n        logEventStopped: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'stopped',\n            target,\n            purpose\n          });\n        },\n        logNoParent: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'no-parent',\n            target,\n            purpose\n          });\n        },\n        logEventNoHandlers: (_name, target) => {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target\n          });\n        },\n        logEventResponse: (_name, target, purpose) => {\n          sequence.push({\n            outcome: 'response',\n            purpose,\n            target\n          });\n        },\n        write: () => {\n          const finishTime = new Date().getTime();\n          if (contains$2([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom,\n            sequence: map$2(sequence, s => {\n              if (!contains$2([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    const processEvent = (eventName, initialTarget, f) => {\n      const status = get$g(eventConfig.get(), eventName).orThunk(() => {\n        const patterns = keys(eventConfig.get());\n        return findMap(patterns, p => eventName.indexOf(p) > -1 ? Optional.some(eventConfig.get()[p]) : Optional.none());\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          const logger = makeEventLogger(eventName, initialTarget);\n          const output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    const path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    const getTrace = () => {\n      const err = new Error();\n      if (err.stack !== undefined) {\n        const lines = err.stack.split('\\n');\n        return find$5(lines, line => line.indexOf('alloy') > 0 && !exists(path, p => line.indexOf(p) > -1)).getOr(unknown);\n      } else {\n        return unknown;\n      }\n    };\n    const ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    const monitorEvent = (eventName, initialTarget, f) => processEvent(eventName, initialTarget, f);\n    const noLogger = constant$1(ignoreEvent);\n\n    const menuFields = constant$1([\n      required$1('menu'),\n      required$1('selectedMenu')\n    ]);\n    const itemFields = constant$1([\n      required$1('item'),\n      required$1('selectedItem')\n    ]);\n    constant$1(objOf(itemFields().concat(menuFields())));\n    const itemSchema$3 = constant$1(objOf(itemFields()));\n\n    const _initSize = requiredObjOf('initSize', [\n      required$1('numColumns'),\n      required$1('numRows')\n    ]);\n    const itemMarkers = () => requiredOf('markers', itemSchema$3());\n    const tieredMenuMarkers = () => requiredObjOf('markers', [required$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    const markers$1 = required => requiredObjOf('markers', map$2(required, required$1));\n    const onPresenceHandler = (label, fieldName, presence) => {\n      getTrace();\n      return field$1(fieldName, fieldName, presence, valueOf(f => Result.value((...args) => {\n        return f.apply(undefined, args);\n      })));\n    };\n    const onHandler = fieldName => onPresenceHandler('onHandler', fieldName, defaulted$1(noop));\n    const onKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, defaulted$1(Optional.none));\n    const onStrictHandler = fieldName => onPresenceHandler('onHandler', fieldName, required$2());\n    const onStrictKeyboardHandler = fieldName => onPresenceHandler('onKeyboardHandler', fieldName, required$2());\n    const output$1 = (name, value) => customField(name, constant$1(value));\n    const snapshot = name => customField(name, identity);\n    const initSize = constant$1(_initSize);\n\n    const nu$6 = (x, y, bubble, direction, placement, boundsRestriction, labelPrefix, alwaysFit = false) => ({\n      x,\n      y,\n      bubble,\n      direction,\n      placement,\n      restriction: boundsRestriction,\n      label: `${ labelPrefix }-${ placement }`,\n      alwaysFit\n    });\n\n    const adt$a = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    const cata$2 = (subject, southeast, southwest, northeast, northwest, south, north, east, west) => subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    const cataVertical = (subject, south, middle, north) => subject.fold(south, south, north, north, south, north, middle, middle);\n    const cataHorizontal = (subject, east, middle, west) => subject.fold(east, west, east, west, middle, middle, east, west);\n    const southeast$3 = adt$a.southeast;\n    const southwest$3 = adt$a.southwest;\n    const northeast$3 = adt$a.northeast;\n    const northwest$3 = adt$a.northwest;\n    const south$3 = adt$a.south;\n    const north$3 = adt$a.north;\n    const east$3 = adt$a.east;\n    const west$3 = adt$a.west;\n\n    const cycleBy = (value, delta, min, max) => {\n      const r = value + delta;\n      if (r > max) {\n        return min;\n      } else if (r < min) {\n        return max;\n      } else {\n        return r;\n      }\n    };\n    const clamp = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getRestriction = (anchor, restriction) => {\n      switch (restriction) {\n      case 1:\n        return anchor.x;\n      case 0:\n        return anchor.x + anchor.width;\n      case 2:\n        return anchor.y;\n      case 3:\n        return anchor.y + anchor.height;\n      }\n    };\n    const boundsRestriction = (anchor, restrictions) => mapToObject([\n      'left',\n      'right',\n      'top',\n      'bottom'\n    ], dir => get$g(restrictions, dir).map(restriction => getRestriction(anchor, restriction)));\n    const adjustBounds = (bounds$1, restriction, bubbleOffset) => {\n      const applyRestriction = (dir, current) => restriction[dir].map(pos => {\n        const isVerticalAxis = dir === 'top' || dir === 'bottom';\n        const offset = isVerticalAxis ? bubbleOffset.top : bubbleOffset.left;\n        const comparator = dir === 'left' || dir === 'top' ? Math.max : Math.min;\n        const newPos = comparator(pos, current) + offset;\n        return isVerticalAxis ? clamp(newPos, bounds$1.y, bounds$1.bottom) : clamp(newPos, bounds$1.x, bounds$1.right);\n      }).getOr(current);\n      const adjustedLeft = applyRestriction('left', bounds$1.x);\n      const adjustedTop = applyRestriction('top', bounds$1.y);\n      const adjustedRight = applyRestriction('right', bounds$1.right);\n      const adjustedBottom = applyRestriction('bottom', bounds$1.bottom);\n      return bounds(adjustedLeft, adjustedTop, adjustedRight - adjustedLeft, adjustedBottom - adjustedTop);\n    };\n\n    const labelPrefix$2 = 'layout';\n    const eastX$1 = anchor => anchor.x;\n    const middleX$1 = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const westX$1 = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY$2 = (anchor, element) => anchor.y - element.height;\n    const southY$2 = anchor => anchor.y + anchor.height;\n    const centreY$1 = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const eastEdgeX$1 = anchor => anchor.x + anchor.width;\n    const westEdgeX$1 = (anchor, element) => anchor.x - element.width;\n    const southeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), southY$2(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 3\n    }), labelPrefix$2);\n    const southwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), southY$2(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 3\n    }), labelPrefix$2);\n    const northeast$2 = (anchor, element, bubbles) => nu$6(eastX$1(anchor), northY$2(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 2\n    }), labelPrefix$2);\n    const northwest$2 = (anchor, element, bubbles) => nu$6(westX$1(anchor, element), northY$2(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 2\n    }), labelPrefix$2);\n    const north$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), northY$2(anchor, element), bubbles.north(), north$3(), 'north', boundsRestriction(anchor, { bottom: 2 }), labelPrefix$2);\n    const south$2 = (anchor, element, bubbles) => nu$6(middleX$1(anchor, element), southY$2(anchor), bubbles.south(), south$3(), 'south', boundsRestriction(anchor, { top: 3 }), labelPrefix$2);\n    const east$2 = (anchor, element, bubbles) => nu$6(eastEdgeX$1(anchor), centreY$1(anchor, element), bubbles.east(), east$3(), 'east', boundsRestriction(anchor, { left: 0 }), labelPrefix$2);\n    const west$2 = (anchor, element, bubbles) => nu$6(westEdgeX$1(anchor, element), centreY$1(anchor, element), bubbles.west(), west$3(), 'west', boundsRestriction(anchor, { right: 1 }), labelPrefix$2);\n    const all$1 = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const allRtl$1 = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2,\n      east$2,\n      west$2\n    ];\n    const aboveOrBelow = () => [\n      northeast$2,\n      northwest$2,\n      southeast$2,\n      southwest$2,\n      north$2,\n      south$2\n    ];\n    const aboveOrBelowRtl = () => [\n      northwest$2,\n      northeast$2,\n      southwest$2,\n      southeast$2,\n      north$2,\n      south$2\n    ];\n    const belowOrAbove = () => [\n      southeast$2,\n      southwest$2,\n      northeast$2,\n      northwest$2,\n      south$2,\n      north$2\n    ];\n    const belowOrAboveRtl = () => [\n      southwest$2,\n      southeast$2,\n      northwest$2,\n      northeast$2,\n      south$2,\n      north$2\n    ];\n\n    const chooseChannels = (channels, message) => message.universal ? channels : filter$2(channels, ch => contains$2(message.channels, ch));\n    const events$h = receiveConfig => derive$2([run$1(receive(), (component, message) => {\n        const channelMap = receiveConfig.channels;\n        const channels = keys(channelMap);\n        const receivingData = message;\n        const targetChannels = chooseChannels(channels, receivingData);\n        each$1(targetChannels, ch => {\n          const channelInfo = channelMap[ch];\n          const channelSchema = channelInfo.schema;\n          const data = asRawOrDie$1('channel[' + ch + '] data\\nReceiver: ' + element(component.element), channelSchema, receivingData.data);\n          channelInfo.onReceive(component, data);\n        });\n      })]);\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$h\n    });\n\n    var ReceivingSchema = [requiredOf('channels', setOf(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted('schema', anyValue())\n      ])))];\n\n    const executeEvent = (bConfig, bState, executor) => runOnExecute$1(component => {\n      executor(component, bConfig, bState);\n    });\n    const loadEvent = (bConfig, bState, f) => runOnInit((component, _simulatedEvent) => {\n      f(component, bConfig, bState);\n    });\n    const create$4 = (schema, name, active, apis, extra, state) => {\n      const configSchema = objOfOnly(schema);\n      const schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const createModes$1 = (modes, name, active, apis, extra, state) => {\n      const configSchema = modes;\n      const schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    const wrapApi = (bName, apiFunction, apiName) => {\n      const f = (component, ...rest) => {\n        const args = [component].concat(rest);\n        return component.config({ name: constant$1(bName) }).fold(() => {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, info => {\n          const rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    const revokeBehaviour = name => ({\n      key: name,\n      value: undefined\n    });\n    const doCreate = (configSchema, schemaSchema, name, active, apis, extra, state) => {\n      const getConfig = info => hasNonNullableKey(info, name) ? info[name]() : Optional.none();\n      const wrappedApis = map$1(apis, (apiF, apiName) => wrapApi(name, apiF, apiName));\n      const wrappedExtra = map$1(extra, (extraF, extraName) => markAsExtraApi(extraF, extraName));\n      const me = {\n        ...wrappedExtra,\n        ...wrappedApis,\n        revoke: curry(revokeBehaviour, name),\n        config: spec => {\n          const prepared = asRawOrDie$1(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me,\n              configAsRaw: cached(() => asRawOrDie$1(name + '-config', configSchema, spec)),\n              initialConfig: spec,\n              state\n            }\n          };\n        },\n        schema: constant$1(schemaSchema),\n        exhibit: (info, base) => {\n          return lift2(getConfig(info), get$g(active, 'exhibit'), (behaviourInfo, exhibitor) => {\n            return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n          }).getOrThunk(() => nu$7({}));\n        },\n        name: constant$1(name),\n        handlers: info => {\n          return getConfig(info).map(behaviourInfo => {\n            const getEvents = get$g(active, 'events').getOr(() => ({}));\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      };\n      return me;\n    };\n\n    const derive$1 = capabilities => wrapAll(capabilities);\n    const simpleSchema = objOfOnly([\n      required$1('fields'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const create$3 = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create$4(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const modeSchema = objOfOnly([\n      required$1('branchKey'),\n      required$1('branches'),\n      required$1('name'),\n      defaulted('active', {}),\n      defaulted('apis', {}),\n      defaulted('state', NoState),\n      defaulted('extra', {})\n    ]);\n    const createModes = data => {\n      const value = asRawOrDie$1('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes$1(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    const revoke = constant$1(undefined);\n\n    const Receiving = create$3({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    const exhibit$6 = (base, posConfig) => nu$7({\n      classes: [],\n      styles: posConfig.useFixed() ? {} : { position: 'relative' }\n    });\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$6\n    });\n\n    const focus$3 = element => element.dom.focus();\n    const blur$1 = element => element.dom.blur();\n    const hasFocus = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const preserve$1 = (f, container) => {\n      const dos = getRootNode(container);\n      const refocus = active$1(dos).bind(focused => {\n        const hasFocus = elem => eq(focused, elem);\n        return hasFocus(container) ? Optional.some(container) : descendant$1(container, hasFocus);\n      });\n      const result = f(container);\n      refocus.each(oldFocus => {\n        active$1(dos).filter(newFocus => eq(newFocus, oldFocus)).fold(() => {\n          focus$3(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    const NuPositionCss = (position, left, top, right, bottom) => {\n      const toPx = num => num + 'px';\n      return {\n        position,\n        left: left.map(toPx),\n        top: top.map(toPx),\n        right: right.map(toPx),\n        bottom: bottom.map(toPx)\n      };\n    };\n    const toOptions = position => ({\n      ...position,\n      position: Optional.some(position.position)\n    });\n    const applyPositionCss = (element, position) => {\n      setOptions(element, toOptions(position));\n    };\n\n    const adt$9 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    const positionWithDirection = (posName, decision, x, y, width, height) => {\n      const decisionRect = decision.rect;\n      const decisionX = decisionRect.x - x;\n      const decisionY = decisionRect.y - y;\n      const decisionWidth = decisionRect.width;\n      const decisionHeight = decisionRect.height;\n      const decisionRight = width - (decisionX + decisionWidth);\n      const decisionBottom = height - (decisionY + decisionHeight);\n      const left = Optional.some(decisionX);\n      const top = Optional.some(decisionY);\n      const right = Optional.some(decisionRight);\n      const bottom = Optional.some(decisionBottom);\n      const none = Optional.none();\n      return cata$2(decision.direction, () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, none, none, right, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, left, none, none, bottom), () => NuPositionCss(posName, left, top, none, none), () => NuPositionCss(posName, none, top, right, none));\n    };\n    const reposition = (origin, decision) => origin.fold(() => {\n      const decisionRect = decision.rect;\n      return NuPositionCss('absolute', Optional.some(decisionRect.x), Optional.some(decisionRect.y), Optional.none(), Optional.none());\n    }, (x, y, width, height) => {\n      return positionWithDirection('absolute', decision, x, y, width, height);\n    }, (x, y, width, height) => {\n      return positionWithDirection('fixed', decision, x, y, width, height);\n    });\n    const toBox = (origin, element) => {\n      const rel = curry(find$2, element);\n      const position = origin.fold(rel, rel, () => {\n        const scroll = get$b();\n        return find$2(element).translate(-scroll.left, -scroll.top);\n      });\n      const width = getOuter$1(element);\n      const height = getOuter$2(element);\n      return bounds(position.left, position.top, width, height);\n    };\n    const viewport = (origin, getBounds) => getBounds.fold(() => origin.fold(win, win, bounds), b => origin.fold(b, b, () => {\n      const bounds$1 = b();\n      const pos = translate$2(origin, bounds$1.x, bounds$1.y);\n      return bounds(pos.left, pos.top, bounds$1.width, bounds$1.height);\n    }));\n    const translate$2 = (origin, x, y) => {\n      const pos = SugarPosition(x, y);\n      const removeScroll = () => {\n        const outerScroll = get$b();\n        return pos.translate(-outerScroll.left, -outerScroll.top);\n      };\n      return origin.fold(constant$1(pos), constant$1(pos), removeScroll);\n    };\n    const cata$1 = (subject, onNone, onRelative, onFixed) => subject.fold(onNone, onRelative, onFixed);\n    adt$9.none;\n    const relative$1 = adt$9.relative;\n    const fixed$1 = adt$9.fixed;\n\n    const anchor = (anchorBox, origin) => ({\n      anchorBox,\n      origin\n    });\n    const box = (anchorBox, origin) => anchor(anchorBox, origin);\n\n    const placementAttribute = 'data-alloy-placement';\n    const setPlacement$1 = (element, placement) => {\n      set$9(element, placementAttribute, placement);\n    };\n    const getPlacement = element => getOpt(element, placementAttribute);\n    const reset$2 = element => remove$7(element, placementAttribute);\n\n    const adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'visibleW',\n          'visibleH',\n          'isVisible'\n        ]\n      }\n    ]);\n    const determinePosition = (box, bounds) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds;\n      const {x, y, right, bottom, width, height} = box;\n      const xInBounds = x >= boundsX && x <= boundsRight;\n      const yInBounds = y >= boundsY && y <= boundsBottom;\n      const originInBounds = xInBounds && yInBounds;\n      const rightInBounds = right <= boundsRight && right >= boundsX;\n      const bottomInBounds = bottom <= boundsBottom && bottom >= boundsY;\n      const sizeInBounds = rightInBounds && bottomInBounds;\n      const visibleW = Math.min(width, x >= boundsX ? boundsRight - x : right - boundsX);\n      const visibleH = Math.min(height, y >= boundsY ? boundsBottom - y : bottom - boundsY);\n      return {\n        originInBounds,\n        sizeInBounds,\n        visibleW,\n        visibleH\n      };\n    };\n    const calcReposition = (box, bounds$1) => {\n      const {\n        x: boundsX,\n        y: boundsY,\n        right: boundsRight,\n        bottom: boundsBottom\n      } = bounds$1;\n      const {x, y, width, height} = box;\n      const maxX = Math.max(boundsX, boundsRight - width);\n      const maxY = Math.max(boundsY, boundsBottom - height);\n      const restrictedX = clamp(x, boundsX, maxX);\n      const restrictedY = clamp(y, boundsY, maxY);\n      const restrictedWidth = Math.min(restrictedX + width, boundsRight) - restrictedX;\n      const restrictedHeight = Math.min(restrictedY + height, boundsBottom) - restrictedY;\n      return bounds(restrictedX, restrictedY, restrictedWidth, restrictedHeight);\n    };\n    const calcMaxSizes = (direction, box, bounds) => {\n      const upAvailable = constant$1(box.bottom - bounds.y);\n      const downAvailable = constant$1(bounds.bottom - box.y);\n      const maxHeight = cataVertical(direction, downAvailable, downAvailable, upAvailable);\n      const westAvailable = constant$1(box.right - bounds.x);\n      const eastAvailable = constant$1(bounds.right - box.x);\n      const maxWidth = cataHorizontal(direction, eastAvailable, eastAvailable, westAvailable);\n      return {\n        maxWidth,\n        maxHeight\n      };\n    };\n    const attempt = (candidate, width, height, bounds$1) => {\n      const bubble = candidate.bubble;\n      const bubbleOffset = bubble.offset;\n      const adjustedBounds = adjustBounds(bounds$1, candidate.restriction, bubbleOffset);\n      const newX = candidate.x + bubbleOffset.left;\n      const newY = candidate.y + bubbleOffset.top;\n      const box = bounds(newX, newY, width, height);\n      const {originInBounds, sizeInBounds, visibleW, visibleH} = determinePosition(box, adjustedBounds);\n      const fits = originInBounds && sizeInBounds;\n      const fittedBox = fits ? box : calcReposition(box, adjustedBounds);\n      const isPartlyVisible = fittedBox.width > 0 && fittedBox.height > 0;\n      const {maxWidth, maxHeight} = calcMaxSizes(candidate.direction, fittedBox, bounds$1);\n      const reposition = {\n        rect: fittedBox,\n        maxHeight,\n        maxWidth,\n        direction: candidate.direction,\n        placement: candidate.placement,\n        classes: {\n          on: bubble.classesOn,\n          off: bubble.classesOff\n        },\n        layout: candidate.label,\n        testY: newY\n      };\n      return fits || candidate.alwaysFit ? adt$8.fit(reposition) : adt$8.nofit(reposition, visibleW, visibleH, isPartlyVisible);\n    };\n    const attempts = (element, candidates, anchorBox, elementBox, bubbles, bounds) => {\n      const panelWidth = elementBox.width;\n      const panelHeight = elementBox.height;\n      const attemptBestFit = (layout, reposition, visibleW, visibleH, isVisible) => {\n        const next = layout(anchorBox, elementBox, bubbles, element, bounds);\n        const attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(constant$1(attemptLayout), (newReposition, newVisibleW, newVisibleH, newIsVisible) => {\n          const improved = isVisible === newIsVisible ? newVisibleH > visibleH || newVisibleW > visibleW : !isVisible && newIsVisible;\n          return improved ? attemptLayout : adt$8.nofit(reposition, visibleW, visibleH, isVisible);\n        });\n      };\n      const abc = foldl(candidates, (b, a) => {\n        const bestNext = curry(attemptBestFit, a);\n        return b.fold(constant$1(b), bestNext);\n      }, adt$8.nofit({\n        rect: anchorBox,\n        maxHeight: elementBox.height,\n        maxWidth: elementBox.width,\n        direction: southeast$3(),\n        placement: 'southeast',\n        classes: {\n          on: [],\n          off: []\n        },\n        layout: 'none',\n        testY: anchorBox.y\n      }, -1, -1, false));\n      return abc.fold(identity, identity);\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const destroyable = () => singleton(s => s.destroy());\n    const unbindable = () => singleton(s => s.unbind());\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$2(element, event, filter, handler);\n    const capture = (element, event, handler) => capture$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const properties = [\n      'top',\n      'bottom',\n      'right',\n      'left'\n    ];\n    const timerAttr = 'data-alloy-transition-timer';\n    const isTransitioning$1 = (element, transition) => hasAll(element, transition.classes);\n    const shouldApplyTransitionCss = (transition, decision, lastPlacement) => {\n      return lastPlacement.exists(placer => {\n        const mode = transition.mode;\n        return mode === 'all' ? true : placer[mode] !== decision[mode];\n      });\n    };\n    const hasChanges = (position, intermediate) => {\n      const round = value => parseFloat(value).toFixed(3);\n      return find$4(intermediate, (value, key) => {\n        const newValue = position[key].map(round);\n        const val = value.map(round);\n        return !equals(newValue, val);\n      }).isSome();\n    };\n    const getTransitionDuration = element => {\n      const get = name => {\n        const style = get$e(element, name);\n        const times = style.split(/\\s*,\\s*/);\n        return filter$2(times, isNotEmpty);\n      };\n      const parse = value => {\n        if (isString(value) && /^[\\d.]+/.test(value)) {\n          const num = parseFloat(value);\n          return endsWith(value, 'ms') ? num : num * 1000;\n        } else {\n          return 0;\n        }\n      };\n      const delay = get('transition-delay');\n      const duration = get('transition-duration');\n      return foldl(duration, (acc, dur, i) => {\n        const time = parse(delay[i]) + parse(dur);\n        return Math.max(acc, time);\n      }, 0);\n    };\n    const setupTransitionListeners = (element, transition) => {\n      const transitionEnd = unbindable();\n      const transitionCancel = unbindable();\n      let timer;\n      const isSourceTransition = e => {\n        var _a;\n        const pseudoElement = (_a = e.raw.pseudoElement) !== null && _a !== void 0 ? _a : '';\n        return eq(e.target, element) && isEmpty(pseudoElement) && contains$2(properties, e.raw.propertyName);\n      };\n      const transitionDone = e => {\n        if (isNullable(e) || isSourceTransition(e)) {\n          transitionEnd.clear();\n          transitionCancel.clear();\n          const type = e === null || e === void 0 ? void 0 : e.raw.type;\n          if (isNullable(type) || type === transitionend()) {\n            clearTimeout(timer);\n            remove$7(element, timerAttr);\n            remove$1(element, transition.classes);\n          }\n        }\n      };\n      const transitionStart = bind(element, transitionstart(), e => {\n        if (isSourceTransition(e)) {\n          transitionStart.unbind();\n          transitionEnd.set(bind(element, transitionend(), transitionDone));\n          transitionCancel.set(bind(element, transitioncancel(), transitionDone));\n        }\n      });\n      const duration = getTransitionDuration(element);\n      requestAnimationFrame(() => {\n        timer = setTimeout(transitionDone, duration + 17);\n        set$9(element, timerAttr, timer);\n      });\n    };\n    const startTransitioning = (element, transition) => {\n      add$1(element, transition.classes);\n      getOpt(element, timerAttr).each(timerId => {\n        clearTimeout(parseInt(timerId, 10));\n        remove$7(element, timerAttr);\n      });\n      setupTransitionListeners(element, transition);\n    };\n    const applyTransitionCss = (element, origin, position, transition, decision, lastPlacement) => {\n      const shouldTransition = shouldApplyTransitionCss(transition, decision, lastPlacement);\n      if (shouldTransition || isTransitioning$1(element, transition)) {\n        set$8(element, 'position', position.position);\n        const rect = toBox(origin, element);\n        const intermediatePosition = reposition(origin, {\n          ...decision,\n          rect\n        });\n        const intermediateCssOptions = mapToObject(properties, prop => intermediatePosition[prop]);\n        if (hasChanges(position, intermediateCssOptions)) {\n          setOptions(element, intermediateCssOptions);\n          if (shouldTransition) {\n            startTransitioning(element, transition);\n          }\n          reflow(element);\n        }\n      } else {\n        remove$1(element, transition.classes);\n      }\n    };\n\n    const elementSize = p => ({\n      width: getOuter$1(p),\n      height: getOuter$2(p)\n    });\n    const layout = (anchorBox, element, bubbles, options) => {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      const elementBox = elementSize(element);\n      return attempts(element, options.preference, anchorBox, elementBox, bubbles, options.bounds);\n    };\n    const setClasses = (element, decision) => {\n      const classInfo = decision.classes;\n      remove$1(element, classInfo.off);\n      add$1(element, classInfo.on);\n    };\n    const setHeight = (element, decision, options) => {\n      const maxHeightFunction = options.maxHeightFunction;\n      maxHeightFunction(element, decision.maxHeight);\n    };\n    const setWidth = (element, decision, options) => {\n      const maxWidthFunction = options.maxWidthFunction;\n      maxWidthFunction(element, decision.maxWidth);\n    };\n    const position$2 = (element, decision, options) => {\n      const positionCss = reposition(options.origin, decision);\n      options.transition.each(transition => {\n        applyTransitionCss(element, options.origin, positionCss, transition, decision, options.lastPlacement);\n      });\n      applyPositionCss(element, positionCss);\n    };\n    const setPlacement = (element, decision) => {\n      setPlacement$1(element, decision.placement);\n    };\n\n    const setMaxHeight = (element, maxHeight) => {\n      setMax$1(element, Math.floor(maxHeight));\n    };\n    const anchored = constant$1((element, available) => {\n      setMaxHeight(element, available);\n      setAll(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    const expandable$1 = constant$1((element, available) => {\n      setMaxHeight(element, available);\n    });\n\n    const defaultOr = (options, key, dephault) => options[key] === undefined ? dephault : options[key];\n    const simple = (anchor, element, bubble, layouts, lastPlacement, getBounds, overrideOptions, transition) => {\n      const maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      const maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      const anchorBox = anchor.anchorBox;\n      const origin = anchor.origin;\n      const options = {\n        bounds: viewport(origin, getBounds),\n        origin,\n        preference: layouts,\n        maxHeightFunction,\n        maxWidthFunction,\n        lastPlacement,\n        transition\n      };\n      return go(anchorBox, element, bubble, options);\n    };\n    const go = (anchorBox, element, bubble, options) => {\n      const decision = layout(anchorBox, element, bubble, options);\n      position$2(element, decision, options);\n      setPlacement(element, decision);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n      return {\n        layout: decision.layout,\n        placement: decision.placement\n      };\n    };\n\n    const allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right',\n      'inset'\n    ];\n    const nu$5 = (xOffset, yOffset, classes, insetModifier = 1) => {\n      const insetXOffset = xOffset * insetModifier;\n      const insetYOffset = yOffset * insetModifier;\n      const getClasses = prop => get$g(classes, prop).getOr([]);\n      const make = (xDelta, yDelta, alignmentsOn) => {\n        const alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: SugarPosition(xDelta, yDelta),\n          classesOn: bind$3(alignmentsOn, getClasses),\n          classesOff: bind$3(alignmentsOff, getClasses)\n        };\n      };\n      return {\n        southeast: () => make(-xOffset, yOffset, [\n          'top',\n          'alignLeft'\n        ]),\n        southwest: () => make(xOffset, yOffset, [\n          'top',\n          'alignRight'\n        ]),\n        south: () => make(-xOffset / 2, yOffset, [\n          'top',\n          'alignCentre'\n        ]),\n        northeast: () => make(-xOffset, -yOffset, [\n          'bottom',\n          'alignLeft'\n        ]),\n        northwest: () => make(xOffset, -yOffset, [\n          'bottom',\n          'alignRight'\n        ]),\n        north: () => make(-xOffset / 2, -yOffset, [\n          'bottom',\n          'alignCentre'\n        ]),\n        east: () => make(xOffset, -yOffset / 2, [\n          'valignCentre',\n          'left'\n        ]),\n        west: () => make(-xOffset, -yOffset / 2, [\n          'valignCentre',\n          'right'\n        ]),\n        insetNortheast: () => make(insetXOffset, insetYOffset, [\n          'top',\n          'alignLeft',\n          'inset'\n        ]),\n        insetNorthwest: () => make(-insetXOffset, insetYOffset, [\n          'top',\n          'alignRight',\n          'inset'\n        ]),\n        insetNorth: () => make(-insetXOffset / 2, insetYOffset, [\n          'top',\n          'alignCentre',\n          'inset'\n        ]),\n        insetSoutheast: () => make(insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignLeft',\n          'inset'\n        ]),\n        insetSouthwest: () => make(-insetXOffset, -insetYOffset, [\n          'bottom',\n          'alignRight',\n          'inset'\n        ]),\n        insetSouth: () => make(-insetXOffset / 2, -insetYOffset, [\n          'bottom',\n          'alignCentre',\n          'inset'\n        ]),\n        insetEast: () => make(-insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'right',\n          'inset'\n        ]),\n        insetWest: () => make(insetXOffset, -insetYOffset / 2, [\n          'valignCentre',\n          'left',\n          'inset'\n        ])\n      };\n    };\n    const fallback = () => nu$5(0, 0, {});\n\n    const nu$4 = identity;\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$e(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    var AttributeValue;\n    (function (AttributeValue) {\n      AttributeValue['TopToBottom'] = 'toptobottom';\n      AttributeValue['BottomToTop'] = 'bottomtotop';\n    }(AttributeValue || (AttributeValue = {})));\n    const Attribute = 'data-alloy-vertical-dir';\n    const isBottomToTopDir = el => closest$2(el, current => isElement$1(current) && get$f(current, 'data-alloy-vertical-dir') === AttributeValue.BottomToTop);\n\n    const schema$y = () => optionObjOf('layouts', [\n      required$1('onLtr'),\n      required$1('onRtl'),\n      option$3('onBottomLtr'),\n      option$3('onBottomRtl')\n    ]);\n    const get$5 = (elem, info, defaultLtr, defaultRtl, defaultBottomLtr, defaultBottomRtl, dirElement) => {\n      const isBottomToTop = dirElement.map(isBottomToTopDir).getOr(false);\n      const customLtr = info.layouts.map(ls => ls.onLtr(elem));\n      const customRtl = info.layouts.map(ls => ls.onRtl(elem));\n      const ltr = isBottomToTop ? info.layouts.bind(ls => ls.onBottomLtr.map(f => f(elem))).or(customLtr).getOr(defaultBottomLtr) : customLtr.getOr(defaultLtr);\n      const rtl = isBottomToTop ? info.layouts.bind(ls => ls.onBottomRtl.map(f => f(elem))).or(customRtl).getOr(defaultBottomRtl) : customRtl.getOr(defaultRtl);\n      const f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    const placement$4 = (component, anchorInfo, origin) => {\n      const hotspot = anchorInfo.hotspot;\n      const anchorBox = toBox(origin, hotspot.element);\n      const layouts = get$5(component.element, anchorInfo, belowOrAbove(), belowOrAboveRtl(), aboveOrBelow(), aboveOrBelowRtl(), Optional.some(anchorInfo.hotspot.element));\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var HotspotAnchor = [\n      required$1('hotspot'),\n      option$3('bubble'),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$4)\n    ];\n\n    const placement$3 = (component, anchorInfo, origin) => {\n      const pos = translate$2(origin, anchorInfo.x, anchorInfo.y);\n      const anchorBox = bounds(pos.left, pos.top, anchorInfo.width, anchorInfo.height);\n      const layouts = get$5(component.element, anchorInfo, all$1(), allRtl$1(), all$1(), allRtl$1(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      required$1('x'),\n      required$1('y'),\n      defaulted('height', 0),\n      defaulted('width', 0),\n      defaulted('bubble', fallback()),\n      defaulted('overrides', {}),\n      schema$y(),\n      output$1('placement', placement$3)\n    ];\n\n    const adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    const toFixed = pos => pos.fold(identity, (point, scrollLeft, scrollTop) => point.translate(-scrollLeft, -scrollTop));\n    const toAbsolute = pos => pos.fold(identity, identity);\n    const sum = points => foldl(points, (b, a) => b.translate(a.left, a.top), SugarPosition(0, 0));\n    const sumAsFixed = positions => {\n      const points = map$2(positions, toFixed);\n      return sum(points);\n    };\n    const sumAsAbsolute = positions => {\n      const points = map$2(positions, toAbsolute);\n      return sum(points);\n    };\n    const screen = adt$7.screen;\n    const absolute$1 = adt$7.absolute;\n\n    const getOffset = (component, origin, anchorInfo) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const hasSameOwner = frame => {\n        const frameOwner = owner$4(frame);\n        const compOwner = owner$4(component.element);\n        return eq(frameOwner, compOwner);\n      };\n      return Optional.from(win.frameElement).map(SugarElement.fromDom).filter(hasSameOwner).map(absolute$3);\n    };\n    const getRootPoint = (component, origin, anchorInfo) => {\n      const doc = owner$4(component.element);\n      const outerScroll = get$b(doc);\n      const offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$1(offset, outerScroll.left, outerScroll.top);\n    };\n\n    const getBox = (left, top, width, height) => {\n      const point = screen(SugarPosition(left, top));\n      return Optional.some(pointed(point, width, height));\n    };\n    const calcNewAnchor = (optBox, rootPoint, anchorInfo, origin, elem) => optBox.map(box => {\n      const points = [\n        rootPoint,\n        box.point\n      ];\n      const topLeft = cata$1(origin, () => sumAsAbsolute(points), () => sumAsAbsolute(points), () => sumAsFixed(points));\n      const anchorBox = rect(topLeft.left, topLeft.top, box.width, box.height);\n      const layoutsLtr = anchorInfo.showAbove ? aboveOrBelow() : belowOrAbove();\n      const layoutsRtl = anchorInfo.showAbove ? aboveOrBelowRtl() : belowOrAboveRtl();\n      const layouts = get$5(elem, anchorInfo, layoutsLtr, layoutsRtl, layoutsLtr, layoutsRtl, Optional.none());\n      return nu$4({\n        anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      });\n    });\n\n    const placement$2 = (component, anchorInfo, origin) => {\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.filter(inBody).bind(target => {\n        const rect = target.dom.getBoundingClientRect();\n        const nodeBox = getBox(rect.left, rect.top, rect.width, rect.height);\n        const elem = anchorInfo.node.getOr(component.element);\n        return calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      required$1('node'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$2)\n    ];\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n\n    const create$2 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$2 };\n\n    const adt$6 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before = adt$6.before;\n    const on$1 = adt$6.on;\n    const after$1 = adt$6.after;\n    const Situ = {\n      before,\n      on: on$1,\n      after: after$1,\n      cata,\n      getStart: getStart$1\n    };\n\n    const adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$5.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$5.domRange;\n    const relative = adt$5.relative;\n    const exact = adt$5.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range$1 = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range: range$1\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n    const getBounds$2 = rng => {\n      const rect = rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$4 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant$1(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$4.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$4.ltr, rng));\n      } else {\n        return fromRange(win, adt$4.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$4.ltr;\n    adt$4.rtl;\n\n    const descendants = (scope, selector) => all$3(selector, scope);\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner$4(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getBounds$1 = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getBounds$2(rng);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$4 = element => api.get(element);\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n    const descendOnce$1 = (element, offset) => {\n      const children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        const last = children$1[children$1.length - 1];\n        const len = isText(last) ? get$4(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    const descendOnce = (element, offset) => isText(element) ? point(element, offset) : descendOnce$1(element, offset);\n    const getAnchorSelection = (win, anchorInfo) => {\n      const getSelection = anchorInfo.getSelection.getOrThunk(() => () => getExact(win));\n      return getSelection().map(sel => {\n        const modStart = descendOnce(sel.start, sel.soffset);\n        const modFinish = descendOnce(sel.finish, sel.foffset);\n        return SimSelection.range(modStart.element, modStart.offset, modFinish.element, modFinish.offset);\n      });\n    };\n    const placement$1 = (component, anchorInfo, origin) => {\n      const win = defaultView(anchorInfo.root).dom;\n      const rootPoint = getRootPoint(component, origin, anchorInfo);\n      const selectionBox = getAnchorSelection(win, anchorInfo).bind(sel => {\n        const optRect = getBounds$1(win, SimSelection.exactFromRange(sel)).orThunk(() => {\n          const x = SugarElement.fromText(zeroWidth);\n          before$1(sel.start, x);\n          const rect = getFirstRect(win, SimSelection.exact(x, 0, x, 1));\n          remove$5(x);\n          return rect;\n        });\n        return optRect.bind(rawRect => getBox(rawRect.left, rawRect.top, rawRect.width, rawRect.height));\n      });\n      const targetElement = getAnchorSelection(win, anchorInfo).bind(sel => isElement$1(sel.start) ? Optional.some(sel.start) : parentElement(sel.start));\n      const elem = targetElement.getOr(component.element);\n      return calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option$3('getSelection'),\n      required$1('root'),\n      option$3('bubble'),\n      schema$y(),\n      defaulted('overrides', {}),\n      defaulted('showAbove', false),\n      output$1('placement', placement$1)\n    ];\n\n    const labelPrefix$1 = 'link-layout';\n    const eastX = anchor => anchor.x + anchor.width;\n    const westX = (anchor, element) => anchor.x - element.width;\n    const northY$1 = (anchor, element) => anchor.y - element.height + anchor.height;\n    const southY$1 = anchor => anchor.y;\n    const southeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), southY$1(anchor), bubbles.southeast(), southeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 0,\n      top: 2\n    }), labelPrefix$1);\n    const southwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), southY$1(anchor), bubbles.southwest(), southwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 1,\n      top: 2\n    }), labelPrefix$1);\n    const northeast$1 = (anchor, element, bubbles) => nu$6(eastX(anchor), northY$1(anchor, element), bubbles.northeast(), northeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 0,\n      bottom: 3\n    }), labelPrefix$1);\n    const northwest$1 = (anchor, element, bubbles) => nu$6(westX(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 1,\n      bottom: 3\n    }), labelPrefix$1);\n    const all = () => [\n      southeast$1,\n      southwest$1,\n      northeast$1,\n      northwest$1\n    ];\n    const allRtl = () => [\n      southwest$1,\n      southeast$1,\n      northwest$1,\n      northeast$1\n    ];\n\n    const placement = (component, submenuInfo, origin) => {\n      const anchorBox = toBox(origin, submenuInfo.item.element);\n      const layouts = get$5(component.element, submenuInfo, all(), allRtl(), all(), allRtl(), Optional.none());\n      return Optional.some(nu$4({\n        anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts,\n        placer: Optional.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      required$1('item'),\n      schema$y(),\n      defaulted('overrides', {}),\n      output$1('placement', placement)\n    ];\n\n    var AnchorSchema = choose$1('type', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    const TransitionSchema = [\n      requiredArrayOf('classes', string),\n      defaultedStringEnum('mode', 'all', [\n        'all',\n        'layout',\n        'placement'\n      ])\n    ];\n    const PositionSchema = [\n      defaulted('useFixed', never),\n      option$3('getBounds')\n    ];\n    const PlacementSchema = [\n      requiredOf('anchor', AnchorSchema),\n      optionObjOf('transition', TransitionSchema)\n    ];\n\n    const getFixedOrigin = () => {\n      const html = document.documentElement;\n      return fixed$1(0, 0, html.clientWidth, html.clientHeight);\n    };\n    const getRelativeOrigin = component => {\n      const position = absolute$3(component.element);\n      const bounds = component.element.dom.getBoundingClientRect();\n      return relative$1(position.left, position.top, bounds.width, bounds.height);\n    };\n    const place = (component, origin, anchoring, getBounds, placee, lastPlace, transition) => {\n      const anchor = box(anchoring.anchorBox, origin);\n      return simple(anchor, placee.element, anchoring.bubble, anchoring.layouts, lastPlace, getBounds, anchoring.overrides, transition);\n    };\n    const position$1 = (component, posConfig, posState, placee, placementSpec) => {\n      positionWithin(component, posConfig, posState, placee, placementSpec, Optional.none());\n    };\n    const positionWithin = (component, posConfig, posState, placee, placementSpec, boxElement) => {\n      const boundsBox = boxElement.map(box$1);\n      return positionWithinBounds(component, posConfig, posState, placee, placementSpec, boundsBox);\n    };\n    const positionWithinBounds = (component, posConfig, posState, placee, placementSpec, bounds) => {\n      const placeeDetail = asRawOrDie$1('placement.info', objOf(PlacementSchema), placementSpec);\n      const anchorage = placeeDetail.anchor;\n      const element = placee.element;\n      const placeeState = posState.get(placee.uid);\n      preserve$1(() => {\n        set$8(element, 'position', 'fixed');\n        const oldVisibility = getRaw(element, 'visibility');\n        set$8(element, 'visibility', 'hidden');\n        const origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        const placer = anchorage.placement;\n        const getBounds = bounds.map(constant$1).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(anchoring => {\n          const doPlace = anchoring.placer.getOr(place);\n          const newState = doPlace(component, origin, anchoring, getBounds, placee, placeeState, placeeDetail.transition);\n          posState.set(placee.uid, newState);\n        });\n        oldVisibility.fold(() => {\n          remove$6(element, 'visibility');\n        }, vis => {\n          set$8(element, 'visibility', vis);\n        });\n        if (getRaw(element, 'left').isNone() && getRaw(element, 'top').isNone() && getRaw(element, 'right').isNone() && getRaw(element, 'bottom').isNone() && is$1(getRaw(element, 'position'), 'fixed')) {\n          remove$6(element, 'position');\n        }\n      }, element);\n    };\n    const getMode = (component, pConfig, _pState) => pConfig.useFixed() ? 'fixed' : 'absolute';\n    const reset$1 = (component, pConfig, posState, placee) => {\n      const element = placee.element;\n      each$1([\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom'\n      ], prop => remove$6(element, prop));\n      reset$2(element);\n      posState.clear(placee.uid);\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode,\n        reset: reset$1\n    });\n\n    const init$g = () => {\n      let state = {};\n      const set = (id, data) => {\n        state[id] = data;\n      };\n      const get = id => get$g(state, id);\n      const clear = id => {\n        if (isNonNullable(id)) {\n          delete state[id];\n        } else {\n          state = {};\n        }\n      };\n      return nu$8({\n        readState: () => state,\n        clear,\n        set,\n        get\n      });\n    };\n\n    var PositioningState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$g\n    });\n\n    const Positioning = create$3({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis,\n      state: PositioningState\n    });\n\n    const isConnected = comp => comp.getSystem().isConnected();\n    const fireDetaching = component => {\n      emit(component, detachedFromDom());\n      const children = component.components();\n      each$1(children, fireDetaching);\n    };\n    const fireAttaching = component => {\n      const children = component.components();\n      each$1(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    const virtualAttach = (parent, child) => {\n      parent.getSystem().addToWorld(child);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n    };\n    const virtualDetach = comp => {\n      fireDetaching(comp);\n      comp.getSystem().removeFromWorld(comp);\n    };\n    const attach$1 = (parent, child) => {\n      append$2(parent.element, child.element);\n    };\n    const detachChildren$1 = component => {\n      each$1(component.components(), childComp => remove$5(childComp.element));\n      empty(component.element);\n      component.syncComponents();\n    };\n    const replaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      detachChildren$1(component);\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, comp => {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          component.getSystem().addToWorld(childComp);\n          attach$1(component, childComp);\n          if (inBody(component.element)) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach$1(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n    const virtualReplaceChildren = (component, newSpecs, buildNewChildren) => {\n      const subs = component.components();\n      const existingComps = bind$3(newSpecs, spec => getPremade(spec).toArray());\n      each$1(subs, childComp => {\n        if (!contains$2(existingComps, childComp)) {\n          virtualDetach(childComp);\n        }\n      });\n      const newChildren = buildNewChildren(newSpecs);\n      const deleted = difference(subs, newChildren);\n      each$1(deleted, deletedComp => {\n        if (isConnected(deletedComp)) {\n          virtualDetach(deletedComp);\n        }\n      });\n      each$1(newChildren, childComp => {\n        if (!isConnected(childComp)) {\n          virtualAttach(component, childComp);\n        }\n      });\n      component.syncComponents();\n    };\n\n    const attach = (parent, child) => {\n      attachWith(parent, child, append$2);\n    };\n    const attachWith = (parent, child, insertion) => {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element, child.element);\n      if (inBody(parent.element)) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    const doDetach = component => {\n      fireDetaching(component);\n      remove$5(component.element);\n      component.getSystem().removeFromWorld(component);\n    };\n    const detach = component => {\n      const parent$1 = parent(component.element).bind(p => component.getSystem().getByDom(p).toOptional());\n      doDetach(component);\n      parent$1.each(p => {\n        p.syncComponents();\n      });\n    };\n    const detachChildren = component => {\n      const subs = component.components();\n      each$1(subs, doDetach);\n      empty(component.element);\n      component.syncComponents();\n    };\n    const attachSystem = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, append$2);\n    };\n    const attachSystemAfter = (element, guiSystem) => {\n      attachSystemWith(element, guiSystem, after$2);\n    };\n    const attachSystemWith = (element, guiSystem, inserter) => {\n      inserter(element, guiSystem.element);\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    const detachSystem = guiSystem => {\n      const children$1 = children(guiSystem.element);\n      each$1(children$1, child => {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove$5(guiSystem.element);\n    };\n\n    const rebuild = (sandbox, sConfig, sState, data) => {\n      sState.get().each(_data => {\n        detachChildren(sandbox);\n      });\n      const point = sConfig.getAttachPoint(sandbox);\n      attach(point, sandbox);\n      const built = sandbox.getSystem().build(data);\n      attach(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    const open$1 = (sandbox, sConfig, sState, data) => {\n      const newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    const setContent = (sandbox, sConfig, sState, data) => sState.get().map(() => rebuild(sandbox, sConfig, sState, data));\n    const openWhileCloaked = (sandbox, sConfig, sState, data, transaction) => {\n      cloak(sandbox, sConfig);\n      open$1(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    const close$1 = (sandbox, sConfig, sState) => {\n      sState.get().each(data => {\n        detachChildren(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    const isOpen$1 = (_sandbox, _sConfig, sState) => sState.isOpen();\n    const isPartOf = (sandbox, sConfig, sState, queryElem) => isOpen$1(sandbox, sConfig, sState) && sState.get().exists(data => sConfig.isPartOf(sandbox, data, queryElem));\n    const getState$2 = (_sandbox, _sConfig, sState) => sState.get();\n    const store = (sandbox, cssKey, attr, newValue) => {\n      getRaw(sandbox.element, cssKey).fold(() => {\n        remove$7(sandbox.element, attr);\n      }, v => {\n        set$9(sandbox.element, attr, v);\n      });\n      set$8(sandbox.element, cssKey, newValue);\n    };\n    const restore = (sandbox, cssKey, attr) => {\n      getOpt(sandbox.element, attr).fold(() => remove$6(sandbox.element, cssKey), oldValue => set$8(sandbox.element, cssKey, oldValue));\n    };\n    const cloak = (sandbox, sConfig, _sState) => {\n      const sink = sConfig.getAttachPoint(sandbox);\n      set$8(sandbox.element, 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    const hasPosition = element => exists([\n      'top',\n      'left',\n      'right',\n      'bottom'\n    ], pos => getRaw(element, pos).isSome());\n    const decloak = (sandbox, sConfig, _sState) => {\n      if (!hasPosition(sandbox.element)) {\n        remove$6(sandbox.element, 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        cloak: cloak,\n        decloak: decloak,\n        open: open$1,\n        openWhileCloaked: openWhileCloaked,\n        close: close$1,\n        isOpen: isOpen$1,\n        isPartOf: isPartOf,\n        getState: getState$2,\n        setContent: setContent\n    });\n\n    const events$g = (sandboxConfig, sandboxState) => derive$2([run$1(sandboxClose(), (sandbox, _simulatedEvent) => {\n        close$1(sandbox, sandboxConfig, sandboxState);\n      })]);\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$g\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      required$1('isPartOf'),\n      required$1('getAttachPoint'),\n      defaulted('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    const init$f = () => {\n      const contents = value$2();\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        readState,\n        isOpen: contents.isSet,\n        clear: contents.clear,\n        set: contents.set,\n        get: contents.get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$f\n    });\n\n    const Sandboxing = create$3({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    const dismissPopups = constant$1('dismiss.popups');\n    const repositionPopups = constant$1('reposition.popups');\n    const mouseReleased = constant$1('mouse.released');\n\n    const schema$x = objOfOnly([\n      defaulted('isExtraPart', never),\n      optionObjOf('fireEventInstead', [defaulted('event', dismissRequested())])\n    ]);\n    const receivingChannel$1 = rawSpec => {\n      const detail = asRawOrDie$1('Dismissal', schema$x, rawSpec);\n      return {\n        [dismissPopups()]: {\n          schema: objOfOnly([required$1('target')]),\n          onReceive: (sandbox, data) => {\n            if (Sandboxing.isOpen(sandbox)) {\n              const isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n              if (!isPart) {\n                detail.fireEventInstead.fold(() => Sandboxing.close(sandbox), fe => emit(sandbox, fe.event));\n              }\n            }\n          }\n        }\n      };\n    };\n\n    const schema$w = objOfOnly([\n      optionObjOf('fireEventInstead', [defaulted('event', repositionRequested())]),\n      requiredFunction('doReposition')\n    ]);\n    const receivingChannel = rawSpec => {\n      const detail = asRawOrDie$1('Reposition', schema$w, rawSpec);\n      return {\n        [repositionPopups()]: {\n          onReceive: sandbox => {\n            if (Sandboxing.isOpen(sandbox)) {\n              detail.fireEventInstead.fold(() => detail.doReposition(sandbox), fe => emit(sandbox, fe.event));\n            }\n          }\n        }\n      };\n    };\n\n    const onLoad$5 = (component, repConfig, repState) => {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    const onUnload$2 = (component, repConfig, repState) => {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    const setValue$3 = (component, repConfig, repState, data) => {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    const getValue$3 = (component, repConfig, repState) => repConfig.store.manager.getValue(component, repConfig, repState);\n    const getState$1 = (component, repConfig, repState) => repState;\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad$5,\n        onUnload: onUnload$2,\n        setValue: setValue$3,\n        getValue: getValue$3,\n        getState: getState$1\n    });\n\n    const events$f = (repConfig, repState) => {\n      const es = repConfig.resetOnDom ? [\n        runOnAttached((comp, _se) => {\n          onLoad$5(comp, repConfig, repState);\n        }),\n        runOnDetached((comp, _se) => {\n          onUnload$2(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad$5)];\n      return derive$2(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$f\n    });\n\n    const memory$1 = () => {\n      const data = Cell(null);\n      const readState = () => ({\n        mode: 'memory',\n        value: data.get()\n      });\n      const isNotSet = () => data.get() === null;\n      const clear = () => {\n        data.set(null);\n      };\n      return nu$8({\n        set: data.set,\n        get: data.get,\n        isNotSet,\n        clear,\n        readState\n      });\n    };\n    const manual = () => {\n      const readState = noop;\n      return nu$8({ readState });\n    };\n    const dataset = () => {\n      const dataByValue = Cell({});\n      const dataByText = Cell({});\n      const readState = () => ({\n        mode: 'dataset',\n        dataByValue: dataByValue.get(),\n        dataByText: dataByText.get()\n      });\n      const clear = () => {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      const lookup = itemString => get$g(dataByValue.get(), itemString).orThunk(() => get$g(dataByText.get(), itemString));\n      const update = items => {\n        const currentDataByValue = dataByValue.get();\n        const currentDataByText = dataByText.get();\n        const newDataByValue = {};\n        const newDataByText = {};\n        each$1(items, item => {\n          newDataByValue[item.value] = item;\n          get$g(item, 'meta').each(meta => {\n            get$g(meta, 'text').each(text => {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set({\n          ...currentDataByValue,\n          ...newDataByValue\n        });\n        dataByText.set({\n          ...currentDataByText,\n          ...newDataByText\n        });\n      };\n      return nu$8({\n        readState,\n        lookup,\n        update,\n        clear\n      });\n    };\n    const init$e = spec => spec.store.manager.state(spec);\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        memory: memory$1,\n        dataset: dataset,\n        manual: manual,\n        init: init$e\n    });\n\n    const setValue$2 = (component, repConfig, repState, data) => {\n      const store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue$2 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      const key = store.getDataKey(component);\n      return repState.lookup(key).getOrThunk(() => store.getFallbackEntry(key));\n    };\n    const onLoad$4 = (component, repConfig, repState) => {\n      const store = repConfig.store;\n      store.initialValue.each(data => {\n        setValue$2(component, repConfig, repState, data);\n      });\n    };\n    const onUnload$1 = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option$3('initialValue'),\n      required$1('getFallbackEntry'),\n      required$1('getDataKey'),\n      required$1('setValue'),\n      output$1('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$4,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    const getValue$1 = (component, repConfig, _repState) => repConfig.store.getValue(component);\n    const setValue$1 = (component, repConfig, _repState, data) => {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    const onLoad$3 = (component, repConfig, _repState) => {\n      repConfig.store.initialValue.each(data => {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      required$1('getValue'),\n      defaulted('setValue', noop),\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$3,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    const setValue = (component, repConfig, repState, data) => {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    const getValue = (component, repConfig, repState) => repState.get();\n    const onLoad$2 = (component, repConfig, repState) => {\n      repConfig.store.initialValue.each(initVal => {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    const onUnload = (component, repConfig, repState) => {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option$3('initialValue'),\n      output$1('manager', {\n        setValue,\n        getValue,\n        onLoad: onLoad$2,\n        onUnload,\n        state: memory$1\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted('resetOnDom', false)\n    ];\n\n    const Representing = create$3({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: (component, source) => {\n          const value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    const field = (name, forbidden) => defaultedObjOf(name, {}, map$2(forbidden, f => forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name)).concat([customField('dump', identity)]));\n    const get$3 = data => data.dump;\n    const augment = (data, original) => ({\n      ...derive$1(original),\n      ...data.dump\n    });\n    const SketchBehaviours = {\n      field,\n      augment,\n      get: get$3\n    };\n\n    const _placeholder = 'placeholder';\n    const adt$3 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    const isSubstituted = spec => has$2(spec, 'uiType');\n    const subPlaceholder = (owner, detail, compSpec, placeholders) => {\n      if (owner.exists(o => o !== compSpec.owner)) {\n        return adt$3.single(true, constant$1(compSpec));\n      }\n      return get$g(placeholders, compSpec.name).fold(() => {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, newSpec => newSpec.replace());\n    };\n    const scan = (owner, detail, compSpec, placeholders) => {\n      if (isSubstituted(compSpec) && compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$3.single(false, constant$1(compSpec));\n      }\n    };\n    const substitute = (owner, detail, compSpec, placeholders) => {\n      const base = scan(owner, detail, compSpec, placeholders);\n      return base.fold((req, valueThunk) => {\n        const value = isSubstituted(compSpec) ? valueThunk(detail, compSpec.config, compSpec.validated) : valueThunk(detail);\n        const childSpecs = get$g(value, 'components').getOr([]);\n        const substituted = bind$3(childSpecs, c => substitute(owner, detail, c, placeholders));\n        return [{\n            ...value,\n            components: substituted\n          }];\n      }, (req, valuesThunk) => {\n        if (isSubstituted(compSpec)) {\n          const values = valuesThunk(detail, compSpec.config, compSpec.validated);\n          const preprocessor = compSpec.validated.preprocess.getOr(identity);\n          return preprocessor(values);\n        } else {\n          return valuesThunk(detail);\n        }\n      });\n    };\n    const substituteAll = (owner, detail, components, placeholders) => bind$3(components, c => substitute(owner, detail, c, placeholders));\n    const oneReplace = (label, replacements) => {\n      let called = false;\n      const used = () => called;\n      const replace = () => {\n        if (called) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      const required = () => replacements.fold((req, _) => req, (req, _) => req);\n      return {\n        name: constant$1(label),\n        required,\n        used,\n        replace\n      };\n    };\n    const substitutePlaces = (owner, detail, components, placeholders) => {\n      const ps = map$1(placeholders, (ph, name) => oneReplace(name, ph));\n      const outcome = substituteAll(owner, detail, components, ps);\n      each(ps, p => {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    const single$2 = adt$3.single;\n    const multiple = adt$3.multiple;\n    const placeholder = constant$1(_placeholder);\n\n    const adt$2 = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    const fFactory = defaulted('factory', { sketch: identity });\n    const fSchema = defaulted('schema', []);\n    const fName = required$1('name');\n    const fPname = field$1('pname', 'pname', defaultedThunk(typeSpec => '<alloy.' + generate$6(typeSpec.name) + '>'), anyValue());\n    const fGroupSchema = customField('schema', () => [option$3('preprocess')]);\n    const fDefaults = defaulted('defaults', constant$1({}));\n    const fOverrides = defaulted('overrides', constant$1({}));\n    const requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    const optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      required$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    const asNamedPart = part => {\n      return part.fold(Optional.some, Optional.none, Optional.some, Optional.some);\n    };\n    const name$2 = part => {\n      const get = data => data.name;\n      return part.fold(get, get, get, get);\n    };\n    const asCommon = part => {\n      return part.fold(identity, identity, identity, identity);\n    };\n    const convert = (adtConstructor, partSchema) => spec => {\n      const data = asRawOrDie$1('Converting part type', partSchema, spec);\n      return adtConstructor(data);\n    };\n    const required = convert(adt$2.required, requiredSpec);\n    const external = convert(adt$2.external, externalSpec);\n    const optional = convert(adt$2.optional, optionalSpec);\n    const group = convert(adt$2.group, groupSpec);\n    const original = constant$1('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        required: required,\n        external: external,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$2,\n        asCommon: asCommon,\n        original: original\n    });\n\n    const combine = (detail, data, partSpec, partValidated) => deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    const subs = (owner, detail, parts) => {\n      const internals = {};\n      const externals = {};\n      each$1(parts, part => {\n        part.fold(data => {\n          internals[data.pname] = single$2(true, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          const partSpec = detail.parts[data.name];\n          externals[data.name] = constant$1(data.factory.sketch(combine(detail, data, partSpec[original()]), partSpec));\n        }, data => {\n          internals[data.pname] = single$2(false, (detail, partSpec, partValidated) => data.factory.sketch(combine(detail, data, partSpec, partValidated)));\n        }, data => {\n          internals[data.pname] = multiple(true, (detail, _partSpec, _partValidated) => {\n            const units = detail[data.name];\n            return map$2(units, u => data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u))));\n          });\n        });\n      });\n      return {\n        internals: constant$1(internals),\n        externals: constant$1(externals)\n      };\n    };\n\n    const generate$3 = (owner, parts) => {\n      const r = {};\n      each$1(parts, part => {\n        asNamedPart(part).each(np => {\n          const g = doGenerateOne(owner, np.pname);\n          r[np.name] = config => {\n            const validated = asRawOrDie$1('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return {\n              ...g,\n              config,\n              validated\n            };\n          };\n        });\n      });\n      return r;\n    };\n    const doGenerateOne = (owner, pname) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname\n    });\n    const generateOne$1 = (owner, pname, config) => ({\n      uiType: placeholder(),\n      owner,\n      name: pname,\n      config,\n      validated: {}\n    });\n    const schemas = parts => bind$3(parts, part => part.fold(Optional.none, Optional.some, Optional.none, Optional.none).map(data => requiredObjOf(data.name, data.schema.concat([snapshot(original())]))).toArray());\n    const names = parts => map$2(parts, name$2);\n    const substitutes = (owner, detail, parts) => subs(owner, detail, parts);\n    const components$1 = (owner, detail, internals) => substitutePlaces(Optional.some(owner), detail, detail.components, internals);\n    const getPart = (component, detail, partKey) => {\n      const uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOptional();\n    };\n    const getPartOrDie = (component, detail, partKey) => getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    const getParts = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    const getAllParts = (component, detail) => {\n      const system = component.getSystem();\n      return map$1(detail.partUids, (pUid, _k) => constant$1(system.getByUid(pUid)));\n    };\n    const getAllPartNames = detail => keys(detail.partUids);\n    const getPartsOrDie = (component, detail, partKeys) => {\n      const r = {};\n      const uids = detail.partUids;\n      const system = component.getSystem();\n      each$1(partKeys, pk => {\n        r[pk] = constant$1(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    const defaultUids = (baseUid, partTypes) => {\n      const partNames = names(partTypes);\n      return wrapAll(map$2(partNames, pn => ({\n        key: pn,\n        value: baseUid + '-' + pn\n      })));\n    };\n    const defaultUidsSchema = partTypes => field$1('partUids', 'partUids', mergeWithThunk(spec => defaultUids(spec.uid, partTypes)), anyValue());\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        generate: generate$3,\n        generateOne: generateOne$1,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components$1,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    const base = (partSchemas, partUidsSchemas) => {\n      const ps = partSchemas.length > 0 ? [requiredObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        required$1('uid'),\n        defaulted('dom', {}),\n        defaulted('components', []),\n        snapshot('originalSpec'),\n        defaulted('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    const asRawOrDie = (label, schema, spec, partSchemas, partUidsSchemas) => {\n      const baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie$1(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    const single$1 = (owner, schema, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const detail = asRawOrDie(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    const composite$1 = (owner, schema, partTypes, factory, spec) => {\n      const specWithUid = supplyUid(spec);\n      const partSchemas = schemas(partTypes);\n      const partUidsSchema = defaultUidsSchema(partTypes);\n      const detail = asRawOrDie(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      const subs = substitutes(owner, detail, partTypes);\n      const components = components$1(owner, detail, subs.internals());\n      return factory(detail, components, specWithUid, subs.externals());\n    };\n    const hasUid = spec => has$2(spec, 'uid');\n    const supplyUid = spec => {\n      return hasUid(spec) ? spec : {\n        ...spec,\n        uid: generate$5('uid')\n      };\n    };\n\n    const isSketchSpec = spec => {\n      return spec.uid !== undefined;\n    };\n    const singleSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const compositeSchema = objOfOnly([\n      required$1('name'),\n      required$1('factory'),\n      required$1('configFields'),\n      required$1('partFields'),\n      defaulted('apis', {}),\n      defaulted('extraApis', {})\n    ]);\n    const single = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      const sketch = spec => single$1(config.name, config.configFields, config.factory, spec);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        configFields: config.configFields,\n        sketch,\n        ...apis,\n        ...extraApis\n      };\n    };\n    const composite = rawConfig => {\n      const config = asRawOrDie$1('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      const sketch = spec => composite$1(config.name, config.configFields, config.partFields, config.factory, spec);\n      const parts = generate$3(config.name, config.partFields);\n      const apis = map$1(config.apis, makeApi);\n      const extraApis = map$1(config.extraApis, (f, k) => markAsExtraApi(f, k));\n      return {\n        name: config.name,\n        partFields: config.partFields,\n        configFields: config.configFields,\n        sketch,\n        parts,\n        ...apis,\n        ...extraApis\n      };\n    };\n\n    const inside = target => isTag('input')(target) && get$f(target, 'type') !== 'radio' || isTag('textarea')(target);\n\n    const getCurrent = (component, composeConfig, _composeState) => composeConfig.find(component);\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCurrent: getCurrent\n    });\n\n    const ComposeSchema = [required$1('find')];\n\n    const Composing = create$3({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    const nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    const onLoad$1 = (component, disableConfig, disableState) => {\n      const f = disableConfig.disabled() ? disable : enable;\n      f(component, disableConfig);\n    };\n    const hasNative = (component, config) => config.useNative === true && contains$2(nativeDisabled, name$3(component.element));\n    const nativeIsDisabled = component => has$1(component.element, 'disabled');\n    const nativeDisable = component => {\n      set$9(component.element, 'disabled', 'disabled');\n    };\n    const nativeEnable = component => {\n      remove$7(component.element, 'disabled');\n    };\n    const ariaIsDisabled = component => get$f(component.element, 'aria-disabled') === 'true';\n    const ariaDisable = component => {\n      set$9(component.element, 'aria-disabled', 'true');\n    };\n    const ariaEnable = component => {\n      set$9(component.element, 'aria-disabled', 'false');\n    };\n    const disable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        add$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    const enable = (component, disableConfig, _disableState) => {\n      disableConfig.disableClass.each(disableClass => {\n        remove$2(component.element, disableClass);\n      });\n      const f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    const isDisabled = (component, disableConfig) => hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    const set$4 = (component, disableConfig, disableState, disabled) => {\n      const f = disabled ? disable : enable;\n      f(component, disableConfig);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled,\n        onLoad: onLoad$1,\n        set: set$4\n    });\n\n    const exhibit$5 = (base, disableConfig) => nu$7({ classes: disableConfig.disabled() ? disableConfig.disableClass.toArray() : [] });\n    const events$e = (disableConfig, disableState) => derive$2([\n      abort(execute$5(), (component, _simulatedEvent) => isDisabled(component, disableConfig)),\n      loadEvent(disableConfig, disableState, onLoad$1)\n    ]);\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$5,\n        events: events$e\n    });\n\n    var DisableSchema = [\n      defaultedFunction('disabled', never),\n      defaulted('useNative', true),\n      option$3('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    const Disabling = create$3({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    const dehighlightAllExcept = (component, hConfig, hState, skip) => {\n      const highlighted = descendants(component.element, '.' + hConfig.highlightClass);\n      each$1(highlighted, h => {\n        if (!exists(skip, skipComp => skipComp.element === h)) {\n          remove$2(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(target => {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight$1());\n          });\n        }\n      });\n    };\n    const dehighlightAll = (component, hConfig, hState) => dehighlightAllExcept(component, hConfig, hState, []);\n    const dehighlight = (component, hConfig, hState, target) => {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$2(target.element, hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight$1());\n      }\n    };\n    const highlight = (component, hConfig, hState, target) => {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element, hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight$1());\n      }\n    };\n    const highlightFirst = (component, hConfig, hState) => {\n      getFirst(component, hConfig).each(firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightLast = (component, hConfig, hState) => {\n      getLast(component, hConfig).each(lastComp => {\n        highlight(component, hConfig, hState, lastComp);\n      });\n    };\n    const highlightAt = (component, hConfig, hState, index) => {\n      getByIndex(component, hConfig, hState, index).fold(err => {\n        throw err;\n      }, firstComp => {\n        highlight(component, hConfig, hState, firstComp);\n      });\n    };\n    const highlightBy = (component, hConfig, hState, predicate) => {\n      const candidates = getCandidates(component, hConfig);\n      const targetComp = find$5(candidates, predicate);\n      targetComp.each(c => {\n        highlight(component, hConfig, hState, c);\n      });\n    };\n    const isHighlighted = (component, hConfig, hState, queryTarget) => has(queryTarget.element, hConfig.highlightClass);\n    const getHighlighted = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.highlightClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getByIndex = (component, hConfig, hState, index) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return Optional.from(items[index]).fold(() => Result.error(new Error('No element found with index ' + index)), component.getSystem().getByDom);\n    };\n    const getFirst = (component, hConfig, _hState) => descendant(component.element, '.' + hConfig.itemClass).bind(e => component.getSystem().getByDom(e).toOptional());\n    const getLast = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const last = items.length > 0 ? Optional.some(items[items.length - 1]) : Optional.none();\n      return last.bind(c => component.getSystem().getByDom(c).toOptional());\n    };\n    const getDelta$2 = (component, hConfig, hState, delta) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      const current = findIndex$1(items, item => has(item, hConfig.highlightClass));\n      return current.bind(selected => {\n        const dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOptional();\n      });\n    };\n    const getPrevious = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, -1);\n    const getNext = (component, hConfig, hState) => getDelta$2(component, hConfig, hState, +1);\n    const getCandidates = (component, hConfig, _hState) => {\n      const items = descendants(component.element, '.' + hConfig.itemClass);\n      return cat(map$2(items, i => component.getSystem().getByDom(i).toOptional()));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight,\n        highlight: highlight,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      required$1('highlightClass'),\n      required$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    const Highlighting = create$3({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    const BACKSPACE = [8];\n    const TAB = [9];\n    const ENTER = [13];\n    const ESCAPE = [27];\n    const SPACE = [32];\n    const LEFT = [37];\n    const UP = [38];\n    const RIGHT = [39];\n    const DOWN = [40];\n\n    const cyclePrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      const after = reverse(values.slice(index + 1));\n      return find$5(before.concat(after), predicate);\n    };\n    const tryPrev = (values, index, predicate) => {\n      const before = reverse(values.slice(0, index));\n      return find$5(before, predicate);\n    };\n    const cycleNext = (values, index, predicate) => {\n      const before = values.slice(0, index);\n      const after = values.slice(index + 1);\n      return find$5(after.concat(before), predicate);\n    };\n    const tryNext = (values, index, predicate) => {\n      const after = values.slice(index + 1);\n      return find$5(after, predicate);\n    };\n\n    const inSet = keys => event => {\n      const raw = event.raw;\n      return contains$2(keys, raw.which);\n    };\n    const and = preds => event => forall(preds, pred => pred(event));\n    const isShift = event => {\n      const raw = event.raw;\n      return raw.shiftKey === true;\n    };\n    const isControl = event => {\n      const raw = event.raw;\n      return raw.ctrlKey === true;\n    };\n    const isNotShift = not(isShift);\n\n    const rule = (matches, action) => ({\n      matches,\n      classification: action\n    });\n    const choose = (transitions, event) => {\n      const transition = find$5(transitions, t => t.matches(event));\n      return transition.map(t => t.classification);\n    };\n\n    const reportFocusShifting = (component, prevFocus, newFocus) => {\n      const noChange = prevFocus.exists(p => newFocus.exists(n => eq(n, p)));\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus,\n          newFocus\n        });\n      }\n    };\n    const dom$2 = () => {\n      const get = component => search(component.element);\n      const set = (component, focusee) => {\n        const prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element);\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n    const highlights = () => {\n      const get = component => Highlighting.getHighlighted(component).map(item => item.element);\n      const set = (component, element) => {\n        const prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, item => {\n          Highlighting.highlight(component, item);\n        });\n        const newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    const typical = (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) => {\n      const schema = () => infoSchema.concat([\n        defaulted('focusManager', dom$2()),\n        defaultedOf('focusInside', 'onFocus', valueOf(val => contains$2([\n          'onFocus',\n          'onEnterOrSpace',\n          'onApi'\n        ], val) ? Result.value(val) : Result.error('Invalid value for focusInside'))),\n        output$1('handler', me),\n        output$1('state', stateInit),\n        output$1('sendFocusIn', optFocusIn)\n      ]);\n      const processKey = (component, simulatedEvent, getRules, keyingConfig, keyingState) => {\n        const rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose(rules, simulatedEvent.event).bind(rule => rule(component, simulatedEvent, keyingConfig, keyingState));\n      };\n      const toEvents = (keyingConfig, keyingState) => {\n        const onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Optional.none() : optFocusIn(keyingConfig).map(focusIn => run$1(focus$4(), (component, simulatedEvent) => {\n          focusIn(component, keyingConfig, keyingState);\n          simulatedEvent.stop();\n        }));\n        const tryGoInsideComponent = (component, simulatedEvent) => {\n          const isEnterOrSpace = inSet(SPACE.concat(ENTER))(simulatedEvent.event);\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(focusIn => {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        const keyboardEvents = [\n          run$1(keydown(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(() => {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, _ => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(keyup(), (component, simulatedEvent) => {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(_ => {\n              simulatedEvent.stop();\n            });\n          })\n        ];\n        return derive$2(onFocusHandler.toArray().concat(keyboardEvents));\n      };\n      const me = {\n        schema,\n        processKey,\n        toEvents\n      };\n      return me;\n    };\n\n    const create$1 = cyclicField => {\n      const schema = [\n        option$3('onEscape'),\n        option$3('onEnter'),\n        defaulted('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted('firstTabstop', 0),\n        defaulted('useTabstopAt', always),\n        option$3('visibilitySelector')\n      ].concat([cyclicField]);\n      const isVisible = (tabbingConfig, element) => {\n        const target = tabbingConfig.visibilitySelector.bind(sel => closest$1(element, sel)).getOr(element);\n        return get$d(target) > 0;\n      };\n      const findInitial = (component, tabbingConfig) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        const visibles = filter$2(tabstops, elem => isVisible(tabbingConfig, elem));\n        return Optional.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      const findCurrent = (component, tabbingConfig) => tabbingConfig.focusManager.get(component).bind(elem => closest$1(elem, tabbingConfig.selector));\n      const isTabstop = (tabbingConfig, element) => isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      const focusIn = (component, tabbingConfig, _tabbingState) => {\n        findInitial(component, tabbingConfig).each(target => {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      const goFromTabstop = (component, tabstops, stopIndex, tabbingConfig, cycle) => cycle(tabstops, stopIndex, elem => isTabstop(tabbingConfig, elem)).fold(() => tabbingConfig.cyclic ? Optional.some(true) : Optional.none(), target => {\n        tabbingConfig.focusManager.set(component, target);\n        return Optional.some(true);\n      });\n      const go = (component, _simulatedEvent, tabbingConfig, cycle) => {\n        const tabstops = descendants(component.element, tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(tabstop => {\n          const optStopIndex = findIndex$1(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(stopIndex => goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle));\n        });\n      };\n      const goBackwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const goForwards = (component, simulatedEvent, tabbingConfig) => {\n        const navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      const execute = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEnter.bind(f => f(component, simulatedEvent));\n      const exit = (component, simulatedEvent, tabbingConfig) => tabbingConfig.onEscape.bind(f => f(component, simulatedEvent));\n      const getKeydownRules = constant$1([\n        rule(and([\n          isShift,\n          inSet(TAB)\n        ]), goBackwards),\n        rule(inSet(TAB), goForwards),\n        rule(inSet(ESCAPE), exit),\n        rule(and([\n          isNotShift,\n          inSet(ENTER)\n        ]), execute)\n      ]);\n      const getKeyupRules = constant$1([]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, () => Optional.some(focusIn));\n    };\n\n    var AcyclicType = create$1(customField('cyclic', never));\n\n    var CyclicType = create$1(customField('cyclic', always));\n\n    const doDefaultExecute = (component, _simulatedEvent, focused) => {\n      dispatch(component, focused, execute$5());\n      return Optional.some(true);\n    };\n    const defaultExecute = (component, simulatedEvent, focused) => {\n      const isComplex = inside(focused) && inSet(SPACE)(simulatedEvent.event);\n      return isComplex ? Optional.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    const stopEventForFirefox = (_component, _simulatedEvent) => Optional.some(true);\n\n    const schema$v = [\n      defaulted('execute', defaultExecute),\n      defaulted('useSpace', false),\n      defaulted('useEnter', true),\n      defaulted('useControlEnter', false),\n      defaulted('useDown', false)\n    ];\n    const execute$4 = (component, simulatedEvent, executeConfig) => executeConfig.execute(component, simulatedEvent, component.element);\n    const getKeydownRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => {\n      const spaceExec = executeConfig.useSpace && !inside(component.element) ? SPACE : [];\n      const enterExec = executeConfig.useEnter ? ENTER : [];\n      const downExec = executeConfig.useDown ? DOWN : [];\n      const execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$4)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER)\n        ]), execute$4)] : []);\n    };\n    const getKeyupRules$5 = (component, _simulatedEvent, executeConfig, _executeState) => executeConfig.useSpace && !inside(component.element) ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var ExecutionType = typical(schema$v, NoState.init, getKeydownRules$5, getKeyupRules$5, () => Optional.none());\n\n    const flatgrid$1 = () => {\n      const dimensions = value$2();\n      const setGridSize = (numRows, numColumns) => {\n        dimensions.set({\n          numRows,\n          numColumns\n        });\n      };\n      const getNumRows = () => dimensions.get().map(d => d.numRows);\n      const getNumColumns = () => dimensions.get().map(d => d.numColumns);\n      return nu$8({\n        readState: () => dimensions.get().map(d => ({\n          numRows: String(d.numRows),\n          numColumns: String(d.numColumns)\n        })).getOr({\n          numRows: '?',\n          numColumns: '?'\n        }),\n        setGridSize,\n        getNumRows,\n        getNumColumns\n      });\n    };\n    const init$d = spec => spec.state(spec);\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        flatgrid: flatgrid$1,\n        init: init$d\n    });\n\n    const useH = movement => (component, simulatedEvent, config, state) => {\n      const move = movement(component.element);\n      return use(move, component, simulatedEvent, config, state);\n    };\n    const west$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    const east$1 = (moveLeft, moveRight) => {\n      const movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    const useV = move => (component, simulatedEvent, config, state) => use(move, component, simulatedEvent, config, state);\n    const use = (move, component, simulatedEvent, config, state) => {\n      const outcome = config.focusManager.get(component).bind(focused => move(component.element, focused, config, state));\n      return outcome.map(newFocus => {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    const north$1 = useV;\n    const south$1 = useV;\n    const move$1 = useV;\n\n    const isHidden$1 = dom => dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    const isVisible = element => !isHidden$1(element.dom);\n\n    const locate = (candidates, predicate) => findIndex$1(candidates, predicate).map(index => ({\n      index,\n      candidates\n    }));\n\n    const locateVisible = (container, current, selector) => {\n      const predicate = x => eq(x, current);\n      const candidates = descendants(container, selector);\n      const visible = filter$2(candidates, isVisible);\n      return locate(visible, predicate);\n    };\n    const findIndex = (elements, target) => findIndex$1(elements, elem => eq(target, elem));\n\n    const withGrid = (values, index, numCols, f) => {\n      const oldRow = Math.floor(index / numCols);\n      const oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(address => {\n        const newIndex = address.row * numCols + address.column;\n        return newIndex >= 0 && newIndex < values.length ? Optional.some(values[newIndex]) : Optional.none();\n      });\n    };\n    const cycleHorizontal$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const onLastRow = oldRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n      const newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n      return Optional.some({\n        row: oldRow,\n        column: newColumn\n      });\n    });\n    const cycleVertical$1 = (values, index, numRows, numCols, delta) => withGrid(values, index, numCols, (oldRow, oldColumn) => {\n      const newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n      const onLastRow = newRow === numRows - 1;\n      const colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n      const newCol = clamp(oldColumn, 0, colsInRow - 1);\n      return Optional.some({\n        row: newRow,\n        column: newCol\n      });\n    });\n    const cycleRight$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, +1);\n    const cycleLeft$1 = (values, index, numRows, numCols) => cycleHorizontal$1(values, index, numRows, numCols, -1);\n    const cycleUp$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, -1);\n    const cycleDown$1 = (values, index, numRows, numCols) => cycleVertical$1(values, index, numRows, numCols, +1);\n\n    const schema$u = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('captureTab', false),\n      initSize()\n    ];\n    const focusIn$3 = (component, gridConfig, _gridState) => {\n      descendant(component.element, gridConfig.selector).each(first => {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    const findCurrent$1 = (component, gridConfig) => gridConfig.focusManager.get(component).bind(elem => closest$1(elem, gridConfig.selector));\n    const execute$3 = (component, simulatedEvent, gridConfig, _gridState) => findCurrent$1(component, gridConfig).bind(focused => gridConfig.execute(component, simulatedEvent, focused));\n    const doMove$2 = cycle => (element, focused, gridConfig, gridState) => locateVisible(element, focused, gridConfig.selector).bind(identified => cycle(identified.candidates, identified.index, gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns)));\n    const handleTab = (_component, _simulatedEvent, gridConfig) => gridConfig.captureTab ? Optional.some(true) : Optional.none();\n    const doEscape$1 = (component, simulatedEvent, gridConfig) => gridConfig.onEscape(component, simulatedEvent);\n    const moveLeft$3 = doMove$2(cycleLeft$1);\n    const moveRight$3 = doMove$2(cycleRight$1);\n    const moveNorth$1 = doMove$2(cycleUp$1);\n    const moveSouth$1 = doMove$2(cycleDown$1);\n    const getKeydownRules$4 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT), east$1(moveLeft$3, moveRight$3)),\n      rule(inSet(UP), north$1(moveNorth$1)),\n      rule(inSet(DOWN), south$1(moveSouth$1)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), handleTab),\n      rule(inSet(ESCAPE), doEscape$1),\n      rule(inSet(SPACE.concat(ENTER)), execute$3)\n    ]);\n    const getKeyupRules$4 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlatgridType = typical(schema$u, flatgrid$1, getKeydownRules$4, getKeyupRules$4, () => Optional.some(focusIn$3));\n\n    const horizontal = (container, selector, current, delta) => {\n      const isDisabledButton = candidate => name$3(candidate) === 'button' && get$f(candidate, 'disabled') === 'disabled';\n      const tryCycle = (initial, index, candidates) => {\n        const newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Optional.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Optional.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(identified => {\n        const index = identified.index;\n        const candidates = identified.candidates;\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    const schema$t = [\n      required$1('selector'),\n      defaulted('getInitial', Optional.none),\n      defaulted('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted('executeOnMove', false),\n      defaulted('allowVertical', true)\n    ];\n    const findCurrent = (component, flowConfig) => flowConfig.focusManager.get(component).bind(elem => closest$1(elem, flowConfig.selector));\n    const execute$2 = (component, simulatedEvent, flowConfig) => findCurrent(component, flowConfig).bind(focused => flowConfig.execute(component, simulatedEvent, focused));\n    const focusIn$2 = (component, flowConfig, _state) => {\n      flowConfig.getInitial(component).orThunk(() => descendant(component.element, flowConfig.selector)).each(first => {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    const moveLeft$2 = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveRight$2 = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const doMove$1 = movement => (component, simulatedEvent, flowConfig, flowState) => movement(component, simulatedEvent, flowConfig, flowState).bind(() => flowConfig.executeOnMove ? execute$2(component, simulatedEvent, flowConfig) : Optional.some(true));\n    const doEscape = (component, simulatedEvent, flowConfig) => flowConfig.onEscape(component, simulatedEvent);\n    const getKeydownRules$3 = (_component, _se, flowConfig, _flowState) => {\n      const westMovers = LEFT.concat(flowConfig.allowVertical ? UP : []);\n      const eastMovers = RIGHT.concat(flowConfig.allowVertical ? DOWN : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$1(moveLeft$2, moveRight$2))),\n        rule(inSet(eastMovers), doMove$1(east$1(moveLeft$2, moveRight$2))),\n        rule(inSet(ENTER), execute$2),\n        rule(inSet(SPACE), execute$2),\n        rule(inSet(ESCAPE), doEscape)\n      ];\n    };\n    const getKeyupRules$3 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var FlowType = typical(schema$t, NoState.init, getKeydownRules$3, getKeyupRules$3, () => Optional.some(focusIn$2));\n\n    const toCell = (matrix, rowIndex, columnIndex) => Optional.from(matrix[rowIndex]).bind(row => Optional.from(row[columnIndex]).map(cell => ({\n      rowIndex,\n      columnIndex,\n      cell\n    })));\n    const cycleHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const cycleVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const moveHorizontal = (matrix, rowIndex, startCol, deltaCol) => {\n      const row = matrix[rowIndex];\n      const colsInRow = row.length;\n      const newColIndex = clamp(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    const moveVertical = (matrix, colIndex, startRow, deltaRow) => {\n      const nextRowIndex = clamp(startRow + deltaRow, 0, matrix.length - 1);\n      const colsInNextRow = matrix[nextRowIndex].length;\n      const nextColIndex = clamp(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    const cycleRight = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, +1);\n    const cycleLeft = (matrix, startRow, startCol) => cycleHorizontal(matrix, startRow, startCol, -1);\n    const cycleUp = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, -1);\n    const cycleDown = (matrix, startRow, startCol) => cycleVertical(matrix, startCol, startRow, +1);\n    const moveLeft$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, -1);\n    const moveRight$1 = (matrix, startRow, startCol) => moveHorizontal(matrix, startRow, startCol, +1);\n    const moveUp$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, -1);\n    const moveDown$1 = (matrix, startRow, startCol) => moveVertical(matrix, startCol, startRow, +1);\n\n    const schema$s = [\n      requiredObjOf('selectors', [\n        required$1('row'),\n        required$1('cell')\n      ]),\n      defaulted('cycles', true),\n      defaulted('previousSelector', Optional.none),\n      defaulted('execute', defaultExecute)\n    ];\n    const focusIn$1 = (component, matrixConfig, _state) => {\n      const focused = matrixConfig.previousSelector(component).orThunk(() => {\n        const selectors = matrixConfig.selectors;\n        return descendant(component.element, selectors.cell);\n      });\n      focused.each(cell => {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    const execute$1 = (component, simulatedEvent, matrixConfig) => search(component.element).bind(focused => matrixConfig.execute(component, simulatedEvent, focused));\n    const toMatrix = (rows, matrixConfig) => map$2(rows, row => descendants(row, matrixConfig.selectors.cell));\n    const doMove = (ifCycle, ifMove) => (element, focused, matrixConfig) => {\n      const move = matrixConfig.cycles ? ifCycle : ifMove;\n      return closest$1(focused, matrixConfig.selectors.row).bind(inRow => {\n        const cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n        return findIndex(cellsInRow, focused).bind(colIndex => {\n          const allRows = descendants(element, matrixConfig.selectors.row);\n          return findIndex(allRows, inRow).bind(rowIndex => {\n            const matrix = toMatrix(allRows, matrixConfig);\n            return move(matrix, rowIndex, colIndex).map(next => next.cell);\n          });\n        });\n      });\n    };\n    const moveLeft = doMove(cycleLeft, moveLeft$1);\n    const moveRight = doMove(cycleRight, moveRight$1);\n    const moveNorth = doMove(cycleUp, moveUp$1);\n    const moveSouth = doMove(cycleDown, moveDown$1);\n    const getKeydownRules$2 = constant$1([\n      rule(inSet(LEFT), west$1(moveLeft, moveRight)),\n      rule(inSet(RIGHT), east$1(moveLeft, moveRight)),\n      rule(inSet(UP), north$1(moveNorth)),\n      rule(inSet(DOWN), south$1(moveSouth)),\n      rule(inSet(SPACE.concat(ENTER)), execute$1)\n    ]);\n    const getKeyupRules$2 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MatrixType = typical(schema$s, NoState.init, getKeydownRules$2, getKeyupRules$2, () => Optional.some(focusIn$1));\n\n    const schema$r = [\n      required$1('selector'),\n      defaulted('execute', defaultExecute),\n      defaulted('moveOnTab', false)\n    ];\n    const execute = (component, simulatedEvent, menuConfig) => menuConfig.focusManager.get(component).bind(focused => menuConfig.execute(component, simulatedEvent, focused));\n    const focusIn = (component, menuConfig, _state) => {\n      descendant(component.element, menuConfig.selector).each(first => {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    const moveUp = (element, focused, info) => horizontal(element, info.selector, focused, -1);\n    const moveDown = (element, focused, info) => horizontal(element, info.selector, focused, +1);\n    const fireShiftTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveUp)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const fireTab = (component, simulatedEvent, menuConfig, menuState) => menuConfig.moveOnTab ? move$1(moveDown)(component, simulatedEvent, menuConfig, menuState) : Optional.none();\n    const getKeydownRules$1 = constant$1([\n      rule(inSet(UP), move$1(moveUp)),\n      rule(inSet(DOWN), move$1(moveDown)),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), fireTab),\n      rule(inSet(ENTER), execute),\n      rule(inSet(SPACE), execute)\n    ]);\n    const getKeyupRules$1 = constant$1([rule(inSet(SPACE), stopEventForFirefox)]);\n    var MenuType = typical(schema$r, NoState.init, getKeydownRules$1, getKeyupRules$1, () => Optional.some(focusIn));\n\n    const schema$q = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted('stopSpaceKeyup', false),\n      option$3('focusIn')\n    ];\n    const getKeydownRules = (component, simulatedEvent, specialInfo) => [\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(and([\n        isNotShift,\n        inSet(ENTER)\n      ]), specialInfo.onEnter),\n      rule(and([\n        isShift,\n        inSet(ENTER)\n      ]), specialInfo.onShiftEnter),\n      rule(and([\n        isShift,\n        inSet(TAB)\n      ]), specialInfo.onShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB)\n      ]), specialInfo.onTab),\n      rule(inSet(UP), specialInfo.onUp),\n      rule(inSet(DOWN), specialInfo.onDown),\n      rule(inSet(LEFT), specialInfo.onLeft),\n      rule(inSet(RIGHT), specialInfo.onRight),\n      rule(inSet(SPACE), specialInfo.onSpace),\n      rule(inSet(ESCAPE), specialInfo.onEscape)\n    ];\n    const getKeyupRules = (component, simulatedEvent, specialInfo) => specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE), stopEventForFirefox)] : [];\n    var SpecialType = typical(schema$q, NoState.init, getKeydownRules, getKeyupRules, specialInfo => specialInfo.focusIn);\n\n    const acyclic = AcyclicType.schema();\n    const cyclic = CyclicType.schema();\n    const flow = FlowType.schema();\n    const flatgrid = FlatgridType.schema();\n    const matrix = MatrixType.schema();\n    const execution = ExecutionType.schema();\n    const menu = MenuType.schema();\n    const special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    const isFlatgridState = keyState => hasNonNullableKey(keyState, 'setGridSize');\n    const Keying = createModes({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: (keyingConfig, keyingState) => {\n          const handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: (component, keyConfig, keyState) => {\n          keyConfig.sendFocusIn(keyConfig).fold(() => {\n            component.getSystem().triggerFocus(component.element, component.element);\n          }, sendFocusIn => {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: (component, keyConfig, keyState, numRows, numColumns) => {\n          if (!isFlatgridState(keyState)) {\n            console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    const withoutReuse = (parent, data) => {\n      preserve$1(() => {\n        replaceChildren(parent, data, () => map$2(data, parent.getSystem().build));\n      }, parent.element);\n    };\n    const withReuse = (parent, data) => {\n      preserve$1(() => {\n        virtualReplaceChildren(parent, data, () => {\n          return patchSpecChildren(parent.element, data, parent.getSystem().buildOrPatch);\n        });\n      }, parent.element);\n    };\n\n    const virtualReplace = (component, replacee, replaceeIndex, childSpec) => {\n      virtualDetach(replacee);\n      const child = patchSpecChild(component.element, replaceeIndex, childSpec, component.getSystem().buildOrPatch);\n      virtualAttach(component, child);\n      component.syncComponents();\n    };\n    const insert = (component, insertion, childSpec) => {\n      const child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    const replace = (component, replacee, replaceeIndex, childSpec) => {\n      detach(replacee);\n      insert(component, (p, c) => appendAt(p, c, replaceeIndex), childSpec);\n    };\n    const set$3 = (component, replaceConfig, replaceState, data) => {\n      const replacer = replaceConfig.reuseDom ? withReuse : withoutReuse;\n      return replacer(component, data);\n    };\n    const append = (component, replaceConfig, replaceState, appendee) => {\n      insert(component, append$2, appendee);\n    };\n    const prepend = (component, replaceConfig, replaceState, prependee) => {\n      insert(component, prepend$1, prependee);\n    };\n    const remove = (component, replaceConfig, replaceState, removee) => {\n      const children = contents(component);\n      const foundChild = find$5(children, child => eq(removee.element, child.element));\n      foundChild.each(detach);\n    };\n    const contents = (component, _replaceConfig) => component.components();\n    const replaceAt = (component, replaceConfig, replaceState, replaceeIndex, replacer) => {\n      const children = contents(component);\n      return Optional.from(children[replaceeIndex]).map(replacee => {\n        replacer.fold(() => detach(replacee), r => {\n          const replacer = replaceConfig.reuseDom ? virtualReplace : replace;\n          replacer(component, replacee, replaceeIndex, r);\n        });\n        return replacee;\n      });\n    };\n    const replaceBy = (component, replaceConfig, replaceState, replaceePred, replacer) => {\n      const children = contents(component);\n      return findIndex$1(children, replaceePred).bind(replaceeIndex => replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer));\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        append: append,\n        prepend: prepend,\n        remove: remove,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$3,\n        contents: contents\n    });\n\n    const Replacing = create$3({\n      fields: [defaultedBoolean('reuseDom', true)],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    const events$d = (name, eventHandlers) => {\n      const events = derive$2(eventHandlers);\n      return create$3({\n        fields: [required$1('enabled')],\n        name,\n        active: { events: constant$1(events) }\n      });\n    };\n    const config = (name, eventHandlers) => {\n      const me = events$d(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me,\n          configAsRaw: constant$1({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    const focus$2 = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        focus$3(component.element);\n        focusConfig.onFocus(component);\n      }\n    };\n    const blur = (component, focusConfig) => {\n      if (!focusConfig.ignore) {\n        blur$1(component.element);\n      }\n    };\n    const isFocused = component => hasFocus(component.element);\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        focus: focus$2,\n        blur: blur,\n        isFocused: isFocused\n    });\n\n    const exhibit$4 = (base, focusConfig) => {\n      const mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$7(mod);\n    };\n    const events$c = focusConfig => derive$2([run$1(focus$4(), (component, simulatedEvent) => {\n        focus$2(component, focusConfig);\n        simulatedEvent.stop();\n      })].concat(focusConfig.stopMousedown ? [run$1(mousedown(), (_, simulatedEvent) => {\n        simulatedEvent.event.prevent();\n      })] : []));\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$4,\n        events: events$c\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted('stopMousedown', false),\n      defaulted('ignore', false)\n    ];\n\n    const Focusing = create$3({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    const SetupBehaviourCellState = initialState => {\n      const init = () => {\n        const cell = Cell(initialState);\n        const get = () => cell.get();\n        const set = newState => cell.set(newState);\n        const clear = () => cell.set(initialState);\n        const readState = () => cell.get();\n        return {\n          get,\n          set,\n          clear,\n          readState\n        };\n      };\n      return { init };\n    };\n\n    const updateAriaState = (component, toggleConfig, toggleState) => {\n      const ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    const updateClass = (component, toggleConfig, toggleState) => {\n      toggleConfig.toggleClass.each(toggleClass => {\n        if (toggleState.get()) {\n          add$2(component.element, toggleClass);\n        } else {\n          remove$2(component.element, toggleClass);\n        }\n      });\n    };\n    const toggle$2 = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    const on = (component, toggleConfig, toggleState) => {\n      toggleState.set(true);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    const off = (component, toggleConfig, toggleState) => {\n      toggleState.set(false);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    const set$2 = (component, toggleConfig, toggleState, state) => {\n      const action = state ? on : off;\n      action(component, toggleConfig, toggleState);\n    };\n    const isOn = (component, toggleConfig, toggleState) => toggleState.get();\n    const onLoad = (component, toggleConfig, toggleState) => {\n      set$2(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        onLoad: onLoad,\n        toggle: toggle$2,\n        isOn: isOn,\n        on: on,\n        off: off,\n        set: set$2\n    });\n\n    const exhibit$3 = () => nu$7({});\n    const events$b = (toggleConfig, toggleState) => {\n      const execute = executeEvent(toggleConfig, toggleState, toggle$2);\n      const load = loadEvent(toggleConfig, toggleState, onLoad);\n      return derive$2(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$3,\n        events: events$b\n    });\n\n    const updatePressed = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    const updateSelected = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-selected', status);\n    };\n    const updateChecked = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-checked', status);\n    };\n    const updateExpanded = (component, ariaInfo, status) => {\n      set$9(component.element, 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted('selected', false),\n      option$3('toggleClass'),\n      defaulted('toggleOnExecute', true),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted('syncWithExpanded', false),\n          output$1('update', updatePressed)\n        ],\n        checked: [output$1('update', updateChecked)],\n        expanded: [output$1('update', updateExpanded)],\n        selected: [output$1('update', updateSelected)],\n        none: [output$1('update', noop)]\n      }))\n    ];\n\n    const Toggling = create$3({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    const pointerEvents = () => {\n      const onClick = (component, simulatedEvent) => {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      return [\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        cutter(touchstart()),\n        cutter(mousedown())\n      ];\n    };\n    const events$a = optAction => {\n      const executeHandler = action => runOnExecute$1((component, simulatedEvent) => {\n        action(component);\n        simulatedEvent.stop();\n      });\n      return derive$2(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents()\n      ]));\n    };\n\n    const hoverEvent = 'alloy.item-hover';\n    const focusEvent = 'alloy.item-focus';\n    const onHover = item => {\n      if (search(item.element).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item });\n      }\n    };\n    const onFocus$1 = item => {\n      emitWith(item, focusEvent, { item });\n    };\n    const hover = constant$1(hoverEvent);\n    const focus$1 = constant$1(focusEvent);\n\n    const builder$2 = detail => ({\n      dom: detail.dom,\n      domModification: {\n        ...detail.domModification,\n        attributes: {\n          'role': detail.toggling.isSome() ? 'menuitemcheckbox' : 'menuitem',\n          ...detail.domModification.attributes,\n          'aria-haspopup': detail.hasSubmenu,\n          ...detail.hasSubmenu ? { 'aria-expanded': false } : {}\n        }\n      },\n      behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n        detail.toggling.fold(Toggling.revoke, tConfig => Toggling.config({\n          aria: { mode: 'checked' },\n          ...tConfig\n        })),\n        Focusing.config({\n          ignore: detail.ignoreFocus,\n          stopMousedown: detail.ignoreFocus,\n          onFocus: component => {\n            onFocus$1(component);\n          }\n        }),\n        Keying.config({ mode: 'execution' }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.data\n          }\n        }),\n        config('item-type-events', [\n          ...pointerEvents(),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), Focusing.focus)\n        ])\n      ]),\n      components: detail.components,\n      eventOrder: detail.eventOrder\n    });\n    const schema$p = [\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('hasSubmenu', false),\n      option$3('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted('ignoreFocus', false),\n      defaulted('domModification', {}),\n      output$1('builder', builder$2),\n      defaulted('eventOrder', {})\n    ];\n\n    const builder$1 = detail => ({\n      dom: detail.dom,\n      components: detail.components,\n      events: derive$2([stopper(focusItem())])\n    });\n    const schema$o = [\n      required$1('dom'),\n      required$1('components'),\n      output$1('builder', builder$1)\n    ];\n\n    const owner$2 = constant$1('item-widget');\n    const parts$h = constant$1([required({\n        name: 'widget',\n        overrides: detail => {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: _component => {\n                    return detail.data;\n                  },\n                  setValue: noop\n                }\n              })])\n          };\n        }\n      })]);\n\n    const builder = detail => {\n      const subs = substitutes(owner$2(), detail, parts$h());\n      const components = components$1(owner$2(), detail, subs.internals());\n      const focusWidget = component => getPart(component, detail, 'widget').map(widget => {\n        Keying.focusIn(widget);\n        return widget;\n      });\n      const onHorizontalArrow = (component, simulatedEvent) => inside(simulatedEvent.event.target) ? Optional.none() : (() => {\n        if (detail.autofocus) {\n          simulatedEvent.setSource(component.element);\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      })();\n      return {\n        dom: detail.dom,\n        components,\n        domModification: detail.domModification,\n        events: derive$2([\n          runOnExecute$1((component, simulatedEvent) => {\n            focusWidget(component).each(_widget => {\n              simulatedEvent.stop();\n            });\n          }),\n          run$1(mouseover(), onHover),\n          run$1(focusItem(), (component, _simulatedEvent) => {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: component => {\n              onFocus$1(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? component => {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: (component, simulatedEvent) => {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Optional.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element);\n                return Optional.none();\n              } else {\n                return Optional.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    const schema$n = [\n      required$1('uid'),\n      required$1('data'),\n      required$1('components'),\n      required$1('dom'),\n      defaulted('autofocus', false),\n      defaulted('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted('domModification', {}),\n      defaultUidsSchema(parts$h()),\n      output$1('builder', builder)\n    ];\n\n    const itemSchema$2 = choose$1('type', {\n      widget: schema$n,\n      item: schema$p,\n      separator: schema$o\n    });\n    const configureGrid = (detail, movementInfo) => ({\n      mode: 'flatgrid',\n      selector: '.' + detail.markers.item,\n      initSize: {\n        numColumns: movementInfo.initSize.numColumns,\n        numRows: movementInfo.initSize.numRows\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMatrix = (detail, movementInfo) => ({\n      mode: 'matrix',\n      selectors: {\n        row: movementInfo.rowSelector,\n        cell: '.' + detail.markers.item\n      },\n      focusManager: detail.focusManager\n    });\n    const configureMenu = (detail, movementInfo) => ({\n      mode: 'menu',\n      selector: '.' + detail.markers.item,\n      moveOnTab: movementInfo.moveOnTab,\n      focusManager: detail.focusManager\n    });\n    const parts$g = constant$1([group({\n        factory: {\n          sketch: spec => {\n            const itemInfo = asRawOrDie$1('menu.spec item', itemSchema$2, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: (detail, u) => {\n          return has$2(u, 'uid') ? u : {\n            ...u,\n            uid: generate$5('item')\n          };\n        },\n        overrides: (detail, u) => {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    const schema$m = constant$1([\n      required$1('value'),\n      required$1('items'),\n      required$1('dom'),\n      required$1('components'),\n      defaulted('eventOrder', {}),\n      field('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output$1('config', configureGrid)\n        ],\n        matrix: [\n          output$1('config', configureMatrix),\n          required$1('rowSelector')\n        ],\n        menu: [\n          defaulted('moveOnTab', true),\n          output$1('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted('fakeFocus', false),\n      defaulted('focusManager', dom$2()),\n      onHandler('onHighlight')\n    ]);\n\n    const focus = constant$1('alloy.menu-focus');\n\n    const make$7 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      markers: detail.markers,\n      behaviours: augment(detail.menuBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedItem,\n          itemClass: detail.markers.item,\n          onHighlight: detail.onHighlight\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        }),\n        Composing.config({ find: Optional.some }),\n        Keying.config(detail.movement.config(detail, detail.movement))\n      ]),\n      events: derive$2([\n        run$1(focus$1(), (menu, simulatedEvent) => {\n          const event = simulatedEvent.event;\n          menu.getSystem().getByDom(event.target).each(item => {\n            Highlighting.highlight(menu, item);\n            simulatedEvent.stop();\n            emitWith(menu, focus(), {\n              menu,\n              item\n            });\n          });\n        }),\n        run$1(hover(), (menu, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          Highlighting.highlight(menu, item);\n        })\n      ]),\n      components,\n      eventOrder: detail.eventOrder,\n      domModification: { attributes: { role: 'menu' } }\n    });\n\n    const Menu = composite({\n      name: 'Menu',\n      configFields: schema$m(),\n      partFields: parts$g(),\n      factory: make$7\n    });\n\n    const transpose$1 = obj => tupleMap(obj, (v, k) => ({\n      k: v,\n      v: k\n    }));\n    const trace = (items, byItem, byMenu, finish) => get$g(byMenu, finish).bind(triggerItem => get$g(items, triggerItem).bind(triggerMenu => {\n      const rest = trace(items, byItem, byMenu, triggerMenu);\n      return Optional.some([triggerMenu].concat(rest));\n    })).getOr([]);\n    const generate$2 = (menus, expansions) => {\n      const items = {};\n      each(menus, (menuItems, menu) => {\n        each$1(menuItems, item => {\n          items[item] = menu;\n        });\n      });\n      const byItem = expansions;\n      const byMenu = transpose$1(expansions);\n      const menuPaths = map$1(byMenu, (_triggerItem, submenu) => [submenu].concat(trace(items, byItem, byMenu, submenu)));\n      return map$1(items, menu => get$g(menuPaths, menu).getOr([menu]));\n    };\n\n    const init$c = () => {\n      const expansions = Cell({});\n      const menus = Cell({});\n      const paths = Cell({});\n      const primary = value$2();\n      const directory = Cell({});\n      const clear = () => {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.clear();\n      };\n      const isClear = () => primary.get().isNone();\n      const setMenuBuilt = (menuName, built) => {\n        menus.set({\n          ...menus.get(),\n          [menuName]: {\n            type: 'prepared',\n            menu: built\n          }\n        });\n      };\n      const setContents = (sPrimary, sMenus, sExpansions, dir) => {\n        primary.set(sPrimary);\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        const sPaths = generate$2(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      const getTriggeringItem = menuValue => find$4(expansions.get(), (v, _k) => v === menuValue);\n      const getTriggerData = (menuValue, getItemByValue, path) => getPreparedMenu(menuValue).bind(menu => getTriggeringItem(menuValue).bind(triggeringItemValue => getItemByValue(triggeringItemValue).map(triggeredItem => ({\n        triggeredMenu: menu,\n        triggeringItem: triggeredItem,\n        triggeringPath: path\n      }))));\n      const getTriggeringPath = (itemValue, getItemByValue) => {\n        const extraPath = filter$2(lookupItem(itemValue).toArray(), menuValue => getPreparedMenu(menuValue).isSome());\n        return get$g(paths.get(), itemValue).bind(path => {\n          const revPath = reverse(extraPath.concat(path));\n          const triggers = bind$3(revPath, (menuValue, menuIndex) => getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(() => is$1(primary.get(), menuValue) ? [] : [Optional.none()], data => [Optional.some(data)]));\n          return sequence(triggers);\n        });\n      };\n      const expand = itemValue => get$g(expansions.get(), itemValue).map(menu => {\n        const current = get$g(paths.get(), itemValue).getOr([]);\n        return [menu].concat(current);\n      });\n      const collapse = itemValue => get$g(paths.get(), itemValue).bind(path => path.length > 1 ? Optional.some(path.slice(1)) : Optional.none());\n      const refresh = itemValue => get$g(paths.get(), itemValue);\n      const getPreparedMenu = menuValue => lookupMenu(menuValue).bind(extractPreparedMenu);\n      const lookupMenu = menuValue => get$g(menus.get(), menuValue);\n      const lookupItem = itemValue => get$g(expansions.get(), itemValue);\n      const otherMenus = path => {\n        const menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      const getPrimary = () => primary.get().bind(getPreparedMenu);\n      const getMenus = () => menus.get();\n      return {\n        setMenuBuilt,\n        setContents,\n        expand,\n        refresh,\n        collapse,\n        lookupMenu,\n        lookupItem,\n        otherMenus,\n        getPrimary,\n        getMenus,\n        clear,\n        isClear,\n        getTriggeringPath\n      };\n    };\n    const extractPreparedMenu = prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none();\n    const LayeredState = {\n      init: init$c,\n      extractPreparedMenu\n    };\n\n    const make$6 = (detail, _rawUiSpec) => {\n      const submenuParentItems = value$2();\n      const buildMenus = (container, primaryName, menus) => map$1(menus, (spec, name) => {\n        const makeSketch = () => Menu.sketch({\n          ...spec,\n          value: name,\n          markers: detail.markers,\n          fakeFocus: detail.fakeFocus,\n          onHighlight: detail.onHighlight,\n          focusManager: detail.fakeFocus ? highlights() : dom$2()\n        });\n        return name === primaryName ? {\n          type: 'prepared',\n          menu: container.getSystem().build(makeSketch())\n        } : {\n          type: 'notbuilt',\n          nbMenu: makeSketch\n        };\n      });\n      const layeredState = LayeredState.init();\n      const setup = container => {\n        const componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        const directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      const getItemValue = item => Representing.getValue(item).value;\n      const getItemByValue = (_container, menus, itemValue) => findMap(menus, menu => {\n        if (!menu.getSystem().isConnected()) {\n          return Optional.none();\n        }\n        const candidates = Highlighting.getCandidates(menu);\n        return find$5(candidates, c => getItemValue(c) === itemValue);\n      });\n      const toDirectory = _container => map$1(detail.data.menus, (data, _menuName) => bind$3(data.items, item => item.type === 'separator' ? [] : [item.data.value]));\n      const setActiveMenu = (container, menu) => {\n        Highlighting.highlight(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(() => Highlighting.getFirst(menu)).each(item => {\n          dispatch(container, item.element, focusItem());\n        });\n      };\n      const getMenus = (state, menuValues) => cat(map$2(menuValues, mv => state.lookupMenu(mv).bind(prep => prep.type === 'prepared' ? Optional.some(prep.menu) : Optional.none())));\n      const closeOthers = (container, state, path) => {\n        const others = getMenus(state, state.otherMenus(path));\n        each$1(others, o => {\n          remove$1(o.element, [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      const getSubmenuParents = container => submenuParentItems.get().getOrThunk(() => {\n        const r = {};\n        const items = descendants(container.element, `.${ detail.markers.item }`);\n        const parentItems = filter$2(items, i => get$f(i, 'aria-haspopup') === 'true');\n        each$1(parentItems, i => {\n          container.getSystem().getByDom(i).each(itemComp => {\n            const key = getItemValue(itemComp);\n            r[key] = itemComp;\n          });\n        });\n        submenuParentItems.set(r);\n        return r;\n      });\n      const updateAriaExpansions = (container, path) => {\n        const parentItems = getSubmenuParents(container);\n        each(parentItems, (v, k) => {\n          const expanded = contains$2(path, k);\n          set$9(v.element, 'aria-expanded', expanded);\n        });\n      };\n      const updateMenuPath = (container, state, path) => Optional.from(path[0]).bind(latestMenuName => state.lookupMenu(latestMenuName).bind(menuPrep => {\n        if (menuPrep.type === 'notbuilt') {\n          return Optional.none();\n        } else {\n          const activeMenu = menuPrep.menu;\n          const rest = getMenus(state, path.slice(1));\n          each$1(rest, r => {\n            add$2(r.element, detail.markers.backgroundMenu);\n          });\n          if (!inBody(activeMenu.element)) {\n            Replacing.append(container, premade(activeMenu));\n          }\n          remove$1(activeMenu.element, [detail.markers.backgroundMenu]);\n          setActiveMenu(container, activeMenu);\n          closeOthers(container, state, path);\n          return Optional.some(activeMenu);\n        }\n      }));\n      let ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      const buildIfRequired = (container, menuName, menuPrep) => {\n        if (menuPrep.type === 'notbuilt') {\n          const menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      const expandRight = (container, item, decision = ExpandHighlightDecision.HighlightSubmenu) => {\n        if (item.hasConfigured(Disabling) && Disabling.isDisabled(item)) {\n          return Optional.some(item);\n        } else {\n          const value = getItemValue(item);\n          return layeredState.expand(value).bind(path => {\n            updateAriaExpansions(container, path);\n            return Optional.from(path[0]).bind(menuName => layeredState.lookupMenu(menuName).bind(activeMenuPrep => {\n              const activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element)) {\n                Replacing.append(container, premade(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Optional.some(item);\n              }\n            }));\n          });\n        }\n      };\n      const collapseLeft = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.collapse(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(activeMenu => {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      const updateView = (container, item) => {\n        const value = getItemValue(item);\n        return layeredState.refresh(value).bind(path => {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      const onRight = (container, item) => inside(item.element) ? Optional.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      const onLeft = (container, item) => inside(item.element) ? Optional.none() : collapseLeft(container, item);\n      const onEscape = (container, item) => collapseLeft(container, item).orThunk(() => detail.onEscape(container, item).map(() => container));\n      const keyOnItem = f => (container, simulatedEvent) => closest$1(simulatedEvent.getSource(), '.' + detail.markers.item).bind(target => container.getSystem().getByDom(target).toOptional().bind(item => f(container, item).map(always)));\n      const events = derive$2([\n        run$1(focus(), (sandbox, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          layeredState.lookupItem(getItemValue(item)).each(() => {\n            const menu = simulatedEvent.event.menu;\n            Highlighting.highlight(sandbox, menu);\n            const value = getItemValue(simulatedEvent.event.item);\n            layeredState.refresh(value).each(path => closeOthers(sandbox, layeredState, path));\n          });\n        }),\n        runOnExecute$1((component, simulatedEvent) => {\n          const target = simulatedEvent.event.target;\n          component.getSystem().getByDom(target).each(item => {\n            const itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(() => {\n              detail.onExecute(component, item);\n            }, noop);\n          });\n        }),\n        runOnAttached((container, _simulatedEvent) => {\n          setup(container).each(primary => {\n            Replacing.append(container, premade(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightImmediately) {\n              setActiveMenu(container, primary);\n            }\n          });\n        })\n      ].concat(detail.navigateOnHover ? [run$1(hover(), (sandbox, simulatedEvent) => {\n          const item = simulatedEvent.event.item;\n          updateView(sandbox, item);\n          expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n          detail.onHover(sandbox, item);\n        })] : []));\n      const getActiveItem = container => Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      const collapseMenuApi = container => {\n        getActiveItem(container).each(currentItem => {\n          collapseLeft(container, currentItem);\n        });\n      };\n      const highlightPrimary = container => {\n        layeredState.getPrimary().each(primary => {\n          setActiveMenu(container, primary);\n        });\n      };\n      const extractMenuFromContainer = container => Optional.from(container.components()[0]).filter(comp => get$f(comp.element, 'role') === 'menu');\n      const repositionMenus = container => {\n        const maybeActivePrimary = layeredState.getPrimary().bind(primary => getActiveItem(container).bind(currentItem => {\n          const itemValue = getItemValue(currentItem);\n          const allMenus = values(layeredState.getMenus());\n          const preparedMenus = cat(map$2(allMenus, LayeredState.extractPreparedMenu));\n          return layeredState.getTriggeringPath(itemValue, v => getItemByValue(container, preparedMenus, v));\n        }).map(triggeringPath => ({\n          primary,\n          triggeringPath\n        })));\n        maybeActivePrimary.fold(() => {\n          extractMenuFromContainer(container).each(primaryMenu => {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, ({primary, triggeringPath}) => {\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      const apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary,\n        repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: (container, _keyInfo) => {\n              layeredState.getPrimary().each(primary => {\n                dispatch(container, primary.element, focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: container => {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis,\n        events\n      };\n    };\n    const collapseItem$1 = constant$1('collapse-item');\n\n    const tieredData = (primary, menus, expansions) => ({\n      primary,\n      menus,\n      expansions\n    });\n    const singleData = (name, menu) => ({\n      primary: name,\n      menus: wrap$1(name, menu),\n      expansions: {}\n    });\n    const collapseItem = text => ({\n      value: generate$6(collapseItem$1()),\n      meta: { text }\n    });\n    const tieredMenu = single({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted('highlightImmediately', true),\n        requiredObjOf('data', [\n          required$1('primary'),\n          required$1('menus'),\n          required$1('expansions')\n        ]),\n        defaulted('fakeFocus', false),\n        onHandler('onHighlight'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        required$1('dom'),\n        defaulted('navigateOnHover', true),\n        defaulted('stayInDom', false),\n        field('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: (apis, tmenu) => {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: (apis, tmenu) => {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: (apis, tmenu) => {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$6,\n      extraApis: {\n        tieredData,\n        singleData,\n        collapseItem\n      }\n    });\n\n    const makeMenu = (detail, menuSandbox, placementSpec, menuSpec, getBounds) => {\n      const lazySink = () => detail.lazySink(menuSandbox);\n      const layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: () => belowOrAbove(),\n          onRtl: () => belowOrAboveRtl()\n        }\n      } : {};\n      const isFirstTierSubmenu = triggeringPaths => triggeringPaths.length === 2;\n      const getSubmenuLayouts = triggeringPaths => isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        highlightImmediately: menuSpec.menu.highlightImmediately,\n        onEscape: () => {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(handler => handler(menuSandbox));\n          return Optional.some(true);\n        },\n        onExecute: () => {\n          return Optional.some(true);\n        },\n        onOpenMenu: (tmenu, menu) => {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), menu, placementSpec, getBounds());\n        },\n        onOpenSubmenu: (tmenu, item, submenu, triggeringPaths) => {\n          const sink = lazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item,\n              ...getSubmenuLayouts(triggeringPaths)\n            }\n          });\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, primaryMenu, placementSpec, getBounds());\n          each$1(submenuTriggers, st => {\n            const submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem,\n                ...submenuLayouts\n              }\n            });\n          });\n        }\n      });\n    };\n    const factory$m = (detail, spec) => {\n      const isPartOfRelated = (sandbox, queryElem) => {\n        const related = detail.getRelated(sandbox);\n        return related.exists(rel => isPartOf$1(rel, queryElem));\n      };\n      const setContent = (sandbox, thing) => {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      const showAt = (sandbox, thing, placementSpec) => {\n        showWithin(sandbox, thing, placementSpec, Optional.none());\n      };\n      const showWithin = (sandbox, thing, placementSpec, boxElement) => {\n        showWithinBounds(sandbox, thing, placementSpec, () => boxElement.map(elem => box$1(elem)));\n      };\n      const showWithinBounds = (sandbox, thing, placementSpec, getBounds) => {\n        const sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, () => Positioning.positionWithinBounds(sink, sandbox, placementSpec, getBounds()));\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'position',\n          config: placementSpec,\n          getBounds\n        }));\n      };\n      const showMenuAt = (sandbox, placementSpec, menuSpec) => {\n        showMenuWithinBounds(sandbox, placementSpec, menuSpec, Optional.none);\n      };\n      const showMenuWithinBounds = (sandbox, placementSpec, menuSpec, getBounds) => {\n        const menu = makeMenu(detail, sandbox, placementSpec, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Optional.some({\n          mode: 'menu',\n          menu\n        }));\n      };\n      const hide = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.setValue(sandbox, Optional.none());\n          Sandboxing.close(sandbox);\n        }\n      };\n      const getContent = sandbox => Sandboxing.getState(sandbox);\n      const reposition = sandbox => {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(state => {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(tieredMenu.repositionMenus);\n              break;\n            case 'position':\n              const sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, sandbox, state.config, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      const apis = {\n        setContent,\n        showAt,\n        showWithin,\n        showWithinBounds,\n        showMenuAt,\n        showMenuWithinBounds,\n        hide,\n        getContent,\n        reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: (sandbox, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: sandbox => {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: sandbox => {\n              detail.onShow(sandbox);\n            },\n            onClose: sandbox => {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Optional.none()\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: spec.isExtraPart,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                ...detail.fireRepositionEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({}),\n                doReposition: reposition\n              })\n            }\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis\n      };\n    };\n    const InlineView = single({\n      name: 'InlineView',\n      configFields: [\n        required$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted('event', repositionRequested())]),\n        defaulted('getRelated', Optional.none),\n        defaulted('isExtraPart', never),\n        defaulted('eventOrder', Optional.none)\n      ],\n      factory: factory$m,\n      apis: {\n        showAt: (apis, component, anchor, thing) => {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: (apis, component, anchor, thing, boxElement) => {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: (apis, component, anchor, thing, bounds) => {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: (apis, component, anchor, menuSpec) => {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: (apis, component, anchor, menuSpec, bounds) => {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: (apis, component) => {\n          apis.hide(component);\n        },\n        isOpen: (apis, component) => apis.isOpen(component),\n        getContent: (apis, component) => apis.getContent(component),\n        setContent: (apis, component, thing) => {\n          apis.setContent(component, thing);\n        },\n        reposition: (apis, component) => {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const factory$l = detail => {\n      const events = events$a(detail.action);\n      const tag = detail.dom.tag;\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const getModAttributes = () => {\n        if (tag === 'button') {\n          const type = lookupAttr('type').getOr('button');\n          const roleAttrs = lookupAttr('role').map(role => ({ role })).getOr({});\n          return {\n            type,\n            ...roleAttrs\n          };\n        } else {\n          const role = lookupAttr('role').getOr('button');\n          return { role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Button = single({\n      name: 'Button',\n      factory: factory$l,\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('dom'),\n        defaulted('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option$3('action'),\n        option$3('role'),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const record = spec => {\n      const uid = isSketchSpec(spec) && hasNonNullableKey(spec, 'uid') ? spec.uid : generate$5('memento');\n      const get = anyInSystem => anyInSystem.getSystem().getByUid(uid).getOrDie();\n      const getOpt = anyInSystem => anyInSystem.getSystem().getByUid(uid).toOptional();\n      const asSpec = () => ({\n        ...spec,\n        uid\n      });\n      return {\n        get,\n        getOpt,\n        asSpec\n      };\n    };\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    const rtlTransform = {\n      'indent': true,\n      'outdent': true,\n      'table-insert-column-after': true,\n      'table-insert-column-before': true,\n      'paste-column-after': true,\n      'paste-column-before': true,\n      'unordered-list': true,\n      'list-bull-circle': true,\n      'list-bull-default': true,\n      'list-bull-square': true\n    };\n    const defaultIconName = 'temporary-placeholder';\n    const defaultIcon = icons => () => get$g(icons, defaultIconName).getOr('!not found!');\n    const getIconName = (name, icons) => {\n      const lcName = name.toLowerCase();\n      if (global$8.isRtl()) {\n        const rtlName = ensureTrailing(lcName, '-rtl');\n        return has$2(icons, rtlName) ? rtlName : lcName;\n      } else {\n        return lcName;\n      }\n    };\n    const lookupIcon = (name, icons) => get$g(icons, getIconName(name, icons));\n    const get$2 = (name, iconProvider) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).getOrThunk(defaultIcon(icons));\n    };\n    const getOr = (name, iconProvider, fallbackIcon) => {\n      const icons = iconProvider();\n      return lookupIcon(name, icons).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n    };\n    const needsRtlTransform = iconName => global$8.isRtl() ? has$2(rtlTransform, iconName) : false;\n    const addFocusableBehaviour = () => config('add-focusable', [runOnAttached(comp => {\n        child(comp.element, 'svg').each(svg => set$9(svg, 'focusable', 'false'));\n      })]);\n    const renderIcon$2 = (spec, iconName, icons, fallbackIcon) => {\n      var _a, _b;\n      const rtlIconClasses = needsRtlTransform(iconName) ? ['tox-icon--flip'] : [];\n      const iconHtml = get$g(icons, getIconName(iconName, icons)).or(fallbackIcon).getOrThunk(defaultIcon(icons));\n      return {\n        dom: {\n          tag: spec.tag,\n          attributes: (_a = spec.attributes) !== null && _a !== void 0 ? _a : {},\n          classes: spec.classes.concat(rtlIconClasses),\n          innerHtml: iconHtml\n        },\n        behaviours: derive$1([\n          ...(_b = spec.behaviours) !== null && _b !== void 0 ? _b : [],\n          addFocusableBehaviour()\n        ])\n      };\n    };\n    const render$3 = (iconName, spec, iconProvider, fallbackIcon = Optional.none()) => renderIcon$2(spec, iconName, iconProvider(), fallbackIcon);\n    const renderFirst = (iconNames, spec, iconProvider) => {\n      const icons = iconProvider();\n      const iconName = find$5(iconNames, name => has$2(icons, getIconName(name, icons)));\n      return renderIcon$2(spec, iconName.getOr(defaultIconName), icons, Optional.none());\n    };\n\n    const notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    const factory$k = detail => {\n      const memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const renderPercentBar = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-bar'],\n          styles: { width: `${ percent }%` }\n        }\n      });\n      const renderPercentText = percent => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-text'],\n          innerHtml: `${ percent }%`\n        }\n      });\n      const memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      const updateProgress = (comp, percent) => {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(progress => {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      const updateText = (comp, text) => {\n        if (comp.getSystem().isConnected()) {\n          const banner = memBannerText.get(comp);\n          Replacing.set(banner, [text$1(text)]);\n        }\n      };\n      const apis = {\n        updateProgress,\n        updateText\n      };\n      const iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(level => Optional.from(notificationIconMap[level])).toArray()\n      ]);\n      const memButton = record(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-notification__dismiss',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ]\n        },\n        components: [render$3('close', {\n            tag: 'div',\n            classes: ['tox-icon'],\n            attributes: { 'aria-label': detail.translationProvider('Close') }\n          }, detail.iconProvider)],\n        action: comp => {\n          detail.onAction(comp);\n        }\n      }));\n      const notificationIconSpec = renderFirst(iconChoices, {\n        tag: 'div',\n        classes: ['tox-notification__icon']\n      }, detail.iconProvider);\n      const notificationBodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-notification__body']\n        },\n        components: [memBannerText.asSpec()],\n        behaviours: derive$1([Replacing.config({})])\n      };\n      const components = [\n        notificationIconSpec,\n        notificationBodySpec\n      ];\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(level => [\n            'tox-notification',\n            'tox-notification--in',\n            `tox-notification--${ level }`\n          ]).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        behaviours: derive$1([\n          Focusing.config({}),\n          config('notification-events', [run$1(focusin(), comp => {\n              memButton.getOpt(comp).each(Focusing.focus);\n            })])\n        ]),\n        components: components.concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(!detail.closeButton ? [] : [memButton.asSpec()]),\n        apis\n      };\n    };\n    const Notification = single({\n      name: 'Notification',\n      factory: factory$k,\n      configFields: [\n        option$3('level'),\n        required$1('progress'),\n        required$1('icon'),\n        required$1('onAction'),\n        required$1('text'),\n        required$1('iconProvider'),\n        required$1('translationProvider'),\n        defaultedBoolean('closeButton', true)\n      ],\n      apis: {\n        updateProgress: (apis, comp, percent) => {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: (apis, comp, text) => {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var NotificationManagerImpl = (editor, extras, uiMothership) => {\n      const sharedBackstage = extras.backstage.shared;\n      const getBounds = () => {\n        const contentArea = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n        const win$1 = win();\n        const x = clamp(win$1.x, contentArea.x, contentArea.right);\n        const y = clamp(win$1.y, contentArea.y, contentArea.bottom);\n        const right = Math.max(contentArea.right, win$1.right);\n        const bottom = Math.max(contentArea.bottom, win$1.bottom);\n        return Optional.some(bounds(x, y, right - x, bottom - y));\n      };\n      const open = (settings, closeCallback) => {\n        const close = () => {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        const notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains$2([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: Optional.from(settings.icon),\n          closeButton: settings.closeButton,\n          onAction: close,\n          iconProvider: sharedBackstage.providers.icons,\n          translationProvider: sharedBackstage.providers.translate\n        }));\n        const notificationWrapper = build$1(InlineView.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: sharedBackstage.getSink,\n          fireDismissalEventInstead: {},\n          ...sharedBackstage.header.isPositionedAtTop() ? {} : { fireRepositionEventInstead: {} }\n        }));\n        uiMothership.add(notificationWrapper);\n        if (settings.timeout > 0) {\n          global$9.setEditorTimeout(editor, () => {\n            close();\n          }, settings.timeout);\n        }\n        const reposition = () => {\n          const notificationSpec = premade(notification);\n          const anchorOverrides = { maxHeightFunction: expandable$1() };\n          const allNotifications = editor.notificationManager.getNotifications();\n          if (allNotifications[0] === thisNotification) {\n            const anchor = {\n              ...sharedBackstage.anchors.banner(),\n              overrides: anchorOverrides\n            };\n            InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor }, getBounds);\n          } else {\n            indexOf(allNotifications, thisNotification).each(idx => {\n              const previousNotification = allNotifications[idx - 1].getEl();\n              const nodeAnchor = {\n                type: 'node',\n                root: body(),\n                node: Optional.some(SugarElement.fromDom(previousNotification)),\n                overrides: anchorOverrides,\n                layouts: {\n                  onRtl: () => [south$2],\n                  onLtr: () => [south$2]\n                }\n              };\n              InlineView.showWithinBounds(notificationWrapper, notificationSpec, { anchor: nodeAnchor }, getBounds);\n            });\n          }\n        };\n        const thisNotification = {\n          close,\n          reposition,\n          text: nuText => {\n            Notification.updateText(notification, nuText);\n          },\n          settings,\n          getEl: () => notification.element.dom,\n          progressBar: {\n            value: percent => {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n        return thisNotification;\n      };\n      const close = notification => {\n        notification.close();\n      };\n      const getArgs = notification => {\n        return notification.settings;\n      };\n      return {\n        open,\n        close,\n        getArgs\n      };\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var ToolbarMode$1;\n    (function (ToolbarMode) {\n      ToolbarMode['default'] = 'wrap';\n      ToolbarMode['floating'] = 'floating';\n      ToolbarMode['sliding'] = 'sliding';\n      ToolbarMode['scrolling'] = 'scrolling';\n    }(ToolbarMode$1 || (ToolbarMode$1 = {})));\n    var ToolbarLocation$1;\n    (function (ToolbarLocation) {\n      ToolbarLocation['auto'] = 'auto';\n      ToolbarLocation['top'] = 'top';\n      ToolbarLocation['bottom'] = 'bottom';\n    }(ToolbarLocation$1 || (ToolbarLocation$1 = {})));\n    const option$2 = name => editor => editor.options.get(name);\n    const wrapOptional = fn => editor => Optional.from(fn(editor));\n    const register$e = editor => {\n      const isPhone = global$5.deviceType.isPhone();\n      const isMobile = global$5.deviceType.isTablet() || isPhone;\n      const registerOption = editor.options.register;\n      const stringOrFalseProcessor = value => isString(value) || value === false;\n      const stringOrNumberProcessor = value => isString(value) || isNumber(value);\n      registerOption('skin', {\n        processor: value => isString(value) || value === false,\n        default: 'oxide'\n      });\n      registerOption('skin_url', { processor: 'string' });\n      registerOption('height', {\n        processor: stringOrNumberProcessor,\n        default: Math.max(editor.getElement().offsetHeight, 400)\n      });\n      registerOption('width', {\n        processor: stringOrNumberProcessor,\n        default: global$7.DOM.getStyle(editor.getElement(), 'width')\n      });\n      registerOption('min_height', {\n        processor: 'number',\n        default: 100\n      });\n      registerOption('min_width', { processor: 'number' });\n      registerOption('max_height', { processor: 'number' });\n      registerOption('max_width', { processor: 'number' });\n      registerOption('style_formats', { processor: 'object[]' });\n      registerOption('style_formats_merge', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('style_formats_autohide', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('line_height_formats', {\n        processor: 'string',\n        default: '1 1.1 1.2 1.3 1.4 1.5 2'\n      });\n      registerOption('font_family_formats', {\n        processor: 'string',\n        default: 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats'\n      });\n      registerOption('font_size_formats', {\n        processor: 'string',\n        default: '8pt 10pt 12pt 14pt 18pt 24pt 36pt'\n      });\n      registerOption('block_formats', {\n        processor: 'string',\n        default: 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre'\n      });\n      registerOption('content_langs', { processor: 'object[]' });\n      registerOption('removed_menuitems', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('menubar', {\n        processor: value => isString(value) || isBoolean(value),\n        default: !isPhone\n      });\n      registerOption('menu', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar', {\n        processor: value => {\n          if (isBoolean(value) || isString(value) || isArray(value)) {\n            return {\n              value,\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a boolean, string or array.'\n            };\n          }\n        },\n        default: true\n      });\n      range$2(9, num => {\n        registerOption('toolbar' + (num + 1), { processor: 'string' });\n      });\n      registerOption('toolbar_mode', {\n        processor: 'string',\n        default: isMobile ? 'scrolling' : 'floating'\n      });\n      registerOption('toolbar_groups', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('toolbar_location', {\n        processor: 'string',\n        default: ToolbarLocation$1.auto\n      });\n      registerOption('toolbar_persist', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('toolbar_sticky', {\n        processor: 'boolean',\n        default: editor.inline\n      });\n      registerOption('toolbar_sticky_offset', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('fixed_toolbar_container', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('fixed_toolbar_container_target', { processor: 'object' });\n      registerOption('file_picker_callback', { processor: 'function' });\n      registerOption('file_picker_validator_handler', { processor: 'function' });\n      registerOption('file_picker_types', { processor: 'string' });\n      registerOption('typeahead_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('anchor_top', {\n        processor: stringOrFalseProcessor,\n        default: '#top'\n      });\n      registerOption('anchor_bottom', {\n        processor: stringOrFalseProcessor,\n        default: '#bottom'\n      });\n      registerOption('draggable_modal', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('statusbar', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('elementpath', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('branding', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('resize', {\n        processor: value => value === 'both' || isBoolean(value),\n        default: !global$5.deviceType.isTouch()\n      });\n    };\n    const isReadOnly = option$2('readonly');\n    const getHeightOption = option$2('height');\n    const getWidthOption = option$2('width');\n    const getMinWidthOption = wrapOptional(option$2('min_width'));\n    const getMinHeightOption = wrapOptional(option$2('min_height'));\n    const getMaxWidthOption = wrapOptional(option$2('max_width'));\n    const getMaxHeightOption = wrapOptional(option$2('max_height'));\n    const getUserStyleFormats = wrapOptional(option$2('style_formats'));\n    const shouldMergeStyleFormats = option$2('style_formats_merge');\n    const shouldAutoHideStyleFormats = option$2('style_formats_autohide');\n    const getContentLanguages = option$2('content_langs');\n    const getRemovedMenuItems = option$2('removed_menuitems');\n    const getToolbarMode = option$2('toolbar_mode');\n    const getToolbarGroups = option$2('toolbar_groups');\n    const getToolbarLocation = option$2('toolbar_location');\n    const fixedContainerSelector = option$2('fixed_toolbar_container');\n    const fixedToolbarContainerTarget = option$2('fixed_toolbar_container_target');\n    const isToolbarPersist = option$2('toolbar_persist');\n    const getStickyToolbarOffset = option$2('toolbar_sticky_offset');\n    const getMenubar = option$2('menubar');\n    const getToolbar = option$2('toolbar');\n    const getFilePickerCallback = option$2('file_picker_callback');\n    const getFilePickerValidatorHandler = option$2('file_picker_validator_handler');\n    const getFilePickerTypes = option$2('file_picker_types');\n    const useTypeaheadUrls = option$2('typeahead_urls');\n    const getAnchorTop = option$2('anchor_top');\n    const getAnchorBottom = option$2('anchor_bottom');\n    const isDraggableModal$1 = option$2('draggable_modal');\n    const useStatusBar = option$2('statusbar');\n    const useElementPath = option$2('elementpath');\n    const useBranding = option$2('branding');\n    const getResize = option$2('resize');\n    const getPasteAsText = option$2('paste_as_text');\n    const isSkinDisabled = editor => editor.options.get('skin') === false;\n    const isMenubarEnabled = editor => editor.options.get('menubar') !== false;\n    const getSkinUrl = editor => {\n      const skinUrl = editor.options.get('skin_url');\n      if (isSkinDisabled(editor)) {\n        return skinUrl;\n      } else {\n        if (skinUrl) {\n          return editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          const skin = editor.options.get('skin');\n          return global$6.baseURL + '/skins/ui/' + skin;\n        }\n      }\n    };\n    const getLineHeightFormats = editor => editor.options.get('line_height_formats').split(' ');\n    const isToolbarEnabled = editor => {\n      const toolbar = getToolbar(editor);\n      const isToolbarString = isString(toolbar);\n      const isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || toolbar === true);\n    };\n    const getMultipleToolbarsOption = editor => {\n      const toolbars = range$2(9, num => editor.options.get('toolbar' + (num + 1)));\n      const toolbarArray = filter$2(toolbars, isString);\n      return someIf(toolbarArray.length > 0, toolbarArray);\n    };\n    const isMultipleToolbars = editor => getMultipleToolbarsOption(editor).fold(() => {\n      const toolbar = getToolbar(editor);\n      return isArrayOf(toolbar, isString) && toolbar.length > 0;\n    }, always);\n    const isToolbarLocationBottom = editor => getToolbarLocation(editor) === ToolbarLocation$1.bottom;\n    const fixedContainerTarget = editor => {\n      if (!editor.inline) {\n        return Optional.none();\n      }\n      const selector = fixedContainerSelector(editor);\n      if (selector.length > 0) {\n        return descendant(body(), selector);\n      }\n      const element = fixedToolbarContainerTarget(editor);\n      if (isNonNullable(element)) {\n        return Optional.some(SugarElement.fromDom(element));\n      }\n      return Optional.none();\n    };\n    const useFixedContainer = editor => editor.inline && fixedContainerTarget(editor).isSome();\n    const getUiContainer = editor => {\n      const fixedContainer = fixedContainerTarget(editor);\n      return fixedContainer.getOrThunk(() => getContentContainer(getRootNode(SugarElement.fromDom(editor.getElement()))));\n    };\n    const isDistractionFree = editor => editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    const isStickyToolbar = editor => {\n      const isStickyToolbar = editor.options.get('toolbar_sticky');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    const getMenus = editor => {\n      const menu = editor.options.get('menu');\n      return map$1(menu, menu => ({\n        ...menu,\n        items: menu.items\n      }));\n    };\n\n    var Options = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        get ToolbarMode () { return ToolbarMode$1; },\n        get ToolbarLocation () { return ToolbarLocation$1; },\n        register: register$e,\n        getSkinUrl: getSkinUrl,\n        isReadOnly: isReadOnly,\n        isSkinDisabled: isSkinDisabled,\n        getHeightOption: getHeightOption,\n        getWidthOption: getWidthOption,\n        getMinWidthOption: getMinWidthOption,\n        getMinHeightOption: getMinHeightOption,\n        getMaxWidthOption: getMaxWidthOption,\n        getMaxHeightOption: getMaxHeightOption,\n        getUserStyleFormats: getUserStyleFormats,\n        shouldMergeStyleFormats: shouldMergeStyleFormats,\n        shouldAutoHideStyleFormats: shouldAutoHideStyleFormats,\n        getLineHeightFormats: getLineHeightFormats,\n        getContentLanguages: getContentLanguages,\n        getRemovedMenuItems: getRemovedMenuItems,\n        isMenubarEnabled: isMenubarEnabled,\n        isMultipleToolbars: isMultipleToolbars,\n        isToolbarEnabled: isToolbarEnabled,\n        isToolbarPersist: isToolbarPersist,\n        getMultipleToolbarsOption: getMultipleToolbarsOption,\n        getUiContainer: getUiContainer,\n        useFixedContainer: useFixedContainer,\n        getToolbarMode: getToolbarMode,\n        isDraggableModal: isDraggableModal$1,\n        isDistractionFree: isDistractionFree,\n        isStickyToolbar: isStickyToolbar,\n        getStickyToolbarOffset: getStickyToolbarOffset,\n        getToolbarLocation: getToolbarLocation,\n        isToolbarLocationBottom: isToolbarLocationBottom,\n        getToolbarGroups: getToolbarGroups,\n        getMenus: getMenus,\n        getMenubar: getMenubar,\n        getToolbar: getToolbar,\n        getFilePickerCallback: getFilePickerCallback,\n        getFilePickerTypes: getFilePickerTypes,\n        useTypeaheadUrls: useTypeaheadUrls,\n        getAnchorTop: getAnchorTop,\n        getAnchorBottom: getAnchorBottom,\n        getFilePickerValidatorHandler: getFilePickerValidatorHandler,\n        useStatusBar: useStatusBar,\n        useElementPath: useElementPath,\n        useBranding: useBranding,\n        getResize: getResize,\n        getPasteAsText: getPasteAsText\n    });\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const detect = elm => closest$1(elm, autocompleteSelector);\n    const findIn = elm => descendant(elm, autocompleteSelector);\n\n    const setup$e = (api, editor) => {\n      const redirectKeyToItem = (item, e) => {\n        emitWith(item, keydown(), { raw: e });\n      };\n      const getItem = () => api.getView().bind(Highlighting.getHighlighted);\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (!api.isActive()) {\n          return;\n        }\n        if (api.isMenuOpen()) {\n          if (keyCode === 13) {\n            getItem().each(emitExecute);\n            e.preventDefault();\n          } else if (keyCode === 40) {\n            getItem().fold(() => {\n              api.getView().each(Highlighting.highlightFirst);\n            }, item => {\n              redirectKeyToItem(item, e);\n            });\n            e.preventDefault();\n            e.stopImmediatePropagation();\n          } else if (keyCode === 37 || keyCode === 38 || keyCode === 39) {\n            getItem().each(item => {\n              redirectKeyToItem(item, e);\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            });\n          }\n        } else {\n          if (keyCode === 13 || keyCode === 38 || keyCode === 40) {\n            api.cancelIfNecessary();\n          }\n        }\n      });\n      editor.on('NodeChange', e => {\n        if (api.isActive() && !api.isProcessingAction() && detect(SugarElement.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    const AutocompleterEditorEvents = { setup: setup$e };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    const navClass = 'tox-menu-nav__js';\n    const selectableClass = 'tox-collection__item';\n    const colorClass = 'tox-swatch';\n    const presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    const tickedClass = 'tox-collection__item--enabled';\n    const groupHeadingClass = 'tox-collection__group-heading';\n    const iconClass = 'tox-collection__item-icon';\n    const textClass = 'tox-collection__item-label';\n    const accessoryClass = 'tox-collection__item-accessory';\n    const caretClass = 'tox-collection__item-caret';\n    const checkmarkClass = 'tox-collection__item-checkmark';\n    const activeClass = 'tox-collection__item--active';\n    const containerClass = 'tox-collection__item-container';\n    const containerColumnClass = 'tox-collection__item-container--column';\n    const containerRowClass = 'tox-collection__item-container--row';\n    const containerAlignRightClass = 'tox-collection__item-container--align-right';\n    const containerAlignLeftClass = 'tox-collection__item-container--align-left';\n    const containerValignTopClass = 'tox-collection__item-container--valign-top';\n    const containerValignMiddleClass = 'tox-collection__item-container--valign-middle';\n    const containerValignBottomClass = 'tox-collection__item-container--valign-bottom';\n    const classForPreset = presets => get$g(presetClasses, presets).getOr(navClass);\n\n    const forMenu = presets => {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    const classes = presets => ({\n      backgroundMenu: 'tox-background-menu',\n      selectedMenu: 'tox-selected-menu',\n      selectedItem: 'tox-collection__item--active',\n      hasIcons: 'tox-menu--has-icons',\n      menu: forMenu(presets),\n      tieredMenu: 'tox-tiered-menu'\n    });\n\n    const markers = presets => {\n      const menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    const dom$1 = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            `tox-menu-${ columns }-column`\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    const components = [Menu.parts.items({})];\n    const part = (hasIcons, columns, presets) => {\n      const menuClasses = classes(presets);\n      const d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers(presets)\n      };\n    };\n\n    const chunk = (rowDom, numColumns) => items => {\n      const chunks = chunk$1(items, numColumns);\n      return map$2(chunks, c => ({\n        dom: rowDom,\n        components: c\n      }));\n    };\n    const forSwatch = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-swatches-menu'\n        ]\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-swatches']\n          },\n          components: [Menu.parts.items({\n              preprocess: columns !== 'auto' ? chunk({\n                tag: 'div',\n                classes: ['tox-swatches__row']\n              }, columns) : identity\n            })]\n        }]\n    });\n    const forToolbar = columns => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection',\n          'tox-collection--toolbar',\n          'tox-collection--toolbar-lg'\n        ]\n      },\n      components: [Menu.parts.items({\n          preprocess: chunk({\n            tag: 'div',\n            classes: ['tox-collection__group']\n          }, columns)\n        })]\n    });\n    const preprocessCollection = (items, isSeparator) => {\n      const allSplits = [];\n      let currentSplit = [];\n      each$1(items, (item, i) => {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has$2(item.dom, 'innerHtml') || item.components.length > 0) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map$2(allSplits, s => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection__group']\n        },\n        components: s\n      }));\n    };\n    const forCollection = (columns, initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-menu',\n          'tox-collection'\n        ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n      },\n      components: [Menu.parts.items({\n          preprocess: items => {\n            if (columns !== 'auto' && columns > 1) {\n              return chunk({\n                tag: 'div',\n                classes: ['tox-collection__group']\n              }, columns)(items);\n            } else {\n              return preprocessCollection(items, (_item, i) => initItems[i].type === 'separator');\n            }\n          }\n        })]\n    });\n    const forHorizontalCollection = (initItems, _hasIcons = true) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-collection',\n          'tox-collection--horizontal'\n        ]\n      },\n      components: [Menu.parts.items({ preprocess: items => preprocessCollection(items, (_item, i) => initItems[i].type === 'separator') })]\n    });\n\n    const menuHasIcons = xs => exists(xs, item => 'icon' in item && item.icon !== undefined);\n    const handleError = error => {\n      console.error(formatError(error));\n      console.log(error);\n      return Optional.none();\n    };\n    const createHorizontalPartialMenuWithAlloyItems = (value, _hasIcons, items, _columns, _presets) => {\n      const structure = forHorizontalCollection(items);\n      return {\n        value,\n        dom: structure.dom,\n        components: structure.components,\n        items\n      };\n    };\n    const createPartialMenuWithAlloyItems = (value, hasIcons, items, columns, presets) => {\n      if (presets === 'color') {\n        const structure = forSwatch(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      if (presets === 'normal' && columns === 'auto') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      if (presets === 'normal' && columns === 1) {\n        const structure = forCollection(1, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      if (presets === 'normal') {\n        const structure = forCollection(columns, items);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      if (presets === 'listpreview' && columns !== 'auto') {\n        const structure = forToolbar(columns);\n        return {\n          value,\n          dom: structure.dom,\n          components: structure.components,\n          items\n        };\n      }\n      return {\n        value,\n        dom: dom$1(hasIcons, columns, presets),\n        components: components,\n        items\n      };\n    };\n\n    const type = requiredString('type');\n    const name$1 = requiredString('name');\n    const label = requiredString('label');\n    const text = requiredString('text');\n    const title = requiredString('title');\n    const icon = requiredString('icon');\n    const value$1 = requiredString('value');\n    const fetch$1 = requiredFunction('fetch');\n    const getSubmenuItems = requiredFunction('getSubmenuItems');\n    const onAction = requiredFunction('onAction');\n    const onItemAction = requiredFunction('onItemAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalName = optionString('name');\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const optionalShortcut = optionString('shortcut');\n    const optionalSelect = optionFunction('select');\n    const active = defaultedBoolean('active', false);\n    const borderless = defaultedBoolean('borderless', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedMeta = defaulted('meta', {});\n    const defaultedOnAction = defaultedFunction('onAction', noop);\n    const defaultedType = type => defaultedString('type', type);\n    const generatedName = namePrefix => field$1('name', 'name', defaultedThunk(() => generate$6(`${ namePrefix }-name`)), string);\n    const generatedValue = valuePrefix => field$1('value', 'value', defaultedThunk(() => generate$6(`${ valuePrefix }-value`)), anyValue());\n\n    const separatorMenuItemSchema = objOf([\n      type,\n      optionalText\n    ]);\n    const createSeparatorMenuItem = spec => asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n\n    const autocompleterItemSchema = objOf([\n      defaultedType('autocompleteitem'),\n      active,\n      enabled,\n      defaultedMeta,\n      value$1,\n      optionalText,\n      optionalIcon\n    ]);\n    const createSeparatorItem = spec => asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    const createAutocompleterItem = spec => asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n    const toolbarButtonSchema = objOf([\n      type,\n      onAction\n    ].concat(baseToolbarButtonFields));\n    const createToolbarButton = spec => asRaw('toolbarbutton', toolbarButtonSchema, spec);\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n    const toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      type,\n      onAction\n    ]));\n    const createToggleButton = spec => asRaw('ToggleButton', toggleButtonSchema, spec);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    const contextFormSchema = objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant$1('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    const createContextForm = spec => asRaw('ContextForm', contextFormSchema, spec);\n\n    const contextToolbarSchema = objOf([\n      defaultedType('contexttoolbar'),\n      requiredString('items')\n    ].concat(contextBarFields));\n    const createContextToolbar = spec => asRaw('ContextToolbar', contextToolbarSchema, spec);\n\n    const cardImageFields = [\n      type,\n      requiredString('src'),\n      optionString('alt'),\n      defaultedArrayOf('classes', [], string)\n    ];\n    const cardImageSchema = objOf(cardImageFields);\n\n    const cardTextFields = [\n      type,\n      text,\n      optionalName,\n      defaultedArrayOf('classes', ['tox-collection__item-label'], string)\n    ];\n    const cardTextSchema = objOf(cardTextFields);\n\n    const itemSchema$1 = valueThunk(() => choose$2('type', {\n      cardimage: cardImageSchema,\n      cardtext: cardTextSchema,\n      cardcontainer: cardContainerSchema\n    }));\n    const cardContainerSchema = objOf([\n      type,\n      defaultedString('direction', 'horizontal'),\n      defaultedString('align', 'left'),\n      defaultedString('valign', 'middle'),\n      requiredArrayOf('items', itemSchema$1)\n    ]);\n\n    const commonMenuItemFields = [\n      enabled,\n      optionalText,\n      optionalShortcut,\n      generatedValue('menuitem'),\n      defaultedMeta\n    ];\n\n    const cardMenuItemSchema = objOf([\n      type,\n      optionalLabel,\n      requiredArrayOf('items', itemSchema$1),\n      onSetup,\n      defaultedOnAction\n    ].concat(commonMenuItemFields));\n    const createCardMenuItem = spec => asRaw('cardmenuitem', cardMenuItemSchema, spec);\n\n    const choiceMenuItemSchema = objOf([\n      type,\n      active,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createChoiceMenuItem = spec => asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n\n    const baseFields = [\n      type,\n      requiredString('fancytype'),\n      defaultedOnAction\n    ];\n    const insertTableFields = [defaulted('initData', {})].concat(baseFields);\n    const colorSwatchFields = [defaultedObjOf('initData', {}, [\n        defaultedBoolean('allowCustomColors', true),\n        optionArrayOf('colors', anyValue())\n      ])].concat(baseFields);\n    const fancyMenuItemSchema = choose$1('fancytype', {\n      inserttable: insertTableFields,\n      colorswatch: colorSwatchFields\n    });\n    const createFancyMenuItem = spec => asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n\n    const menuItemSchema = objOf([\n      type,\n      onSetup,\n      defaultedOnAction,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createMenuItem = spec => asRaw('menuitem', menuItemSchema, spec);\n\n    const nestedMenuItemSchema = objOf([\n      type,\n      getSubmenuItems,\n      onSetup,\n      optionalIcon\n    ].concat(commonMenuItemFields));\n    const createNestedMenuItem = spec => asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n\n    const toggleMenuItemSchema = objOf([\n      type,\n      optionalIcon,\n      active,\n      onSetup,\n      onAction\n    ].concat(commonMenuItemFields));\n    const createToggleMenuItem = spec => asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n\n    const detectSize = (comp, margin, selectorClass) => {\n      const descendants$1 = descendants(comp.element, '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        const columnLength = findIndex$1(descendants$1, c => {\n          const thisTop = c.dom.getBoundingClientRect().top;\n          const cTop = descendants$1[0].dom.getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Optional.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const namedEvents = (name, handlers) => derive$1([config(name, handlers)]);\n    const unnamedEvents = handlers => namedEvents(generate$6('unnamed-events'), handlers);\n    const SimpleBehaviours = {\n      namedEvents,\n      unnamedEvents\n    };\n\n    const ExclusivityChannel = generate$6('tooltip.exclusive');\n    const ShowTooltipEvent = generate$6('tooltip.show');\n    const HideTooltipEvent = generate$6('tooltip.hide');\n\n    const hideAllExclusive = (component, _tConfig, _tState) => {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    const setComponents = (component, tConfig, tState, specs) => {\n      tState.getTooltip().each(tooltip => {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    const events$9 = (tooltipConfig, state) => {\n      const hide = comp => {\n        state.getTooltip().each(p => {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      const show = comp => {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          const sink = tooltipConfig.lazySink(comp).getOrDie();\n          const popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive$2(tooltipConfig.mode === 'normal' ? [\n              run$1(mouseover(), _ => {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run$1(mouseout(), _ => {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, popup, { anchor: tooltipConfig.anchor(comp) });\n        }\n      };\n      return derive$2(flatten([\n        [\n          run$1(ShowTooltipEvent, comp => {\n            state.resetTimer(() => {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(HideTooltipEvent, comp => {\n            state.resetTimer(() => {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run$1(receive(), (comp, message) => {\n            const receivingData = message;\n            if (!receivingData.universal) {\n              if (contains$2(receivingData.channels, ExclusivityChannel)) {\n                hide(comp);\n              }\n            }\n          }),\n          runOnDetached(comp => {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run$1(focusin(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(postBlur(), comp => {\n            emit(comp, HideTooltipEvent);\n          }),\n          run$1(mouseover(), comp => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(mouseout(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run$1(highlight$1(), (comp, _se) => {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run$1(dehighlight$1(), comp => {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$9\n    });\n\n    var TooltippingSchema = [\n      required$1('lazySink'),\n      required$1('tooltipDom'),\n      defaulted('exclusive', true),\n      defaulted('tooltipComponents', []),\n      defaulted('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted('anchor', comp => ({\n        type: 'hotspot',\n        hotspot: comp,\n        layouts: {\n          onLtr: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ]),\n          onRtl: constant$1([\n            south$2,\n            north$2,\n            southeast$2,\n            northeast$2,\n            southwest$2,\n            northwest$2\n          ])\n        }\n      })),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    const init$b = () => {\n      const timer = value$2();\n      const popup = value$2();\n      const clearTimer = () => {\n        timer.on(clearTimeout);\n      };\n      const resetTimer = (f, delay) => {\n        clearTimer();\n        timer.set(setTimeout(f, delay));\n      };\n      const readState = constant$1('not-implemented');\n      return nu$8({\n        getTooltip: popup.get,\n        isShowing: popup.isSet,\n        setTooltip: popup.set,\n        clearTooltip: popup.clear,\n        clearTimer,\n        resetTimer,\n        readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$b\n    });\n\n    const Tooltipping = create$3({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    const escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    const ReadOnlyChannel = 'silver.readonly';\n    const ReadOnlyDataSchema = objOf([requiredBoolean('readonly')]);\n    const broadcastReadonly = (uiComponents, readonly) => {\n      const outerContainer = uiComponents.outerContainer;\n      const target = outerContainer.element;\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly });\n    };\n    const setupReadonlyModeSwitch = (editor, uiComponents) => {\n      editor.on('init', () => {\n        if (editor.mode.isReadOnly()) {\n          broadcastReadonly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', () => broadcastReadonly(uiComponents, editor.mode.isReadOnly()));\n      if (isReadOnly(editor)) {\n        editor.mode.set('readonly');\n      }\n    };\n    const receivingConfig = () => Receiving.config({\n      channels: {\n        [ReadOnlyChannel]: {\n          schema: ReadOnlyDataSchema,\n          onReceive: (comp, data) => {\n            Disabling.set(comp, data.readonly);\n          }\n        }\n      }\n    });\n\n    const item = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-collection__item--state-disabled'\n    });\n    const button = disabled => Disabling.config({ disabled });\n    const splitButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled'\n    });\n    const toolbarButton = disabled => Disabling.config({\n      disabled,\n      disableClass: 'tox-tbtn--disabled',\n      useNative: false\n    });\n    const DisablingConfigs = {\n      item,\n      button,\n      splitButton,\n      toolbarButton\n    };\n\n    const runWithApi = (info, comp) => {\n      const api = info.getApi(comp);\n      return f => {\n        f(api);\n      };\n    };\n    const onControlAttached = (info, editorOffCell) => runOnAttached(comp => {\n      const run = runWithApi(info, comp);\n      run(api => {\n        const onDestroy = info.onSetup(api);\n        if (isFunction(onDestroy)) {\n          editorOffCell.set(onDestroy);\n        }\n      });\n    });\n    const onControlDetached = (getApi, editorOffCell) => runOnDetached(comp => runWithApi(getApi, comp)(editorOffCell.get()));\n\n    const onMenuItemExecute = (info, itemResponse) => runOnExecute$1((comp, simulatedEvent) => {\n      runWithApi(info, comp)(info.onAction);\n      if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n        if (comp.getSystem().isConnected()) {\n          emit(comp, sandboxClose());\n        }\n        simulatedEvent.stop();\n      }\n    });\n    const menuItemEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    const componentRenderPipeline = cat;\n    const renderCommonItem = (spec, structure, itemResponse, providersbackstage) => {\n      const editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(() => !spec.enabled || providersbackstage.isDisabled()),\n          receivingConfig(),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    const buildData = source => ({\n      value: source.value,\n      meta: {\n        text: source.text.getOr(''),\n        ...source.meta\n      }\n    });\n\n    const convertText = source => {\n      const isMac = global$5.os.isMacOS() || global$5.os.isiOS();\n      const mac = {\n        alt: '\\u2325',\n        ctrl: '\\u2303',\n        shift: '\\u21E7',\n        meta: '\\u2318',\n        access: '\\u2303\\u2325'\n      };\n      const other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      const replace = isMac ? mac : other;\n      const shortcut = source.split('+');\n      const updated = map$2(shortcut, segment => {\n        const search = segment.toLowerCase().trim();\n        return has$2(replace, search) ? replace[search] : segment;\n      });\n      return isMac ? updated.join('') : updated.join('+');\n    };\n\n    const renderIcon$1 = (name, icons, classes = [iconClass]) => render$3(name, {\n      tag: 'div',\n      classes\n    }, icons);\n    const renderText = text => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [text$1(global$8.translate(text))]\n    });\n    const renderHtml = (html, classes) => ({\n      dom: {\n        tag: 'div',\n        classes,\n        innerHtml: html\n      }\n    });\n    const renderStyledText = (style, text) => ({\n      dom: {\n        tag: 'div',\n        classes: [textClass]\n      },\n      components: [{\n          dom: {\n            tag: style.tag,\n            styles: style.styles\n          },\n          components: [text$1(global$8.translate(text))]\n        }]\n    });\n    const renderShortcut = shortcut => ({\n      dom: {\n        tag: 'div',\n        classes: [accessoryClass]\n      },\n      components: [text$1(convertText(shortcut))]\n    });\n    const renderCheckmark = icons => renderIcon$1('checkmark', icons, [checkmarkClass]);\n    const renderSubmenuCaret = icons => renderIcon$1('chevron-right', icons, [caretClass]);\n    const renderDownwardsCaret = icons => renderIcon$1('chevron-down', icons, [caretClass]);\n    const renderContainer = (container, components) => {\n      const directionClass = container.direction === 'vertical' ? containerColumnClass : containerRowClass;\n      const alignClass = container.align === 'left' ? containerAlignLeftClass : containerAlignRightClass;\n      const getValignClass = () => {\n        switch (container.valign) {\n        case 'top':\n          return containerValignTopClass;\n        case 'middle':\n          return containerValignMiddleClass;\n        case 'bottom':\n          return containerValignBottomClass;\n        }\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            containerClass,\n            directionClass,\n            alignClass,\n            getValignClass()\n          ]\n        },\n        components\n      };\n    };\n    const renderImage = (src, classes, alt) => ({\n      dom: {\n        tag: 'img',\n        classes,\n        attributes: {\n          src,\n          alt: alt.getOr('')\n        }\n      }\n    });\n\n    const renderColorStructure = (item, providerBackstage, fallbackIcon) => {\n      const colorPickerCommand = 'custom';\n      const removeColorCommand = 'remove';\n      const itemText = item.ariaLabel;\n      const itemValue = item.value;\n      const iconSvg = item.iconContent.map(name => getOr(name, providerBackstage.icons, fallbackIcon));\n      const getDom = () => {\n        const common = colorClass;\n        const icon = iconSvg.getOr('');\n        const attributes = itemText.map(text => ({ title: providerBackstage.translate(text) })).getOr({});\n        const baseDom = {\n          tag: 'div',\n          attributes,\n          classes: [common]\n        };\n        if (itemValue === colorPickerCommand) {\n          return {\n            ...baseDom,\n            tag: 'button',\n            classes: [\n              ...baseDom.classes,\n              'tox-swatches__picker-btn'\n            ],\n            innerHtml: icon\n          };\n        } else if (itemValue === removeColorCommand) {\n          return {\n            ...baseDom,\n            classes: [\n              ...baseDom.classes,\n              'tox-swatch--remove'\n            ],\n            innerHtml: icon\n          };\n        } else {\n          return {\n            ...baseDom,\n            attributes: {\n              ...baseDom.attributes,\n              'data-mce-color': itemValue\n            },\n            styles: { 'background-color': itemValue }\n          };\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    const renderItemDomStructure = ariaLabel => {\n      const domTitle = ariaLabel.map(label => ({ attributes: { title: global$8.translate(label) } })).getOr({});\n      return {\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ],\n        ...domTitle\n      };\n    };\n    const renderNormalItemStructure = (info, providersBackstage, renderIcons, fallbackIcon) => {\n      const iconSpec = {\n        tag: 'div',\n        classes: [iconClass]\n      };\n      const renderIcon = iconName => render$3(iconName, iconSpec, providersBackstage.icons, fallbackIcon);\n      const renderEmptyIcon = () => Optional.some({ dom: iconSpec });\n      const leftIcon = renderIcons ? info.iconContent.map(renderIcon).orThunk(renderEmptyIcon) : Optional.none();\n      const checkmark = info.checkMark;\n      const textRender = Optional.from(info.meta).fold(() => renderText, meta => has$2(meta, 'style') ? curry(renderStyledText, meta.style) : renderText);\n      const content = info.htmlContent.fold(() => info.textContent.map(textRender), html => Optional.some(renderHtml(html, [textClass])));\n      const menuItem = {\n        dom: renderItemDomStructure(info.ariaLabel),\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          checkmark,\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    const renderItemStructure = (info, providersBackstage, renderIcons, fallbackIcon = Optional.none()) => {\n      if (info.presets === 'color') {\n        return renderColorStructure(info, providersBackstage, fallbackIcon);\n      } else {\n        return renderNormalItemStructure(info, providersBackstage, renderIcons, fallbackIcon);\n      }\n    };\n\n    const tooltipBehaviour = (meta, sharedBackstage) => get$g(meta, 'tooltipWorker').map(tooltipWorker => [Tooltipping.config({\n        lazySink: sharedBackstage.getSink,\n        tooltipDom: {\n          tag: 'div',\n          classes: ['tox-tooltip-worker-container']\n        },\n        tooltipComponents: [],\n        anchor: comp => ({\n          type: 'submenu',\n          item: comp,\n          overrides: { maxHeightFunction: expandable$1 }\n        }),\n        mode: 'follow-highlight',\n        onShow: (component, _tooltip) => {\n          tooltipWorker(elm => {\n            Tooltipping.setComponents(component, [external$1({ element: SugarElement.fromDom(elm) })]);\n          });\n        }\n      })]).getOr([]);\n    const encodeText = text => global$7.DOM.encode(text);\n    const replaceText = (text, matchText) => {\n      const translated = global$8.translate(text);\n      const encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        const escapedMatchRegex = new RegExp(escape(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, match => `<span class=\"tox-autocompleter-highlight\">${ match }</span>`);\n      } else {\n        return encoded;\n      }\n    };\n    const renderAutocompleteItem = (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons = true) => {\n      const structure = renderItemStructure({\n        presets,\n        textContent: Optional.none(),\n        htmlContent: useText ? spec.text.map(text => replaceText(text, matchText)) : Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Optional.none(),\n        checkMark: Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi: constant$1({}),\n        onAction: _api => onItemValueHandler(spec.value, spec.meta),\n        onSetup: constant$1(noop),\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const render$2 = (items, extras) => map$2(items, item => {\n      switch (item.type) {\n      case 'cardcontainer':\n        return renderContainer(item, render$2(item.items, extras));\n      case 'cardimage':\n        return renderImage(item.src, item.classes, item.alt);\n      case 'cardtext':\n        const shouldHighlight = item.name.exists(name => contains$2(extras.cardText.highlightOn, name));\n        const matchText = shouldHighlight ? Optional.from(extras.cardText.matchText).getOr('') : '';\n        return renderHtml(replaceText(item.text, matchText), item.classes);\n      }\n    });\n    const renderCardMenuItem = (spec, itemResponse, sharedBackstage, extras) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => {\n          Disabling.set(component, !state);\n          each$1(descendants(component.element, '*'), elm => {\n            component.getSystem().getByDom(elm).each(comp => {\n              if (comp.hasConfigured(Disabling)) {\n                Disabling.set(comp, !state);\n              }\n            });\n          });\n        }\n      });\n      const structure = {\n        dom: renderItemDomStructure(spec.label),\n        optComponents: [Optional.some({\n            dom: {\n              tag: 'div',\n              classes: [\n                containerClass,\n                containerRowClass\n              ]\n            },\n            components: render$2(spec.items, extras)\n          })]\n      };\n      return renderCommonItem({\n        data: buildData({\n          text: Optional.none(),\n          ...spec\n        }),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: Optional.from(extras.itemBehaviours).getOr([])\n      }, structure, itemResponse, sharedBackstage.providers);\n    };\n\n    const renderChoiceItem = (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets,\n        textContent: useText ? spec.text : Optional.none(),\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Optional.none(),\n        checkMark: useText ? Optional.some(renderCheckmark(providersBackstage.icons)) : Optional.none(),\n        caret: Optional.none(),\n        value: spec.value\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: _api => onItemValueHandler(spec.value),\n        onSetup: api => {\n          api.setActive(isSelected);\n          return noop;\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    const parts$f = generate$3(owner$2(), parts$h());\n\n    const hexColour = value => ({ value });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const getLongForm = hex => {\n      const hexString = hex.value.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n      return { value: hexString };\n    };\n    const extractValues = hex => {\n      const longForm = getLongForm(hex);\n      const splitForm = longformRegex.exec(longForm.value);\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const min = Math.min;\n    const max = Math.max;\n    const round$1 = Math.round;\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const isRgbaComponent = value => {\n      const num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    const fromHsv = hsv => {\n      let r;\n      let g;\n      let b;\n      const hue = (hsv.hue || 0) % 360;\n      let saturation = hsv.saturation / 100;\n      let brightness = hsv.value / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$1(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      const side = hue / 60;\n      const chroma = brightness * saturation;\n      const x = chroma * (1 - Math.abs(side % 2 - 1));\n      const match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$1(255 * (r + match));\n      g = round$1(255 * (g + match));\n      b = round$1(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    const fromHex = hexColour => {\n      const result = extractValues(hexColour);\n      const red = parseInt(result[1], 16);\n      const green = parseInt(result[2], 16);\n      const blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n    const toString = rgba => `rgba(${ rgba.red },${ rgba.green },${ rgba.blue },${ rgba.alpha })`;\n    const red = rgbaColour(255, 0, 0, 1);\n\n    const fireSkinLoaded$1 = editor => editor.dispatch('SkinLoaded');\n    const fireSkinLoadError$1 = (editor, error) => editor.dispatch('SkinLoadError', error);\n    const fireResizeEditor = editor => editor.dispatch('ResizeEditor');\n    const fireResizeContent = (editor, e) => editor.dispatch('ResizeContent', e);\n    const fireScrollContent = (editor, e) => editor.dispatch('ScrollContent', e);\n    const fireTextColorChange = (editor, data) => editor.dispatch('TextColorChange', data);\n\n    const hsvColour = (hue, saturation, value) => ({\n      hue,\n      saturation,\n      value\n    });\n    const fromRgb = rgbaColour => {\n      let h = 0;\n      let s = 0;\n      let v = 0;\n      const r = rgbaColour.red / 255;\n      const g = rgbaColour.green / 255;\n      const b = rgbaColour.blue / 255;\n      const minRGB = Math.min(r, Math.min(g, b));\n      const maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      const d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    const hexToHsv = hex => fromRgb(fromHex(hex));\n    const hsvToHex = hsv => fromRgba(fromHsv(hsv));\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    const storageName = 'tinymce-custom-colors';\n    var ColorCache = (max = 10) => {\n      const storageString = global$4.getItem(storageName);\n      const localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      const prune = list => {\n        const diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      const cache = prune(localstorage);\n      const add = key => {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$4.setItem(storageName, JSON.stringify(cache));\n      };\n      const remove = idx => {\n        cache.splice(idx, 1);\n      };\n      const state = () => cache.slice(0);\n      return {\n        add,\n        state\n      };\n    };\n\n    const colorCache = ColorCache(10);\n    const calcCols = colors => Math.max(5, Math.ceil(Math.sqrt(colors)));\n    const mapColors = colorMap => {\n      const colors = [];\n      for (let i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: '#' + anyToHex(colorMap[i]).value,\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    const option$1 = name => editor => editor.options.get(name);\n    const register$d = editor => {\n      const registerOption = editor.options.register;\n      registerOption('color_map', {\n        processor: value => {\n          if (isArrayOf(value, isString)) {\n            return {\n              value: mapColors(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be an array of strings.'\n            };\n          }\n        },\n        default: [\n          '#BFEDD2',\n          'Light Green',\n          '#FBEEB8',\n          'Light Yellow',\n          '#F8CAC6',\n          'Light Red',\n          '#ECCAFA',\n          'Light Purple',\n          '#C2E0F4',\n          'Light Blue',\n          '#2DC26B',\n          'Green',\n          '#F1C40F',\n          'Yellow',\n          '#E03E2D',\n          'Red',\n          '#B96AD9',\n          'Purple',\n          '#3598DB',\n          'Blue',\n          '#169179',\n          'Dark Turquoise',\n          '#E67E23',\n          'Orange',\n          '#BA372A',\n          'Dark Red',\n          '#843FA1',\n          'Dark Purple',\n          '#236FA1',\n          'Dark Blue',\n          '#ECF0F1',\n          'Light Gray',\n          '#CED4D9',\n          'Medium Gray',\n          '#95A5A6',\n          'Gray',\n          '#7E8C8D',\n          'Dark Gray',\n          '#34495E',\n          'Navy Blue',\n          '#000000',\n          'Black',\n          '#ffffff',\n          'White'\n        ]\n      });\n      registerOption('color_cols', {\n        processor: 'number',\n        default: calcCols(getColors$2(editor).length)\n      });\n      registerOption('custom_colors', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getColorCols$1 = option$1('color_cols');\n    const hasCustomColors$1 = option$1('custom_colors');\n    const getColors$2 = option$1('color_map');\n    const getCurrentColors = () => map$2(colorCache.state(), color => ({\n      type: 'choiceitem',\n      text: color,\n      value: color\n    }));\n    const addColor = color => {\n      colorCache.add(color);\n    };\n\n    const fallbackColor = '#000000';\n    const getCurrentColor = (editor, format) => {\n      let color;\n      editor.dom.getParents(editor.selection.getStart(), elm => {\n        let value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return Optional.from(color);\n    };\n    const applyFormat = (editor, format, value) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.apply(format, { value });\n        editor.nodeChanged();\n      });\n    };\n    const removeFormat = (editor, format) => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    const registerCommands = editor => {\n      editor.addCommand('mceApplyTextcolor', (format, value) => {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', format => {\n        removeFormat(editor, format);\n      });\n    };\n    const getAdditionalColors = hasCustom => {\n      const type = 'choiceitem';\n      const remove = {\n        type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      const custom = {\n        type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    const applyColor = (editor, format, value, onChoice) => {\n      if (value === 'custom') {\n        const dialog = colorPickerDialog(editor);\n        dialog(colorOpt => {\n          colorOpt.each(color => {\n            addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, fallbackColor);\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    const getColors$1 = (colors, hasCustom) => colors.concat(getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    const getFetch$1 = (colors, hasCustom) => callback => {\n      callback(getColors$1(colors, hasCustom));\n    };\n    const setIconColor = (splitButtonApi, name, newColor) => {\n      const id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      splitButtonApi.setIconFill(id, newColor);\n    };\n    const registerTextColorButton = (editor, name, format, tooltip, lastColor) => {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: value => {\n          const optCurrentRgb = getCurrentColor(editor, format);\n          return optCurrentRgb.bind(currentRgb => fromString(currentRgb).map(rgba => {\n            const currentHex = fromRgba(rgba).value;\n            return contains$1(value.toLowerCase(), currentHex);\n          })).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch$1(getColors$2(editor), hasCustomColors$1(editor)),\n        onAction: _splitButtonApi => {\n          applyColor(editor, format, lastColor.get(), noop);\n        },\n        onItemAction: (_splitButtonApi, value) => {\n          applyColor(editor, format, value, newColor => {\n            lastColor.set(newColor);\n            fireTextColorChange(editor, {\n              name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: splitButtonApi => {\n          setIconColor(splitButtonApi, name, lastColor.get());\n          const handler = e => {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return () => {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    const registerTextColorMenuItem = (editor, name, format, text) => {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: () => [{\n            type: 'fancymenuitem',\n            fancytype: 'colorswatch',\n            onAction: data => {\n              applyColor(editor, format, data.value, noop);\n            }\n          }]\n      });\n    };\n    const colorPickerDialog = editor => (callback, value) => {\n      let isValid = false;\n      const onSubmit = api => {\n        const data = api.getData();\n        const hex = data.colorpicker;\n        if (isValid) {\n          callback(Optional.from(hex));\n          api.close();\n        } else {\n          editor.windowManager.alert(editor.translate([\n            'Invalid hex color code: {0}',\n            hex\n          ]));\n        }\n      };\n      const onAction = (_api, details) => {\n        if (details.name === 'hex-valid') {\n          isValid = details.value;\n        }\n      };\n      const initialData = { colorpicker: value };\n      editor.windowManager.open({\n        title: 'Color Picker',\n        size: 'normal',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'colorpicker',\n              name: 'colorpicker',\n              label: 'Color'\n            }]\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onAction,\n        onSubmit,\n        onClose: noop,\n        onCancel: () => {\n          callback(Optional.none());\n        }\n      });\n    };\n    const register$c = editor => {\n      registerCommands(editor);\n      const lastForeColor = Cell(fallbackColor);\n      const lastBackColor = Cell(fallbackColor);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n\n    const createPartialChoiceMenu = (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) => {\n      const hasIcons = menuHasIcons(items);\n      const presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      const alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n    };\n    const createChoiceItems = (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) => cat(map$2(items, item => {\n      if (item.type === 'choiceitem') {\n        return createChoiceMenuItem(item).fold(handleError, d => Optional.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage, menuHasIcons(items))));\n      } else {\n        return Optional.none();\n      }\n    }));\n\n    const deriveMenuMovement = (columns, presets) => {\n      const menuMarkers = markers(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        const rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    const deriveCollectionMovement = (columns, presets) => {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? `.${ colorClass }` : `.${ selectableClass }`\n          }\n        };\n      }\n    };\n\n    const renderColorSwatchItem = (spec, backstage) => {\n      const items = getColorItems(spec, backstage);\n      const columns = backstage.colorinput.getColorCols();\n      const presets = 'color';\n      const menuSpec = createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onAction({ value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, backstage.shared.providers);\n      const widgetSpec = {\n        ...menuSpec,\n        markers: markers(presets),\n        movement: deriveMenuMovement(columns, presets)\n      };\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget(Menu.sketch(widgetSpec))]\n      };\n    };\n    const getColorItems = (spec, backstage) => {\n      const useCustomColors = spec.initData.allowCustomColors && backstage.colorinput.hasCustomColors();\n      return spec.initData.colors.fold(() => getColors$1(backstage.colorinput.getColors(), useCustomColors), colors => colors.concat(getAdditionalColors(useCustomColors)));\n    };\n\n    const cellOverEvent = generate$6('cell-over');\n    const cellExecuteEvent = generate$6('cell-execute');\n    const makeCell = (row, col, labelId) => {\n      const emitCellOver = c => emitWith(c, cellOverEvent, {\n        row,\n        col\n      });\n      const emitExecute = c => emitWith(c, cellExecuteEvent, {\n        row,\n        col\n      });\n      const onClick = (c, se) => {\n        se.stop();\n        emitExecute(c);\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'button',\n            ['aria-labelledby']: labelId\n          }\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run$1(mouseover(), Focusing.focus),\n            run$1(execute$5(), emitExecute),\n            run$1(click(), onClick),\n            run$1(tap(), onClick)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    const makeCells = (labelId, numRows, numCols) => {\n      const cells = [];\n      for (let i = 0; i < numRows; i++) {\n        const row = [];\n        for (let j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    const selectCells = (cells, selectedRow, selectedColumn, numRows, numColumns) => {\n      for (let i = 0; i < numRows; i++) {\n        for (let j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    const makeComponents = cells => bind$3(cells, cellRow => map$2(cellRow, premade));\n    const makeLabelText = (row, col) => text$1(`${ col }x${ row }`);\n    const renderInsertTableMenuItem = spec => {\n      const numRows = 10;\n      const numColumns = 10;\n      const sizeLabelId = generate$6('size-label');\n      const cells = makeCells(sizeLabelId, numRows, numColumns);\n      const emptyLabelText = makeLabelText(0, 0);\n      const memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [emptyLabelText],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$6('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$f.widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runOnAttached(c => {\n                  Replacing.set(memLabel.get(c), [emptyLabelText]);\n                }),\n                runWithTarget(cellOverEvent, (c, t, e) => {\n                  const {row, col} = e.event;\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row + 1, col + 1)]);\n                }),\n                runWithTarget(cellExecuteEvent, (c, _, e) => {\n                  const {row, col} = e.event;\n                  spec.onAction({\n                    numRows: row + 1,\n                    numColumns: col + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows,\n                  numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    };\n\n    const fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    const renderFancyMenuItem = (spec, backstage) => get$g(fancyMenuItems, spec.fancytype).map(render => render(spec, backstage));\n\n    const renderNestedItem = (spec, itemResponse, providersBackstage, renderIcons = true, downwardsCaret = false) => {\n      const caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.some(caret),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderNormalItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        caret: Optional.none(),\n        checkMark: Optional.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi,\n        enabled: spec.enabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage);\n    };\n\n    const renderSeparatorItem = spec => ({\n      type: 'separator',\n      dom: {\n        tag: 'div',\n        classes: [\n          selectableClass,\n          groupHeadingClass\n        ]\n      },\n      components: spec.text.map(text$1).toArray()\n    });\n\n    const renderToggleMenuItem = (spec, itemResponse, providersBackstage, renderIcons = true) => {\n      const getApi = component => ({\n        setActive: state => {\n          Toggling.set(component, state);\n        },\n        isActive: () => Toggling.isOn(component),\n        isEnabled: () => !Disabling.isDisabled(component),\n        setEnabled: state => Disabling.set(component, !state)\n      });\n      const structure = renderItemStructure({\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Optional.none(),\n        ariaLabel: spec.text,\n        checkMark: Optional.some(renderCheckmark(providersBackstage.icons)),\n        caret: Optional.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, renderIcons);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        enabled: spec.enabled,\n        getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse, providersBackstage), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    const autocomplete = renderAutocompleteItem;\n    const separator$3 = renderSeparatorItem;\n    const normal = renderNormalItem;\n    const nested = renderNestedItem;\n    const toggle$1 = renderToggleMenuItem;\n    const fancy = renderFancyMenuItem;\n    const card = renderCardMenuItem;\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    const createMenuItemFromBridge = (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) => {\n      const providersBackstage = backstage.shared.providers;\n      const parseForHorizontalMenu = menuitem => !isHorizontalMenu ? menuitem : {\n        ...menuitem,\n        shortcut: Optional.none(),\n        icon: menuitem.text.isSome() ? Optional.none() : menuitem.icon\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, d => Optional.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, d => Optional.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu)));\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, d => Optional.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons)));\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, d => fancy(parseForHorizontalMenu(d), backstage));\n      default: {\n          console.error('Unknown item in general menu', item);\n          return Optional.none();\n        }\n      }\n    };\n    const createAutocompleteItems = (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage, highlightOn) => {\n      const renderText = columns === 1;\n      const renderIcons = !renderText || menuHasIcons(items);\n      return cat(map$2(items, item => {\n        switch (item.type) {\n        case 'separator':\n          return createSeparatorItem(item).fold(handleError, d => Optional.some(separator$3(d)));\n        case 'cardmenuitem':\n          return createCardMenuItem(item).fold(handleError, d => Optional.some(card({\n            ...d,\n            onAction: api => {\n              d.onAction(api);\n              onItemValueHandler(d.value, d.meta);\n            }\n          }, itemResponse, sharedBackstage, {\n            itemBehaviours: tooltipBehaviour(d.meta, sharedBackstage),\n            cardText: {\n              matchText,\n              highlightOn\n            }\n          })));\n        case 'autocompleteitem':\n        default:\n          return createAutocompleterItem(item).fold(handleError, d => Optional.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons)));\n        }\n      }));\n    };\n    const createPartialMenu = (value, items, itemResponse, backstage, isHorizontalMenu) => {\n      const hasIcons = menuHasIcons(items);\n      const alloyItems = cat(map$2(items, item => {\n        const itemHasIcon = i => isHorizontalMenu ? !has$2(i, 'text') : hasIcons;\n        const createItem = i => createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem({\n            ...item,\n            enabled: false\n          });\n        } else {\n          return createItem(item);\n        }\n      }));\n      const createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, 'normal');\n    };\n    const createTieredDataFrom = partialMenu => tieredMenu.singleData(partialMenu.value, partialMenu);\n    const createMenuFrom = (partialMenu, columns, focusMode, presets) => {\n      const focusManager = focusMode === FocusMode.ContentFocus ? highlights() : dom$2();\n      const movement = deriveMenuMovement(columns, presets);\n      const menuMarkers = markers(presets);\n      return {\n        dom: partialMenu.dom,\n        components: partialMenu.components,\n        items: partialMenu.items,\n        value: partialMenu.value,\n        markers: {\n          selectedItem: menuMarkers.selectedItem,\n          item: menuMarkers.item\n        },\n        movement,\n        fakeFocus: focusMode === FocusMode.ContentFocus,\n        focusManager,\n        menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n            detectSize(comp, 4, menuMarkers.item).each(({numColumns, numRows}) => {\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          })])\n      };\n    };\n\n    const getAutocompleterRange = (dom, initRange) => {\n      return detect(SugarElement.fromDom(initRange.startContainer)).map(elm => {\n        const range = dom.createRng();\n        range.selectNode(elm.dom);\n        return range;\n      });\n    };\n    const register$b = (editor, sharedBackstage) => {\n      const processingAction = Cell(false);\n      const activeState = Cell(false);\n      const autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run$1(dismissRequested(), () => cancelIfNecessary())])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      const isMenuOpen = () => InlineView.isOpen(autocompleter);\n      const isActive = activeState.get;\n      const hideIfNecessary = () => {\n        if (isMenuOpen()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      const cancelIfNecessary = () => editor.execCommand('mceAutocompleterClose');\n      const getCombinedItems = matches => {\n        const columns = findMap(matches, m => Optional.from(m.columns)).getOr(1);\n        return bind$3(matches, match => {\n          const choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, (itemValue, itemMeta) => {\n            const nr = editor.selection.getRng();\n            getAutocompleterRange(editor.dom, nr).each(range => {\n              const autocompleterApi = {\n                hide: () => cancelIfNecessary(),\n                reload: fetchOptions => {\n                  hideIfNecessary();\n                  editor.execCommand('mceAutocompleterReload', false, { fetchOptions });\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage, match.highlightOn);\n        });\n      };\n      const display = (lookupData, items) => {\n        findIn(SugarElement.fromDom(editor.getBody())).each(element => {\n          const columns = findMap(lookupData, ld => Optional.from(ld.columns)).getOr(1);\n          InlineView.showAt(autocompleter, Menu.sketch(createMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal')), {\n            anchor: {\n              type: 'node',\n              root: SugarElement.fromDom(editor.getBody()),\n              node: Optional.from(element)\n            }\n          });\n          InlineView.getContent(autocompleter).each(Highlighting.highlightFirst);\n        });\n      };\n      const updateDisplay = lookupData => {\n        const combinedItems = getCombinedItems(lookupData);\n        if (combinedItems.length > 0) {\n          display(lookupData, combinedItems);\n        } else {\n          hideIfNecessary();\n        }\n      };\n      editor.on('AutocompleterStart', ({lookupData}) => {\n        activeState.set(true);\n        processingAction.set(false);\n        updateDisplay(lookupData);\n      });\n      editor.on('AutocompleterUpdate', ({lookupData}) => updateDisplay(lookupData));\n      editor.on('AutocompleterEnd', () => {\n        hideIfNecessary();\n        activeState.set(false);\n        processingAction.set(false);\n      });\n      const autocompleterUiApi = {\n        cancelIfNecessary,\n        isMenuOpen,\n        isActive,\n        isProcessingAction: processingAction.get,\n        getView: () => InlineView.getContent(autocompleter)\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    const Autocompleter = { register: register$b };\n\n    const closest = (scope, selector, isRoot) => closest$1(scope, selector, isRoot).isSome();\n\n    const DelayedFunction = (fun, delay) => {\n      let ref = null;\n      const schedule = (...args) => {\n        ref = setTimeout(() => {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      const cancel = () => {\n        if (ref !== null) {\n          clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel,\n        schedule\n      };\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      const raw = event.raw;\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(raw.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const monitor = settings => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const longpress$1 = DelayedFunction(event => {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      const handleTouchstart = event => {\n        getTouch(event).each(touch => {\n          longpress$1.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n        return Optional.none();\n      };\n      const handleTouchmove = event => {\n        longpress$1.cancel();\n        getTouch(event).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n            }\n          });\n        });\n        return Optional.none();\n      };\n      const handleTouchend = event => {\n        longpress$1.cancel();\n        const isSame = data => eq(data.target, event.target);\n        return startData.get().filter(isSame).map(_data => {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      const handlers = wrapAll([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      const fireIfReady = (event, type) => get$g(handlers, type).bind(handler => handler(event));\n      return { fireIfReady };\n    };\n\n    const isDangerous = event => {\n      const keyEv = event.raw;\n      return keyEv.which === BACKSPACE[0] && !contains$2([\n        'input',\n        'textarea'\n      ], name$3(event.target)) && !closest(event.target, '[contenteditable=\"true\"]');\n    };\n    const setup$d = (container, rawSettings) => {\n      const settings = {\n        stopBackspace: true,\n        ...rawSettings\n      };\n      const pointerEvents = [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'touchcancel',\n        'gesturestart',\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      const tapEvent = monitor(settings);\n      const simpleEvents = map$2(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'transitioncancel',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), type => bind(container, type, event => {\n        tapEvent.fireIfReady(event, type).each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent(type, event);\n        if (stopped) {\n          event.kill();\n        }\n      }));\n      const pasteTimeout = value$2();\n      const onPaste = bind(container, 'paste', event => {\n        tapEvent.fireIfReady(event, 'paste').each(tapStopped => {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        const stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postPaste(), event);\n        }, 0));\n      });\n      const onKeydown = bind(container, 'keydown', event => {\n        const stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      const onFocusIn = bind(container, 'focusin', event => {\n        const stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      const focusoutTimeout = value$2();\n      const onFocusOut = bind(container, 'focusout', event => {\n        const stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(setTimeout(() => {\n          settings.triggerEvent(postBlur(), event);\n        }, 0));\n      });\n      const unbind = () => {\n        each$1(simpleEvents, e => {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.on(clearTimeout);\n        focusoutTimeout.on(clearTimeout);\n      };\n      return { unbind };\n    };\n\n    const derive = (rawEvent, rawTarget) => {\n      const source = get$g(rawEvent, 'target').getOr(rawTarget);\n      return Cell(source);\n    };\n\n    const fromSource = (event, source) => {\n      const stopper = Cell(false);\n      const cutter = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      const cut = () => {\n        cutter.set(true);\n      };\n      return {\n        stop,\n        cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event,\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    const fromExternal = event => {\n      const stopper = Cell(false);\n      const stop = () => {\n        stopper.set(true);\n      };\n      return {\n        stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: never,\n        event,\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    const adt$1 = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    const doTriggerHandler = (lookup, eventType, rawEvent, target, source, logger) => {\n      const handler = lookup(eventType, target);\n      const simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(() => {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$1.complete();\n      }, handlerInfo => {\n        const descHandler = handlerInfo.descHandler;\n        const eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element, descHandler.purpose);\n          return adt$1.complete();\n        } else {\n          return parent(handlerInfo.element).fold(() => {\n            logger.logNoParent(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.complete();\n          }, parent => {\n            logger.logEventResponse(eventType, handlerInfo.element, descHandler.purpose);\n            return adt$1.resume(parent);\n          });\n        }\n      });\n    };\n    const doTriggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, source, logger) => doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(always, parent => doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger), never);\n    const triggerHandler = (lookup, eventType, rawEvent, target, logger) => {\n      const source = derive(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    const broadcast = (listeners, rawEvent, _logger) => {\n      const simulatedEvent = fromExternal(rawEvent);\n      each$1(listeners, listener => {\n        const descHandler = listener.descHandler;\n        const handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    const triggerUntilStopped = (lookup, eventType, rawEvent, logger) => triggerOnUntilStopped(lookup, eventType, rawEvent, rawEvent.target, logger);\n    const triggerOnUntilStopped = (lookup, eventType, rawEvent, rawTarget, logger) => {\n      const source = derive(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    const eventHandler = (element, descHandler) => ({\n      element,\n      descHandler\n    });\n    const broadcastHandler = (id, handler) => ({\n      id,\n      descHandler: handler\n    });\n    const EventRegistry = () => {\n      const registry = {};\n      const registerId = (extraArgs, id, events) => {\n        each(events, (v, k) => {\n          const handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      const findHandler = (handlers, elem) => read$1(elem).bind(id => get$g(handlers, id)).map(descHandler => eventHandler(elem, descHandler));\n      const filterByType = type => get$g(registry, type).map(handlers => mapToArray(handlers, (f, id) => broadcastHandler(id, f))).getOr([]);\n      const find = (isAboveRoot, type, target) => get$g(registry, type).bind(handlers => closest$4(target, elem => findHandler(handlers, elem), isAboveRoot));\n      const unregisterId = id => {\n        each(registry, (handlersById, _eventName) => {\n          if (has$2(handlersById, id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId,\n        unregisterId,\n        filterByType,\n        find\n      };\n    };\n\n    const Registry = () => {\n      const events = EventRegistry();\n      const components = {};\n      const readOrTag = component => {\n        const elem = component.element;\n        return read$1(elem).getOrThunk(() => write('uid-', component.element));\n      };\n      const failOnDuplicate = (component, tagId) => {\n        const conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element) + '\\nCannot use it for: ' + element(component.element) + '\\n' + 'The conflicting element is' + (inBody(conflict.element) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      const register = component => {\n        const tagId = readOrTag(component);\n        if (hasNonNullableKey(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        const extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events);\n        components[tagId] = component;\n      };\n      const unregister = component => {\n        read$1(component.element).each(tagId => {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      const filter = type => events.filterByType(type);\n      const find = (isAboveRoot, type, target) => events.find(isAboveRoot, type, target);\n      const getById = id => get$g(components, id);\n      return {\n        find,\n        filter,\n        register,\n        unregister,\n        getById\n      };\n    };\n\n    const factory$j = detail => {\n      const {attributes, ...domWithoutAttributes} = detail.dom;\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: {\n            role: 'presentation',\n            ...attributes\n          },\n          ...domWithoutAttributes\n        },\n        components: detail.components,\n        behaviours: get$3(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    const Container = single({\n      name: 'Container',\n      factory: factory$j,\n      configFields: [\n        defaulted('components', []),\n        field('containerBehaviours', []),\n        defaulted('events', {}),\n        defaulted('domModification', {}),\n        defaulted('eventOrder', {})\n      ]\n    });\n\n    const takeover = root => {\n      const isAboveRoot = el => parent(root.element).fold(always, parent => eq(el, parent));\n      const registry = Registry();\n      const lookup = (eventName, target) => registry.find(isAboveRoot, eventName, target);\n      const domEvents = setup$d(root.element, {\n        triggerEvent: (eventName, event) => {\n          return monitorEvent(eventName, event.target, logger => triggerUntilStopped(lookup, eventName, event, logger));\n        }\n      });\n      const systemApi = {\n        debugInfo: constant$1('real'),\n        triggerEvent: (eventName, target, data) => {\n          monitorEvent(eventName, target, logger => triggerOnUntilStopped(lookup, eventName, data, target, logger));\n        },\n        triggerFocus: (target, originator) => {\n          read$1(target).fold(() => {\n            focus$3(target);\n          }, _alloyId => {\n            monitorEvent(focus$4(), target, logger => {\n              triggerHandler(lookup, focus$4(), {\n                originator,\n                kill: noop,\n                prevent: noop,\n                target\n              }, target, logger);\n              return false;\n            });\n          });\n        },\n        triggerEscape: (comp, simulatedEvent) => {\n          systemApi.triggerEvent('keydown', comp.element, simulatedEvent.event);\n        },\n        getByUid: uid => {\n          return getByUid(uid);\n        },\n        getByDom: elem => {\n          return getByDom(elem);\n        },\n        build: build$1,\n        buildOrPatch: buildOrPatch,\n        addToGui: c => {\n          add(c);\n        },\n        removeFromGui: c => {\n          remove(c);\n        },\n        addToWorld: c => {\n          addToWorld(c);\n        },\n        removeFromWorld: c => {\n          removeFromWorld(c);\n        },\n        broadcast: message => {\n          broadcast$1(message);\n        },\n        broadcastOn: (channels, message) => {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: (eventName, event) => {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: always\n      };\n      const addToWorld = component => {\n        component.connect(systemApi);\n        if (!isText(component.element)) {\n          registry.register(component);\n          each$1(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element, { target: component.element });\n        }\n      };\n      const removeFromWorld = component => {\n        if (!isText(component.element)) {\n          each$1(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      const add = component => {\n        attach(root, component);\n      };\n      const remove = component => {\n        detach(component);\n      };\n      const destroy = () => {\n        domEvents.unbind();\n        remove$5(root.element);\n      };\n      const broadcastData = data => {\n        const receivers = registry.filter(receive());\n        each$1(receivers, receiver => {\n          const descHandler = receiver.descHandler;\n          const handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      const broadcast$1 = message => {\n        broadcastData({\n          universal: true,\n          data: message\n        });\n      };\n      const broadcastOn = (channels, message) => {\n        broadcastData({\n          universal: false,\n          channels,\n          data: message\n        });\n      };\n      const broadcastEvent = (eventName, event) => {\n        const listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      const getByUid = uid => registry.getById(uid).fold(() => Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.')), Result.value);\n      const getByDom = elem => {\n        const uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root,\n        element: root.element,\n        destroy,\n        add,\n        remove,\n        getByUid,\n        getByDom,\n        addToWorld,\n        removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn,\n        broadcastEvent\n      };\n    };\n\n    const renderBar = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-bar',\n          'tox-form__controls-h-stack'\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const schema$l = constant$1([\n      defaulted('prefix', 'form-field'),\n      field('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const parts$e = constant$1([\n      optional({\n        schema: [required$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: spec => {\n            const excludeFactory = exclude(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [required$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    const factory$i = (detail, components, _spec, _externals) => {\n      const behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: container => {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: field => {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: (field, value) => {\n              Composing.getCurrent(field).each(current => {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      const events = derive$2([runOnAttached((component, _simulatedEvent) => {\n          const ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(field => {\n            const id = generate$6(detail.prefix);\n            ps.label().each(label => {\n              set$9(label.element, 'for', id);\n              set$9(field.element, 'id', id);\n            });\n            ps['aria-descriptor']().each(descriptor => {\n              const descriptorId = generate$6(detail.prefix);\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(field.element, 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      const apis = {\n        getField: container => getPart(container, detail, 'field'),\n        getLabel: container => getPart(container, detail, 'label')\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours,\n        events,\n        apis\n      };\n    };\n    const FormField = composite({\n      name: 'FormField',\n      configFields: schema$l(),\n      partFields: parts$e(),\n      factory: factory$i,\n      apis: {\n        getField: (apis, comp) => apis.getField(comp),\n        getLabel: (apis, comp) => apis.getLabel(comp)\n      }\n    });\n\n    const exhibit$2 = (base, tabConfig) => nu$7({\n      attributes: wrapAll([{\n          key: tabConfig.tabAttr,\n          value: 'true'\n        }])\n    });\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit$2\n    });\n\n    var TabstopSchema = [defaulted('tabAttr', 'data-alloy-tabstop')];\n\n    const Tabstopping = create$3({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    const renderFormFieldWith = (pLabel, pField, extraClasses, extraBehaviours) => {\n      const spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    const renderFormField = (pLabel, pField) => renderFormFieldWith(pLabel, pField, [], []);\n    const renderFormFieldSpecWith = (pLabel, pField, extraClasses, extraBehaviours) => ({\n      dom: renderFormFieldDomWith(extraClasses),\n      components: pLabel.toArray().concat([pField]),\n      fieldBehaviours: derive$1(extraBehaviours)\n    });\n    const renderFormFieldDom = () => renderFormFieldDomWith([]);\n    const renderFormFieldDomWith = extraClasses => ({\n      tag: 'div',\n      classes: ['tox-form__group'].concat(extraClasses)\n    });\n    const renderLabel$2 = (label, providersBackstage) => FormField.parts.label({\n      dom: {\n        tag: 'label',\n        classes: ['tox-label']\n      },\n      components: [text$1(providersBackstage.translate(label))]\n    });\n\n    const formChangeEvent = generate$6('form-component-change');\n    const formCloseEvent = generate$6('form-close');\n    const formCancelEvent = generate$6('form-cancel');\n    const formActionEvent = generate$6('form-action');\n    const formSubmitEvent = generate$6('form-submit');\n    const formBlockEvent = generate$6('form-block');\n    const formUnblockEvent = generate$6('form-unblock');\n    const formTabChangeEvent = generate$6('form-tabchange');\n    const formResizeEvent = generate$6('form-resize');\n\n    const renderCollection = (spec, providersBackstage, initialData) => {\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const runOnItem = f => (comp, se) => {\n        closest$1(se.event.target, '[data-collection-item-value]').each(target => {\n          f(comp, se, target, get$f(target, 'data-collection-item-value'));\n        });\n      };\n      const setContents = (comp, items) => {\n        const htmlLines = map$2(items, item => {\n          const itemText = global$8.translate(item.text);\n          const textContent = spec.columns === 1 ? `<div class=\"tox-collection__item-label\">${ itemText }</div>` : '';\n          const iconContent = `<div class=\"tox-collection__item-icon\">${ item.icon }</div>`;\n          const mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          const ariaLabel = itemText.replace(/\\_| \\- |\\-/g, match => mapItemName[match]);\n          const disabledClass = providersBackstage.isDisabled() ? ' tox-collection__item--state-disabled' : '';\n          return `<div class=\"tox-collection__item${ disabledClass }\" tabindex=\"-1\" data-collection-item-value=\"${ global$3.encodeAllRaw(item.value) }\" title=\"${ ariaLabel }\" aria-label=\"${ ariaLabel }\">${ iconContent }${ textContent }</div>`;\n        });\n        const chunks = spec.columns !== 'auto' && spec.columns > 1 ? chunk$1(htmlLines, spec.columns) : [htmlLines];\n        const html = map$2(chunks, ch => `<div class=\"tox-collection__group\">${ ch.join('') }</div>`);\n        set$6(comp.element, html.join(''));\n      };\n      const onClick = runOnItem((comp, se, tgt, itemValue) => {\n        se.stop();\n        if (!providersBackstage.isDisabled()) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }\n      });\n      const collectionEvents = [\n        run$1(mouseover(), runOnItem((comp, se, tgt) => {\n          focus$3(tgt);\n        })),\n        run$1(click(), onClick),\n        run$1(tap(), onClick),\n        run$1(focusin(), runOnItem((comp, se, tgt) => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run$1(focusout(), runOnItem(comp => {\n          descendant(comp.element, '.' + activeClass).each(currentActive => {\n            remove$2(currentActive, activeClass);\n          });\n        })),\n        runOnExecute$1(runOnItem((comp, se, tgt, itemValue) => {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      const iterCollectionItems = (comp, applyAttributes) => map$2(descendants(comp.element, '.tox-collection__item'), applyAttributes);\n      const pField = FormField.parts.field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Disabling.config({\n            disabled: providersBackstage.isDisabled,\n            onDisabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                add$2(childElm, 'tox-collection__item--state-disabled');\n                set$9(childElm, 'aria-disabled', true);\n              });\n            },\n            onEnabled: comp => {\n              iterCollectionItems(comp, childElm => {\n                remove$2(childElm, 'tox-collection__item--state-disabled');\n                remove$7(childElm, 'aria-disabled');\n              });\n            }\n          }),\n          receivingConfig(),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: initialData.getOr([])\n            },\n            onSetValue: (comp, items) => {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(({numRows, numColumns}) => {\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'collection-events'\n          ]\n        }\n      });\n      const extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    const schema$k = constant$1([\n      option$3('data'),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('tag', 'input'),\n      defaulted('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted('styles', {}),\n      defaulted('eventOrder', {}),\n      field('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted('selectOnFocus', true)\n    ]);\n    const focusBehaviours = detail => derive$1([Focusing.config({\n        onFocus: !detail.selectOnFocus ? noop : component => {\n          const input = component.element;\n          const value = get$6(input);\n          input.dom.setSelectionRange(0, value.length);\n        }\n      })]);\n    const behaviours = detail => ({\n      ...focusBehaviours(detail),\n      ...augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            ...detail.data.map(data => ({ initialValue: data })).getOr({}),\n            getValue: input => {\n              return get$6(input.element);\n            },\n            setValue: (input, data) => {\n              const current = get$6(input.element);\n              if (current !== data) {\n                set$5(input.element, data);\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })])\n    });\n    const dom = detail => ({\n      tag: detail.tag,\n      attributes: {\n        type: 'text',\n        ...detail.inputAttributes\n      },\n      styles: detail.inputStyles,\n      classes: detail.inputClasses\n    });\n\n    const factory$h = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: dom(detail),\n      components: [],\n      behaviours: behaviours(detail),\n      eventOrder: detail.eventOrder\n    });\n    const Input = single({\n      name: 'Input',\n      configFields: schema$k(),\n      factory: factory$h\n    });\n\n    const nu$3 = baseFn => {\n      let data = Optional.none();\n      let callbacks = [];\n      const map = f => nu$3(nCallback => {\n        get(data => {\n          nCallback(f(data));\n        });\n      });\n      const get = nCallback => {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      const set = x => {\n        if (!isReady()) {\n          data = Optional.some(x);\n          run(callbacks);\n          callbacks = [];\n        }\n      };\n      const isReady = () => data.isSome();\n      const run = cbs => {\n        each$1(cbs, call);\n      };\n      const call = cb => {\n        data.each(x => {\n          setTimeout(() => {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get,\n        map,\n        isReady\n      };\n    };\n    const pure$1 = a => nu$3(callback => {\n      callback(a);\n    });\n    const LazyValue = {\n      nu: nu$3,\n      pure: pure$1\n    };\n\n    const errorReporter = err => {\n      setTimeout(() => {\n        throw err;\n      }, 0);\n    };\n    const make$5 = run => {\n      const get = callback => {\n        run().then(callback, errorReporter);\n      };\n      const map = fab => {\n        return make$5(() => run().then(fab));\n      };\n      const bind = aFutureB => {\n        return make$5(() => run().then(v => aFutureB(v).toPromise()));\n      };\n      const anonBind = futureB => {\n        return make$5(() => run().then(() => futureB.toPromise()));\n      };\n      const toLazy = () => {\n        return LazyValue.nu(get);\n      };\n      const toCached = () => {\n        let cache = null;\n        return make$5(() => {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      const toPromise = run;\n      return {\n        map,\n        bind,\n        anonBind,\n        toLazy,\n        toCached,\n        toPromise,\n        get\n      };\n    };\n    const nu$2 = baseFn => {\n      return make$5(() => new Promise(baseFn));\n    };\n    const pure = a => {\n      return make$5(() => Promise.resolve(a));\n    };\n    const Future = {\n      nu: nu$2,\n      pure\n    };\n\n    const ariaElements = [\n      'input',\n      'textarea'\n    ];\n    const isAriaElement = elem => {\n      const name = name$3(elem);\n      return contains$2(ariaElements, name);\n    };\n    const markValid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      remove$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    const markInvalid = (component, invalidConfig, invalidState, text) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(notifyInfo => {\n        if (isAriaElement(component.element)) {\n          set$9(component.element, 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(container => {\n          set$6(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    const query = (component, invalidConfig, _invalidState) => invalidConfig.validator.fold(() => Future.pure(Result.value(true)), validatorInfo => validatorInfo.validate(component));\n    const run = (component, invalidConfig, invalidState) => {\n      invalidConfig.notify.each(notifyInfo => {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(valid => {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(err => {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, v => {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    const isInvalid = (component, invalidConfig) => {\n      const elem = invalidConfig.getRoot(component).getOr(component.element);\n      return has(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run,\n        isInvalid: isInvalid\n    });\n\n    const events$8 = (invalidConfig, invalidState) => invalidConfig.validator.map(validatorInfo => derive$2([run$1(validatorInfo.onEvent, component => {\n        run(component, invalidConfig, invalidState).get(identity);\n      })].concat(validatorInfo.validateOnLoad ? [runOnAttached(component => {\n        run(component, invalidConfig, invalidState).get(noop);\n      })] : []))).getOr({});\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$8\n    });\n\n    var InvalidateSchema = [\n      required$1('invalidClass'),\n      defaulted('getRoot', Optional.none),\n      optionObjOf('notify', [\n        defaulted('aria', 'alert'),\n        defaulted('getContainer', Optional.none),\n        defaulted('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        required$1('validate'),\n        defaulted('onEvent', 'input'),\n        defaulted('validateOnLoad', true)\n      ])\n    ];\n\n    const Invalidating = create$3({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: validator => {\n          return component => {\n            const v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    const getCoupled = (component, coupleConfig, coupleState, name) => coupleState.getOrCreate(component, coupleConfig, name);\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getCoupled: getCoupled\n    });\n\n    var CouplingSchema = [requiredOf('others', setOf(Result.value, anyValue()))];\n\n    const init$a = () => {\n      const coupled = {};\n      const getOrCreate = (component, coupleConfig, name) => {\n        const available = keys(coupleConfig.others);\n        if (!available) {\n          throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n        } else {\n          return get$g(coupled, name).getOrThunk(() => {\n            const builder = get$g(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n            const spec = builder(component);\n            const built = component.getSystem().build(spec);\n            coupled[name] = built;\n            return built;\n          });\n        }\n      };\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$a\n    });\n\n    const Coupling = create$3({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    const suffix = constant$1('sink');\n    const partType$1 = constant$1(optional({\n      name: suffix(),\n      overrides: constant$1({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive$2([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n    const getAnchor = (detail, component) => {\n      const hotspot = detail.getHotspot(component).getOr(component);\n      const type = 'hotspot';\n      const overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(() => ({\n        type,\n        hotspot,\n        overrides\n      }), layouts => ({\n        type,\n        hotspot,\n        overrides,\n        layouts\n      }));\n    };\n    const fetch = (detail, mapFetch, component) => {\n      const fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    const openF = (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) => {\n      const futureData = fetch(detail, mapFetch, component);\n      const getLazySink = getSink(component, detail);\n      return futureData.map(tdata => tdata.bind(data => Optional.from(tieredMenu.sketch({\n        ...externals.menu(),\n        uid: generate$5(''),\n        data,\n        highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n        onOpenMenu: (tmenu, menu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, menu, { anchor });\n          Sandboxing.decloak(sandbox);\n        },\n        onOpenSubmenu: (tmenu, item, submenu) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, submenu, {\n            anchor: {\n              type: 'submenu',\n              item\n            }\n          });\n          Sandboxing.decloak(sandbox);\n        },\n        onRepositionMenu: (tmenu, primaryMenu, submenuTriggers) => {\n          const sink = getLazySink().getOrDie();\n          Positioning.position(sink, primaryMenu, { anchor });\n          each$1(submenuTriggers, st => {\n            Positioning.position(sink, st.triggeredMenu, {\n              anchor: {\n                type: 'submenu',\n                item: st.triggeringItem\n              }\n            });\n          });\n        },\n        onEscape: () => {\n          Focusing.focus(component);\n          Sandboxing.close(sandbox);\n          return Optional.some(true);\n        }\n      }))));\n    };\n    const open = (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) => {\n      const anchor = getAnchor(detail, hotspot);\n      const processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(tdata => {\n        tdata.fold(() => {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, data => {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    const close = (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) => {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    const togglePopup = (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) => {\n      const sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      const showing = Sandboxing.isOpen(sandbox);\n      const action = showing ? close : open;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    const matchWidth = (hotspot, container, useMinWidth) => {\n      const menu = Composing.getCurrent(container).getOr(container);\n      const buttonWidth = get$c(hotspot.element);\n      if (useMinWidth) {\n        set$8(menu.element, 'min-width', buttonWidth + 'px');\n      } else {\n        set$7(menu.element, buttonWidth);\n      }\n    };\n    const getSink = (anyInSystem, sinkDetail) => anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(internalSink => () => Result.value(internalSink)).getOrThunk(() => sinkDetail.lazySink.fold(() => () => Result.error(new Error('No internal sink is specified, nor could an external sink be found')), lazySinkFn => () => lazySinkFn(anyInSystem)));\n    const doRepositionMenus = sandbox => {\n      Sandboxing.getState(sandbox).each(tmenu => {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    const makeSandbox$1 = (detail, hotspot, extras) => {\n      const ariaControls = manager();\n      const onOpen = (component, menu) => {\n        const anchor = getAnchor(detail, hotspot);\n        ariaControls.link(hotspot.element);\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      const onClose = (component, menu) => {\n        ariaControls.unlink(hotspot.element);\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      const lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaControls.id,\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(hotspot, queryElem);\n            },\n            getAttachPoint: () => {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: sandbox => {\n              return Sandboxing.getState(sandbox).bind(menu => Composing.getCurrent(menu));\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({ isExtraPart: never }),\n              ...receivingChannel({ doReposition: doRepositionMenus })\n            }\n          })\n        ])\n      };\n    };\n    const repositionMenus = comp => {\n      const sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    const sandboxFields = () => [\n      defaulted('sandboxClasses', []),\n      SketchBehaviours.field('sandboxBehaviours', [\n        Composing,\n        Receiving,\n        Sandboxing,\n        Representing\n      ])\n    ];\n\n    const schema$j = constant$1([\n      required$1('dom'),\n      required$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      field('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      required$1('toggleClass'),\n      defaulted('eventOrder', {}),\n      option$3('lazySink'),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const parts$d = constant$1([\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$g = (detail, components, _spec, externals) => {\n      const lookupAttr = attr => get$g(detail.dom, 'attributes').bind(attrs => get$g(attrs, attr));\n      const switchToMenu = sandbox => {\n        Sandboxing.getState(sandbox).each(tmenu => {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      const apis = {\n        expand: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: comp => {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, identity, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        isOpen: Toggling.isOn,\n        close: comp => {\n          if (Toggling.isOn(comp)) {\n            togglePopup(detail, identity, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      const triggerExecute = (comp, _se) => {\n        emitExecute(comp);\n        return Optional.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                return makeSandbox$1(detail, hotspot, {\n                  onOpen: () => Toggling.on(hotspot),\n                  onClose: () => Toggling.off(hotspot)\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                const sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Optional.some(true);\n            },\n            onEscape: (comp, _se) => {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Optional.some(true);\n              } else {\n                return Optional.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$a(Optional.some(action)),\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        apis,\n        domModification: {\n          attributes: {\n            'aria-haspopup': 'true',\n            ...detail.role.fold(() => ({}), role => ({ role })),\n            ...detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {}\n          }\n        }\n      };\n    };\n    const Dropdown = composite({\n      name: 'Dropdown',\n      configFields: schema$j(),\n      partFields: parts$d(),\n      factory: factory$g,\n      apis: {\n        open: (apis, comp) => apis.open(comp),\n        expand: (apis, comp) => apis.expand(comp),\n        close: (apis, comp) => apis.close(comp),\n        isOpen: (apis, comp) => apis.isOpen(comp),\n        repositionMenus: (apis, comp) => apis.repositionMenus(comp)\n      }\n    });\n\n    const exhibit$1 = () => nu$7({\n      styles: {\n        '-webkit-user-select': 'none',\n        'user-select': 'none',\n        '-ms-user-select': 'none',\n        '-moz-user-select': '-moz-none'\n      },\n      attributes: { unselectable: 'on' }\n    });\n    const events$7 = () => derive$2([abort(selectstart(), always)]);\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$7,\n        exhibit: exhibit$1\n    });\n\n    const Unselecting = create$3({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    const renderPanelButton = (spec, sharedBackstage) => Dropdown.sketch({\n      dom: spec.dom,\n      components: spec.components,\n      toggleClass: 'mce-active',\n      dropdownBehaviours: derive$1([\n        DisablingConfigs.button(sharedBackstage.providers.isDisabled),\n        receivingConfig(),\n        Unselecting.config({}),\n        Tabstopping.config({})\n      ]),\n      layouts: spec.layouts,\n      sandboxClasses: ['tox-dialog__popups'],\n      lazySink: sharedBackstage.getSink,\n      fetch: comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n        spec.onItemAction(comp, value);\n      }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, never, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })))),\n      parts: { menu: part(false, 1, spec.presets) }\n    });\n\n    const colorInputChangeEvent = generate$6('color-input-change');\n    const colorSwatchChangeEvent = generate$6('color-swatch-change');\n    const colorPickerCancelEvent = generate$6('color-picker-cancel');\n    const renderColorInput = (spec, sharedBackstage, colorInputBackstage, initialData) => {\n      const pField = FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        data: initialData,\n        onSetValue: c => Invalidating.run(c).get(noop),\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: sharedBackstage.providers.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: comp => parentElement(comp.element),\n            notify: {\n              onValid: comp => {\n                const val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: input => {\n                const inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  const span = SugarElement.fromTag('span');\n                  set$8(span, 'background-color', inputValue);\n                  const res = getRaw(span, 'background-color').fold(() => Result.error('blah'), _ => Result.value(inputValue));\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, sharedBackstage.providers));\n      const emitSwatchChange = (colorBit, value) => {\n        emitWith(colorBit, colorSwatchChangeEvent, { value });\n      };\n      const onItemAction = (comp, value) => {\n        memColorButton.getOpt(comp).each(colorBit => {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(valueOpt => {\n              valueOpt.fold(() => emit(colorBit, colorPickerCancelEvent), value => {\n                emitSwatchChange(colorBit, value);\n                addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      const memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: {\n          onRtl: () => [\n            southwest$2,\n            southeast$2,\n            south$2\n          ],\n          onLtr: () => [\n            southeast$2,\n            southwest$2,\n            south$2\n          ]\n        },\n        components: [],\n        fetch: getFetch$1(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run$1(colorInputChangeEvent, (comp, se) => {\n              memColorButton.getOpt(comp).each(colorButton => {\n                set$8(colorButton.element, 'background-color', se.event.color);\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run$1(colorSwatchChangeEvent, (comp, se) => {\n              FormField.getField(comp).each(field => {\n                Representing.setValue(field, se.event.value);\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run$1(colorPickerCancelEvent, (comp, _se) => {\n              FormField.getField(comp).each(_field => {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    const labelPart = optional({\n      schema: [required$1('dom')],\n      name: 'label'\n    });\n    const edgePart = name => optional({\n      name: '' + name + '-edge',\n      overrides: detail => {\n        const action = detail.model.manager.edgeActions[name];\n        return action.fold(() => ({}), a => ({\n          events: derive$2([\n            runActionExtra(touchstart(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousedown(), (comp, se, d) => a(comp, d), [detail]),\n            runActionExtra(mousemove(), (comp, se, det) => {\n              if (det.mouseIsDown.get()) {\n                a(comp, det);\n              }\n            }, [detail])\n          ])\n        }));\n      }\n    });\n    const tlEdgePart = edgePart('top-left');\n    const tedgePart = edgePart('top');\n    const trEdgePart = edgePart('top-right');\n    const redgePart = edgePart('right');\n    const brEdgePart = edgePart('bottom-right');\n    const bedgePart = edgePart('bottom');\n    const blEdgePart = edgePart('bottom-left');\n    const ledgePart = edgePart('left');\n    const thumbPart = required({\n      name: 'thumb',\n      defaults: constant$1({ dom: { styles: { position: 'absolute' } } }),\n      overrides: detail => {\n        return {\n          events: derive$2([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    const spectrumPart = required({\n      schema: [customField('mouseIsDown', () => Cell(false))],\n      name: 'spectrum',\n      overrides: detail => {\n        const modelDetail = detail.model;\n        const model = modelDetail.manager;\n        const setValueFrom = (component, simulatedEvent) => model.getValueFromEvent(simulatedEvent).map(value => model.setValueFrom(component, detail, value));\n        return {\n          behaviours: derive$1([\n            Keying.config({\n              mode: 'special',\n              onLeft: spectrum => model.onLeft(spectrum, detail),\n              onRight: spectrum => model.onRight(spectrum, detail),\n              onUp: spectrum => model.onUp(spectrum, detail),\n              onDown: spectrum => model.onDown(spectrum, detail)\n            }),\n            Focusing.config({})\n          ]),\n          events: derive$2([\n            run$1(touchstart(), setValueFrom),\n            run$1(touchmove(), setValueFrom),\n            run$1(mousedown(), setValueFrom),\n            run$1(mousemove(), (spectrum, se) => {\n              if (detail.mouseIsDown.get()) {\n                setValueFrom(spectrum, se);\n              }\n            })\n          ])\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    const _sliderChangeEvent = 'slider.change.value';\n    const sliderChangeEvent = constant$1(_sliderChangeEvent);\n    const isTouchEvent$1 = evt => evt.type.indexOf('touch') !== -1;\n    const getEventSource = simulatedEvent => {\n      const evt = simulatedEvent.event.raw;\n      if (isTouchEvent$1(evt)) {\n        const touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Optional.some(touchEvent.touches[0]).map(t => SugarPosition(t.clientX, t.clientY)) : Optional.none();\n      } else {\n        const mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Optional.some(mouseEvent).map(me => SugarPosition(me.clientX, me.clientY)) : Optional.none();\n      }\n    };\n\n    const t = 'top', r = 'right', b = 'bottom', l = 'left';\n    const minX = detail => detail.model.minX;\n    const minY = detail => detail.model.minY;\n    const min1X = detail => detail.model.minX - 1;\n    const min1Y = detail => detail.model.minY - 1;\n    const maxX = detail => detail.model.maxX;\n    const maxY = detail => detail.model.maxY;\n    const max1X = detail => detail.model.maxX + 1;\n    const max1Y = detail => detail.model.maxY + 1;\n    const range = (detail, max, min) => max(detail) - min(detail);\n    const xRange = detail => range(detail, maxX, minX);\n    const yRange = detail => range(detail, maxY, minY);\n    const halfX = detail => xRange(detail) / 2;\n    const halfY = detail => yRange(detail) / 2;\n    const step = detail => detail.stepSize;\n    const snap = detail => detail.snapToGrid;\n    const snapStart = detail => detail.snapStart;\n    const rounded = detail => detail.rounded;\n    const hasEdge = (detail, edgeName) => detail[edgeName + '-edge'] !== undefined;\n    const hasLEdge = detail => hasEdge(detail, l);\n    const hasREdge = detail => hasEdge(detail, r);\n    const hasTEdge = detail => hasEdge(detail, t);\n    const hasBEdge = detail => hasEdge(detail, b);\n    const currentValue = detail => detail.model.value.get();\n\n    const xyValue = (x, y) => ({\n      x,\n      y\n    });\n    const fireSliderChange$3 = (component, value) => {\n      emitWith(component, sliderChangeEvent(), { value });\n    };\n    const setToTLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    const setToTEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1Y(detail));\n    };\n    const setToTEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    const setToTREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    const setToREdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1X(detail));\n    };\n    const setToREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    const setToBREdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    const setToBEdge = (edge, detail) => {\n      fireSliderChange$3(edge, max1Y(detail));\n    };\n    const setToBEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    const setToBLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    const setToLEdge = (edge, detail) => {\n      fireSliderChange$3(edge, min1X(detail));\n    };\n    const setToLEdgeXY = (edge, detail) => {\n      fireSliderChange$3(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    const reduceBy = (value, min, max, step) => {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    const increaseBy = (value, min, max, step) => {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    const capValue = (value, min, max) => Math.max(min, Math.min(max, value));\n    const snapValueOf = (value, min, max, step, snapStart) => snapStart.fold(() => {\n      const initValue = value - min;\n      const extraValue = Math.round(initValue / step) * step;\n      return capValue(min + extraValue, min - 1, max + 1);\n    }, start => {\n      const remainder = (value - start) % step;\n      const adjustment = Math.round(remainder / step);\n      const rawSteps = Math.floor((value - start) / step);\n      const maxSteps = Math.floor((max - start) / step);\n      const numSteps = Math.min(maxSteps, rawSteps + adjustment);\n      const r = start + numSteps * step;\n      return Math.max(start, r);\n    });\n    const findOffsetOf = (value, min, max) => Math.min(max, Math.max(value, min)) - min;\n    const findValueOf = args => {\n      const {min, max, range, value, step, snap, snapStart, rounded, hasMinEdge, hasMaxEdge, minBound, maxBound, screenRange} = args;\n      const capMin = hasMinEdge ? min - 1 : min;\n      const capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        const offset = findOffsetOf(value, minBound, maxBound);\n        const newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    const findOffsetOfValue$2 = args => {\n      const {min, max, range, value, hasMinEdge, hasMaxEdge, maxBound, maxOffset, centerMinEdge, centerMaxEdge} = args;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    const top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    const getBounds = component => component.element.dom.getBoundingClientRect();\n    const getBoundsProperty = (bounds, property) => bounds[property];\n    const getMinXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, left);\n    };\n    const getMaxXBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, right);\n    };\n    const getMinYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, top);\n    };\n    const getMaxYBounds = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    const getXScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, width);\n    };\n    const getYScreenRange = component => {\n      const bounds = getBounds(component);\n      return getBoundsProperty(bounds, height);\n    };\n    const getCenterOffsetOf = (componentMinEdge, componentMaxEdge, spectrumMinEdge) => (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    const getXCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, left);\n      const componentMaxEdge = getBoundsProperty(componentBounds, right);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    const getYCenterOffSetOf = (component, spectrum) => {\n      const componentBounds = getBounds(component);\n      const spectrumBounds = getBounds(spectrum);\n      const componentMinEdge = getBoundsProperty(componentBounds, top);\n      const componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      const spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    const fireSliderChange$2 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset$1 = (spectrum, detail, left) => {\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$2 = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value);\n      const sliderVal = xValue;\n      fireSliderChange$2(spectrum, sliderVal);\n      return xValue;\n    };\n    const setToMin$2 = (spectrum, detail) => {\n      const min = minX(detail);\n      fireSliderChange$2(spectrum, min);\n    };\n    const setToMax$2 = (spectrum, detail) => {\n      const max = maxX(detail);\n      fireSliderChange$2(spectrum, max);\n    };\n    const moveBy$2 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = f(currentValue(detail), minX(detail), maxX(detail), step(detail));\n      fireSliderChange$2(spectrum, xValue);\n      return Optional.some(xValue);\n    };\n    const handleMovement$2 = direction => (spectrum, detail) => moveBy$2(direction, spectrum, detail).map(always);\n    const getValueFromEvent$2 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => p.left);\n    };\n    const findOffsetOfValue$1 = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getXScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getXCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue$1 = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    const setPositionFromValue$2 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const thumbRadius = get$c(thumb.element) / 2;\n      set$8(thumb.element, 'left', pos - thumbRadius + 'px');\n    };\n    const onLeft$2 = handleMovement$2(-1);\n    const onRight$2 = handleMovement$2(1);\n    const onUp$2 = Optional.none;\n    const onDown$2 = Optional.none;\n    const edgeActions$2 = {\n      'top-left': Optional.none(),\n      'top': Optional.none(),\n      'top-right': Optional.none(),\n      'right': Optional.some(setToREdge),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.none(),\n      'bottom-left': Optional.none(),\n      'left': Optional.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$2,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    const fireSliderChange$1 = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const findValueOfOffset = (spectrum, detail, top) => {\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    const setValueFrom$1 = (spectrum, detail, value) => {\n      const yValue = findValueOfOffset(spectrum, detail, value);\n      const sliderVal = yValue;\n      fireSliderChange$1(spectrum, sliderVal);\n      return yValue;\n    };\n    const setToMin$1 = (spectrum, detail) => {\n      const min = minY(detail);\n      fireSliderChange$1(spectrum, min);\n    };\n    const setToMax$1 = (spectrum, detail) => {\n      const max = maxY(detail);\n      fireSliderChange$1(spectrum, max);\n    };\n    const moveBy$1 = (direction, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const yValue = f(currentValue(detail), minY(detail), maxY(detail), step(detail));\n      fireSliderChange$1(spectrum, yValue);\n      return Optional.some(yValue);\n    };\n    const handleMovement$1 = direction => (spectrum, detail) => moveBy$1(direction, spectrum, detail).map(always);\n    const getValueFromEvent$1 = simulatedEvent => {\n      const pos = getEventSource(simulatedEvent);\n      return pos.map(p => {\n        return p.top;\n      });\n    };\n    const findOffsetOfValue = (spectrum, detail, value, minEdge, maxEdge) => {\n      const minOffset = 0;\n      const maxOffset = getYScreenRange(spectrum);\n      const centerMinEdge = minEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(minOffset);\n      const centerMaxEdge = maxEdge.bind(edge => Optional.some(getYCenterOffSetOf(edge, spectrum))).getOr(maxOffset);\n      const args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset,\n        centerMinEdge,\n        centerMaxEdge\n      };\n      return findOffsetOfValue$2(args);\n    };\n    const findPositionOfValue = (slider, spectrum, value, minEdge, maxEdge, detail) => {\n      const offset = findOffsetOfValue(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    const setPositionFromValue$1 = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const pos = findPositionOfValue(slider, edges.getSpectrum(slider), value, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'top', pos - thumbRadius + 'px');\n    };\n    const onLeft$1 = Optional.none;\n    const onRight$1 = Optional.none;\n    const onUp$1 = handleMovement$1(-1);\n    const onDown$1 = handleMovement$1(1);\n    const edgeActions$1 = {\n      'top-left': Optional.none(),\n      'top': Optional.some(setToTEdge),\n      'top-right': Optional.none(),\n      'right': Optional.none(),\n      'bottom-right': Optional.none(),\n      'bottom': Optional.some(setToBEdge),\n      'bottom-left': Optional.none(),\n      'left': Optional.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    const fireSliderChange = (spectrum, value) => {\n      emitWith(spectrum, sliderChangeEvent(), { value });\n    };\n    const sliderValue = (x, y) => ({\n      x,\n      y\n    });\n    const setValueFrom = (spectrum, detail, value) => {\n      const xValue = findValueOfOffset$1(spectrum, detail, value.left);\n      const yValue = findValueOfOffset(spectrum, detail, value.top);\n      const val = sliderValue(xValue, yValue);\n      fireSliderChange(spectrum, val);\n      return val;\n    };\n    const moveBy = (direction, isVerticalMovement, spectrum, detail) => {\n      const f = direction > 0 ? increaseBy : reduceBy;\n      const xValue = isVerticalMovement ? currentValue(detail).x : f(currentValue(detail).x, minX(detail), maxX(detail), step(detail));\n      const yValue = !isVerticalMovement ? currentValue(detail).y : f(currentValue(detail).y, minY(detail), maxY(detail), step(detail));\n      fireSliderChange(spectrum, sliderValue(xValue, yValue));\n      return Optional.some(xValue);\n    };\n    const handleMovement = (direction, isVerticalMovement) => (spectrum, detail) => moveBy(direction, isVerticalMovement, spectrum, detail).map(always);\n    const setToMin = (spectrum, detail) => {\n      const mX = minX(detail);\n      const mY = minY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const setToMax = (spectrum, detail) => {\n      const mX = maxX(detail);\n      const mY = maxY(detail);\n      fireSliderChange(spectrum, sliderValue(mX, mY));\n    };\n    const getValueFromEvent = simulatedEvent => getEventSource(simulatedEvent);\n    const setPositionFromValue = (slider, thumb, detail, edges) => {\n      const value = currentValue(detail);\n      const xPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.x, edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      const yPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.y, edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      const thumbXRadius = get$c(thumb.element) / 2;\n      const thumbYRadius = get$d(thumb.element) / 2;\n      set$8(thumb.element, 'left', xPos - thumbXRadius + 'px');\n      set$8(thumb.element, 'top', yPos - thumbYRadius + 'px');\n    };\n    const onLeft = handleMovement(-1, false);\n    const onRight = handleMovement(1, false);\n    const onUp = handleMovement(-1, true);\n    const onDown = handleMovement(1, true);\n    const edgeActions = {\n      'top-left': Optional.some(setToTLEdgeXY),\n      'top': Optional.some(setToTEdgeXY),\n      'top-right': Optional.some(setToTREdgeXY),\n      'right': Optional.some(setToREdgeXY),\n      'bottom-right': Optional.some(setToBREdgeXY),\n      'bottom': Optional.some(setToBEdgeXY),\n      'bottom-left': Optional.some(setToBLEdgeXY),\n      'left': Optional.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        getValueFromEvent: getValueFromEvent,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    const SliderSchema = [\n      defaulted('stepSize', 1),\n      defaulted('onChange', noop),\n      defaulted('onChoose', noop),\n      defaulted('onInit', noop),\n      defaulted('onDragStart', noop),\n      defaulted('onDragEnd', noop),\n      defaulted('snapToGrid', false),\n      defaulted('rounded', true),\n      option$3('snapStart'),\n      requiredOf('model', choose$1('mode', {\n        x: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          customField('value', spec => Cell(spec.mode.minX)),\n          required$1('getInitialValue'),\n          output$1('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell(spec.mode.minY)),\n          required$1('getInitialValue'),\n          output$1('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted('minX', 0),\n          defaulted('maxX', 100),\n          defaulted('minY', 0),\n          defaulted('maxY', 100),\n          customField('value', spec => Cell({\n            x: spec.mode.minX,\n            y: spec.mode.minY\n          })),\n          required$1('getInitialValue'),\n          output$1('manager', TwoDModel)\n        ]\n      })),\n      field('sliderBehaviours', [\n        Keying,\n        Representing\n      ]),\n      customField('mouseIsDown', () => Cell(false))\n    ];\n\n    const sketch$2 = (detail, components, _spec, _externals) => {\n      const getThumb = component => getPartOrDie(component, detail, 'thumb');\n      const getSpectrum = component => getPartOrDie(component, detail, 'spectrum');\n      const getLeftEdge = component => getPart(component, detail, 'left-edge');\n      const getRightEdge = component => getPart(component, detail, 'right-edge');\n      const getTopEdge = component => getPart(component, detail, 'top-edge');\n      const getBottomEdge = component => getPart(component, detail, 'bottom-edge');\n      const modelDetail = detail.model;\n      const model = modelDetail.manager;\n      const refresh = (slider, thumb) => {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge,\n          getRightEdge,\n          getTopEdge,\n          getBottomEdge,\n          getSpectrum\n        });\n      };\n      const setValue = (slider, newValue) => {\n        modelDetail.value.set(newValue);\n        const thumb = getThumb(slider);\n        refresh(slider, thumb);\n      };\n      const changeValue = (slider, newValue) => {\n        setValue(slider, newValue);\n        const thumb = getThumb(slider);\n        detail.onChange(slider, thumb, newValue);\n        return Optional.some(true);\n      };\n      const resetToMin = slider => {\n        model.setToMin(slider, detail);\n      };\n      const resetToMax = slider => {\n        model.setToMax(slider, detail);\n      };\n      const choose = slider => {\n        const fireOnChoose = () => {\n          getPart(slider, detail, 'thumb').each(thumb => {\n            const value = modelDetail.value.get();\n            detail.onChoose(slider, thumb, value);\n          });\n        };\n        const wasDown = detail.mouseIsDown.get();\n        detail.mouseIsDown.set(false);\n        if (wasDown) {\n          fireOnChoose();\n        }\n      };\n      const onDragStart = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.mouseIsDown.set(true);\n        detail.onDragStart(slider, getThumb(slider));\n      };\n      const onDragEnd = (slider, simulatedEvent) => {\n        simulatedEvent.stop();\n        detail.onDragEnd(slider, getThumb(slider));\n        choose(slider);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.sliderBehaviours, [\n          Keying.config({\n            mode: 'special',\n            focusIn: slider => {\n              return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(always);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: _ => {\n                return modelDetail.value.get();\n              },\n              setValue\n            }\n          }),\n          Receiving.config({ channels: { [mouseReleased()]: { onReceive: choose } } })\n        ]),\n        events: derive$2([\n          run$1(sliderChangeEvent(), (slider, simulatedEvent) => {\n            changeValue(slider, simulatedEvent.event.value);\n          }),\n          runOnAttached((slider, _simulatedEvent) => {\n            const getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            const thumb = getThumb(slider);\n            refresh(slider, thumb);\n            const spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          }),\n          run$1(touchstart(), onDragStart),\n          run$1(touchend(), onDragEnd),\n          run$1(mousedown(), onDragStart),\n          run$1(mouseup(), onDragEnd)\n        ]),\n        apis: {\n          resetToMin,\n          resetToMax,\n          setValue,\n          refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    const Slider = composite({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch$2,\n      apis: {\n        setValue: (apis, slider, value) => {\n          apis.setValue(slider, value);\n        },\n        resetToMin: (apis, slider) => {\n          apis.resetToMin(slider);\n        },\n        resetToMax: (apis, slider) => {\n          apis.resetToMax(slider);\n        },\n        refresh: (apis, slider) => {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    const fieldsUpdate = generate$6('rgb-hex-update');\n    const sliderUpdate = generate$6('slider-update');\n    const paletteUpdate = generate$6('palette-update');\n\n    const sliderFactory = (translate, getClass) => {\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant$1(0)\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: (slider, _thumb, value) => {\n          emitWith(slider, sliderUpdate, { value });\n        }\n      });\n    };\n\n    const owner$1 = 'form';\n    const schema$i = [field('formBehaviours', [Representing])];\n    const getPartName$1 = name => '<alloy.field.' + name + '>';\n    const sketch$1 = fSpec => {\n      const parts = (() => {\n        const record = [];\n        const field = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner$1, getPartName$1(name), config);\n        };\n        return {\n          field,\n          record: constant$1(record)\n        };\n      })();\n      const spec = fSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName$1(n)\n      }));\n      return composite$1(owner$1, schema$i, fieldParts, make$4, spec);\n    };\n    const toResult = (o, e) => o.fold(() => Result.error(e), Result.value);\n    const make$4 = (detail, components) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.formBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: form => {\n              const resPs = getAllParts(form, detail);\n              return map$1(resPs, (resPThunk, pName) => resPThunk().bind(v => {\n                const opt = Composing.getCurrent(v);\n                return toResult(opt, new Error(`Cannot find a current component to extract the value from for form part '${ pName }': ` + element(v.element)));\n              }).map(Representing.getValue));\n            },\n            setValue: (form, values) => {\n              each(values, (newValue, key) => {\n                getPart(form, detail, key).each(wrapper => {\n                  Composing.getCurrent(wrapper).each(field => {\n                    Representing.setValue(field, newValue);\n                  });\n                });\n              });\n            }\n          }\n        })]),\n      apis: {\n        getField: (form, key) => {\n          return getPart(form, detail, key).bind(Composing.getCurrent);\n        }\n      }\n    });\n    const Form = {\n      getField: makeApi((apis, component, key) => apis.getField(component, key)),\n      sketch: sketch$1\n    };\n\n    const validInput = generate$6('valid-input');\n    const invalidInput = generate$6('invalid-input');\n    const validatingInput = generate$6('validating-input');\n    const translatePrefix = 'colorcustom.rgb.';\n    const rgbFormFactory = (translate, getClass, onValidHexx, onInvalidHexx) => {\n      const invalidation = (label, isValid) => Invalidating.config({\n        invalidClass: getClass('invalid'),\n        notify: {\n          onValidate: comp => {\n            emitWith(comp, validatingInput, { type: label });\n          },\n          onValid: comp => {\n            emitWith(comp, validInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          },\n          onInvalid: comp => {\n            emitWith(comp, invalidInput, {\n              type: label,\n              value: Representing.getValue(comp)\n            });\n          }\n        },\n        validator: {\n          validate: comp => {\n            const value = Representing.getValue(comp);\n            const res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n            return Future.pure(res);\n          },\n          validateOnLoad: false\n        }\n      });\n      const renderTextField = (isValid, name, label, description, data) => {\n        const helptext = translate(translatePrefix + 'range');\n        const pLabel = FormField.parts.label({\n          dom: {\n            tag: 'label',\n            attributes: { 'aria-label': description }\n          },\n          components: [text$1(label)]\n        });\n        const pField = FormField.parts.field({\n          data,\n          factory: Input,\n          inputAttributes: {\n            type: 'text',\n            ...name === 'hex' ? { 'aria-live': 'polite' } : {}\n          },\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: input => {\n            if (Invalidating.isInvalid(input)) {\n              const run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        const comps = [\n          pLabel,\n          pField\n        ];\n        const concats = name !== 'hex' ? [FormField.parts['aria-descriptor']({ text: helptext })] : [];\n        const components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components\n        };\n      };\n      const copyRgbToHex = (form, rgba) => {\n        const hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(hexField => {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value });\n          }\n        });\n        return hex;\n      };\n      const copyRgbToForm = (form, rgb) => {\n        const red = rgb.red;\n        const green = rgb.green;\n        const blue = rgb.blue;\n        Representing.setValue(form, {\n          red,\n          green,\n          blue\n        });\n      };\n      const memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      const updatePreview = (anyInSystem, hex) => {\n        memPreview.getOpt(anyInSystem).each(preview => {\n          set$8(preview.element, 'background-color', '#' + hex.value);\n        });\n      };\n      const factory = () => {\n        const state = {\n          red: Cell(Optional.some(255)),\n          green: Cell(Optional.some(255)),\n          blue: Cell(Optional.some(255)),\n          hex: Cell(Optional.some('ffffff'))\n        };\n        const copyHexToRgb = (form, hex) => {\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        const get = prop => state[prop].get();\n        const set = (prop, value) => {\n          state[prop].set(value);\n        };\n        const getValueRgb = () => get('red').bind(red => get('green').bind(green => get('blue').map(blue => rgbaColour(red, green, blue, 1))));\n        const setValueRgb = rgb => {\n          const red = rgb.red;\n          const green = rgb.green;\n          const blue = rgb.blue;\n          set('red', Optional.some(red));\n          set('green', Optional.some(green));\n          set('blue', Optional.some(blue));\n        };\n        const onInvalidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (data.type !== 'hex') {\n            set(data.type, Optional.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        const onValidHex = (form, value) => {\n          onValidHexx(form);\n          const hex = hexColour(value);\n          set('hex', Optional.some(value));\n          const rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate, { hex });\n          updatePreview(form, hex);\n        };\n        const onValidRgb = (form, prop, value) => {\n          const val = parseInt(value, 10);\n          set(prop, Optional.some(val));\n          getValueRgb().each(rgb => {\n            const hex = copyRgbToHex(form, rgb);\n            emitWith(form, fieldsUpdate, { hex });\n            updatePreview(form, hex);\n          });\n        };\n        const isHexInputEvent = data => data.type === 'hex';\n        const onValidInput = (form, simulatedEvent) => {\n          const data = simulatedEvent.event;\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value);\n          } else {\n            onValidRgb(form, data.type, data.value);\n          }\n        };\n        const formPartStrings = key => ({\n          label: translate(translatePrefix + key + '.label'),\n          description: translate(translatePrefix + key + '.description')\n        });\n        const redStrings = formPartStrings('red');\n        const greenStrings = formPartStrings('green');\n        const blueStrings = formPartStrings('blue');\n        const hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(parts => ({\n          dom: {\n            tag: 'form',\n            classes: [getClass('rgb-form')],\n            attributes: { 'aria-label': translate('aria.color.picker') }\n          },\n          components: [\n            parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n            parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n            parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n            parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n            memPreview.asSpec()\n          ],\n          formBehaviours: derive$1([\n            Invalidating.config({ invalidClass: getClass('form-invalid') }),\n            config('rgb-form-events', [\n              run$1(validInput, onValidInput),\n              run$1(invalidInput, onInvalidInput),\n              run$1(validatingInput, onInvalidInput)\n            ])\n          ])\n        })), {\n          apis: {\n            updateHex: (form, hex) => {\n              Representing.setValue(form, { hex: hex.value });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      const rgbFormSketcher = single({\n        factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: (apis, form, hex) => {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n\n    const paletteFactory = (_translate, getClass) => {\n      const spectrumPart = Slider.parts.spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      const thumbPart = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: `<div class=${ getClass('sv-palette-inner-thumb') } role=\"presentation\"></div>`\n        }\n      });\n      const setColour = (canvas, rgba) => {\n        const {width, height} = canvas;\n        const ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        const grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        const grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      const setPaletteHue = (slider, hue) => {\n        const canvas = slider.components()[0].element.dom;\n        const hsv = hsvColour(hue, 100, 100);\n        const rgba = fromHsv(hsv);\n        setColour(canvas, toString(rgba));\n      };\n      const setPaletteThumb = (slider, hex) => {\n        const hsv = fromRgb(fromHex(hex));\n        Slider.setValue(slider, {\n          x: hsv.saturation,\n          y: 100 - hsv.value\n        });\n      };\n      const factory = _detail => {\n        const getInitialValue = constant$1({\n          x: 0,\n          y: 0\n        });\n        const onChange = (slider, _thumb, value) => {\n          emitWith(slider, paletteUpdate, { value });\n        };\n        const onInit = (_slider, _thumb, spectrum, _value) => {\n          setColour(spectrum.element.dom, toString(red));\n        };\n        const sliderBehaviours = derive$1([\n          Composing.config({ find: Optional.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange,\n          onInit,\n          sliderBehaviours\n        });\n      };\n      const saturationBrightnessPaletteSketcher = single({\n        factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setHue: (_apis, slider, hue) => {\n            setPaletteHue(slider, hue);\n          },\n          setThumb: (_apis, slider, hex) => {\n            setPaletteThumb(slider, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n\n    const makeFactory = (translate, getClass) => {\n      const factory = detail => {\n        const rgbForm = rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        const sbPalette = paletteFactory(translate, getClass);\n        const hueSliderToDegrees = hue => (100 - hue) / 100 * 360;\n        const hueDegreesToSlider = hue => 100 - hue / 360 * 100;\n        const state = {\n          paletteRgba: Cell(red),\n          paletteHue: Cell(0)\n        };\n        const memSlider = record(sliderFactory(translate, getClass));\n        const memPalette = record(sbPalette.sketch({}));\n        const memRgb = record(rgbForm.sketch({}));\n        const updatePalette = (anyInSystem, _hex, hue) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setHue(palette, hue);\n          });\n        };\n        const updateFields = (anyInSystem, hex) => {\n          memRgb.getOpt(anyInSystem).each(form => {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        const updateSlider = (anyInSystem, _hex, hue) => {\n          memSlider.getOpt(anyInSystem).each(slider => {\n            Slider.setValue(slider, hueDegreesToSlider(hue));\n          });\n        };\n        const updatePaletteThumb = (anyInSystem, hex) => {\n          memPalette.getOpt(anyInSystem).each(palette => {\n            sbPalette.setThumb(palette, hex);\n          });\n        };\n        const updateState = (hex, hue) => {\n          const rgba = fromHex(hex);\n          state.paletteRgba.set(rgba);\n          state.paletteHue.set(hue);\n        };\n        const runUpdates = (anyInSystem, hex, hue, updates) => {\n          updateState(hex, hue);\n          each$1(updates, update => {\n            update(anyInSystem, hex, hue);\n          });\n        };\n        const onPaletteUpdate = () => {\n          const updates = [updateFields];\n          return (form, simulatedEvent) => {\n            const value = simulatedEvent.event.value;\n            const oldHue = state.paletteHue.get();\n            const newHsv = hsvColour(oldHue, value.x, 100 - value.y);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, oldHue, updates);\n          };\n        };\n        const onSliderUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateFields\n          ];\n          return (form, simulatedEvent) => {\n            const hue = hueSliderToDegrees(simulatedEvent.event.value);\n            const oldRgb = state.paletteRgba.get();\n            const oldHsv = fromRgb(oldRgb);\n            const newHsv = hsvColour(hue, oldHsv.saturation, oldHsv.value);\n            const newHex = hsvToHex(newHsv);\n            runUpdates(form, newHex, hue, updates);\n          };\n        };\n        const onFieldsUpdate = () => {\n          const updates = [\n            updatePalette,\n            updateSlider,\n            updatePaletteThumb\n          ];\n          return (form, simulatedEvent) => {\n            const hex = simulatedEvent.event.hex;\n            const hsv = hexToHsv(hex);\n            runUpdates(form, hex, hsv.hue, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            memSlider.asSpec(),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run$1(fieldsUpdate, onFieldsUpdate()),\n              run$1(paletteUpdate, onPaletteUpdate()),\n              run$1(sliderUpdate, onSliderUpdate())\n            ]),\n            Composing.config({ find: comp => memRgb.getOpt(comp) }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      const colourPickerSketcher = single({\n        name: 'ColourPicker',\n        configFields: [\n          required$1('dom'),\n          defaulted('onValidHex', noop),\n          defaulted('onInvalidHex', noop)\n        ],\n        factory\n      });\n      return colourPickerSketcher;\n    };\n\n    const self = () => Composing.config({ find: Optional.some });\n    const memento$1 = mem => Composing.config({ find: mem.getOpt });\n    const childAt = index => Composing.config({ find: comp => child$2(comp.element, index).bind(element => comp.getSystem().getByDom(element).toOptional()) });\n    const ComposingConfigs = {\n      self,\n      memento: memento$1,\n      childAt\n    };\n\n    const processors = objOf([\n      defaulted('preprocess', identity),\n      defaulted('postprocess', identity)\n    ]);\n    const memento = (mem, rawProcessors) => {\n      const ps = asRawOrDie$1('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: comp => {\n            const other = mem.get(comp);\n            const rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: (comp, rawValue) => {\n            const newValue = ps.preprocess(rawValue);\n            const other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    const withComp = (optInitialValue, getter, setter) => Representing.config({\n      store: {\n        mode: 'manual',\n        ...optInitialValue.map(initialValue => ({ initialValue })).getOr({}),\n        getValue: getter,\n        setValue: setter\n      }\n    });\n    const withElement = (initialValue, getter, setter) => withComp(initialValue, c => getter(c.element), (c, v) => setter(c.element, v));\n    const domValue = optInitialValue => withElement(optInitialValue, get$6, set$5);\n    const domHtml = optInitialValue => withElement(optInitialValue, get$9, set$6);\n    const memory = initialValue => Representing.config({\n      store: {\n        mode: 'memory',\n        initialValue\n      }\n    });\n    const RepresentingConfigs = {\n      memento,\n      withElement,\n      withComp,\n      domValue,\n      domHtml,\n      memory\n    };\n\n    const english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    const translate$1 = providerBackstage => key => {\n      return providerBackstage.translate(english[key]);\n    };\n    const renderColorPicker = (_spec, providerBackstage, initialData) => {\n      const getClass = key => 'tox-' + key;\n      const colourPickerFactory = makeFactory(translate$1(providerBackstage), getClass);\n      const onValidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      const onInvalidHex = form => {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      const memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex,\n        onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          RepresentingConfigs.withComp(initialData, comp => {\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            const optHex = optRgbForm.bind(rgbForm => {\n              const formValues = Representing.getValue(rgbForm);\n              return formValues.hex;\n            });\n            return optHex.map(hex => '#' + hex).getOr('');\n          }, (comp, newValue) => {\n            const pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n            const m = pattern.exec(newValue);\n            const picker = memPicker.get(comp);\n            const optRgbForm = Composing.getCurrent(picker);\n            optRgbForm.fold(() => {\n              console.log('Can not find form');\n            }, rgbForm => {\n              Representing.setValue(rgbForm, { hex: Optional.from(m[1]).getOr('') });\n              Form.getField(rgbForm, 'hex').each(hexField => {\n                emit(hexField, input());\n              });\n            });\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    const isOldCustomEditor = spec => has$2(spec, 'init');\n    const renderCustomEditor = spec => {\n      const editorApi = value$2();\n      const memReplaced = record({ dom: { tag: spec.tag } });\n      const initialValue = value$2();\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('custom-editor-events', [runOnAttached(component => {\n              memReplaced.getOpt(component).each(ta => {\n                (isOldCustomEditor(spec) ? spec.init(ta.element.dom) : global$2.load(spec.scriptId, spec.scriptUrl).then(init => init(ta.element.dom, spec.settings))).then(ea => {\n                  initialValue.on(cvalue => {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.clear();\n                  editorApi.set(ea);\n                });\n              });\n            })]),\n          RepresentingConfigs.withComp(Optional.none(), () => editorApi.get().fold(() => initialValue.get().getOr(''), ed => ed.getValue()), (component, value) => {\n            editorApi.get().fold(() => initialValue.set(value), ed => ed.setValue(value));\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const filterByExtension = (files, providersBackstage) => {\n      const allowedImageFileTypes = global$1.explode(providersBackstage.getOption('images_file_types'));\n      const isFileInAllowedTypes = file => exists(allowedImageFileTypes, type => endsWith(file.name.toLowerCase(), `.${ type.toLowerCase() }`));\n      return filter$2(from(files), isFileInAllowedTypes);\n    };\n    const renderDropZone = (spec, providersBackstage, initialData) => {\n      const stopper = (_, se) => {\n        se.stop();\n      };\n      const sequence = actions => (comp, se) => {\n        each$1(actions, a => {\n          a(comp, se);\n        });\n      };\n      const onDrop = (comp, se) => {\n        if (!Disabling.isDisabled(comp)) {\n          const transferEvent = se.event.raw;\n          handleFiles(comp, transferEvent.dataTransfer.files);\n        }\n      };\n      const onSelect = (component, simulatedEvent) => {\n        const input = simulatedEvent.event.raw.target;\n        handleFiles(component, input.files);\n      };\n      const handleFiles = (component, files) => {\n        Representing.setValue(component, filterByExtension(files, providersBackstage));\n        emitWith(component, formChangeEvent, { name: spec.name });\n      };\n      const memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [\n            cutter(click()),\n            cutter(tap())\n          ])])\n      });\n      const renderField = s => ({\n        uid: s.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-dropzone-container']\n        },\n        behaviours: derive$1([\n          RepresentingConfigs.memory(initialData.getOr([])),\n          ComposingConfigs.self(),\n          Disabling.config({}),\n          Toggling.config({\n            toggleClass: 'dragenter',\n            toggleOnExecute: false\n          }),\n          config('dropzone-events', [\n            run$1('dragenter', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragleave', sequence([\n              stopper,\n              Toggling.toggle\n            ])),\n            run$1('dragover', stopper),\n            run$1('drop', sequence([\n              stopper,\n              onDrop\n            ])),\n            run$1(change(), onSelect)\n          ])\n        ]),\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dropzone'],\n              styles: {}\n            },\n            components: [\n              {\n                dom: { tag: 'p' },\n                components: [text$1(providersBackstage.translate('Drop an image here'))]\n              },\n              Button.sketch({\n                dom: {\n                  tag: 'button',\n                  styles: { position: 'relative' },\n                  classes: [\n                    'tox-button',\n                    'tox-button--secondary'\n                  ]\n                },\n                components: [\n                  text$1(providersBackstage.translate('Browse for an image')),\n                  memInput.asSpec()\n                ],\n                action: comp => {\n                  const inputComp = memInput.get(comp);\n                  inputComp.element.dom.click();\n                },\n                buttonBehaviours: derive$1([\n                  Tabstopping.config({}),\n                  DisablingConfigs.button(providersBackstage.isDisabled),\n                  receivingConfig()\n                ])\n              })\n            ]\n          }]\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const renderGrid = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: [\n          'tox-form__grid',\n          `tox-form__grid--${ spec.columns }col`\n        ]\n      },\n      components: map$2(spec.items, backstage.interpreter)\n    });\n\n    const beforeObject = generate$6('alloy-fake-before-tabstop');\n    const afterObject = generate$6('alloy-fake-after-tabstop');\n    const craftWithClasses = classes => {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    const craft = spec => {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    const triggerTab = (placeholder, shiftKey) => {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey\n        }\n      });\n    };\n    const onFocus = (container, targetComp) => {\n      const target = targetComp.element;\n      if (has(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    const isPseudoStop = element => {\n      return closest(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), never);\n    };\n\n    const getDynamicSource = initialData => {\n      const cachedValue = Cell(initialData.getOr(''));\n      return {\n        getValue: _frameComponent => cachedValue.get(),\n        setValue: (frameComponent, html) => {\n          if (cachedValue.get() !== html) {\n            set$9(frameComponent.element, 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    const renderIFrame = (spec, providersBackstage, initialData) => {\n      const isSandbox = spec.sandboxed;\n      const attributes = {\n        ...spec.label.map(title => ({ title })).getOr({}),\n        ...initialData.map(html => ({ srcdoc: html })).getOr({}),\n        ...isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {}\n      };\n      const sourcing = getDynamicSource(initialData);\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const factory = newSpec => craft({\n        uid: newSpec.uid,\n        dom: {\n          tag: 'iframe',\n          attributes\n        },\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withComp(initialData, sourcing.getValue, sourcing.setValue)\n        ])\n      });\n      const pField = FormField.parts.field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    const image = image => new Promise((resolve, reject) => {\n      const loaded = () => {\n        destroy();\n        resolve(image);\n      };\n      const listeners = [\n        bind(image, 'load', loaded),\n        bind(image, 'error', () => {\n          destroy();\n          reject('Unable to load data from image: ' + image.dom.src);\n        })\n      ];\n      const destroy = () => each$1(listeners, l => l.unbind());\n      if (image.dom.complete) {\n        loaded();\n      }\n    });\n\n    const calculateImagePosition = (panelWidth, panelHeight, imageWidth, imageHeight, zoom) => {\n      const width = imageWidth * zoom;\n      const height = imageHeight * zoom;\n      const left = Math.max(0, panelWidth / 2 - width / 2);\n      const top = Math.max(0, panelHeight / 2 - height / 2);\n      return {\n        left: left.toString() + 'px',\n        top: top.toString() + 'px',\n        width: width.toString() + 'px',\n        height: height.toString() + 'px'\n      };\n    };\n    const zoomToFit = (panel, width, height) => {\n      const panelW = get$c(panel);\n      const panelH = get$d(panel);\n      return Math.min(panelW / width, panelH / height, 1);\n    };\n    const renderImagePreview = (spec, initialData) => {\n      const cachedData = Cell(initialData.getOr({ url: '' }));\n      const memImage = record({\n        dom: {\n          tag: 'img',\n          classes: ['tox-imagepreview__image'],\n          attributes: initialData.map(data => ({ src: data.url })).getOr({})\n        }\n      });\n      const memContainer = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview__container'],\n          attributes: { role: 'presentation' }\n        },\n        components: [memImage.asSpec()]\n      });\n      const setValue = (frameComponent, data) => {\n        const translatedData = { url: data.url };\n        data.zoom.each(z => translatedData.zoom = z);\n        data.cachedWidth.each(z => translatedData.cachedWidth = z);\n        data.cachedHeight.each(z => translatedData.cachedHeight = z);\n        cachedData.set(translatedData);\n        const applyFramePositioning = () => {\n          const imageWidth = translatedData.cachedWidth;\n          const imageHeight = translatedData.cachedHeight;\n          if (isUndefined(translatedData.zoom)) {\n            const z = zoomToFit(frameComponent.element, imageWidth, imageHeight);\n            translatedData.zoom = z;\n          }\n          const position = calculateImagePosition(get$c(frameComponent.element), get$d(frameComponent.element), imageWidth, imageHeight, translatedData.zoom);\n          memContainer.getOpt(frameComponent).each(container => {\n            setAll(container.element, position);\n          });\n        };\n        memImage.getOpt(frameComponent).each(imageComponent => {\n          const img = imageComponent.element;\n          if (data.url !== get$f(img, 'src')) {\n            set$9(img, 'src', data.url);\n            remove$2(frameComponent.element, 'tox-imagepreview__loaded');\n          }\n          if (!isUndefined(translatedData.cachedWidth) && !isUndefined(translatedData.cachedHeight)) {\n            applyFramePositioning();\n          }\n          image(img).then(img => {\n            if (frameComponent.getSystem().isConnected()) {\n              add$2(frameComponent.element, 'tox-imagepreview__loaded');\n              translatedData.cachedWidth = img.dom.naturalWidth;\n              translatedData.cachedHeight = img.dom.naturalHeight;\n              applyFramePositioning();\n            }\n          });\n        });\n      };\n      const styles = {};\n      spec.height.each(h => styles.height = h);\n      const fakeValidatedData = initialData.map(d => ({\n        url: d.url,\n        zoom: Optional.from(d.zoom),\n        cachedWidth: Optional.from(d.cachedWidth),\n        cachedHeight: Optional.from(d.cachedHeight)\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-imagepreview'],\n          styles,\n          attributes: { role: 'presentation' }\n        },\n        components: [memContainer.asSpec()],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          RepresentingConfigs.withComp(fakeValidatedData, () => cachedData.get(), setValue)\n        ])\n      };\n    };\n\n    const renderLabel$1 = (spec, backstageShared) => {\n      const label = {\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(backstageShared.providers.translate(spec.label))]\n      };\n      const comps = map$2(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [\n          label,\n          ...comps\n        ],\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Optional.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    const internalToolbarButtonExecute = generate$6('toolbar.button.execute');\n    const onToolbarButtonExecute = info => runOnExecute$1((comp, _simulatedEvent) => {\n      runWithApi(info, comp)(itemApi => {\n        emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n        info.onAction(itemApi);\n      });\n    });\n    const toolbarButtonEventOrder = {\n      [execute$5()]: [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events'\n      ]\n    };\n\n    const renderIcon = (iconName, iconsProvider, behaviours) => render$3(iconName, {\n      tag: 'span',\n      classes: [\n        'tox-icon',\n        'tox-tbtn__icon-wrap'\n      ],\n      behaviours\n    }, iconsProvider);\n    const renderIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, []);\n    const renderReplacableIconFromPack = (iconName, iconsProvider) => renderIcon(iconName, iconsProvider, [Replacing.config({})]);\n    const renderLabel = (text, prefix, providersBackstage) => ({\n      dom: {\n        tag: 'span',\n        classes: [`${ prefix }__select-label`]\n      },\n      components: [text$1(providersBackstage.translate(text))],\n      behaviours: derive$1([Replacing.config({})])\n    });\n\n    const updateMenuText = generate$6('update-menu-text');\n    const updateMenuIcon = generate$6('update-menu-icon');\n    const renderCommonDropdown = (spec, prefix, sharedBackstage) => {\n      const editorOffCell = Cell(noop);\n      const optMemDisplayText = spec.text.map(text => record(renderLabel(text, prefix, sharedBackstage.providers)));\n      const optMemDisplayIcon = spec.icon.map(iconName => record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons)));\n      const onLeftOrRightInMenu = (comp, se) => {\n        const dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event.raw });\n        Dropdown.close(dropdown);\n        return Optional.some(true);\n      };\n      const role = spec.role.fold(() => ({}), role => ({ role }));\n      const tooltipAttributes = spec.tooltip.fold(() => ({}), tooltip => {\n        const translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      const iconSpec = render$3('chevron-down', {\n        tag: 'div',\n        classes: [`${ prefix }__select-chevron`]\n      }, sharedBackstage.providers.icons);\n      const memDropdown = record(Dropdown.sketch({\n        ...spec.uid ? { uid: spec.uid } : {},\n        ...role,\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            `${ prefix }--select`\n          ].concat(map$2(spec.classes, c => `${ prefix }--${ c }`)),\n          attributes: { ...tooltipAttributes }\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(mem => mem.asSpec()),\n          optMemDisplayText.map(mem => mem.asSpec()),\n          Optional.some(iconSpec)\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        dropdownBehaviours: derive$1([\n          ...spec.dropdownBehaviours,\n          DisablingConfigs.button(() => spec.disabled || sharedBackstage.providers.isDisabled()),\n          receivingConfig(),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run$1(updateMenuText, (comp, se) => {\n              optMemDisplayText.bind(mem => mem.getOpt(comp)).each(displayText => {\n                Replacing.set(displayText, [text$1(sharedBackstage.providers.translate(se.event.text))]);\n              });\n            }),\n            run$1(updateMenuIcon, (comp, se) => {\n              optMemDisplayIcon.bind(mem => mem.getOpt(comp)).each(displayIcon => {\n                Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event.icon, sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ]),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          })]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: `${ prefix }--active`,\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        fetch: comp => Future.nu(curry(spec.fetch, comp))\n      }));\n      return memDropdown.asSpec();\n    };\n\n    const isMenuItemReference = item => isString(item);\n    const isSeparator$1 = item => item.type === 'separator';\n    const isExpandingMenuItem = item => has$2(item, 'getSubmenuItems');\n    const separator$2 = { type: 'separator' };\n    const unwrapReferences = (items, menuItems) => {\n      const realItems = foldl(items, (acc, item) => {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator$1(acc[acc.length - 1]) ? acc.concat([separator$2]) : acc;\n          } else if (has$2(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator$1(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    const getFromExpandingItem = (item, menuItems) => {\n      const submenuItems = item.getSubmenuItems();\n      const rest = expand(submenuItems, menuItems);\n      const newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n      const newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n      return {\n        item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    const getFromItem = (item, menuItems) => isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n      item,\n      menus: {},\n      expansions: {}\n    };\n    const generateValueIfRequired = item => {\n      if (isSeparator$1(item)) {\n        return item;\n      } else {\n        const itemValue = get$g(item, 'value').getOrThunk(() => generate$6('generated-menu-item'));\n        return deepMerge({ value: itemValue }, item);\n      }\n    };\n    const expand = (items, menuItems) => {\n      const realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, (acc, item) => {\n        const itemWithValue = generateValueIfRequired(item);\n        const newData = getFromItem(itemWithValue, menuItems);\n        return {\n          menus: deepMerge(acc.menus, newData.menus),\n          items: [newData.item].concat(acc.items),\n          expansions: deepMerge(acc.expansions, newData.expansions)\n        };\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    const build = (items, itemResponse, backstage, isHorizontalMenu) => {\n      const primary = generate$6('primary-menu');\n      const data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Optional.none();\n      }\n      const mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, isHorizontalMenu);\n      const submenus = map$1(data.menus, (menuItems, menuName) => createPartialMenu(menuName, menuItems, itemResponse, backstage, false));\n      const menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Optional.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    const isSingleListItem = item => !has$2(item, 'items');\n    const dataAttribute = 'data-value';\n    const fetchItems = (dropdownComp, name, items, selectedValue) => map$2(items, item => {\n      if (!isSingleListItem(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text: item.text,\n          getSubmenuItems: () => fetchItems(dropdownComp, name, item.items, selectedValue)\n        };\n      } else {\n        return {\n          type: 'togglemenuitem',\n          text: item.text,\n          value: item.value,\n          active: item.value === selectedValue,\n          onAction: () => {\n            Representing.setValue(dropdownComp, item.value);\n            emitWith(dropdownComp, formChangeEvent, { name });\n            Focusing.focus(dropdownComp);\n          }\n        };\n      }\n    });\n    const findItemByValue = (items, value) => findMap(items, item => {\n      if (!isSingleListItem(item)) {\n        return findItemByValue(item.items, value);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const renderListBox = (spec, backstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const initialItem = initialData.bind(value => findItemByValue(spec.items, value)).orThunk(() => head(spec.items).filter(isSingleListItem));\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        factory: {\n          sketch: sketchSpec => renderCommonDropdown({\n            uid: sketchSpec.uid,\n            text: initialItem.map(item => item.text),\n            icon: Optional.none(),\n            tooltip: spec.label,\n            role: Optional.none(),\n            fetch: (comp, callback) => {\n              const items = fetchItems(comp, spec.name, spec.items, Representing.getValue(comp));\n              callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n            },\n            onSetup: constant$1(noop),\n            getApi: constant$1({}),\n            columns: 1,\n            presets: 'normal',\n            classes: [],\n            dropdownBehaviours: [\n              Tabstopping.config({}),\n              RepresentingConfigs.withComp(initialItem.map(item => item.value), comp => get$f(comp.element, dataAttribute), (comp, data) => {\n                findItemByValue(spec.items, data).each(item => {\n                  set$9(comp.element, dataAttribute, item.value);\n                  emitWith(comp, updateMenuText, { text: item.text });\n                });\n              })\n            ]\n          }, 'tox-listbox', backstage.shared)\n        }\n      });\n      const listBoxWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-listboxfield']\n        },\n        components: [pField]\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [listBoxWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: constant$1(!spec.enabled),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    const renderPanel = (spec, backstage) => ({\n      dom: {\n        tag: 'div',\n        classes: spec.classes\n      },\n      components: map$2(spec.items, backstage.shared.interpreter)\n    });\n\n    const factory$f = (detail, _spec) => {\n      const options = map$2(detail.options, option => ({\n        dom: {\n          tag: 'option',\n          value: option.value,\n          innerHtml: option.text\n        }\n      }));\n      const initialValues = detail.data.map(v => wrap$1('initialValue', v)).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: select => {\n                return get$6(select.element);\n              },\n              setValue: (select, newValue) => {\n                const found = find$5(detail.options, opt => opt.value === newValue);\n                if (found.isSome()) {\n                  set$5(select.element, newValue);\n                }\n              },\n              ...initialValues\n            }\n          })\n        ])\n      };\n    };\n    const HtmlSelect = single({\n      name: 'HtmlSelect',\n      configFields: [\n        required$1('options'),\n        field('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted('selectClasses', []),\n        defaulted('selectAttributes', {}),\n        option$3('data')\n      ],\n      factory: factory$f\n    });\n\n    const renderSelectBox = (spec, providersBackstage, initialData) => {\n      const translatedOptions = map$2(spec.items, item => ({\n        text: providersBackstage.translate(item.text),\n        value: item.value\n      }));\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const pField = FormField.parts.field({\n        dom: {},\n        ...initialData.map(data => ({ data })).getOr({}),\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const chevron = spec.size > 1 ? Optional.none() : Optional.some(render$3('chevron-down', {\n        tag: 'div',\n        classes: ['tox-selectfield__icon-js']\n      }, providersBackstage.icons));\n      const selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const schema$h = constant$1([\n      defaulted('field1Name', 'field1'),\n      defaulted('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers$1(['lockClass']),\n      defaulted('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    const getField = (comp, detail, partName) => getPart(comp, detail, partName).bind(Composing.getCurrent);\n    const coupledPart = (selfName, otherName) => required({\n      factory: FormField,\n      name: selfName,\n      overrides: detail => {\n        return {\n          fieldBehaviours: derive$1([config('coupled-input-behaviour', [run$1(input(), me => {\n                getField(me, detail, otherName).each(other => {\n                  getPart(me, detail, 'lock').each(lock => {\n                    if (Toggling.isOn(lock)) {\n                      detail.onLockedChange(me, other, lock);\n                    }\n                  });\n                });\n              })])])\n        };\n      }\n    });\n    const parts$c = constant$1([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [required$1('dom')],\n        name: 'lock',\n        overrides: detail => {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const factory$e = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n        Composing.config({ find: Optional.some }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: comp => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              return {\n                [detail.field1Name]: Representing.getValue(parts.field1()),\n                [detail.field2Name]: Representing.getValue(parts.field2())\n              };\n            },\n            setValue: (comp, value) => {\n              const parts = getPartsOrDie(comp, detail, [\n                'field1',\n                'field2'\n              ]);\n              if (hasNonNullableKey(value, detail.field1Name)) {\n                Representing.setValue(parts.field1(), value[detail.field1Name]);\n              }\n              if (hasNonNullableKey(value, detail.field2Name)) {\n                Representing.setValue(parts.field2(), value[detail.field2Name]);\n              }\n            }\n          }\n        })\n      ]),\n      apis: {\n        getField1: component => getPart(component, detail, 'field1'),\n        getField2: component => getPart(component, detail, 'field2'),\n        getLock: component => getPart(component, detail, 'lock')\n      }\n    });\n    const FormCoupledInputs = composite({\n      name: 'FormCoupledInputs',\n      configFields: schema$h(),\n      partFields: parts$c(),\n      factory: factory$e,\n      apis: {\n        getField1: (apis, component) => apis.getField1(component),\n        getField2: (apis, component) => apis.getField2(component),\n        getLock: (apis, component) => apis.getLock(component)\n      }\n    });\n\n    const formatSize = size => {\n      const unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      const maxDecimal = unit => unit in unitDec ? unitDec[unit] : 1;\n      let numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    const parseSize = sizeText => {\n      const numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      const match = numPattern.exec(sizeText);\n      if (match !== null) {\n        const value = parseFloat(match[1]);\n        const unit = match[2];\n        return Result.value({\n          value,\n          unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    const convertUnit = (size, unit) => {\n      const inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      const supported = u => has$2(inInch, u);\n      if (size.unit === unit) {\n        return Optional.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Optional.some(size.value);\n        } else {\n          return Optional.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const noSizeConversion = _input => Optional.none();\n    const ratioSizeConversion = (scale, unit) => size => convertUnit(size, unit).map(value => ({\n      value: value * scale,\n      unit\n    }));\n    const makeRatioConverter = (currentFieldText, otherFieldText) => {\n      const cValue = parseSize(currentFieldText).toOptional();\n      const oValue = parseSize(otherFieldText).toOptional();\n      return lift2(cValue, oValue, (cSize, oSize) => convertUnit(cSize, oSize.unit).map(val => oSize.value / val).map(r => ratioSizeConversion(r, oSize.unit)).getOr(noSizeConversion)).getOr(noSizeConversion);\n    };\n\n    const renderSizeInput = (spec, providersBackstage) => {\n      let converter = noSizeConversion;\n      const ratioEvent = generate$6('ratio-event');\n      const makeIcon = iconName => render$3(iconName, {\n        tag: 'span',\n        classes: [\n          'tox-icon',\n          'tox-lock-icon__' + iconName\n        ]\n      }, providersBackstage.icons);\n      const pLock = FormCoupledInputs.parts.lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          makeIcon('lock'),\n          makeIcon('unlock')\n        ],\n        buttonBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({})\n        ])\n      });\n      const formGroup = components => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components\n      });\n      const getFieldPart = isField1 => FormField.parts.field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        inputBehaviours: derive$1([\n          Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('size-input-events', [\n            run$1(focusin(), (component, _simulatedEvent) => {\n              emitWith(component, ratioEvent, { isField1 });\n            }),\n            run$1(change(), (component, _simulatedEvent) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })\n          ])\n        ]),\n        selectOnFocus: false\n      });\n      const getLabel = label => ({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(providersBackstage.translate(label))]\n      });\n      const widthField = FormCoupledInputs.parts.field1(formGroup([\n        FormField.parts.label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      const heightField = FormCoupledInputs.parts.field2(formGroup([\n        FormField.parts.label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel(nbsp),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: (current, other, _lock) => {\n          parseSize(Representing.getValue(current)).each(size => {\n            converter(size).each(newSize => {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('size-input-events2', [run$1(ratioEvent, (component, simulatedEvent) => {\n              const isField1 = simulatedEvent.event.isField1;\n              const optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              const optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              const value1 = optCurrent.map(Representing.getValue).getOr('');\n              const value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    const renderSlider = (spec, providerBackstage, initialData) => {\n      const labelPart = Slider.parts.label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label']\n        },\n        components: [text$1(providerBackstage.translate(spec.label))]\n      });\n      const spectrum = Slider.parts.spectrum({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__rail'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      const thumb = Slider.parts.thumb({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider__handle'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-slider'],\n          attributes: { role: 'presentation' }\n        },\n        model: {\n          mode: 'x',\n          minX: spec.min,\n          maxX: spec.max,\n          getInitialValue: constant$1(initialData.getOrThunk(() => (Math.abs(spec.max) - Math.abs(spec.min)) / 2))\n        },\n        components: [\n          labelPart,\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([\n          ComposingConfigs.self(),\n          Focusing.config({})\n        ]),\n        onChoose: (component, thumb, value) => {\n          emitWith(component, formChangeEvent, {\n            name: spec.name,\n            value\n          });\n        }\n      });\n    };\n\n    const renderTable = (spec, providersBackstage) => {\n      const renderTh = text => ({\n        dom: {\n          tag: 'th',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderHeader = header => ({\n        dom: { tag: 'thead' },\n        components: [{\n            dom: { tag: 'tr' },\n            components: map$2(header, renderTh)\n          }]\n      });\n      const renderTd = text => ({\n        dom: {\n          tag: 'td',\n          innerHtml: providersBackstage.translate(text)\n        }\n      });\n      const renderTr = row => ({\n        dom: { tag: 'tr' },\n        components: map$2(row, renderTd)\n      });\n      const renderRows = rows => ({\n        dom: { tag: 'tbody' },\n        components: map$2(rows, renderTr)\n      });\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    const renderTextField = (spec, providersBackstage) => {\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const baseInputBehaviours = [\n        Disabling.config({ disabled: () => spec.disabled || providersBackstage.isDisabled() }),\n        receivingConfig(),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: comp => {\n            emit(comp, formSubmitEvent);\n            return Optional.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run$1(input(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run$1(postPaste(), (component, _) => {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      const validatingBehaviours = spec.validation.map(vl => Invalidating.config({\n        getRoot: input => {\n          return parentElement(input.element);\n        },\n        invalidClass: 'tox-invalid',\n        validator: {\n          validate: input => {\n            const v = Representing.getValue(input);\n            const result = vl.validator(v);\n            return Future.pure(result === true ? Result.value(v) : Result.error(result));\n          },\n          validateOnLoad: vl.validateOnLoad\n        }\n      })).toArray();\n      const placeholder = spec.placeholder.fold(constant$1({}), p => ({ placeholder: providersBackstage.translate(p) }));\n      const inputMode = spec.inputMode.fold(constant$1({}), mode => ({ inputmode: mode }));\n      const inputAttributes = {\n        ...placeholder,\n        ...inputMode\n      };\n      const pField = FormField.parts.field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        ...spec.data.map(data => ({ data })).getOr({}),\n        inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      const extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      const extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      const extraBehaviours = [\n        Disabling.config({\n          disabled: () => spec.disabled || providersBackstage.isDisabled(),\n          onDisabled: comp => {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: comp => {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        }),\n        receivingConfig()\n      ];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    const renderInput = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: false,\n      label: spec.label,\n      inputMode: spec.inputMode,\n      placeholder: spec.placeholder,\n      flex: false,\n      disabled: !spec.enabled,\n      classname: 'tox-textfield',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n    const renderTextarea = (spec, providersBackstage, initialData) => renderTextField({\n      name: spec.name,\n      multiline: true,\n      label: spec.label,\n      inputMode: Optional.none(),\n      placeholder: spec.placeholder,\n      flex: true,\n      disabled: !spec.enabled,\n      classname: 'tox-textarea',\n      validation: Optional.none(),\n      maximized: spec.maximized,\n      data: initialData\n    }, providersBackstage);\n\n    const events$6 = (streamConfig, streamState) => {\n      const streams = streamConfig.stream.streams;\n      const processor = streams.setup(streamConfig, streamState);\n      return derive$2([\n        run$1(streamConfig.event, processor),\n        runOnDetached(() => streamState.cancel())\n      ].concat(streamConfig.cancelEvent.map(e => [run$1(e, () => streamState.cancel())]).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$6\n    });\n\n    const first = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const throttle = _config => {\n      const state = Cell(null);\n      const readState = () => ({ timer: state.get() !== null ? 'set' : 'unset' });\n      const setTimer = t => {\n        state.set(t);\n      };\n      const cancel = () => {\n        const t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$8({\n        readState,\n        setTimer,\n        cancel\n      });\n    };\n    const init$9 = spec => spec.stream.streams.state(spec);\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        throttle: throttle,\n        init: init$9\n    });\n\n    const setup$c = (streamInfo, streamState) => {\n      const sInfo = streamInfo.stream;\n      const throttler = last(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return (component, simulatedEvent) => {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      requiredOf('stream', choose$1('mode', {\n        throttle: [\n          required$1('delay'),\n          defaulted('stopEvent', true),\n          output$1('streams', {\n            setup: setup$c,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted('event', 'input'),\n      option$3('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    const Streaming = create$3({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    const setValueFromItem = (model, input, item) => {\n      const itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    const setSelectionOn = (input, f) => {\n      const el = input.element;\n      const value = get$6(el);\n      const node = el.dom;\n      if (get$f(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    const setCursorAtEnd = input => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(value.length, value.length));\n    };\n    const setSelectionToEnd = (input, startOffset) => {\n      setSelectionOn(input, (node, value) => node.setSelectionRange(startOffset, value.length));\n    };\n    const attemptSelectOver = (model, input, item) => {\n      if (!model.selectsOver) {\n        return Optional.none();\n      } else {\n        const currentValue = Representing.getValue(input);\n        const inputDisplay = model.getDisplayText(currentValue);\n        const itemValue = Representing.getValue(item);\n        const itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay) === 0 ? Optional.some(() => {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay.length);\n        }) : Optional.none();\n      }\n    };\n\n    const itemExecute = constant$1('alloy.typeahead.itemexecute');\n\n    const make$3 = (detail, components, spec, externals) => {\n      const navigateList = (comp, simulatedEvent, highlighter) => {\n        detail.previewing.set(false);\n        const sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(menu => {\n            Highlighting.getHighlighted(menu).fold(() => {\n              highlighter(menu);\n            }, () => {\n              dispatchEvent(sandbox, menu.element, 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          const onOpenSync = sandbox => {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      };\n      const focusBehaviours$1 = focusBehaviours(detail);\n      const mapFetch = comp => tdata => tdata.map(data => {\n        const menus = values(data.menus);\n        const items = bind$3(menus, menu => filter$2(menu.items, item => item.type === 'item'));\n        const repState = Representing.getState(comp);\n        repState.update(map$2(items, item => item.data));\n        return data;\n      });\n      const behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: {\n            mode: 'dataset',\n            getDataKey: comp => get$6(comp.element),\n            getFallbackEntry: itemString => ({\n              value: itemString,\n              meta: {}\n            }),\n            setValue: (comp, data) => {\n              set$5(comp.element, detail.model.getDisplayText(data));\n            },\n            ...detail.initialData.map(d => wrap$1('initialValue', d)).getOr({})\n          }\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: (component, _simulatedEvent) => {\n            const sandbox = Coupling.getCoupled(component, 'sandbox');\n            const focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$6(component.element).length >= detail.minChars) {\n                const previousValue = Composing.getCurrent(sandbox).bind(menu => Highlighting.getHighlighted(menu).map(Representing.getValue));\n                detail.previewing.set(true);\n                const onOpenSync = _sandbox => {\n                  Composing.getCurrent(sandbox).each(menu => {\n                    previousValue.fold(() => {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(menu);\n                      }\n                    }, pv => {\n                      Highlighting.highlightBy(menu, item => {\n                        const itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(menu).orThunk(() => {\n                        Highlighting.highlightFirst(menu);\n                        return Optional.none();\n                      });\n                    });\n                  });\n                };\n                open(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Optional.some(true);\n          },\n          onEscape: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Optional.some(true);\n            }\n            return Optional.none();\n          },\n          onUp: (comp, simulatedEvent) => {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Optional.some(true);\n          },\n          onEnter: comp => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            const sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return Composing.getCurrent(sandbox).bind(menu => Highlighting.getHighlighted(menu)).map(item => {\n                emitWith(comp, itemExecute(), { item });\n                return true;\n              });\n            } else {\n              const currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Optional.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: hotspot => {\n              return makeSandbox$1(detail, hotspot, {\n                onOpen: () => Toggling.on(hotspot),\n                onClose: () => Toggling.off(hotspot)\n              });\n            }\n          }\n        }),\n        config('typeaheadevents', [\n          runOnExecute$1(comp => {\n            const onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }),\n          run$1(itemExecute(), (comp, se) => {\n            const sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event.item);\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event.item, Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run$1(postBlur(), typeahead => {\n            const sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      return {\n        uid: detail.uid,\n        dom: dom(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: {\n          ...focusBehaviours$1,\n          ...augment(detail.typeaheadBehaviours, behaviours)\n        },\n        eventOrder: detail.eventOrder\n      };\n    };\n\n    const schema$g = constant$1([\n      option$3('lazySink'),\n      required$1('fetch'),\n      defaulted('minChars', 5),\n      defaulted('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      defaulted('layouts', Optional.none()),\n      defaulted('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted('getDisplayText', itemData => itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value),\n        defaulted('selectsOver', true),\n        defaulted('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted('inputClasses', []),\n      defaulted('inputAttributes', {}),\n      defaulted('inputStyles', {}),\n      defaulted('matchWidth', true),\n      defaulted('useMinWidth', false),\n      defaulted('dismissOnBlur', true),\n      markers$1(['openClass']),\n      option$3('initialData'),\n      field('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      customField('previewing', () => Cell(true))\n    ].concat(schema$k()).concat(sandboxFields()));\n    const parts$b = constant$1([external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: detail => {\n          return {\n            fakeFocus: true,\n            onHighlight: (menu, item) => {\n              if (!detail.previewing.get()) {\n                menu.getSystem().getByUid(detail.uid).each(input => {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                menu.getSystem().getByUid(detail.uid).each(input => {\n                  attemptSelectOver(detail.model, input, item).fold(() => Highlighting.dehighlight(menu, item), fn => fn());\n                });\n              }\n              detail.previewing.set(false);\n            },\n            onExecute: (menu, item) => {\n              return menu.getSystem().getByUid(detail.uid).toOptional().map(typeahead => {\n                emitWith(typeahead, itemExecute(), { item });\n                return true;\n              });\n            },\n            onHover: (menu, item) => {\n              detail.previewing.set(false);\n              menu.getSystem().getByUid(detail.uid).each(input => {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    const Typeahead = composite({\n      name: 'Typeahead',\n      configFields: schema$g(),\n      partFields: parts$b(),\n      factory: make$3\n    });\n\n    const wrap = delegate => {\n      const toCached = () => {\n        return wrap(delegate.toCached());\n      };\n      const bindFuture = f => {\n        return wrap(delegate.bind(resA => resA.fold(err => Future.pure(Result.error(err)), a => f(a))));\n      };\n      const bindResult = f => {\n        return wrap(delegate.map(resA => resA.bind(f)));\n      };\n      const mapResult = f => {\n        return wrap(delegate.map(resA => resA.map(f)));\n      };\n      const mapError = f => {\n        return wrap(delegate.map(resA => resA.mapError(f)));\n      };\n      const foldResult = (whenError, whenValue) => {\n        return delegate.map(res => res.fold(whenError, whenValue));\n      };\n      const withTimeout = (timeout, errorThunk) => {\n        return wrap(Future.nu(callback => {\n          let timedOut = false;\n          const timer = setTimeout(() => {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(result => {\n            if (!timedOut) {\n              clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return {\n        ...delegate,\n        toCached,\n        bindFuture,\n        bindResult,\n        mapResult,\n        mapError,\n        foldResult,\n        withTimeout\n      };\n    };\n    const nu$1 = worker => {\n      return wrap(Future.nu(worker));\n    };\n    const value = value => {\n      return wrap(Future.pure(Result.value(value)));\n    };\n    const error = error => {\n      return wrap(Future.pure(Result.error(error)));\n    };\n    const fromResult = result => {\n      return wrap(Future.pure(result));\n    };\n    const fromFuture = future => {\n      return wrap(future.map(Result.value));\n    };\n    const fromPromise = promise => {\n      return nu$1(completer => {\n        promise.then(value => {\n          completer(Result.value(value));\n        }, error => {\n          completer(Result.error(error));\n        });\n      });\n    };\n    const FutureResult = {\n      nu: nu$1,\n      wrap,\n      pure: value,\n      value,\n      error,\n      fromResult,\n      fromFuture,\n      fromPromise\n    };\n\n    const getMenuButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state),\n      setActive: state => {\n        const elm = component.element;\n        if (state) {\n          add$2(elm, 'tox-tbtn--enabled');\n          set$9(elm, 'aria-pressed', true);\n        } else {\n          remove$2(elm, 'tox-tbtn--enabled');\n          remove$7(elm, 'aria-pressed');\n        }\n      },\n      isActive: () => has(component.element, 'tox-tbtn--enabled')\n    });\n    const renderMenuButton = (spec, prefix, backstage, role) => renderCommonDropdown({\n      text: spec.text,\n      icon: spec.icon,\n      tooltip: spec.tooltip,\n      role,\n      fetch: (_comp, callback) => {\n        spec.fetch(items => {\n          callback(build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n        });\n      },\n      onSetup: spec.onSetup,\n      getApi: getMenuButtonApi,\n      columns: 1,\n      presets: 'normal',\n      classes: [],\n      dropdownBehaviours: [Tabstopping.config({})]\n    }, prefix, backstage.shared);\n    const getFetch = (items, getButton, backstage) => {\n      const getMenuItemAction = item => api => {\n        const newValue = !api.isActive();\n        api.setActive(newValue);\n        item.storage.set(newValue);\n        backstage.shared.getSink().each(sink => {\n          getButton().getOpt(sink).each(orig => {\n            focus$3(orig.element);\n            emitWith(orig, formActionEvent, {\n              name: item.name,\n              value: item.storage.get()\n            });\n          });\n        });\n      };\n      const getMenuItemSetup = item => api => {\n        api.setActive(item.storage.get());\n      };\n      return success => {\n        success(map$2(items, item => {\n          const text = item.text.fold(() => ({}), text => ({ text }));\n          return {\n            type: item.type,\n            active: false,\n            ...text,\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          };\n        }));\n      };\n    };\n\n    const renderCommonSpec = (spec, actionOpt, extraBehaviours = [], dom, components, providersBackstage) => {\n      const action = actionOpt.fold(() => ({}), action => ({ action }));\n      const common = {\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig(),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        },\n        ...action\n      };\n      const domFinal = deepMerge(common, { dom });\n      return deepMerge(domFinal, { components });\n    };\n    const renderIconButtonSpec = (spec, action, providersBackstage, extraBehaviours = []) => {\n      const tooltipAttributes = spec.tooltip.map(tooltip => ({\n        'aria-label': providersBackstage.translate(tooltip),\n        'title': providersBackstage.translate(tooltip)\n      })).getOr({});\n      const dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      const icon = spec.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons));\n      const components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const calculateClassesFromButtonType = buttonType => {\n      switch (buttonType) {\n      case 'primary':\n        return ['tox-button'];\n      case 'toolbar':\n        return ['tox-tbtn'];\n      case 'secondary':\n      default:\n        return [\n          'tox-button',\n          'tox-button--secondary'\n        ];\n      }\n    };\n    const renderButtonSpec = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const translatedText = providersBackstage.translate(spec.text);\n      const icon = spec.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons));\n      const components = [icon.getOrThunk(() => text$1(translatedText))];\n      const buttonType = spec.buttonType.getOr(!spec.primary && !spec.borderless ? 'secondary' : 'primary');\n      const baseClasses = calculateClassesFromButtonType(buttonType);\n      const classes = [\n        ...baseClasses,\n        ...icon.isSome() ? ['tox-button--icon'] : [],\n        ...spec.borderless ? ['tox-button--naked'] : [],\n        ...extraClasses\n      ];\n      const dom = {\n        tag: 'button',\n        classes,\n        attributes: { title: translatedText }\n      };\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components, providersBackstage);\n    };\n    const renderButton = (spec, action, providersBackstage, extraBehaviours = [], extraClasses = []) => {\n      const buttonSpec = renderButtonSpec(spec, Optional.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    const getAction = (name, buttonType) => comp => {\n      if (buttonType === 'custom') {\n        emitWith(comp, formActionEvent, {\n          name,\n          value: {}\n        });\n      } else if (buttonType === 'submit') {\n        emit(comp, formSubmitEvent);\n      } else if (buttonType === 'cancel') {\n        emit(comp, formCancelEvent);\n      } else {\n        console.error('Unknown button type: ', buttonType);\n      }\n    };\n    const isMenuFooterButtonSpec = (spec, buttonType) => buttonType === 'menu';\n    const isNormalFooterButtonSpec = (spec, buttonType) => buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    const renderFooterButton = (spec, buttonType, backstage) => {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        const getButton = () => memButton;\n        const menuButtonSpec = spec;\n        const fixedSpec = {\n          ...spec,\n          onSetup: api => {\n            api.setEnabled(spec.enabled);\n            return noop;\n          },\n          fetch: getFetch(menuButtonSpec.items, getButton, backstage)\n        };\n        const memButton = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Optional.none()));\n        return memButton.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        const action = getAction(spec.name, buttonType);\n        const buttonSpec = {\n          ...spec,\n          borderless: false\n        };\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        console.error('Unknown footer button type: ', buttonType);\n      }\n    };\n    const renderDialogButton = (spec, providersBackstage) => {\n      const action = getAction(spec.name, 'custom');\n      return renderFormField(Optional.none(), FormField.parts.field({\n        factory: Button,\n        ...renderButtonSpec(spec, Optional.some(action), providersBackstage, [\n          RepresentingConfigs.memory(''),\n          ComposingConfigs.self()\n        ])\n      }));\n    };\n\n    const separator$1 = { type: 'separator' };\n    const toMenuItem = target => ({\n      type: 'menuitem',\n      value: target.url,\n      text: target.title,\n      meta: { attach: target.attach },\n      onAction: noop\n    });\n    const staticMenuItem = (title, url) => ({\n      type: 'menuitem',\n      value: url,\n      text: title,\n      meta: { attach: undefined },\n      onAction: noop\n    });\n    const toMenuItems = targets => map$2(targets, toMenuItem);\n    const filterLinkTargets = (type, targets) => filter$2(targets, target => target.type === type);\n    const filteredTargets = (type, targets) => toMenuItems(filterLinkTargets(type, targets));\n    const headerTargets = linkInfo => filteredTargets('header', linkInfo.targets);\n    const anchorTargets = linkInfo => filteredTargets('anchor', linkInfo.targets);\n    const anchorTargetTop = linkInfo => Optional.from(linkInfo.anchorTop).map(url => staticMenuItem('<top>', url)).toArray();\n    const anchorTargetBottom = linkInfo => Optional.from(linkInfo.anchorBottom).map(url => staticMenuItem('<bottom>', url)).toArray();\n    const historyTargets = history => map$2(history, url => staticMenuItem(url, url));\n    const joinMenuLists = items => {\n      return foldl(items, (a, b) => {\n        const bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$1, b);\n      }, []);\n    };\n    const filterByQuery = (term, menuItems) => {\n      const lowerCaseTerm = term.toLowerCase();\n      return filter$2(menuItems, item => {\n        const text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    const getItems = (fileType, input, urlBackstage) => {\n      const urlInputValue = Representing.getValue(input);\n      const term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      const info = urlBackstage.getLinkInformation();\n      return info.fold(() => [], linkInfo => {\n        const history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    const errorId = generate$6('aria-invalid');\n    const renderUrlInput = (spec, backstage, urlBackstage, initialData) => {\n      const providersBackstage = backstage.shared.providers;\n      const updateHistory = component => {\n        const urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      const pField = FormField.parts.field({\n        factory: Typeahead,\n        ...initialData.map(initialData => ({ initialData })).getOr({}),\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: input => {\n          const items = getItems(spec.filetype, input, urlBackstage);\n          const tdata = build(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, false);\n          return Future.pure(tdata);\n        },\n        getHotspot: comp => memUrlBox.getOpt(comp),\n        onSetValue: (comp, _newValue) => {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1(flatten([\n          urlBackstage.getValidationHandler().map(handler => Invalidating.config({\n            getRoot: comp => parentElement(comp.element),\n            invalidClass: 'tox-control-wrap--status-invalid',\n            notify: {\n              onInvalid: (comp, err) => {\n                memInvalidIcon.getOpt(comp).each(invalidComp => {\n                  set$9(invalidComp.element, 'title', providersBackstage.translate(err));\n                });\n              }\n            },\n            validator: {\n              validate: input => {\n                const urlEntry = Representing.getValue(input);\n                return FutureResult.nu(completer => {\n                  handler({\n                    type: spec.filetype,\n                    url: urlEntry.value\n                  }, validation => {\n                    if (validation.status === 'invalid') {\n                      const err = Result.error(validation.message);\n                      completer(err);\n                    } else {\n                      const val = Result.value(validation.message);\n                      completer(val);\n                    }\n                  });\n                });\n              },\n              validateOnLoad: false\n            }\n          })).toArray(),\n          [\n            Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() }),\n            Tabstopping.config({}),\n            config('urlinput-events', flatten([\n              spec.filetype === 'file' ? [run$1(input(), comp => {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                })] : [],\n              [\n                run$1(change(), comp => {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                }),\n                run$1(postPaste(), comp => {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                })\n              ]\n            ]))\n          ]\n        ])),\n        eventOrder: {\n          [input()]: [\n            'streaming',\n            'urlinput-events',\n            'invalidating'\n          ]\n        },\n        model: {\n          getDisplayText: itemData => itemData.value,\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: (_menu, component, _entry) => {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: (typeahead, _sandbox, _item, _value) => {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      });\n      const pLabel = spec.label.map(label => renderLabel$2(label, providersBackstage));\n      const makeIcon = (name, errId, icon = name, label = name) => render$3(icon, {\n        tag: 'div',\n        classes: [\n          'tox-icon',\n          'tox-control-wrap__status-icon-' + name\n        ],\n        attributes: {\n          'title': providersBackstage.translate(label),\n          'aria-live': 'polite',\n          ...errId.fold(() => ({}), id => ({ id }))\n        }\n      }, providersBackstage.icons);\n      const memInvalidIcon = record(makeIcon('invalid', Optional.some(errorId), 'warning'));\n      const memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      const optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      const browseUrlEvent = generate$6('browser.url.event');\n      const memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: () => !spec.enabled || providersBackstage.isDisabled() })])\n      });\n      const memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Optional.some('browse'),\n        text: spec.label.getOr(''),\n        enabled: spec.enabled,\n        primary: false,\n        buttonType: Optional.none(),\n        borderless: true\n      }, component => emit(component, browseUrlEvent), providersBackstage, [], ['tox-browse-url']));\n      const controlHWrapper = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__controls-h-stack']\n        },\n        components: flatten([\n          [memUrlBox.asSpec()],\n          optUrlPicker.map(() => memUrlPickerButton.asSpec()).toArray()\n        ])\n      });\n      const openUrlPicker = comp => {\n        Composing.getCurrent(comp).each(field => {\n          const componentData = Representing.getValue(field);\n          const urlData = {\n            fieldname: spec.name,\n            ...componentData\n          };\n          optUrlPicker.each(picker => {\n            picker(urlData).get(chosenData => {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providersBackstage.isDisabled(),\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig(),\n          config('url-input-events', [run$1(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    const renderAlertBanner = (spec, providersBackstage) => Container.sketch({\n      dom: {\n        tag: 'div',\n        attributes: { role: 'alert' },\n        classes: [\n          'tox-notification',\n          'tox-notification--in',\n          `tox-notification--${ spec.level }`\n        ]\n      },\n      components: [\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__icon']\n          },\n          components: [Button.sketch({\n              dom: {\n                tag: 'button',\n                classes: [\n                  'tox-button',\n                  'tox-button--naked',\n                  'tox-button--icon'\n                ],\n                innerHtml: get$2(spec.icon, providersBackstage.icons),\n                attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n              },\n              action: comp => {\n                emitWith(comp, formActionEvent, {\n                  name: 'alert-banner',\n                  value: spec.url\n                });\n              },\n              buttonBehaviours: derive$1([addFocusableBehaviour()])\n            })]\n        },\n        {\n          dom: {\n            tag: 'div',\n            classes: ['tox-notification__body'],\n            innerHtml: providersBackstage.translate(spec.text)\n          }\n        }\n      ]\n    });\n\n    const set$1 = (element, status) => {\n      element.dom.checked = status;\n    };\n    const get$1 = element => element.dom.checked;\n\n    const renderCheckbox = (spec, providerBackstage, initialData) => {\n      const toggleCheckboxHandler = comp => {\n        comp.element.dom.click();\n        return Optional.some(true);\n      };\n      const pField = FormField.parts.field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({ disabled: () => !spec.enabled || providerBackstage.isDisabled() }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          RepresentingConfigs.withElement(initialData, get$1, set$1),\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run$1(change(), (component, _) => {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      const pLabel = FormField.parts.label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label']\n        },\n        components: [text$1(providerBackstage.translate(spec.label))],\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      const makeIcon = className => {\n        const iconName = className === 'checked' ? 'selected' : 'unselected';\n        return render$3(iconName, {\n          tag: 'span',\n          classes: [\n            'tox-icon',\n            'tox-checkbox-icon__' + className\n          ]\n        }, providerBackstage.icons);\n      };\n      const memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: () => !spec.enabled || providerBackstage.isDisabled(),\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: comp => {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: comp => {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          }),\n          receivingConfig()\n        ])\n      });\n    };\n\n    const renderHtmlPanel = spec => {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    const make$2 = render => {\n      return (parts, spec, dialogData, backstage) => get$g(spec, 'name').fold(() => render(spec, backstage, Optional.none()), fieldName => parts.field(fieldName, render(spec, backstage, get$g(dialogData, fieldName))));\n    };\n    const makeIframe = render => (parts, spec, dialogData, backstage) => {\n      const iframeSpec = deepMerge(spec, { source: 'dynamic' });\n      return make$2(render)(parts, iframeSpec, dialogData, backstage);\n    };\n    const factories = {\n      bar: make$2((spec, backstage) => renderBar(spec, backstage.shared)),\n      collection: make$2((spec, backstage, data) => renderCollection(spec, backstage.shared.providers, data)),\n      alertbanner: make$2((spec, backstage) => renderAlertBanner(spec, backstage.shared.providers)),\n      input: make$2((spec, backstage, data) => renderInput(spec, backstage.shared.providers, data)),\n      textarea: make$2((spec, backstage, data) => renderTextarea(spec, backstage.shared.providers, data)),\n      label: make$2((spec, backstage) => renderLabel$1(spec, backstage.shared)),\n      iframe: makeIframe((spec, backstage, data) => renderIFrame(spec, backstage.shared.providers, data)),\n      button: make$2((spec, backstage) => renderDialogButton(spec, backstage.shared.providers)),\n      checkbox: make$2((spec, backstage, data) => renderCheckbox(spec, backstage.shared.providers, data)),\n      colorinput: make$2((spec, backstage, data) => renderColorInput(spec, backstage.shared, backstage.colorinput, data)),\n      colorpicker: make$2((spec, backstage, data) => renderColorPicker(spec, backstage.shared.providers, data)),\n      dropzone: make$2((spec, backstage, data) => renderDropZone(spec, backstage.shared.providers, data)),\n      grid: make$2((spec, backstage) => renderGrid(spec, backstage.shared)),\n      listbox: make$2((spec, backstage, data) => renderListBox(spec, backstage, data)),\n      selectbox: make$2((spec, backstage, data) => renderSelectBox(spec, backstage.shared.providers, data)),\n      sizeinput: make$2((spec, backstage) => renderSizeInput(spec, backstage.shared.providers)),\n      slider: make$2((spec, backstage, data) => renderSlider(spec, backstage.shared.providers, data)),\n      urlinput: make$2((spec, backstage, data) => renderUrlInput(spec, backstage, backstage.urlinput, data)),\n      customeditor: make$2(renderCustomEditor),\n      htmlpanel: make$2(renderHtmlPanel),\n      imagepreview: make$2((spec, _, data) => renderImagePreview(spec, data)),\n      table: make$2((spec, backstage) => renderTable(spec, backstage.shared.providers)),\n      panel: make$2((spec, backstage) => renderPanel(spec, backstage))\n    };\n    const noFormParts = {\n      field: (_name, spec) => spec,\n      record: constant$1([])\n    };\n    const interpretInForm = (parts, spec, dialogData, oldBackstage) => {\n      const newBackstage = deepMerge(oldBackstage, { shared: { interpreter: childSpec => interpretParts(parts, childSpec, dialogData, newBackstage) } });\n      return interpretParts(parts, spec, dialogData, newBackstage);\n    };\n    const interpretParts = (parts, spec, dialogData, backstage) => get$g(factories, spec.type).fold(() => {\n      console.error(`Unknown factory type \"${ spec.type }\", defaulting to container: `, spec);\n      return spec;\n    }, factory => factory(parts, spec, dialogData, backstage));\n    const interpretWithoutForm = (spec, dialogData, backstage) => interpretParts(noFormParts, spec, dialogData, backstage);\n\n    const labelPrefix = 'layout-inset';\n    const westEdgeX = anchor => anchor.x;\n    const middleX = (anchor, element) => anchor.x + anchor.width / 2 - element.width / 2;\n    const eastEdgeX = (anchor, element) => anchor.x + anchor.width - element.width;\n    const northY = anchor => anchor.y;\n    const southY = (anchor, element) => anchor.y + anchor.height - element.height;\n    const centreY = (anchor, element) => anchor.y + anchor.height / 2 - element.height / 2;\n    const southwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), southY(anchor, element), bubbles.insetSouthwest(), northwest$3(), 'southwest', boundsRestriction(anchor, {\n      right: 0,\n      bottom: 3\n    }), labelPrefix);\n    const southeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), southY(anchor, element), bubbles.insetSoutheast(), northeast$3(), 'southeast', boundsRestriction(anchor, {\n      left: 1,\n      bottom: 3\n    }), labelPrefix);\n    const northwest = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), northY(anchor), bubbles.insetNorthwest(), southwest$3(), 'northwest', boundsRestriction(anchor, {\n      right: 0,\n      top: 2\n    }), labelPrefix);\n    const northeast = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), northY(anchor), bubbles.insetNortheast(), southeast$3(), 'northeast', boundsRestriction(anchor, {\n      left: 1,\n      top: 2\n    }), labelPrefix);\n    const north = (anchor, element, bubbles) => nu$6(middleX(anchor, element), northY(anchor), bubbles.insetNorth(), south$3(), 'north', boundsRestriction(anchor, { top: 2 }), labelPrefix);\n    const south = (anchor, element, bubbles) => nu$6(middleX(anchor, element), southY(anchor, element), bubbles.insetSouth(), north$3(), 'south', boundsRestriction(anchor, { bottom: 3 }), labelPrefix);\n    const east = (anchor, element, bubbles) => nu$6(eastEdgeX(anchor, element), centreY(anchor, element), bubbles.insetEast(), west$3(), 'east', boundsRestriction(anchor, { right: 0 }), labelPrefix);\n    const west = (anchor, element, bubbles) => nu$6(westEdgeX(anchor), centreY(anchor, element), bubbles.insetWest(), east$3(), 'west', boundsRestriction(anchor, { left: 1 }), labelPrefix);\n    const lookupPreserveLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return north;\n      case 'northeast':\n        return northeast;\n      case 'northwest':\n        return northwest;\n      case 'south':\n        return south;\n      case 'southeast':\n        return southeast;\n      case 'southwest':\n        return southwest;\n      case 'east':\n        return east;\n      case 'west':\n        return west;\n      }\n    };\n    const preserve = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupPreserveLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n    const lookupFlippedLayout = lastPlacement => {\n      switch (lastPlacement) {\n      case 'north':\n        return south;\n      case 'northeast':\n        return southeast;\n      case 'northwest':\n        return southwest;\n      case 'south':\n        return north;\n      case 'southeast':\n        return northeast;\n      case 'southwest':\n        return northwest;\n      case 'east':\n        return west;\n      case 'west':\n        return east;\n      }\n    };\n    const flip = (anchor, element, bubbles, placee, bounds) => {\n      const layout = getPlacement(placee).map(lookupFlippedLayout).getOr(north);\n      return layout(anchor, element, bubbles, placee, bounds);\n    };\n\n    const bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    const getInlineDialogAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const bubbleSize = 12;\n      const overrides = { maxHeightFunction: expandable$1() };\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(contentAreaElement()),\n        node: Optional.from(contentAreaElement()),\n        bubble: nu$5(bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [northeast],\n          onLtr: () => [northwest]\n        },\n        overrides\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        bubble: nu$5(-bubbleSize, bubbleSize, bubbleAlignments$2),\n        layouts: {\n          onRtl: () => [southeast$2],\n          onLtr: () => [southwest$2]\n        },\n        overrides\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getBannerAnchor = (contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor) => {\n      const editableAreaAnchor = () => ({\n        type: 'node',\n        root: getContentContainer(contentAreaElement()),\n        node: Optional.from(contentAreaElement()),\n        layouts: {\n          onRtl: () => [north],\n          onLtr: () => [north]\n        }\n      });\n      const standardAnchor = () => ({\n        type: 'hotspot',\n        hotspot: lazyAnchorbar(),\n        layouts: {\n          onRtl: () => [south$2],\n          onLtr: () => [south$2]\n        }\n      });\n      return () => lazyUseEditableAreaAnchor() ? editableAreaAnchor() : standardAnchor();\n    };\n    const getCursorAnchor = (editor, bodyElement) => () => ({\n      type: 'selection',\n      root: bodyElement(),\n      getSelection: () => {\n        const rng = editor.selection.getRng();\n        return Optional.some(SimSelection.range(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n      }\n    });\n    const getNodeAnchor$1 = bodyElement => element => ({\n      type: 'node',\n      root: bodyElement(),\n      node: element\n    });\n    const getAnchors = (editor, lazyAnchorbar, isToolbarTop) => {\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const bodyElement = () => SugarElement.fromDom(editor.getBody());\n      const contentAreaElement = () => SugarElement.fromDom(editor.getContentAreaContainer());\n      const lazyUseEditableAreaAnchor = () => useFixedToolbarContainer || !isToolbarTop();\n      return {\n        inlineDialog: getInlineDialogAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        banner: getBannerAnchor(contentAreaElement, lazyAnchorbar, lazyUseEditableAreaAnchor),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor$1(bodyElement)\n      };\n    };\n\n    const colorPicker = editor => (callback, value) => {\n      const dialog = colorPickerDialog(editor);\n      dialog(callback, value);\n    };\n    const hasCustomColors = editor => () => hasCustomColors$1(editor);\n    const getColors = editor => () => getColors$2(editor);\n    const getColorCols = editor => () => getColorCols$1(editor);\n    const ColorInputBackstage = editor => ({\n      colorPicker: colorPicker(editor),\n      hasCustomColors: hasCustomColors(editor),\n      getColors: getColors(editor),\n      getColorCols: getColorCols(editor)\n    });\n\n    const isDraggableModal = editor => () => isDraggableModal$1(editor);\n    const DialogBackstage = editor => ({ isDraggableModal: isDraggableModal(editor) });\n\n    const HeaderBackstage = editor => {\n      const mode = Cell(isToolbarLocationBottom(editor) ? 'bottom' : 'top');\n      return {\n        isPositionedAtTop: () => mode.get() === 'top',\n        getDockingMode: mode.get,\n        setDockingMode: mode.set\n      };\n    };\n\n    const defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    const isNestedFormat = format => has$2(format, 'items');\n    const isBlockFormat = format => has$2(format, 'block');\n    const isInlineFormat = format => has$2(format, 'inline');\n    const isSelectorFormat = format => has$2(format, 'selector');\n    const mapFormats = userFormats => foldl(userFormats, (acc, fmt) => {\n      if (isNestedFormat(fmt)) {\n        const result = mapFormats(fmt.items);\n        return {\n          customFormats: acc.customFormats.concat(result.customFormats),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              items: result.formats\n            }])\n        };\n      } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n        const formatName = isString(fmt.name) ? fmt.name : fmt.title.toLowerCase();\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        return {\n          customFormats: acc.customFormats.concat([{\n              name: formatNameWithPrefix,\n              format: fmt\n            }]),\n          formats: acc.formats.concat([{\n              title: fmt.title,\n              format: formatNameWithPrefix,\n              icon: fmt.icon\n            }])\n        };\n      } else {\n        return {\n          ...acc,\n          formats: acc.formats.concat(fmt)\n        };\n      }\n    }, {\n      customFormats: [],\n      formats: []\n    });\n    const registerCustomFormats = (editor, userFormats) => {\n      const result = mapFormats(userFormats);\n      const registerFormats = customFormats => {\n        each$1(customFormats, fmt => {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', () => {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    const getStyleFormats = editor => getUserStyleFormats(editor).map(userFormats => {\n      const registeredUserFormats = registerCustomFormats(editor, userFormats);\n      return shouldMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n    }).getOr(defaultStyleFormats);\n\n    const processBasic = (item, isSelectedFor, getPreviewFor) => {\n      const formatterSpec = {\n        type: 'formatter',\n        isSelected: isSelectedFor(item.format),\n        getStylePreview: getPreviewFor(item.format)\n      };\n      return deepMerge(item, formatterSpec);\n    };\n    const register$a = (editor, formats, isSelectedFor, getPreviewFor) => {\n      const enrichSupported = item => processBasic(item, isSelectedFor, getPreviewFor);\n      const enrichMenu = item => {\n        const submenuSpec = { type: 'submenu' };\n        return deepMerge(item, submenuSpec);\n      };\n      const enrichCustom = item => {\n        const formatName = isString(item.name) ? item.name : generate$6(item.title);\n        const formatNameWithPrefix = `custom-${ formatName }`;\n        const customSpec = {\n          type: 'formatter',\n          format: formatNameWithPrefix,\n          isSelected: isSelectedFor(formatNameWithPrefix),\n          getStylePreview: getPreviewFor(formatNameWithPrefix)\n        };\n        const newItem = deepMerge(item, customSpec);\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      const doEnrich = items => map$2(items, item => {\n        const keys$1 = keys(item);\n        if (hasNonNullableKey(item, 'items')) {\n          const newItems = doEnrich(item.items);\n          return deepMerge(enrichMenu(item), { getStyleItems: constant$1(newItems) });\n        } else if (hasNonNullableKey(item, 'format')) {\n          return enrichSupported(item);\n        } else if (keys$1.length === 1 && contains$2(keys$1, 'title')) {\n          return deepMerge(item, { type: 'separator' });\n        } else {\n          return enrichCustom(item);\n        }\n      });\n      return doEnrich(formats);\n    };\n\n    const init$8 = editor => {\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const flatten = fmt => {\n        const subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind$3(subs, flatten) : [fmt.format];\n      };\n      const settingsFormats = Cell([]);\n      const settingsFlattenedFormats = Cell([]);\n      const eventsFormats = Cell([]);\n      const eventsFlattenedFormats = Cell([]);\n      const replaceSettings = Cell(false);\n      editor.on('PreInit', _e => {\n        const formats = getStyleFormats(editor);\n        const enriched = register$a(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n        settingsFlattenedFormats.set(bind$3(enriched, flatten));\n      });\n      editor.on('addStyleModifications', e => {\n        const modifications = register$a(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n        eventsFlattenedFormats.set(bind$3(modifications, flatten));\n      });\n      const getData = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        const fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      const getFlattenedKeys = () => {\n        const fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n        const fromEvents = eventsFlattenedFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return {\n        getData,\n        getFlattenedKeys\n      };\n    };\n\n    const isElement = node => isNonNullable(node) && node.nodeType === 1;\n    const trim = global$1.trim;\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isContentEditableTrue = hasContentEditableState('true');\n    const isContentEditableFalse = hasContentEditableState('false');\n    const create = (type, title, url, level, attach) => {\n      return {\n        type,\n        title,\n        url,\n        level,\n        attach\n      };\n    };\n    const isChildOfContentEditableTrue = node => {\n      while (node = node.parentNode) {\n        const value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    const select = (selector, root) => {\n      return map$2(descendants(SugarElement.fromDom(root), selector), element => {\n        return element.dom;\n      });\n    };\n    const getElementText = elm => {\n      return elm.innerText || elm.textContent;\n    };\n    const getOrGenerateId = elm => {\n      return elm.id ? elm.id : generate$6('h');\n    };\n    const isAnchor = elm => {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    const isValidAnchor = elm => {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    const isHeader = elm => {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    const isEditable = elm => {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    const isValidHeader = elm => {\n      return isHeader(elm) && isEditable(elm);\n    };\n    const getLevel = elm => {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    const headerTarget = elm => {\n      const headerId = getOrGenerateId(elm);\n      const attach = () => {\n        elm.id = headerId;\n      };\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    const anchorTarget = elm => {\n      const anchorId = elm.id || elm.name;\n      const anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    const getHeaderTargets = elms => {\n      return map$2(filter$2(elms, isValidHeader), headerTarget);\n    };\n    const getAnchorTargets = elms => {\n      return map$2(filter$2(elms, isValidAnchor), anchorTarget);\n    };\n    const getTargetElements = elm => {\n      const elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    const hasTitle = target => {\n      return trim(target.title).length > 0;\n    };\n    const find = elm => {\n      const elms = getTargetElements(elm);\n      return filter$2(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    const LinkTargets = { find };\n\n    const STORAGE_KEY = 'tinymce-url-history';\n    const HISTORY_LENGTH = 5;\n    const isHttpUrl = url => isString(url) && /^https?/.test(url);\n    const isArrayOfUrl = a => isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    const isRecordOfUrlArray = r => isObject(r) && find$4(r, value => !isArrayOfUrl(value)).isNone();\n    const getAllHistory = () => {\n      const unparsedHistory = global$4.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      let history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    const setAllHistory = history => {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      global$4.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    const getHistory = fileType => {\n      const history = getAllHistory();\n      return get$g(history, fileType).getOr([]);\n    };\n    const addToHistory = (url, fileType) => {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      const history = getAllHistory();\n      const items = get$g(history, fileType).getOr([]);\n      const itemsWithoutUrl = filter$2(items, item => item !== url);\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    const isTruthy = value => !!value;\n    const makeMap = value => map$1(global$1.makeMap(value, /[, ]/), isTruthy);\n    const getPicker = editor => Optional.from(getFilePickerCallback(editor));\n    const getPickerTypes = editor => {\n      const optFileTypes = Optional.from(getFilePickerTypes(editor)).filter(isTruthy).map(makeMap);\n      return getPicker(editor).fold(never, _picker => optFileTypes.fold(always, types => keys(types).length > 0 ? types : false));\n    };\n    const getPickerSetting = (editor, filetype) => {\n      const pickerTypes = getPickerTypes(editor);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(editor) : Optional.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(editor) : Optional.none();\n      }\n    };\n    const getUrlPicker = (editor, filetype) => getPickerSetting(editor, filetype).map(picker => entry => Future.nu(completer => {\n      const handler = (value, meta) => {\n        if (!isString(value)) {\n          throw new Error('Expected value to be string');\n        }\n        if (meta !== undefined && !isObject(meta)) {\n          throw new Error('Expected meta to be a object');\n        }\n        const r = {\n          value,\n          meta\n        };\n        completer(r);\n      };\n      const meta = {\n        filetype,\n        fieldname: entry.fieldname,\n        ...Optional.from(entry.meta).getOr({})\n      };\n      picker.call(editor, handler, entry.value, meta);\n    }));\n    const getTextSetting = value => Optional.from(value).filter(isString).getOrUndefined();\n    const getLinkInformation = editor => {\n      if (!useTypeaheadUrls(editor)) {\n        return Optional.none();\n      }\n      return Optional.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(getAnchorTop(editor)),\n        anchorBottom: getTextSetting(getAnchorBottom(editor))\n      });\n    };\n    const getValidationHandler = editor => Optional.from(getFilePickerValidatorHandler(editor));\n    const UrlInputBackstage = editor => ({\n      getHistory,\n      addToHistory,\n      getLinkInformation: () => getLinkInformation(editor),\n      getValidationHandler: () => getValidationHandler(editor),\n      getUrlPicker: filetype => getUrlPicker(editor, filetype)\n    });\n\n    const init$7 = (lazySink, editor, lazyAnchorbar) => {\n      const contextMenuState = Cell(false);\n      const toolbar = HeaderBackstage(editor);\n      const backstage = {\n        shared: {\n          providers: {\n            icons: () => editor.ui.registry.getAll().icons,\n            menuItems: () => editor.ui.registry.getAll().menuItems,\n            translate: global$8.translate,\n            isDisabled: () => editor.mode.isReadOnly() || !editor.ui.isEnabled(),\n            getOption: editor.options.get\n          },\n          interpreter: s => interpretWithoutForm(s, {}, backstage),\n          anchors: getAnchors(editor, lazyAnchorbar, toolbar.isPositionedAtTop),\n          header: toolbar,\n          getSink: lazySink\n        },\n        urlinput: UrlInputBackstage(editor),\n        styles: init$8(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: () => contextMenuState.get(),\n        setContextMenuState: state => contextMenuState.set(state)\n      };\n      return backstage;\n    };\n\n    const setup$b = (editor, mothership, uiMothership) => {\n      const broadcastEvent = (name, evt) => {\n        each$1([\n          mothership,\n          uiMothership\n        ], ship => {\n          ship.broadcastEvent(name, evt);\n        });\n      };\n      const broadcastOn = (channel, message) => {\n        each$1([\n          mothership,\n          uiMothership\n        ], ship => {\n          ship.broadcastOn([channel], message);\n        });\n      };\n      const fireDismissPopups = evt => broadcastOn(dismissPopups(), { target: evt.target });\n      const doc = getDocument();\n      const onTouchstart = bind(doc, 'touchstart', fireDismissPopups);\n      const onTouchmove = bind(doc, 'touchmove', evt => broadcastEvent(documentTouchmove(), evt));\n      const onTouchend = bind(doc, 'touchend', evt => broadcastEvent(documentTouchend(), evt));\n      const onMousedown = bind(doc, 'mousedown', fireDismissPopups);\n      const onMouseup = bind(doc, 'mouseup', evt => {\n        if (evt.raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: evt.target });\n        }\n      });\n      const onContentClick = raw => broadcastOn(dismissPopups(), { target: SugarElement.fromDom(raw.target) });\n      const onContentMouseup = raw => {\n        if (raw.button === 0) {\n          broadcastOn(mouseReleased(), { target: SugarElement.fromDom(raw.target) });\n        }\n      };\n      const onContentMousedown = () => {\n        each$1(editor.editorManager.get(), loopEditor => {\n          if (editor !== loopEditor) {\n            loopEditor.dispatch('DismissPopups', { relatedTarget: editor });\n          }\n        });\n      };\n      const onWindowScroll = evt => broadcastEvent(windowScroll(), fromRawEvent(evt));\n      const onWindowResize = evt => {\n        broadcastOn(repositionPopups(), {});\n        broadcastEvent(windowResize(), fromRawEvent(evt));\n      };\n      const onEditorResize = () => broadcastOn(repositionPopups(), {});\n      const onEditorProgress = evt => {\n        if (evt.state) {\n          broadcastOn(dismissPopups(), { target: SugarElement.fromDom(editor.getContainer()) });\n        }\n      };\n      const onDismissPopups = event => {\n        broadcastOn(dismissPopups(), { target: SugarElement.fromDom(event.relatedTarget.getContainer()) });\n      };\n      editor.on('PostRender', () => {\n        editor.on('click', onContentClick);\n        editor.on('tap', onContentClick);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('mousedown', onContentMousedown);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n        editor.on('AfterProgressState', onEditorProgress);\n        editor.on('DismissPopups', onDismissPopups);\n      });\n      editor.on('remove', () => {\n        editor.off('click', onContentClick);\n        editor.off('tap', onContentClick);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('mousedown', onContentMousedown);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        editor.off('AfterProgressState', onEditorProgress);\n        editor.off('DismissPopups', onDismissPopups);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', () => {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n\n    const parts$a = AlloyParts;\n    const partType = PartType;\n\n    const schema$f = constant$1([\n      defaulted('shell', false),\n      required$1('makeItem'),\n      defaulted('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    const customListDetail = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    const parts$9 = constant$1([itemsPart]);\n    const name = constant$1('CustomList');\n\n    const factory$d = (detail, components, _spec, _external) => {\n      const setItems = (list, items) => {\n        getListContainer(list).fold(() => {\n          console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, container => {\n          const itemComps = Replacing.contents(container);\n          const numListsRequired = items.length;\n          const numListsToAdd = numListsRequired - itemComps.length;\n          const itemsToAdd = numListsToAdd > 0 ? range$2(numListsToAdd, () => detail.makeItem()) : [];\n          const itemsToRemove = itemComps.slice(numListsRequired);\n          each$1(itemsToRemove, item => Replacing.remove(container, item));\n          each$1(itemsToAdd, item => Replacing.append(container, item));\n          const builtLists = Replacing.contents(container);\n          each$1(builtLists, (item, i) => {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      const getListContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'items');\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems }\n      };\n    };\n    const CustomList = composite({\n      name: name(),\n      configFields: schema$f(),\n      partFields: parts$9(),\n      factory: factory$d,\n      apis: {\n        setItems: (apis, list, items) => {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    const schema$e = constant$1([\n      required$1('dom'),\n      defaulted('shell', true),\n      field('toolbarBehaviours', [Replacing])\n    ]);\n    const enhanceGroups = () => ({ behaviours: derive$1([Replacing.config({})]) });\n    const parts$8 = constant$1([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    const factory$c = (detail, components, _spec, _externals) => {\n      const setGroups = (toolbar, groups) => {\n        getGroupContainer(toolbar).fold(() => {\n          console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, container => {\n          Replacing.set(container, groups);\n        });\n      };\n      const getGroupContainer = component => detail.shell ? Optional.some(component) : getPart(component, detail, 'groups');\n      const extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const Toolbar = composite({\n      name: 'Toolbar',\n      configFields: schema$e(),\n      partFields: parts$8(),\n      factory: factory$c,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    const setup$a = noop;\n    const isDocked$2 = never;\n    const getBehaviours$1 = constant$1([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$a,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$1\n    });\n\n    const getOffsetParent = element => {\n      const isFixed = is$1(getRaw(element, 'position'), 'fixed');\n      const offsetParent$1 = isFixed ? Optional.none() : offsetParent(element);\n      return offsetParent$1.orThunk(() => {\n        const marker = SugarElement.fromTag('span');\n        return parent(element).bind(parent => {\n          append$2(parent, marker);\n          const offsetParent$1 = offsetParent(marker);\n          remove$5(marker);\n          return offsetParent$1;\n        });\n      });\n    };\n    const getOrigin = element => getOffsetParent(element).map(absolute$3).getOrThunk(() => SugarPosition(0, 0));\n\n    const morphAdt = Adt.generate([\n      { static: [] },\n      { absolute: ['positionCss'] },\n      { fixed: ['positionCss'] }\n    ]);\n    const appear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    const disappear = (component, contextualInfo) => {\n      const elem = component.element;\n      add$2(elem, contextualInfo.transitionClass);\n      remove$2(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    const isPartiallyVisible = (box, viewport) => box.y < viewport.bottom && box.bottom > viewport.y;\n    const isTopCompletelyVisible = (box, viewport) => box.y >= viewport.y;\n    const isBottomCompletelyVisible = (box, viewport) => box.bottom <= viewport.bottom;\n    const isVisibleForModes = (modes, box, viewport) => forall(modes, mode => {\n      switch (mode) {\n      case 'bottom':\n        return isBottomCompletelyVisible(box, viewport);\n      case 'top':\n        return isTopCompletelyVisible(box, viewport);\n      }\n    });\n    const getPrior = (elem, state) => state.getInitialPos().map(pos => bounds(pos.bounds.x, pos.bounds.y, get$c(elem), get$d(elem)));\n    const storePrior = (elem, box, state) => {\n      state.setInitialPos({\n        style: getAllRaw(elem),\n        position: get$e(elem, 'position') || 'static',\n        bounds: box\n      });\n    };\n    const revertToOriginal = (elem, box, state) => state.getInitialPos().bind(position => {\n      state.clearInitialPos();\n      switch (position.position) {\n      case 'static':\n        return Optional.some(morphAdt.static());\n      case 'absolute':\n        const offsetBox = getOffsetParent(elem).map(box$1).getOrThunk(() => box$1(body()));\n        return Optional.some(morphAdt.absolute(NuPositionCss('absolute', get$g(position.style, 'left').map(_left => box.x - offsetBox.x), get$g(position.style, 'top').map(_top => box.y - offsetBox.y), get$g(position.style, 'right').map(_right => offsetBox.right - box.right), get$g(position.style, 'bottom').map(_bottom => offsetBox.bottom - box.bottom))));\n      default:\n        return Optional.none();\n      }\n    });\n    const morphToOriginal = (elem, viewport, state) => getPrior(elem, state).filter(box => isVisibleForModes(state.getModes(), box, viewport)).bind(box => revertToOriginal(elem, box, state));\n    const morphToFixed = (elem, viewport, state) => {\n      const box = box$1(elem);\n      if (!isVisibleForModes(state.getModes(), box, viewport)) {\n        storePrior(elem, box, state);\n        const winBox = win();\n        const left = box.x - winBox.x;\n        const top = viewport.y - winBox.y;\n        const bottom = winBox.bottom - viewport.bottom;\n        const isTop = box.y <= viewport.y;\n        return Optional.some(morphAdt.fixed(NuPositionCss('fixed', Optional.some(left), isTop ? Optional.some(top) : Optional.none(), Optional.none(), !isTop ? Optional.some(bottom) : Optional.none())));\n      } else {\n        return Optional.none();\n      }\n    };\n    const getMorph = (component, viewport, state) => {\n      const elem = component.element;\n      const isDocked = is$1(getRaw(elem, 'position'), 'fixed');\n      return isDocked ? morphToOriginal(elem, viewport, state) : morphToFixed(elem, viewport, state);\n    };\n    const getMorphToOriginal = (component, state) => {\n      const elem = component.element;\n      return getPrior(elem, state).bind(box => revertToOriginal(elem, box, state));\n    };\n\n    const morphToStatic = (component, config, state) => {\n      state.setDocked(false);\n      each$1([\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'position'\n      ], prop => remove$6(component.element, prop));\n      config.onUndocked(component);\n    };\n    const morphToCoord = (component, config, state, position) => {\n      const isDocked = position.position === 'fixed';\n      state.setDocked(isDocked);\n      applyPositionCss(component.element, position);\n      const method = isDocked ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    const updateVisibility = (component, config, state, viewport, morphToDocked = false) => {\n      config.contextual.each(contextInfo => {\n        contextInfo.lazyContext(component).each(box => {\n          const isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$1(component.element, [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              const method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    const refreshInternal = (component, config, state) => {\n      const viewport = config.lazyViewport(component);\n      const isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, viewport, state).each(morph => {\n        morph.fold(() => morphToStatic(component, config, state), position => morphToCoord(component, config, state, position), position => {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, state, position);\n        });\n      });\n    };\n    const resetInternal = (component, config, state) => {\n      const elem = component.element;\n      state.setDocked(false);\n      getMorphToOriginal(component, state).each(morph => {\n        morph.fold(() => morphToStatic(component, config, state), position => morphToCoord(component, config, state, position), noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(contextInfo => {\n        remove$1(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    const refresh$4 = (component, config, state) => {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    const reset = (component, config, state) => {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    const isDocked$1 = (component, config, state) => state.isDocked();\n    const setModes = (component, config, state, modes) => state.setModes(modes);\n    const getModes = (component, config, state) => state.getModes();\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked$1,\n        getModes: getModes,\n        setModes: setModes\n    });\n\n    const events$5 = (dockInfo, dockState) => derive$2([\n      runOnSource(transitionend(), (component, simulatedEvent) => {\n        dockInfo.contextual.each(contextInfo => {\n          if (has(component.element, contextInfo.transitionClass)) {\n            remove$1(component.element, [\n              contextInfo.transitionClass,\n              contextInfo.fadeInClass\n            ]);\n            const notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n            notify(component);\n          }\n          simulatedEvent.stop();\n        });\n      }),\n      run$1(windowScroll(), (component, _) => {\n        refresh$4(component, dockInfo, dockState);\n      }),\n      run$1(windowResize(), (component, _) => {\n        reset(component, dockInfo, dockState);\n      })\n    ]);\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$5\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        requiredString('fadeInClass'),\n        requiredString('fadeOutClass'),\n        requiredString('transitionClass'),\n        requiredFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    const init$6 = spec => {\n      const docked = Cell(false);\n      const visible = Cell(true);\n      const initialBounds = value$2();\n      const modes = Cell(spec.modes);\n      const readState = () => `docked:  ${ docked.get() }, visible: ${ visible.get() }, modes: ${ modes.get().join(',') }`;\n      return nu$8({\n        isDocked: docked.get,\n        setDocked: docked.set,\n        getInitialPos: initialBounds.get,\n        setInitialPos: initialBounds.set,\n        clearInitialPos: initialBounds.clear,\n        isVisible: visible.get,\n        setVisible: visible.set,\n        getModes: modes.get,\n        setModes: modes.set,\n        readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$6\n    });\n\n    const Docking = create$3({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    const toolbarHeightChange = constant$1(generate$6('toolbar-height-change'));\n\n    const visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    const editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    const editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    const scrollFromBehindHeader = (e, containerHeader) => {\n      const doc = owner$4(containerHeader);\n      const viewHeight = doc.dom.defaultView.innerHeight;\n      const scrollPos = get$b(doc);\n      const markerElement = SugarElement.fromDom(e.elm);\n      const markerPos = absolute$2(markerElement);\n      const markerHeight = get$d(markerElement);\n      const markerTop = markerPos.y;\n      const markerBottom = markerTop + markerHeight;\n      const editorHeaderPos = absolute$3(containerHeader);\n      const editorHeaderHeight = get$d(containerHeader);\n      const editorHeaderTop = editorHeaderPos.top;\n      const editorHeaderBottom = editorHeaderTop + editorHeaderHeight;\n      const editorHeaderDockedAtTop = Math.abs(editorHeaderTop - scrollPos.top) < 2;\n      const editorHeaderDockedAtBottom = Math.abs(editorHeaderBottom - (scrollPos.top + viewHeight)) < 2;\n      if (editorHeaderDockedAtTop && markerTop < editorHeaderBottom) {\n        to(scrollPos.left, markerTop - editorHeaderHeight, doc);\n      } else if (editorHeaderDockedAtBottom && markerBottom > editorHeaderTop) {\n        const y = markerTop - viewHeight + markerHeight + editorHeaderHeight;\n        to(scrollPos.left, y, doc);\n      }\n    };\n    const isDockedMode = (header, mode) => contains$2(Docking.getModes(header), mode);\n    const updateIframeContentFlow = header => {\n      const getOccupiedHeight = elm => getOuter$2(elm) + (parseInt(get$e(elm, 'margin-top'), 10) || 0) + (parseInt(get$e(elm, 'margin-bottom'), 10) || 0);\n      const elm = header.element;\n      parent(elm).each(parentElem => {\n        const padding = 'padding-' + Docking.getModes(header)[0];\n        if (Docking.isDocked(header)) {\n          const parentWidth = get$c(parentElem);\n          set$8(elm, 'width', parentWidth + 'px');\n          set$8(parentElem, padding, getOccupiedHeight(elm) + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, padding);\n        }\n      });\n    };\n    const updateSinkVisibility = (sinkElem, visible) => {\n      if (visible) {\n        remove$2(sinkElem, visibility.fadeOutClass);\n        add$1(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$2(sinkElem, visibility.fadeInClass);\n        add$1(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    const updateEditorClasses = (editor, docked) => {\n      const editorContainer = SugarElement.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$2(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$2(editorContainer, editorStickyOnClass);\n      }\n    };\n    const restoreFocus = (headerElem, focusedElem) => {\n      const ownerDoc = owner$4(focusedElem);\n      active$1(ownerDoc).filter(activeElm => !eq(focusedElem, activeElm)).filter(activeElm => eq(activeElm, SugarElement.fromDom(ownerDoc.dom.body)) || contains(headerElem, activeElm)).each(() => focus$3(focusedElem));\n    };\n    const findFocusedElem = (rootElm, lazySink) => search(rootElm).orThunk(() => lazySink().toOptional().bind(sink => search(sink.element)));\n    const setup$9 = (editor, sharedBackstage, lazyHeader) => {\n      if (!editor.inline) {\n        if (!sharedBackstage.header.isPositionedAtTop()) {\n          editor.on('ResizeEditor', () => {\n            lazyHeader().each(Docking.reset);\n          });\n        }\n        editor.on('ResizeWindow ResizeEditor', () => {\n          lazyHeader().each(updateIframeContentFlow);\n        });\n        editor.on('SkinLoaded', () => {\n          lazyHeader().each(comp => {\n            Docking.isDocked(comp) ? Docking.reset(comp) : Docking.refresh(comp);\n          });\n        });\n        editor.on('FullscreenStateChanged', () => {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('AfterScrollIntoView', e => {\n        lazyHeader().each(header => {\n          Docking.refresh(header);\n          const headerElem = header.element;\n          if (isVisible(headerElem)) {\n            scrollFromBehindHeader(e, headerElem);\n          }\n        });\n      });\n      editor.on('PostRender', () => {\n        updateEditorClasses(editor, false);\n      });\n    };\n    const isDocked = lazyHeader => lazyHeader().map(Docking.isDocked).getOr(false);\n    const getIframeBehaviours = () => [Receiving.config({ channels: { [toolbarHeightChange()]: { onReceive: updateIframeContentFlow } } })];\n    const getBehaviours = (editor, sharedBackstage) => {\n      const focusedElm = value$2();\n      const lazySink = sharedBackstage.getSink;\n      const runOnSinkElement = f => {\n        lazySink().each(sink => f(sink.element));\n      };\n      const onDockingSwitch = comp => {\n        if (!editor.inline) {\n          updateIframeContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(sink => sink.getSystem().broadcastOn([repositionPopups()], {}));\n      };\n      const additionalBehaviours = editor.inline ? [] : getIframeBehaviours();\n      return [\n        Focusing.config({}),\n        Docking.config({\n          contextual: {\n            lazyContext: comp => {\n              const headerHeight = getOuter$2(comp.element);\n              const container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              const box = box$1(SugarElement.fromDom(container));\n              const boxHeight = box.height - headerHeight;\n              const topBound = box.y + (isDockedMode(comp, 'top') ? 0 : headerHeight);\n              return Optional.some(bounds(box.x, topBound, box.width, boxHeight));\n            },\n            onShow: () => {\n              runOnSinkElement(elem => updateSinkVisibility(elem, true));\n            },\n            onShown: comp => {\n              runOnSinkElement(elem => remove$1(elem, [\n                visibility.transitionClass,\n                visibility.fadeInClass\n              ]));\n              focusedElm.get().each(elem => {\n                restoreFocus(comp.element, elem);\n                focusedElm.clear();\n              });\n            },\n            onHide: comp => {\n              findFocusedElem(comp.element, lazySink).fold(focusedElm.clear, focusedElm.set);\n              runOnSinkElement(elem => updateSinkVisibility(elem, false));\n            },\n            onHidden: () => {\n              runOnSinkElement(elem => remove$1(elem, [visibility.transitionClass]));\n            },\n            ...visibility\n          },\n          lazyViewport: comp => {\n            const win$1 = win();\n            const offset = getStickyToolbarOffset(editor);\n            const top = win$1.y + (isDockedMode(comp, 'top') ? offset : 0);\n            const height = win$1.height - (isDockedMode(comp, 'bottom') ? offset : 0);\n            return bounds(win$1.x, top, win$1.width, height);\n          },\n          modes: [sharedBackstage.header.getDockingMode()],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        ...additionalBehaviours\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        setup: setup$9,\n        isDocked: isDocked,\n        getBehaviours: getBehaviours\n    });\n\n    const renderHeader = spec => {\n      const editor = spec.editor;\n      const getBehaviours$2 = spec.sticky ? getBehaviours : getBehaviours$1;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours$2(editor, spec.sharedBackstage))\n      };\n    };\n\n    const groupToolbarButtonSchema = objOf([\n      type,\n      requiredOf('items', oneOf([\n        arrOfObj([\n          name$1,\n          requiredArrayOf('items', string)\n        ]),\n        string\n      ]))\n    ].concat(baseToolbarButtonFields));\n    const createGroupToolbarButton = spec => asRaw('GroupToolbarButton', groupToolbarButtonSchema, spec);\n\n    const baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      requiredFunction('fetch'),\n      defaultedFunction('onSetup', () => noop)\n    ];\n\n    const MenuButtonSchema = objOf([\n      type,\n      ...baseMenuButtonFields\n    ]);\n    const createMenuButton = spec => asRaw('menubutton', MenuButtonSchema, spec);\n\n    const splitButtonSchema = objOf([\n      type,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      optionalSelect,\n      fetch$1,\n      onSetup,\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaultedColumns(1),\n      onAction,\n      onItemAction\n    ]);\n    const createSplitButton = spec => asRaw('SplitButton', splitButtonSchema, spec);\n\n    const factory$b = (detail, spec) => {\n      const setMenus = (comp, menus) => {\n        const newMenus = map$2(menus, m => {\n          const buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: callback => {\n              callback(m.getItems());\n            }\n          };\n          const internal = createMenuButton(buttonSpec).mapError(errInfo => formatError(errInfo)).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Optional.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      const apis = {\n        focus: Keying.focusIn,\n        setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(component => {\n              detail.onSetup(component);\n            }),\n            run$1(mouseover(), (comp, se) => {\n              descendant(comp.element, '.' + 'tox-mbtn--active').each(activeButton => {\n                closest$1(se.event.target, '.' + 'tox-mbtn').each(hoveredButton => {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(activeComp => {\n                      comp.getSystem().getByDom(hoveredButton).each(hoveredComp => {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run$1(focusShifted(), (comp, se) => {\n              se.event.prevFocus.bind(prev => comp.getSystem().getByDom(prev).toOptional()).each(prev => {\n                se.event.newFocus.bind(nu => comp.getSystem().getByDom(nu).toOptional()).each(nu => {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: comp => {\n              detail.onEscape(comp);\n              return Optional.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single({\n      factory: factory$b,\n      name: 'silver.Menubar',\n      configFields: [\n        required$1('dom'),\n        required$1('uid'),\n        required$1('onEscape'),\n        required$1('backstage'),\n        defaulted('onSetup', noop)\n      ],\n      apis: {\n        focus: (apis, comp) => {\n          apis.focus(comp);\n        },\n        setMenus: (apis, comp, menus) => {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    const getAnimationRoot = (component, slideConfig) => slideConfig.getAnimationRoot.fold(() => component.element, get => get(component));\n\n    const getDimensionProperty = slideConfig => slideConfig.dimension.property;\n    const getDimension = (slideConfig, elem) => slideConfig.dimension.getDimension(elem);\n    const disableTransitions = (component, slideConfig) => {\n      const root = getAnimationRoot(component, slideConfig);\n      remove$1(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    const setShrunk = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.openClass);\n      add$2(component.element, slideConfig.closedClass);\n      set$8(component.element, getDimensionProperty(slideConfig), '0px');\n      reflow(component.element);\n    };\n    const setGrown = (component, slideConfig) => {\n      remove$2(component.element, slideConfig.closedClass);\n      add$2(component.element, slideConfig.openClass);\n      remove$6(component.element, getDimensionProperty(slideConfig));\n    };\n    const doImmediateShrink = (component, slideConfig, slideState, _calculatedSize) => {\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), getDimension(slideConfig, component.element));\n      reflow(component.element);\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    const doStartShrink = (component, slideConfig, slideState, calculatedSize) => {\n      const size = calculatedSize.getOrThunk(() => getDimension(slideConfig, component.element));\n      slideState.setCollapsed();\n      set$8(component.element, getDimensionProperty(slideConfig), size);\n      reflow(component.element);\n      const root = getAnimationRoot(component, slideConfig);\n      remove$2(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    const doStartSmartShrink = (component, slideConfig, slideState) => {\n      const size = getDimension(slideConfig, component.element);\n      const shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Optional.some(size));\n    };\n    const doStartGrow = (component, slideConfig, slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      const wasShrinking = has(root, slideConfig.shrinkingClass);\n      const beforeSize = getDimension(slideConfig, component.element);\n      setGrown(component, slideConfig);\n      const fullSize = getDimension(slideConfig, component.element);\n      const startPartialGrow = () => {\n        set$8(component.element, getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element);\n      };\n      const startCompleteGrow = () => {\n        setShrunk(component, slideConfig);\n      };\n      const setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$2(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    const refresh$3 = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        remove$6(component.element, getDimensionProperty(slideConfig));\n        const fullSize = getDimension(slideConfig, component.element);\n        set$8(component.element, getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    const grow = (component, slideConfig, slideState) => {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    const shrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    const immediateShrink = (component, slideConfig, slideState) => {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    const hasGrown = (component, slideConfig, slideState) => slideState.isExpanded();\n    const hasShrunk = (component, slideConfig, slideState) => slideState.isCollapsed();\n    const isGrowing = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.growingClass) === true;\n    };\n    const isShrinking = (component, slideConfig, _slideState) => {\n      const root = getAnimationRoot(component, slideConfig);\n      return has(root, slideConfig.shrinkingClass) === true;\n    };\n    const isTransitioning = (component, slideConfig, slideState) => isGrowing(component, slideConfig) || isShrinking(component, slideConfig);\n    const toggleGrow = (component, slideConfig, slideState) => {\n      const f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        refresh: refresh$3,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions\n    });\n\n    const exhibit = (base, slideConfig, _slideState) => {\n      const expanded = slideConfig.expanded;\n      return expanded ? nu$7({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$7({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    const events$4 = (slideConfig, slideState) => derive$2([runOnSource(transitionend(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.propertyName === slideConfig.dimension.property) {\n          disableTransitions(component, slideConfig);\n          if (slideState.isExpanded()) {\n            remove$6(component.element, slideConfig.dimension.property);\n          }\n          const notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n          notify(component);\n        }\n      })]);\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        exhibit: exhibit,\n        events: events$4\n    });\n\n    var SlidingSchema = [\n      required$1('closedClass'),\n      required$1('openClass'),\n      required$1('shrinkingClass'),\n      required$1('growingClass'),\n      option$3('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted('expanded', false),\n      requiredOf('dimension', choose$1('property', {\n        width: [\n          output$1('property', 'width'),\n          output$1('getDimension', elem => get$c(elem) + 'px')\n        ],\n        height: [\n          output$1('property', 'height'),\n          output$1('getDimension', elem => get$d(elem) + 'px')\n        ]\n      }))\n    ];\n\n    const init$5 = spec => {\n      const state = Cell(spec.expanded);\n      const readState = () => 'expanded: ' + state.get();\n      return nu$8({\n        isExpanded: () => state.get() === true,\n        isCollapsed: () => state.get() === false,\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$5\n    });\n\n    const Sliding = create$3({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    const owner = 'container';\n    const schema$d = [field('slotBehaviours', [])];\n    const getPartName = name => '<alloy.field.' + name + '>';\n    const sketch = sSpec => {\n      const parts = (() => {\n        const record = [];\n        const slot = (name, config) => {\n          record.push(name);\n          return generateOne$1(owner, getPartName(name), config);\n        };\n        return {\n          slot,\n          record: constant$1(record)\n        };\n      })();\n      const spec = sSpec(parts);\n      const partNames = parts.record();\n      const fieldParts = map$2(partNames, n => required({\n        name: n,\n        pname: getPartName(n)\n      }));\n      return composite$1(owner, schema$d, fieldParts, make$1, spec);\n    };\n    const make$1 = (detail, components) => {\n      const getSlotNames = _ => getAllPartNames(detail);\n      const getSlot = (container, key) => getPart(container, detail, key);\n      const onSlot = (f, def) => (container, key) => getPart(container, detail, key).map(slot => f(slot, key)).getOr(def);\n      const onSlots = f => (container, keys) => {\n        each$1(keys, key => f(container, key));\n      };\n      const doShowing = (comp, _key) => get$f(comp.element, 'aria-hidden') !== 'true';\n      const doShow = (comp, key) => {\n        if (!doShowing(comp)) {\n          const element = comp.element;\n          remove$6(element, 'display');\n          remove$7(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      const doHide = (comp, key) => {\n        if (doShowing(comp)) {\n          const element = comp.element;\n          set$8(element, 'display', 'none');\n          set$9(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      const isShowing = onSlot(doShowing, false);\n      const hideSlot = onSlot(doHide);\n      const hideSlots = onSlots(hideSlot);\n      const hideAllSlots = container => hideSlots(container, getSlotNames());\n      const showSlot = onSlot(doShow);\n      const apis = {\n        getSlotNames,\n        getSlot,\n        isShowing,\n        hideSlot,\n        hideAllSlots,\n        showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.slotBehaviours),\n        apis\n      };\n    };\n    const slotApis = map$1({\n      getSlotNames: (apis, c) => apis.getSlotNames(c),\n      getSlot: (apis, c, key) => apis.getSlot(c, key),\n      isShowing: (apis, c, key) => apis.isShowing(c, key),\n      hideSlot: (apis, c, key) => apis.hideSlot(c, key),\n      hideAllSlots: (apis, c) => apis.hideAllSlots(c),\n      showSlot: (apis, c, key) => apis.showSlot(c, key)\n    }, value => makeApi(value));\n    const SlotContainer = {\n      ...slotApis,\n      ...{ sketch }\n    };\n\n    const sidebarSchema = objOf([\n      optionalIcon,\n      optionalTooltip,\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      onSetup\n    ]);\n    const createSidebar = spec => asRaw('sidebar', sidebarSchema, spec);\n\n    const setup$8 = editor => {\n      const {sidebars} = editor.ui.registry.getAll();\n      each$1(keys(sidebars), name => {\n        const spec = sidebars[name];\n        const isActive = () => is$1(Optional.from(editor.queryCommandValue('ToggleSidebar')), name);\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: buttonApi => {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: buttonApi => {\n            const handleToggle = () => buttonApi.setActive(isActive());\n            editor.on('ToggleSidebar', handleToggle);\n            return () => {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    const getApi = comp => ({ element: () => comp.element.dom });\n    const makePanels = (parts, panelConfigs) => {\n      const specs = map$2(keys(panelConfigs), name => {\n        const spec = panelConfigs[name];\n        const bridged = getOrDie(createSidebar(spec));\n        return {\n          name,\n          getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map$2(specs, spec => {\n        const editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run$1(slotVisibility(), (sidepanel, se) => {\n              const data = se.event;\n              const optSidePanelSpec = find$5(specs, config => config.name === data.name);\n              optSidePanelSpec.each(sidePanelSpec => {\n                const handler = data.visible ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    const makeSidebar = panelConfigs => SlotContainer.sketch(parts => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar__pane-container']\n      },\n      components: makePanels(parts, panelConfigs),\n      slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(slotContainer => SlotContainer.hideAllSlots(slotContainer))])\n    }));\n    const setSidebar = (sidebar, panelConfigs) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => Replacing.set(slider, [makeSidebar(panelConfigs)]));\n    };\n    const toggleSidebar = (sidebar, name) => {\n      const optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(slider => {\n        const optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(slotContainer => {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    const whichSidebar = sidebar => {\n      const optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(slider => {\n        const sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          const optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(slotContainer => find$5(SlotContainer.getSlotNames(slotContainer), name => SlotContainer.isShowing(slotContainer, name)));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const fixSize = generate$6('FixSizeEvent');\n    const autoSize = generate$6('AutoSizeEvent');\n    const renderSidebar = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        classes: ['tox-sidebar'],\n        attributes: { role: 'complementary' }\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__slider']\n          },\n          components: [],\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            Sliding.config({\n              dimension: { property: 'width' },\n              closedClass: 'tox-sidebar--sliding-closed',\n              openClass: 'tox-sidebar--sliding-open',\n              shrinkingClass: 'tox-sidebar--sliding-shrinking',\n              growingClass: 'tox-sidebar--sliding-growing',\n              onShrunk: slider => {\n                const optSlotContainer = Composing.getCurrent(slider);\n                optSlotContainer.each(SlotContainer.hideAllSlots);\n                emit(slider, autoSize);\n              },\n              onGrown: slider => {\n                emit(slider, autoSize);\n              },\n              onStartGrow: slider => {\n                emitWith(slider, fixSize, { width: getRaw(slider.element, 'width').getOr('') });\n              },\n              onStartShrink: slider => {\n                emitWith(slider, fixSize, { width: get$c(slider.element) + 'px' });\n              }\n            }),\n            Replacing.config({}),\n            Composing.config({\n              find: comp => {\n                const children = Replacing.contents(comp);\n                return head(children);\n              }\n            })\n          ])\n        }],\n      behaviours: derive$1([\n        ComposingConfigs.childAt(0),\n        config('sidebar-sliding-events', [\n          run$1(fixSize, (comp, se) => {\n            set$8(comp.element, 'width', se.event.width);\n          }),\n          run$1(autoSize, (comp, _se) => {\n            remove$6(comp.element, 'width');\n          })\n        ])\n      ])\n    });\n\n    const block = (component, config, state, getBusySpec) => {\n      set$9(component.element, 'aria-busy', true);\n      const root = config.getRoot(component).getOr(component);\n      const blockerBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: () => Optional.some(true),\n          onShiftTab: () => Optional.some(true)\n        }),\n        Focusing.config({})\n      ]);\n      const blockSpec = getBusySpec(root, blockerBehaviours);\n      const blocker = root.getSystem().build(blockSpec);\n      Replacing.append(root, premade(blocker));\n      if (blocker.hasConfigured(Keying) && config.focus) {\n        Keying.focusIn(blocker);\n      }\n      if (!state.isBlocked()) {\n        config.onBlock(component);\n      }\n      state.blockWith(() => Replacing.remove(root, blocker));\n    };\n    const unblock = (component, config, state) => {\n      remove$7(component.element, 'aria-busy');\n      if (state.isBlocked()) {\n        config.onUnblock(component);\n      }\n      state.clear();\n    };\n\n    var BlockingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        block: block,\n        unblock: unblock\n    });\n\n    var BlockingSchema = [\n      defaultedFunction('getRoot', Optional.none),\n      defaultedBoolean('focus', true),\n      onHandler('onBlock'),\n      onHandler('onUnblock')\n    ];\n\n    const init$4 = () => {\n      const blocker = destroyable();\n      const blockWith = destroy => {\n        blocker.set({ destroy });\n      };\n      return nu$8({\n        readState: blocker.isSet,\n        blockWith,\n        clear: blocker.clear,\n        isBlocked: blocker.isSet\n      });\n    };\n\n    var BlockingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$4\n    });\n\n    const Blocking = create$3({\n      fields: BlockingSchema,\n      name: 'blocking',\n      apis: BlockingApis,\n      state: BlockingState\n    });\n\n    const getAttrs = elem => {\n      const attributes = elem.dom.attributes !== undefined ? elem.dom.attributes : [];\n      return foldl(attributes, (b, attr) => {\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return {\n            ...b,\n            [attr.name]: attr.value\n          };\n        }\n      }, {});\n    };\n    const getClasses = elem => Array.prototype.slice.call(elem.dom.classList, 0);\n    const fromHtml = html => {\n      const elem = SugarElement.fromHtml(html);\n      const children$1 = children(elem);\n      const attrs = getAttrs(elem);\n      const classes = getClasses(elem);\n      const contents = children$1.length === 0 ? {} : { innerHtml: get$9(elem) };\n      return {\n        tag: name$3(elem),\n        classes,\n        attributes: attrs,\n        ...contents\n      };\n    };\n\n    const getBusySpec$1 = providerBackstage => (_root, _behaviours) => ({\n      dom: {\n        tag: 'div',\n        attributes: {\n          'aria-label': providerBackstage.translate('Loading...'),\n          'tabindex': '0'\n        },\n        classes: ['tox-throbber__busy-spinner']\n      },\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const focusBusyComponent = throbber => Composing.getCurrent(throbber).each(comp => focus$3(comp.element));\n    const toggleEditorTabIndex = (editor, state) => {\n      const tabIndexAttr = 'tabindex';\n      const dataTabIndexAttr = `data-mce-${ tabIndexAttr }`;\n      Optional.from(editor.iframeElement).map(SugarElement.fromDom).each(iframe => {\n        if (state) {\n          getOpt(iframe, tabIndexAttr).each(tabIndex => set$9(iframe, dataTabIndexAttr, tabIndex));\n          set$9(iframe, tabIndexAttr, -1);\n        } else {\n          remove$7(iframe, tabIndexAttr);\n          getOpt(iframe, dataTabIndexAttr).each(tabIndex => {\n            set$9(iframe, tabIndexAttr, tabIndex);\n            remove$7(iframe, dataTabIndexAttr);\n          });\n        }\n      });\n    };\n    const toggleThrobber = (editor, comp, state, providerBackstage) => {\n      const element = comp.element;\n      toggleEditorTabIndex(editor, state);\n      if (state) {\n        Blocking.block(comp, getBusySpec$1(providerBackstage));\n        remove$6(element, 'display');\n        remove$7(element, 'aria-hidden');\n        if (editor.hasFocus()) {\n          focusBusyComponent(comp);\n        }\n      } else {\n        const throbberFocus = Composing.getCurrent(comp).exists(busyComp => hasFocus(busyComp.element));\n        Blocking.unblock(comp);\n        set$8(element, 'display', 'none');\n        set$9(element, 'aria-hidden', 'true');\n        if (throbberFocus) {\n          editor.focus();\n        }\n      }\n    };\n    const renderThrobber = spec => ({\n      uid: spec.uid,\n      dom: {\n        tag: 'div',\n        attributes: { 'aria-hidden': 'true' },\n        classes: ['tox-throbber'],\n        styles: { display: 'none' }\n      },\n      behaviours: derive$1([\n        Replacing.config({}),\n        Blocking.config({ focus: false }),\n        Composing.config({ find: comp => head(comp.components()) })\n      ]),\n      components: []\n    });\n    const isFocusEvent = event => event.type === 'focusin';\n    const isPasteBinTarget = event => {\n      if (isFocusEvent(event)) {\n        const node = event.composed ? head(event.composedPath()) : Optional.from(event.target);\n        return node.map(SugarElement.fromDom).filter(isElement$1).exists(targetElm => has(targetElm, 'mce-pastebin'));\n      } else {\n        return false;\n      }\n    };\n    const setup$7 = (editor, lazyThrobber, sharedBackstage) => {\n      const throbberState = Cell(false);\n      const timer = value$2();\n      const stealFocus = e => {\n        if (throbberState.get() && !isPasteBinTarget(e)) {\n          e.preventDefault();\n          focusBusyComponent(lazyThrobber());\n          editor.editorManager.setActive(editor);\n        }\n      };\n      if (!editor.inline) {\n        editor.on('PreInit', () => {\n          editor.dom.bind(editor.getWin(), 'focusin', stealFocus);\n          editor.on('BeforeExecCommand', e => {\n            if (e.command.toLowerCase() === 'mcefocus' && e.value !== true) {\n              stealFocus(e);\n            }\n          });\n        });\n      }\n      const toggle = state => {\n        if (state !== throbberState.get()) {\n          throbberState.set(state);\n          toggleThrobber(editor, lazyThrobber(), state, sharedBackstage.providers);\n          editor.dispatch('AfterProgressState', { state });\n        }\n      };\n      editor.on('ProgressState', e => {\n        timer.on(clearTimeout);\n        if (isNumber(e.time)) {\n          const timerId = global$9.setEditorTimeout(editor, () => toggle(e.state), e.time);\n          timer.set(timerId);\n        } else {\n          toggle(e.state);\n          timer.clear();\n        }\n      });\n    };\n\n    const generate$1 = (xs, f) => {\n      const init = {\n        len: 0,\n        list: []\n      };\n      const r = foldl(xs, (b, a) => {\n        const value = f(a, b.len);\n        return value.fold(constant$1(b), v => ({\n          len: v.finish,\n          list: b.list.concat([v])\n        }));\n      }, init);\n      return r.list;\n    };\n\n    const output = (within, extra, withinWidth) => ({\n      within,\n      extra,\n      withinWidth\n    });\n    const apportion = (units, total, len) => {\n      const parray = generate$1(units, (unit, current) => {\n        const width = len(unit);\n        return Optional.some({\n          element: unit,\n          start: current,\n          finish: current + width,\n          width\n        });\n      });\n      const within = filter$2(parray, unit => unit.finish <= total);\n      const withinWidth = foldr(within, (acc, el) => acc + el.width, 0);\n      const extra = parray.slice(within.length);\n      return {\n        within,\n        extra,\n        withinWidth\n      };\n    };\n    const toUnit = parray => map$2(parray, unit => unit.element);\n    const fitLast = (within, extra, withinWidth) => {\n      const fits = toUnit(within.concat(extra));\n      return output(fits, [], withinWidth);\n    };\n    const overflow = (within, extra, overflower, withinWidth) => {\n      const fits = toUnit(within).concat([overflower]);\n      return output(fits, toUnit(extra), withinWidth);\n    };\n    const fitAll = (within, extra, withinWidth) => output(toUnit(within), [], withinWidth);\n    const tryFit = (total, units, len) => {\n      const divide = apportion(units, total, len);\n      return divide.extra.length === 0 ? Optional.some(divide) : Optional.none();\n    };\n    const partition = (total, units, len, overflower) => {\n      const divide = tryFit(total, units, len).getOrThunk(() => apportion(units, total - len(overflower), len));\n      const within = divide.within;\n      const extra = divide.extra;\n      const withinWidth = divide.withinWidth;\n      if (extra.length === 1 && extra[0].width <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    const setGroups$1 = (toolbar, storedGroups) => {\n      const bGroups = map$2(storedGroups, g => premade(g));\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    const findFocusedComp = comps => findMap(comps, comp => search(comp.element).bind(focusedElm => comp.getSystem().getByDom(focusedElm).toOptional()));\n    const refresh$2 = (toolbar, detail, setOverflow) => {\n      const builtGroups = detail.builtGroups.get();\n      if (builtGroups.length === 0) {\n        return;\n      }\n      const primary = getPartOrDie(toolbar, detail, 'primary');\n      const overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$8(primary.element, 'visibility', 'hidden');\n      const groups = builtGroups.concat([overflowGroup]);\n      const focusedComp = findFocusedComp(groups);\n      setOverflow([]);\n      setGroups$1(primary, groups);\n      const availableWidth = get$c(primary.element);\n      const overflows = partition(availableWidth, detail.builtGroups.get(), comp => get$c(comp.element), overflowGroup);\n      if (overflows.extra.length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        setOverflow([]);\n      } else {\n        setGroups$1(primary, overflows.within);\n        setOverflow(overflows.extra);\n      }\n      remove$6(primary.element, 'visibility');\n      reflow(primary.element);\n      focusedComp.each(Focusing.focus);\n    };\n\n    const schema$c = constant$1([\n      field('splitToolbarBehaviours', [Coupling]),\n      customField('builtGroups', () => Cell([]))\n    ]);\n\n    const schema$b = constant$1([\n      markers$1(['overflowToggledClass']),\n      optionFunction('getOverflowBounds'),\n      required$1('lazySink'),\n      customField('overflowGroups', () => Cell([]))\n    ].concat(schema$c()));\n    const parts$7 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      external({\n        schema: schema$e(),\n        name: 'overflow'\n      }),\n      external({ name: 'overflow-button' }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const expandable = constant$1((element, available) => {\n      setMax(element, Math.floor(available));\n    });\n\n    const schema$a = constant$1([\n      markers$1(['toggledClass']),\n      required$1('lazySink'),\n      requiredFunction('fetch'),\n      optionFunction('getBounds'),\n      optionObjOf('fireDismissalEventInstead', [defaulted('event', dismissRequested())]),\n      schema$y()\n    ]);\n    const parts$6 = constant$1([\n      external({\n        name: 'button',\n        overrides: detail => ({\n          dom: { attributes: { 'aria-haspopup': 'true' } },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.toggledClass,\n              aria: { mode: 'expanded' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'toolbar',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'button').each(Focusing.focus);\n                  return Optional.none();\n                }\n              })])\n          };\n        }\n      })\n    ]);\n\n    const toggle = (button, externals) => {\n      const toolbarSandbox = Coupling.getCoupled(button, 'toolbarSandbox');\n      if (Sandboxing.isOpen(toolbarSandbox)) {\n        Sandboxing.close(toolbarSandbox);\n      } else {\n        Sandboxing.open(toolbarSandbox, externals.toolbar());\n      }\n    };\n    const position = (button, toolbar, detail, layouts) => {\n      const bounds = detail.getBounds.map(bounder => bounder());\n      const sink = detail.lazySink(button).getOrDie();\n      Positioning.positionWithinBounds(sink, toolbar, {\n        anchor: {\n          type: 'hotspot',\n          hotspot: button,\n          layouts,\n          overrides: { maxWidthFunction: expandable() }\n        }\n      }, bounds);\n    };\n    const setGroups = (button, toolbar, detail, layouts, groups) => {\n      Toolbar.setGroups(toolbar, groups);\n      position(button, toolbar, detail, layouts);\n      Toggling.on(button);\n    };\n    const makeSandbox = (button, spec, detail) => {\n      const ariaControls = manager();\n      const onOpen = (sandbox, toolbar) => {\n        detail.fetch().get(groups => {\n          setGroups(button, toolbar, detail, spec.layouts, groups);\n          ariaControls.link(button.element);\n          Keying.focusIn(toolbar);\n        });\n      };\n      const onClose = () => {\n        Toggling.off(button);\n        Focusing.focus(button);\n        ariaControls.unlink(button.element);\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaControls.id }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => {\n              Sandboxing.close(comp);\n              return Optional.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen,\n            onClose,\n            isPartOf: (container, data, queryElem) => {\n              return isPartOf$1(data, queryElem) || isPartOf$1(button, queryElem);\n            },\n            getAttachPoint: () => {\n              return detail.lazySink(button).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: {\n              ...receivingChannel$1({\n                isExtraPart: never,\n                ...detail.fireDismissalEventInstead.map(fe => ({ fireEventInstead: { event: fe.event } })).getOr({})\n              }),\n              ...receivingChannel({\n                doReposition: () => {\n                  Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n                    position(button, toolbar, detail, spec.layouts);\n                  });\n                }\n              })\n            }\n          })\n        ])\n      };\n    };\n    const factory$a = (detail, components, spec, externals) => ({\n      ...Button.sketch({\n        ...externals.button(),\n        action: button => {\n          toggle(button, externals);\n        },\n        buttonBehaviours: SketchBehaviours.augment({ dump: externals.button().buttonBehaviours }, [Coupling.config({\n            others: {\n              toolbarSandbox: button => {\n                return makeSandbox(button, spec, detail);\n              }\n            }\n          })])\n      }),\n      apis: {\n        setGroups: (button, groups) => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            setGroups(button, toolbar, detail, spec.layouts, groups);\n          });\n        },\n        reposition: button => {\n          Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox')).each(toolbar => {\n            position(button, toolbar, detail, spec.layouts);\n          });\n        },\n        toggle: button => {\n          toggle(button, externals);\n        },\n        getToolbar: button => {\n          return Sandboxing.getState(Coupling.getCoupled(button, 'toolbarSandbox'));\n        },\n        isOpen: button => {\n          return Sandboxing.isOpen(Coupling.getCoupled(button, 'toolbarSandbox'));\n        }\n      }\n    });\n    const FloatingToolbarButton = composite({\n      name: 'FloatingToolbarButton',\n      factory: factory$a,\n      configFields: schema$a(),\n      partFields: parts$6(),\n      apis: {\n        setGroups: (apis, button, groups) => {\n          apis.setGroups(button, groups);\n        },\n        reposition: (apis, button) => {\n          apis.reposition(button);\n        },\n        toggle: (apis, button) => {\n          apis.toggle(button);\n        },\n        getToolbar: (apis, button) => apis.getToolbar(button),\n        isOpen: (apis, button) => apis.isOpen(button)\n      }\n    });\n\n    const schema$9 = constant$1([\n      required$1('items'),\n      markers$1(['itemSelector']),\n      field('tgroupBehaviours', [Keying])\n    ]);\n    const parts$5 = constant$1([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    const factory$9 = (detail, components, _spec, _externals) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components,\n      behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n          mode: 'flow',\n          selector: detail.markers.itemSelector\n        })]),\n      domModification: { attributes: { role: 'toolbar' } }\n    });\n    const ToolbarGroup = composite({\n      name: 'ToolbarGroup',\n      configFields: schema$9(),\n      partFields: parts$5(),\n      factory: factory$9\n    });\n\n    const buildGroups = comps => map$2(comps, g => premade(g));\n    const refresh$1 = (toolbar, memFloatingToolbarButton, detail) => {\n      refresh$2(toolbar, detail, overflowGroups => {\n        detail.overflowGroups.set(overflowGroups);\n        memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n          FloatingToolbarButton.setGroups(floatingToolbarButton, buildGroups(overflowGroups));\n        });\n      });\n    };\n    const factory$8 = (detail, components, spec, externals) => {\n      const memFloatingToolbarButton = record(FloatingToolbarButton.sketch({\n        fetch: () => Future.nu(resolve => {\n          resolve(buildGroups(detail.overflowGroups.get()));\n        }),\n        layouts: {\n          onLtr: () => [\n            southwest$2,\n            southeast$2\n          ],\n          onRtl: () => [\n            southeast$2,\n            southwest$2\n          ],\n          onBottomLtr: () => [\n            northwest$2,\n            northeast$2\n          ],\n          onBottomRtl: () => [\n            northeast$2,\n            northwest$2\n          ]\n        },\n        getBounds: spec.getOverflowBounds,\n        lazySink: detail.lazySink,\n        fireDismissalEventInstead: {},\n        markers: { toggledClass: detail.markers.overflowToggledClass },\n        parts: {\n          button: externals['overflow-button'](),\n          toolbar: externals.overflow()\n        }\n      }));\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [Coupling.config({\n            others: {\n              overflowGroup: () => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [memFloatingToolbarButton.asSpec()]\n                });\n              }\n            }\n          })]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            detail.builtGroups.set(map$2(groups, toolbar.getSystem().build));\n            refresh$1(toolbar, memFloatingToolbarButton, detail);\n          },\n          refresh: toolbar => refresh$1(toolbar, memFloatingToolbarButton, detail),\n          toggle: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.toggle(floatingToolbarButton);\n            });\n          },\n          isOpen: toolbar => memFloatingToolbarButton.getOpt(toolbar).map(FloatingToolbarButton.isOpen).getOr(false),\n          reposition: toolbar => {\n            memFloatingToolbarButton.getOpt(toolbar).each(floatingToolbarButton => {\n              FloatingToolbarButton.reposition(floatingToolbarButton);\n            });\n          },\n          getOverflow: toolbar => memFloatingToolbarButton.getOpt(toolbar).bind(FloatingToolbarButton.getToolbar)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitFloatingToolbar = composite({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$b(),\n      partFields: parts$7(),\n      factory: factory$8,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        reposition: (apis, toolbar) => {\n          apis.reposition(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar),\n        getOverflow: (apis, toolbar) => apis.getOverflow(toolbar)\n      }\n    });\n\n    const schema$8 = constant$1([\n      markers$1([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$c()));\n    const parts$4 = constant$1([\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$e(),\n        name: 'overflow',\n        overrides: detail => {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: comp => {\n                  getPart(comp, detail, 'overflow-button').each(button => {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: comp => {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: comp => {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Optional.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external({\n        name: 'overflow-button',\n        overrides: detail => ({\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleClass: detail.markers.overflowToggledClass,\n              aria: { mode: 'pressed' },\n              toggleOnExecute: false\n            })])\n        })\n      }),\n      external({ name: 'overflow-group' })\n    ]);\n\n    const isOpen = (toolbar, detail) => getPart(toolbar, detail, 'overflow').map(Sliding.hasGrown).getOr(false);\n    const toggleToolbar = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow-button').bind(() => getPart(toolbar, detail, 'overflow')).each(overf => {\n        refresh(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    const refresh = (toolbar, detail) => {\n      getPart(toolbar, detail, 'overflow').each(overflow => {\n        refresh$2(toolbar, detail, groups => {\n          const builtGroups = map$2(groups, g => premade(g));\n          Toolbar.setGroups(overflow, builtGroups);\n        });\n        getPart(toolbar, detail, 'overflow-button').each(button => {\n          if (Sliding.hasGrown(overflow)) {\n            Toggling.on(button);\n          }\n        });\n        Sliding.refresh(overflow);\n      });\n    };\n    const factory$7 = (detail, components, spec, externals) => {\n      const toolbarToggleEvent = 'alloy.toolbar.toggle';\n      const doSetGroups = (toolbar, groups) => {\n        const built = map$2(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: {\n              overflowGroup: toolbar => {\n                return ToolbarGroup.sketch({\n                  ...externals['overflow-group'](),\n                  items: [Button.sketch({\n                      ...externals['overflow-button'](),\n                      action: _button => {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    })]\n                });\n              }\n            }\n          }),\n          config('toolbar-toggle-events', [run$1(toolbarToggleEvent, toolbar => {\n              toggleToolbar(toolbar, detail);\n            })])\n        ]),\n        apis: {\n          setGroups: (toolbar, groups) => {\n            doSetGroups(toolbar, groups);\n            refresh(toolbar, detail);\n          },\n          refresh: toolbar => refresh(toolbar, detail),\n          toggle: toolbar => toggleToolbar(toolbar, detail),\n          isOpen: toolbar => isOpen(toolbar, detail)\n        },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    const SplitSlidingToolbar = composite({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$8(),\n      partFields: parts$4(),\n      factory: factory$7,\n      apis: {\n        setGroups: (apis, toolbar, groups) => {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: (apis, toolbar) => {\n          apis.refresh(toolbar);\n        },\n        toggle: (apis, toolbar) => {\n          apis.toggle(toolbar);\n        },\n        isOpen: (apis, toolbar) => apis.isOpen(toolbar)\n      }\n    });\n\n    const renderToolbarGroupCommon = toolbarGroup => {\n      const attributes = toolbarGroup.title.fold(() => ({}), title => ({ attributes: { title } }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__group'],\n          ...attributes\n        },\n        components: [ToolbarGroup.parts.items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), ' + '.tox-split-button:not([disabled]), ' + '.tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    const renderToolbarGroup = toolbarGroup => ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    const getToolbarbehaviours = (toolbarSpec, modeName) => {\n      const onAttached = runOnAttached(component => {\n        const groups = map$2(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        DisablingConfigs.toolbarButton(toolbarSpec.providers.isDisabled),\n        receivingConfig(),\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached])\n      ]);\n    };\n    const renderMoreToolbarCommon = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Optional.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Optional.some('more-drawer'),\n            enabled: true,\n            tooltip: Optional.some('More...'),\n            primary: false,\n            buttonType: Optional.none(),\n            borderless: false\n          }, Optional.none(), toolbarSpec.providers)\n        },\n        splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      };\n    };\n    const renderFloatingMoreToolbar = toolbarSpec => {\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      const overflowXOffset = 4;\n      const primary = SplitFloatingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch({\n        ...baseSpec,\n        lazySink: toolbarSpec.getSink,\n        getOverflowBounds: () => {\n          const headerElem = toolbarSpec.moreDrawerData.lazyHeader().element;\n          const headerBounds = absolute$2(headerElem);\n          const docElem = documentElement(headerElem);\n          const docBounds = absolute$2(docElem);\n          const height = Math.max(docElem.dom.scrollHeight, docBounds.height);\n          return bounds(headerBounds.x + overflowXOffset, docBounds.y, headerBounds.width - overflowXOffset * 2, height);\n        },\n        parts: {\n          ...baseSpec.parts,\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes: toolbarSpec.attributes\n            }\n          }\n        },\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      });\n    };\n    const renderSlidingMoreToolbar = toolbarSpec => {\n      const primary = SplitSlidingToolbar.parts.primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      const overflow = SplitSlidingToolbar.parts.overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      const baseSpec = renderMoreToolbarCommon(toolbarSpec);\n      return SplitSlidingToolbar.sketch({\n        ...baseSpec,\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: comp => {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      });\n    };\n    const renderToolbar = toolbarSpec => {\n      const modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar'].concat(toolbarSpec.type === ToolbarMode$1.scrolling ? ['tox-toolbar--scrolling'] : [])\n        },\n        components: [Toolbar.parts.groups({})],\n        toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName)\n      });\n    };\n\n    const factory$6 = (detail, components, _spec) => {\n      const apis = {\n        getSocket: comp => {\n          return parts$a.getPart(comp, detail, 'socket');\n        },\n        setSidebar: (comp, panelConfigs) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => setSidebar(sidebar, panelConfigs));\n        },\n        toggleSidebar: (comp, name) => {\n          parts$a.getPart(comp, detail, 'sidebar').each(sidebar => toggleSidebar(sidebar, name));\n        },\n        whichSidebar: comp => {\n          return parts$a.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: comp => {\n          return parts$a.getPart(comp, detail, 'header');\n        },\n        getToolbar: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: (comp, groups) => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            toolbar.getApis().setGroups(toolbar, groups);\n          });\n        },\n        setToolbars: (comp, toolbars) => {\n          parts$a.getPart(comp, detail, 'multiple-toolbar').each(mToolbar => {\n            CustomList.setItems(mToolbar, toolbars);\n          });\n        },\n        refreshToolbar: comp => {\n          const toolbar = parts$a.getPart(comp, detail, 'toolbar');\n          toolbar.each(toolbar => toolbar.getApis().refresh(toolbar));\n        },\n        toggleToolbarDrawer: comp => {\n          parts$a.getPart(comp, detail, 'toolbar').each(toolbar => {\n            mapFrom(toolbar.getApis().toggle, toggle => toggle(toolbar));\n          });\n        },\n        isToolbarDrawerToggled: comp => {\n          return parts$a.getPart(comp, detail, 'toolbar').bind(toolbar => Optional.from(toolbar.getApis().isOpen).map(isOpen => isOpen(toolbar))).getOr(false);\n        },\n        getThrobber: comp => {\n          return parts$a.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: comp => {\n          const optToolbar = parts$a.getPart(comp, detail, 'toolbar').orThunk(() => parts$a.getPart(comp, detail, 'multiple-toolbar'));\n          optToolbar.each(toolbar => {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: (comp, menus) => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: comp => {\n          parts$a.getPart(comp, detail, 'menubar').each(menubar => {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        behaviours: detail.behaviours\n      };\n    };\n    const partMenubar = partType.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [required$1('backstage')]\n    });\n    const toolbarFactory = spec => {\n      if (spec.type === ToolbarMode$1.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.type === ToolbarMode$1.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    const partMultipleToolbar = partType.optional({\n      factory: {\n        sketch: spec => CustomList.sketch({\n          uid: spec.uid,\n          dom: spec.dom,\n          listBehaviours: derive$1([Keying.config({\n              mode: 'acyclic',\n              selector: '.tox-toolbar'\n            })]),\n          makeItem: () => renderToolbar({\n            type: spec.type,\n            uid: generate$6('multiple-toolbar-item'),\n            cyclicKeying: false,\n            initGroups: [],\n            providers: spec.providers,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            }\n          }),\n          setupItem: (_mToolbar, tc, data, _index) => {\n            Toolbar.setGroups(tc, data);\n          },\n          shell: true\n        })\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape')\n      ]\n    });\n    const partToolbar = partType.optional({\n      factory: {\n        sketch: spec => {\n          const renderer = toolbarFactory(spec);\n          const toolbarSpec = {\n            type: spec.type,\n            uid: spec.uid,\n            onEscape: () => {\n              spec.onEscape();\n              return Optional.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            providers: spec.providers,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            },\n            attributes: spec.attributes\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        required$1('dom'),\n        required$1('onEscape'),\n        required$1('getSink')\n      ]\n    });\n    const partHeader = partType.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [required$1('dom')]\n    });\n    const partSocket = partType.optional({\n      name: 'socket',\n      schema: [required$1('dom')]\n    });\n    const partSidebar = partType.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [required$1('dom')]\n    });\n    const partThrobber = partType.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [required$1('dom')]\n    });\n    var OuterContainer = composite({\n      name: 'OuterContainer',\n      factory: factory$6,\n      configFields: [\n        required$1('dom'),\n        required$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partThrobber\n      ],\n      apis: {\n        getSocket: (apis, comp) => {\n          return apis.getSocket(comp);\n        },\n        setSidebar: (apis, comp, panelConfigs) => {\n          apis.setSidebar(comp, panelConfigs);\n        },\n        toggleSidebar: (apis, comp, name) => {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: (apis, comp) => {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: (apis, comp) => {\n          return apis.getHeader(comp);\n        },\n        getToolbar: (apis, comp) => {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: (apis, comp, grps) => {\n          const groups = map$2(grps, grp => {\n            return renderToolbarGroup(grp);\n          });\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: (apis, comp, ts) => {\n          const renderedToolbars = map$2(ts, g => map$2(g, renderToolbarGroup));\n          apis.setToolbars(comp, renderedToolbars);\n        },\n        refreshToolbar: (apis, comp) => {\n          return apis.refreshToolbar(comp);\n        },\n        toggleToolbarDrawer: (apis, comp) => {\n          apis.toggleToolbarDrawer(comp);\n        },\n        isToolbarDrawerToggled: (apis, comp) => {\n          return apis.isToolbarDrawerToggled(comp);\n        },\n        getThrobber: (apis, comp) => {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: (apis, comp, menus) => {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: (apis, comp) => {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: (apis, comp) => {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    const defaultMenubar = 'file edit view insert format tools table help';\n    const defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | export print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable | cell row column | advtablesort | tableprops deletetable'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    const make = (menu, registry, editor) => {\n      const removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: () => bind$3(menu.items, i => {\n          const itemName = i.toLowerCase();\n          if (itemName.trim().length === 0) {\n            return [];\n          } else if (exists(removedMenuItems, removedMenuItem => removedMenuItem === itemName)) {\n            return [];\n          } else if (itemName === 'separator' || itemName === '|') {\n            return [{ type: 'separator' }];\n          } else if (registry.menuItems[itemName]) {\n            return [registry.menuItems[itemName]];\n          } else {\n            return [];\n          }\n        })\n      };\n    };\n    const parseItemsString = items => {\n      if (typeof items === 'string') {\n        return items.split(' ');\n      }\n      return items;\n    };\n    const identifyMenus = (editor, registry) => {\n      const rawMenuData = {\n        ...defaultMenus,\n        ...registry.menus\n      };\n      const userDefinedMenus = keys(registry.menus).length > 0;\n      const menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      const validMenus = filter$2(menubar, menuName => {\n        const isDefaultMenu = has$2(defaultMenus, menuName);\n        if (userDefinedMenus) {\n          return isDefaultMenu || get$g(registry.menus, menuName).exists(menu => has$2(menu, 'items'));\n        } else {\n          return isDefaultMenu;\n        }\n      });\n      const menus = map$2(validMenus, menuName => {\n        const menuData = rawMenuData[menuName];\n        return make({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter$2(menus, menu => {\n        const isNotSeparator = item => item.type !== 'separator';\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    const fireSkinLoaded = editor => {\n      const done = () => {\n        editor._skinLoaded = true;\n        fireSkinLoaded$1(editor);\n      };\n      return () => {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    const fireSkinLoadError = (editor, err) => () => fireSkinLoadError$1(editor, { message: err });\n\n    const loadStylesheet = (editor, stylesheetUrl, styleSheetLoader) => {\n      editor.on('remove', () => styleSheetLoader.unload(stylesheetUrl));\n      return styleSheetLoader.load(stylesheetUrl);\n    };\n    const loadUiSkins = (editor, skinUrl) => {\n      const skinUiCss = skinUrl + '/skin.min.css';\n      return loadStylesheet(editor, skinUiCss, editor.ui.styleSheetLoader);\n    };\n    const loadShadowDomUiSkins = (editor, skinUrl) => {\n      const isInShadowRoot$1 = isInShadowRoot(SugarElement.fromDom(editor.getElement()));\n      if (isInShadowRoot$1) {\n        const shadowDomSkinCss = skinUrl + '/skin.shadowdom.min.css';\n        return loadStylesheet(editor, shadowDomSkinCss, global$7.DOM.styleSheetLoader);\n      } else {\n        return Promise.resolve();\n      }\n    };\n    const loadSkin = (isInline, editor) => {\n      const skinUrl = getSkinUrl(editor);\n      if (skinUrl) {\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (!isSkinDisabled(editor) && isString(skinUrl)) {\n        Promise.all([\n          loadUiSkins(editor, skinUrl),\n          loadShadowDomUiSkins(editor, skinUrl)\n        ]).then(fireSkinLoaded(editor), fireSkinLoadError(editor, 'Skin could not be loaded'));\n      } else {\n        fireSkinLoaded(editor)();\n      }\n    };\n    const iframe = curry(loadSkin, false);\n    const inline = curry(loadSkin, true);\n\n    const onSetupFormatToggle = (editor, name) => api => {\n      const boundCallback = unbindable();\n      const init = () => {\n        api.setActive(editor.formatter.match(name));\n        const binding = editor.formatter.formatChanged(name, api.setActive);\n        boundCallback.set(binding);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        boundCallback.clear();\n      };\n    };\n    const onSetupEvent = (editor, event, f) => api => {\n      const handleEvent = () => f(api);\n      const init = () => {\n        f(api);\n        editor.on(event, handleEvent);\n      };\n      editor.initialized ? init() : editor.once('init', init);\n      return () => {\n        editor.off('init', init);\n        editor.off(event, handleEvent);\n      };\n    };\n    const onActionToggleFormat$1 = editor => rawItem => () => {\n      editor.undoManager.transact(() => {\n        editor.focus();\n        editor.execCommand('mceToggleFormat', false, rawItem.format);\n      });\n    };\n    const onActionExecCommand = (editor, command) => () => editor.execCommand(command);\n\n    const generateSelectItems = (_editor, backstage, spec) => {\n      const generateItem = (rawItem, response, invalid, value) => {\n        const translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Optional.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          const items = bind$3(rawItem.getStyleItems(), si => validate(si, response, value));\n          if (response === 0 && items.length <= 0) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              enabled: items.length > 0,\n              getSubmenuItems: () => bind$3(rawItem.getStyleItems(), si => validate(si, response, value))\n            });\n          }\n        } else {\n          return Optional.some({\n            type: 'togglemenuitem',\n            text: translatedText,\n            icon: rawItem.icon,\n            active: rawItem.isSelected(value),\n            enabled: !invalid,\n            onAction: spec.onAction(rawItem),\n            ...rawItem.getStylePreview().fold(() => ({}), preview => ({ meta: { style: preview } }))\n          });\n        }\n      };\n      const validate = (item, response, value) => {\n        const invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      const validateItems = preItems => {\n        const value = spec.getCurrentValue();\n        const response = spec.shouldHide ? 0 : 1;\n        return bind$3(preItems, item => validate(item, response, value));\n      };\n      const getFetch = (backstage, getStyleItems) => (comp, callback) => {\n        const preItems = getStyleItems();\n        const items = validateItems(preItems);\n        const menu = build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false);\n        callback(menu);\n      };\n      return {\n        validateItems,\n        getFetch\n      };\n    };\n    const createMenuItems = (editor, backstage, spec) => {\n      const dataset = spec.dataset;\n      const getStyleItems = dataset.type === 'basic' ? () => map$2(dataset.data, d => processBasic(d, spec.isSelectedFor, spec.getPreviewFor)) : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems\n      };\n    };\n    const createSelectButton = (editor, backstage, spec) => {\n      const {items, getStyleItems} = createMenuItems(editor, backstage, spec);\n      const getApi = comp => ({ getComponent: constant$1(comp) });\n      const onSetup = onSetupEvent(editor, 'NodeChange', api => {\n        const comp = api.getComponent();\n        spec.updateText(comp);\n      });\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Optional.none() : spec.text,\n        icon: spec.icon,\n        tooltip: Optional.from(spec.tooltip),\n        role: Optional.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup,\n        getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    const process = rawFormats => map$2(rawFormats, item => {\n      let title = item, format = item;\n      const values = item.split('=');\n      if (values.length > 1) {\n        title = values[0];\n        format = values[1];\n      }\n      return {\n        title,\n        format\n      };\n    });\n    const buildBasicStaticDataset = data => ({\n      type: 'basic',\n      data\n    });\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    const split = (rawFormats, delimiter) => {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    const buildBasicSettingsDataset = (editor, settingName, delimiter) => {\n      const rawFormats = editor.options.get(settingName);\n      const data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data\n      };\n    };\n\n    const alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft',\n        command: 'JustifyLeft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter',\n        command: 'JustifyCenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright',\n        command: 'JustifyRight'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify',\n        command: 'JustifyFull'\n      }\n    ];\n    const getSpec$4 = editor => {\n      const getMatchingValue = () => find$5(alignMenuItems, item => editor.formatter.match(item.format));\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = _format => Optional.none;\n      const updateSelectMenuIcon = comp => {\n        const match = getMatchingValue();\n        const alignment = match.fold(constant$1('left'), item => item.title.toLowerCase());\n        emitWith(comp, updateMenuIcon, { icon: `align-${ alignment }` });\n      };\n      const dataset = buildBasicStaticDataset(alignMenuItems);\n      const onAction = rawItem => () => find$5(alignMenuItems, item => item.format === rawItem.format).each(item => editor.execCommand(item.command));\n      return {\n        tooltip: 'Align',\n        text: Optional.none(),\n        icon: Optional.some('align-left'),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuIcon,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createAlignButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$4(editor));\n    const createAlignMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$4(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const findNearest = (editor, getStyles) => {\n      const styles = getStyles();\n      const formats = map$2(styles, style => style.format);\n      return Optional.from(editor.formatter.closest(formats)).bind(fmt => find$5(styles, data => data.format === fmt)).orThunk(() => someIf(editor.formatter.match('p'), {\n        title: 'Paragraph',\n        format: 'p'\n      }));\n    };\n\n    const getSpec$3 = editor => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const detectedFormat = findNearest(editor, () => dataset.data);\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'block_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: item => !editor.formatter.canApply(item.format)\n      };\n    };\n    const createBlocksButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$3(editor));\n    const createBlocksMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blocks', {\n        text: 'Blocks',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    const splitFonts = fontFamily => {\n      const fonts = fontFamily.split(/\\s*,\\s*/);\n      return map$2(fonts, font => font.replace(/^['\"]+|['\"]+$/g, ''));\n    };\n    const isSystemFontStack = fontFamily => {\n      const matchesSystemStack = () => {\n        const fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, font => fonts.indexOf(font.toLowerCase()) > -1);\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    const getSpec$2 = editor => {\n      const systemFont = 'System Font';\n      const getMatchingValue = () => {\n        const getFirstFont = fontFamily => fontFamily ? splitFonts(fontFamily)[0] : '';\n        const fontFamily = editor.queryCommandValue('FontName');\n        const items = dataset.data;\n        const font = fontFamily ? fontFamily.toLowerCase() : '';\n        const matchOpt = find$5(items, item => {\n          const format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(() => {\n          return someIf(isSystemFontStack(font), {\n            title: systemFont,\n            format: font\n          });\n        });\n        return {\n          matchOpt,\n          font: fontFamily\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = item => () => Optional.some({\n        tag: 'div',\n        styles: item.indexOf('dings') === -1 ? { 'font-family': item } : {}\n      });\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontName', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, font} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(font), item => item.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_family_formats', Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        text: Optional.some(systemFont),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue,\n        getPreviewFor,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontFamilyButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$2(editor));\n    const createFontFamilyMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontfamily', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    const keywordFontSizes = {\n      'xx-small': '7pt',\n      'x-small': '8pt',\n      'small': '10pt',\n      'medium': '12pt',\n      'large': '14pt',\n      'x-large': '18pt',\n      'xx-large': '24pt'\n    };\n    const round = (number, precision) => {\n      const factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    const toPt = (fontSize, precision) => {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      } else {\n        return get$g(keywordFontSizes, fontSize).getOr(fontSize);\n      }\n    };\n    const toLegacy = fontSize => get$g(legacyFontSizes, fontSize).getOr('');\n    const getSpec$1 = editor => {\n      const getMatchingValue = () => {\n        let matchOpt = Optional.none();\n        const items = dataset.data;\n        const fontSize = editor.queryCommandValue('FontSize');\n        if (fontSize) {\n          for (let precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            const pt = toPt(fontSize, precision);\n            const legacy = toLegacy(pt);\n            matchOpt = find$5(items, item => item.format === fontSize || item.format === pt || item.format === legacy);\n          }\n        }\n        return {\n          matchOpt,\n          size: fontSize\n        };\n      };\n      const isSelectedFor = item => valueOpt => valueOpt.exists(value => value.format === item);\n      const getCurrentValue = () => {\n        const {matchOpt} = getMatchingValue();\n        return matchOpt;\n      };\n      const getPreviewFor = constant$1(Optional.none);\n      const onAction = rawItem => () => {\n        editor.undoManager.transact(() => {\n          editor.focus();\n          editor.execCommand('FontSize', false, rawItem.format);\n        });\n      };\n      const updateSelectMenuText = comp => {\n        const {matchOpt, size} = getMatchingValue();\n        const text = matchOpt.fold(constant$1(size), match => match.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      const dataset = buildBasicSettingsDataset(editor, 'font_size_formats', Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        text: Optional.some('12pt'),\n        icon: Optional.none(),\n        isSelectedFor,\n        getPreviewFor,\n        getCurrentValue,\n        onAction,\n        updateText: updateSelectMenuText,\n        dataset,\n        shouldHide: false,\n        isInvalid: never\n      };\n    };\n    const createFontSizeButton = (editor, backstage) => createSelectButton(editor, backstage, getSpec$1(editor));\n    const createFontSizeMenu = (editor, backstage) => {\n      const menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontsize', {\n        text: 'Font sizes',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const getSpec = (editor, dataset) => {\n      const fallbackFormat = 'Paragraph';\n      const isSelectedFor = format => () => editor.formatter.match(format);\n      const getPreviewFor = format => () => {\n        const fmt = editor.formatter.get(format);\n        return fmt !== undefined ? Optional.some({\n          tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n          styles: editor.dom.parseStyle(editor.formatter.getCssText(format))\n        }) : Optional.none();\n      };\n      const updateSelectMenuText = comp => {\n        const getFormatItems = fmt => {\n          const subs = fmt.items;\n          return subs !== undefined && subs.length > 0 ? bind$3(subs, getFormatItems) : [{\n              title: fmt.title,\n              format: fmt.format\n            }];\n        };\n        const flattenedItems = bind$3(getStyleFormats(editor), getFormatItems);\n        const detectedFormat = findNearest(editor, constant$1(flattenedItems));\n        const text = detectedFormat.fold(constant$1(fallbackFormat), fmt => fmt.title);\n        emitWith(comp, updateMenuText, { text });\n      };\n      return {\n        tooltip: 'Formats',\n        text: Optional.some(fallbackFormat),\n        icon: Optional.none(),\n        isSelectedFor,\n        getCurrentValue: Optional.none,\n        getPreviewFor,\n        onAction: onActionToggleFormat$1(editor),\n        updateText: updateSelectMenuText,\n        shouldHide: shouldAutoHideStyleFormats(editor),\n        isInvalid: item => !editor.formatter.canApply(item.format),\n        dataset\n      };\n    };\n    const createStylesButton = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      return createSelectButton(editor, backstage, getSpec(editor, dataset));\n    };\n    const createStylesMenu = (editor, backstage) => {\n      const dataset = {\n        type: 'advanced',\n        ...backstage.styles\n      };\n      const menuItems = createMenuItems(editor, backstage, getSpec(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('styles', {\n        text: 'Formats',\n        getSubmenuItems: () => menuItems.items.validateItems(menuItems.getStyleItems())\n      });\n    };\n\n    const events$3 = (reflectingConfig, reflectingState) => {\n      const update = (component, data) => {\n        reflectingConfig.updateState.each(updateState => {\n          const newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(renderComponents => {\n          const newComponents = renderComponents(data, reflectingState.get());\n          const replacer = reflectingConfig.reuseDom ? withReuse : withoutReuse;\n          replacer(component, newComponents);\n        });\n      };\n      return derive$2([\n        run$1(receive(), (component, message) => {\n          const receivingData = message;\n          if (!receivingData.universal) {\n            const channel = reflectingConfig.channel;\n            if (contains$2(receivingData.channels, channel)) {\n              update(component, receivingData.data);\n            }\n          }\n        }),\n        runOnAttached((comp, _se) => {\n          reflectingConfig.initialData.each(rawData => {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        events: events$3\n    });\n\n    const getState = (component, replaceConfig, reflectState) => reflectState;\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getState: getState\n    });\n\n    var ReflectingSchema = [\n      required$1('channel'),\n      option$3('renderComponents'),\n      option$3('updateState'),\n      option$3('initialData'),\n      defaultedBoolean('reuseDom', true)\n    ];\n\n    const init$3 = () => {\n      const cell = Cell(Optional.none());\n      const clear = () => cell.set(Optional.none());\n      const readState = () => cell.get().getOr('none');\n      return {\n        readState,\n        get: cell.get,\n        set: cell.set,\n        clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init$3\n    });\n\n    const Reflecting = create$3({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    const schema$7 = constant$1([\n      required$1('toggleClass'),\n      required$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted('getHotspot', Optional.some),\n      defaulted('getAnchorOverrides', constant$1({})),\n      schema$y(),\n      onStrictHandler('onItemExecute'),\n      option$3('lazySink'),\n      required$1('dom'),\n      onHandler('onOpen'),\n      field('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted('matchWidth', false),\n      defaulted('useMinWidth', false),\n      defaulted('eventOrder', {}),\n      option$3('role')\n    ].concat(sandboxFields()));\n    const arrowPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'arrow',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: arrow => {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    const buttonPart = required({\n      factory: Button,\n      schema: [required$1('dom')],\n      name: 'button',\n      defaults: () => {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: detail => {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: btn => {\n            btn.getSystem().getByUid(detail.uid).each(splitDropdown => {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    const parts$3 = constant$1([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: spec => {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [required$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: detail => {\n          return {\n            onExecute: (tmenu, item) => {\n              tmenu.getSystem().getByUid(detail.uid).each(splitDropdown => {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType$1()\n    ]);\n\n    const factory$5 = (detail, components, spec, externals) => {\n      const switchToMenu = sandbox => {\n        Composing.getCurrent(sandbox).each(current => {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      const action = component => {\n        const onOpenSync = switchToMenu;\n        togglePopup(detail, identity, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      const openMenu = comp => {\n        action(comp);\n        return Optional.some(true);\n      };\n      const executeOnButton = comp => {\n        const button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Optional.some(true);\n      };\n      const buttonEvents = {\n        ...derive$2([runOnAttached((component, _simulatedEvent) => {\n            const ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n            ariaDescriptor.each(descriptor => {\n              const descriptorId = generate$6('aria');\n              set$9(descriptor.element, 'id', descriptorId);\n              set$9(component.element, 'aria-describedby', descriptorId);\n            });\n          })]),\n        ...events$a(Optional.some(action))\n      };\n      const apis = {\n        repositionMenus: comp => {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis,\n        eventOrder: {\n          ...detail.eventOrder,\n          [execute$5()]: [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        },\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: hotspot => {\n                const arrow = getPartOrDie(hotspot, detail, 'arrow');\n                const extras = {\n                  onOpen: () => {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: () => {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox$1(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    const SplitDropdown = composite({\n      name: 'SplitDropdown',\n      configFields: schema$7(),\n      partFields: parts$3(),\n      factory: factory$5,\n      apis: { repositionMenus: (apis, comp) => apis.repositionMenus(comp) }\n    });\n\n    const getButtonApi = component => ({\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state)\n    });\n    const getToggleApi = component => ({\n      setActive: state => {\n        Toggling.set(component, state);\n      },\n      isActive: () => Toggling.isOn(component),\n      isEnabled: () => !Disabling.isDisabled(component),\n      setEnabled: state => Disabling.set(component, !state)\n    });\n    const getTooltipAttributes = (tooltip, providersBackstage) => tooltip.map(tooltip => ({\n      'aria-label': providersBackstage.translate(tooltip),\n      'title': providersBackstage.translate(tooltip)\n    })).getOr({});\n    const focusButtonEvent = generate$6('focus-button');\n    const renderCommonStructure = (icon, text, tooltip, receiver, behaviours, providersBackstage) => {\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons)),\n          text.map(text => renderLabel(text, 'tox-tbtn', providersBackstage))\n        ]),\n        eventOrder: {\n          [mousedown()]: [\n            'focusing',\n            'alloy.base.behaviour',\n            'common-button-display-events'\n          ]\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.toolbarButton(providersBackstage.isDisabled),\n          receivingConfig(),\n          config('common-button-display-events', [run$1(mousedown(), (button, se) => {\n              se.event.prevent();\n              emit(button, focusButtonEvent);\n            })])\n        ].concat(receiver.map(r => Reflecting.config({\n          channel: r,\n          initialData: {\n            icon,\n            text\n          },\n          renderComponents: (data, _state) => componentRenderPipeline([\n            data.icon.map(iconName => renderIconFromPack(iconName, providersBackstage.icons)),\n            data.text.map(text => renderLabel(text, 'tox-tbtn', providersBackstage))\n          ])\n        })).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    const renderFloatingToolbarButton = (spec, backstage, identifyButtons, attributes) => {\n      const sharedBackstage = backstage.shared;\n      return FloatingToolbarButton.sketch({\n        lazySink: sharedBackstage.getSink,\n        fetch: () => Future.nu(resolve => {\n          resolve(map$2(identifyButtons(spec.items), renderToolbarGroup));\n        }),\n        markers: { toggledClass: 'tox-tbtn--enabled' },\n        parts: {\n          button: renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), sharedBackstage.providers),\n          toolbar: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow'],\n              attributes\n            }\n          }\n        }\n      });\n    };\n    const renderCommonToolbarButton = (spec, specialisation, providersBackstage) => {\n      const editorOffCell = Cell(noop);\n      const structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Optional.none(), Optional.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(() => !spec.enabled || providersBackstage.isDisabled()),\n          receivingConfig()\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    const renderToolbarButton = (spec, providersBackstage) => renderToolbarButtonWith(spec, providersBackstage, []);\n    const renderToolbarButtonWith = (spec, providersBackstage, bonusEvents) => renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n      getApi: getButtonApi,\n      onSetup: spec.onSetup\n    }, providersBackstage);\n    const renderToolbarToggleButton = (spec, providersBackstage) => renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    const renderToolbarToggleButtonWith = (spec, providersBackstage, bonusEvents) => deepMerge(renderCommonToolbarButton(spec, {\n      toolbarButtonBehaviours: [\n        Replacing.config({}),\n        Toggling.config({\n          toggleClass: 'tox-tbtn--enabled',\n          aria: { mode: 'pressed' },\n          toggleOnExecute: false\n        })\n      ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n      getApi: getToggleApi,\n      onSetup: spec.onSetup\n    }, providersBackstage));\n    const fetchChoices = (getApi, spec, providersBackstage) => comp => Future.nu(callback => spec.fetch(callback)).map(items => Optional.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$6('menu-value'), items, value => {\n      spec.onItemAction(getApi(comp), value);\n    }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(never), providersBackstage), {\n      movement: deriveMenuMovement(spec.columns, spec.presets),\n      menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached((comp, _se) => {\n          detectSize(comp, 4, classForPreset(spec.presets)).each(({numRows, numColumns}) => {\n            Keying.setGridSize(comp, numRows, numColumns);\n          });\n        })])\n    }))));\n    const renderSplitButton = (spec, sharedBackstage) => {\n      const displayChannel = generate$6('channel-update-split-dropdown-display');\n      const getApi = comp => ({\n        isEnabled: () => !Disabling.isDisabled(comp),\n        setEnabled: state => Disabling.set(comp, !state),\n        setIconFill: (id, value) => {\n          descendant(comp.element, 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(underlinePath => {\n            set$9(underlinePath, 'fill', value);\n          });\n        },\n        setActive: state => {\n          set$9(comp.element, 'aria-pressed', state);\n          descendant(comp.element, 'span').each(button => {\n            comp.getSystem().getByDom(button).each(buttonComp => Toggling.set(buttonComp, state));\n          });\n        },\n        isActive: () => descendant(comp.element, 'span').exists(button => comp.getSystem().getByDom(button).exists(Toggling.isOn))\n      });\n      const editorOffCell = Cell(noop);\n      const specialisation = {\n        getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: {\n            'aria-pressed': false,\n            ...getTooltipAttributes(spec.tooltip, sharedBackstage.providers)\n          }\n        },\n        onExecute: button => {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: (_a, _b, _c) => {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n          receivingConfig(),\n          config('split-dropdown-events', [\n            run$1(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          [attachedToDom()]: [\n            'alloy.base.behaviour',\n            'split-dropdown-events'\n          ]\n        },\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts.button(renderCommonStructure(spec.icon, spec.text, Optional.none(), Optional.some(displayChannel), Optional.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts.arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$2('chevron-down', sharedBackstage.providers.icons)\n            },\n            buttonBehaviours: derive$1([\n              DisablingConfigs.splitButton(sharedBackstage.providers.isDisabled),\n              receivingConfig(),\n              addFocusableBehaviour()\n            ])\n          }),\n          SplitDropdown.parts['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    const defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styles']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    const renderFromBridge = (bridgeBuilder, render) => (spec, extras, editor) => {\n      const internal = bridgeBuilder(spec).mapError(errInfo => formatError(errInfo)).getOrDie();\n      return render(internal, extras, editor);\n    };\n    const types = {\n      button: renderFromBridge(createToolbarButton, (s, extras) => renderToolbarButton(s, extras.backstage.shared.providers)),\n      togglebutton: renderFromBridge(createToggleButton, (s, extras) => renderToolbarToggleButton(s, extras.backstage.shared.providers)),\n      menubutton: renderFromBridge(createMenuButton, (s, extras) => renderMenuButton(s, 'tox-tbtn', extras.backstage, Optional.none())),\n      splitbutton: renderFromBridge(createSplitButton, (s, extras) => renderSplitButton(s, extras.backstage.shared)),\n      grouptoolbarbutton: renderFromBridge(createGroupToolbarButton, (s, extras, editor) => {\n        const buttons = editor.ui.registry.getAll().buttons;\n        const identify = toolbar => identifyButtons(editor, {\n          buttons,\n          toolbar,\n          allowToolbarGroups: false\n        }, extras, Optional.none());\n        const attributes = { [Attribute]: extras.backstage.shared.header.isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop };\n        switch (getToolbarMode(editor)) {\n        case ToolbarMode$1.floating:\n          return renderFloatingToolbarButton(s, extras.backstage, identify, attributes);\n        default:\n          throw new Error('Toolbar groups are only supported when using floating toolbar mode');\n        }\n      }),\n      styleSelectButton: (editor, extras) => createStylesButton(editor, extras.backstage),\n      fontsizeSelectButton: (editor, extras) => createFontSizeButton(editor, extras.backstage),\n      fontSelectButton: (editor, extras) => createFontFamilyButton(editor, extras.backstage),\n      formatButton: (editor, extras) => createBlocksButton(editor, extras.backstage),\n      alignMenuButton: (editor, extras) => createAlignButton(editor, extras.backstage)\n    };\n    const extractFrom = (spec, extras, editor) => get$g(types, spec.type).fold(() => {\n      console.error('skipping button defined by', spec);\n      return Optional.none();\n    }, render => Optional.some(render(spec, extras, editor)));\n    const bespokeButtons = {\n      styles: types.styleSelectButton,\n      fontsize: types.fontsizeSelectButton,\n      fontfamily: types.fontSelectButton,\n      blocks: types.formatButton,\n      align: types.alignMenuButton\n    };\n    const removeUnusedDefaults = buttons => {\n      const filteredItemGroups = map$2(defaultToolbar, group => {\n        const items = filter$2(group.items, subItem => has$2(buttons, subItem) || has$2(bespokeButtons, subItem));\n        return {\n          name: group.name,\n          items\n        };\n      });\n      return filter$2(filteredItemGroups, group => group.items.length > 0);\n    };\n    const convertStringToolbar = strToolbar => {\n      const groupsStrings = strToolbar.split('|');\n      return map$2(groupsStrings, g => ({ items: g.trim().split(' ') }));\n    };\n    const isToolbarGroupSettingArray = toolbar => isArrayOf(toolbar, t => has$2(t, 'name') && has$2(t, 'items'));\n    const createToolbar = toolbarConfig => {\n      const toolbar = toolbarConfig.toolbar;\n      const buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    const lookupButton = (editor, buttons, toolbarItem, allowToolbarGroups, extras, prefixes) => get$g(buttons, toolbarItem.toLowerCase()).orThunk(() => prefixes.bind(ps => findMap(ps, prefix => get$g(buttons, prefix + toolbarItem.toLowerCase())))).fold(() => get$g(bespokeButtons, toolbarItem.toLowerCase()).map(r => r(editor, extras)).orThunk(() => Optional.none()), spec => {\n      if (spec.type === 'grouptoolbarbutton' && !allowToolbarGroups) {\n        console.warn(`Ignoring the '${ toolbarItem }' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`);\n        return Optional.none();\n      } else {\n        return extractFrom(spec, extras, editor);\n      }\n    });\n    const identifyButtons = (editor, toolbarConfig, extras, prefixes) => {\n      const toolbarGroups = createToolbar(toolbarConfig);\n      const groups = map$2(toolbarGroups, group => {\n        const items = bind$3(group.items, toolbarItem => toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, toolbarConfig.allowToolbarGroups, extras, prefixes).toArray());\n        return {\n          title: Optional.from(editor.translate(group.name)),\n          items\n        };\n      });\n      return filter$2(groups, group => group.items.length > 0);\n    };\n\n    const setToolbar = (editor, uiComponents, rawUiConfig, backstage) => {\n      const comp = uiComponents.outerContainer;\n      const toolbarConfig = rawUiConfig.toolbar;\n      const toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        const toolbars = toolbarConfig.map(t => {\n          const config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig,\n            allowToolbarGroups: rawUiConfig.allowToolbarGroups\n          };\n          return identifyButtons(editor, config, { backstage }, Optional.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, { backstage }, Optional.none()));\n      }\n    };\n\n    const detection = detect$1();\n    const isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    const setupEvents$1 = (editor, uiComponents) => {\n      const dom = editor.dom;\n      let contentWindow = editor.getWin();\n      const initialDocEle = editor.getDoc().documentElement;\n      const lastWindowDimensions = Cell(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n      const lastDocumentDimensions = Cell(SugarPosition(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      const resizeWindow = () => {\n        const outer = lastWindowDimensions.get();\n        if (outer.left !== contentWindow.innerWidth || outer.top !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(SugarPosition(contentWindow.innerWidth, contentWindow.innerHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const resizeDocument = () => {\n        const docEle = editor.getDoc().documentElement;\n        const inner = lastDocumentDimensions.get();\n        if (inner.left !== docEle.offsetWidth || inner.top !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(SugarPosition(docEle.offsetWidth, docEle.offsetHeight));\n          fireResizeContent(editor);\n        }\n      };\n      const scroll = e => fireScrollContent(editor, e);\n      dom.bind(contentWindow, 'resize', resizeWindow);\n      dom.bind(contentWindow, 'scroll', scroll);\n      const elementLoad = capture(SugarElement.fromDom(editor.getBody()), 'load', resizeDocument);\n      const mothership = uiComponents.uiMothership.element;\n      editor.on('hide', () => {\n        set$8(mothership, 'display', 'none');\n      });\n      editor.on('show', () => {\n        remove$6(mothership, 'display');\n      });\n      editor.on('NodeChange', resizeDocument);\n      editor.on('remove', () => {\n        elementLoad.unbind();\n        dom.unbind(contentWindow, 'resize', resizeWindow);\n        dom.unbind(contentWindow, 'scroll', scroll);\n        contentWindow = null;\n      });\n    };\n    const render$1 = (editor, uiComponents, rawUiConfig, backstage, args) => {\n      const lastToolbarWidth = Cell(0);\n      const outerContainer = uiComponents.outerContainer;\n      iframe(editor);\n      const eTargetNode = SugarElement.fromDom(args.targetNode);\n      const uiRoot = getContentContainer(getRootNode(eTargetNode));\n      attachSystemAfter(eTargetNode, uiComponents.mothership);\n      attachSystem(uiRoot, uiComponents.uiMothership);\n      editor.on('PostRender', () => {\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setSidebar(outerContainer, rawUiConfig.sidebar);\n        setupEvents$1(editor, uiComponents);\n      });\n      const socket = OuterContainer.getSocket(outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12) {\n        setAll(socket.element, {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        const limit = first(() => {\n          editor.dispatch('ScrollContent');\n        }, 20);\n        const unbinder = bind(socket.element, 'scroll', limit.throttle);\n        editor.on('remove', unbinder.unbind);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', (_ui, value) => {\n        OuterContainer.toggleSidebar(outerContainer, value);\n        editor.dispatch('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', () => OuterContainer.whichSidebar(outerContainer));\n      const toolbarMode = getToolbarMode(editor);\n      const refreshDrawer = () => {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (toolbarMode === ToolbarMode$1.sliding || toolbarMode === ToolbarMode$1.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', () => {\n          const width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      const api = {\n        setEnabled: state => {\n          broadcastReadonly(uiComponents, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        iframeContainer: socket.element.dom,\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Iframe = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render$1\n    });\n\n    const parseToInt = val => {\n      const re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Optional.some(parseInt('' + val, 10));\n      }\n      return Optional.none();\n    };\n    const numToPx = val => isNumber(val) ? val + 'px' : val;\n    const calcCappedSize = (size, minSize, maxSize) => {\n      const minOverride = minSize.filter(min => size < min);\n      const maxOverride = maxSize.filter(max => size > max);\n      return minOverride.or(maxOverride).getOr(size);\n    };\n\n    const getHeight = editor => {\n      const baseHeight = getHeightOption(editor);\n      const minHeight = getMinHeightOption(editor);\n      const maxHeight = getMaxHeightOption(editor);\n      return parseToInt(baseHeight).map(height => calcCappedSize(height, minHeight, maxHeight));\n    };\n    const getHeightWithFallback = editor => {\n      const height = getHeight(editor);\n      return height.getOr(getHeightOption(editor));\n    };\n    const getWidth = editor => {\n      const baseWidth = getWidthOption(editor);\n      const minWidth = getMinWidthOption(editor);\n      const maxWidth = getMaxWidthOption(editor);\n      return parseToInt(baseWidth).map(width => calcCappedSize(width, minWidth, maxWidth));\n    };\n    const getWidthWithFallback = editor => {\n      const width = getWidth(editor);\n      return width.getOr(getWidthOption(editor));\n    };\n\n    const {ToolbarLocation, ToolbarMode} = Options;\n    const InlineHeader = (editor, targetElm, uiComponents, backstage, floatContainer) => {\n      const {uiMothership, outerContainer} = uiComponents;\n      const DOM = global$7.DOM;\n      const useFixedToolbarContainer = useFixedContainer(editor);\n      const isSticky = isStickyToolbar(editor);\n      const editorMaxWidthOpt = getMaxWidthOption(editor).or(getWidth(editor));\n      const headerBackstage = backstage.shared.header;\n      const isPositionedAtTop = headerBackstage.isPositionedAtTop;\n      const toolbarMode = getToolbarMode(editor);\n      const isSplitToolbar = toolbarMode === ToolbarMode.sliding || toolbarMode === ToolbarMode.floating;\n      const visible = Cell(false);\n      const isVisible = () => visible.get() && !editor.removed;\n      const calcToolbarOffset = toolbar => isSplitToolbar ? toolbar.fold(constant$1(0), tbar => tbar.components().length > 1 ? get$d(tbar.components()[1].element) : 0) : 0;\n      const calcMode = container => {\n        switch (getToolbarLocation(editor)) {\n        case ToolbarLocation.auto:\n          const toolbar = OuterContainer.getToolbar(outerContainer);\n          const offset = calcToolbarOffset(toolbar);\n          const toolbarHeight = get$d(container.element) - offset;\n          const targetBounds = box$1(targetElm);\n          const roomAtTop = targetBounds.y > toolbarHeight;\n          if (roomAtTop) {\n            return 'top';\n          } else {\n            const doc = documentElement(targetElm);\n            const docHeight = Math.max(doc.dom.scrollHeight, get$d(doc));\n            const roomAtBottom = targetBounds.bottom < docHeight - toolbarHeight;\n            if (roomAtBottom) {\n              return 'bottom';\n            } else {\n              const winBounds = win();\n              const isRoomAtBottomViewport = winBounds.bottom < targetBounds.bottom - toolbarHeight;\n              return isRoomAtBottomViewport ? 'bottom' : 'top';\n            }\n          }\n        case ToolbarLocation.bottom:\n          return 'bottom';\n        case ToolbarLocation.top:\n        default:\n          return 'top';\n        }\n      };\n      const setupMode = mode => {\n        const container = floatContainer.get();\n        Docking.setModes(container, [mode]);\n        headerBackstage.setDockingMode(mode);\n        const verticalDir = isPositionedAtTop() ? AttributeValue.TopToBottom : AttributeValue.BottomToTop;\n        set$9(container.element, Attribute, verticalDir);\n      };\n      const updateChromeWidth = () => {\n        const maxWidth = editorMaxWidthOpt.getOrThunk(() => {\n          const bodyMargin = parseToInt(get$e(body(), 'margin-left')).getOr(0);\n          return get$c(body()) - absolute$3(targetElm).left + bodyMargin;\n        });\n        set$8(floatContainer.get().element, 'max-width', maxWidth + 'px');\n      };\n      const updateChromePosition = () => {\n        const toolbar = OuterContainer.getToolbar(outerContainer);\n        const offset = calcToolbarOffset(toolbar);\n        const targetBounds = box$1(targetElm);\n        const top = isPositionedAtTop() ? Math.max(targetBounds.y - get$d(floatContainer.get().element) + offset, 0) : targetBounds.bottom;\n        setAll(outerContainer.element, {\n          position: 'absolute',\n          top: Math.round(top) + 'px',\n          left: Math.round(targetBounds.x) + 'px'\n        });\n      };\n      const repositionPopups$1 = () => {\n        uiMothership.broadcastOn([repositionPopups()], {});\n      };\n      const updateChromeUi = (resetDocking = false) => {\n        if (!isVisible()) {\n          return;\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromeWidth();\n        }\n        if (isSplitToolbar) {\n          OuterContainer.refreshToolbar(outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          updateChromePosition();\n        }\n        if (isSticky) {\n          const floatContainerComp = floatContainer.get();\n          resetDocking ? Docking.reset(floatContainerComp) : Docking.refresh(floatContainerComp);\n        }\n        repositionPopups$1();\n      };\n      const updateMode = (updateUi = true) => {\n        if (useFixedToolbarContainer || !isSticky || !isVisible()) {\n          return;\n        }\n        const currentMode = headerBackstage.getDockingMode();\n        const newMode = calcMode(floatContainer.get());\n        if (newMode !== currentMode) {\n          setupMode(newMode);\n          if (updateUi) {\n            updateChromeUi(true);\n          }\n        }\n      };\n      const show = () => {\n        visible.set(true);\n        set$8(outerContainer.element, 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiMothership.element, 'display');\n        updateMode(false);\n        updateChromeUi();\n      };\n      const hide = () => {\n        visible.set(false);\n        if (uiComponents.outerContainer) {\n          set$8(outerContainer.element, 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$8(uiMothership.element, 'display', 'none');\n      };\n      return {\n        isVisible,\n        isPositionedAtTop,\n        show,\n        hide,\n        update: updateChromeUi,\n        updateMode,\n        repositionPopups: repositionPopups$1\n      };\n    };\n\n    const getTargetPosAndBounds = (targetElm, isToolbarTop) => {\n      const bounds = box$1(targetElm);\n      return {\n        pos: isToolbarTop ? bounds.y : bounds.bottom,\n        bounds\n      };\n    };\n    const setupEvents = (editor, targetElm, ui, toolbarPersist) => {\n      const prevPosAndBounds = Cell(getTargetPosAndBounds(targetElm, ui.isPositionedAtTop()));\n      const resizeContent = e => {\n        const {pos, bounds} = getTargetPosAndBounds(targetElm, ui.isPositionedAtTop());\n        const {\n          pos: prevPos,\n          bounds: prevBounds\n        } = prevPosAndBounds.get();\n        const hasResized = bounds.height !== prevBounds.height || bounds.width !== prevBounds.width;\n        prevPosAndBounds.set({\n          pos,\n          bounds\n        });\n        if (hasResized) {\n          fireResizeContent(editor, e);\n        }\n        if (ui.isVisible()) {\n          if (prevPos !== pos) {\n            ui.update(true);\n          } else if (hasResized) {\n            ui.updateMode();\n            ui.repositionPopups();\n          }\n        }\n      };\n      if (!toolbarPersist) {\n        editor.on('activate', ui.show);\n        editor.on('deactivate', ui.hide);\n      }\n      editor.on('SkinLoaded ResizeWindow', () => ui.update(true));\n      editor.on('NodeChange keydown', e => {\n        requestAnimationFrame(() => resizeContent(e));\n      });\n      editor.on('ScrollWindow', () => ui.updateMode());\n      const elementLoad = unbindable();\n      elementLoad.set(capture(SugarElement.fromDom(editor.getBody()), 'load', resizeContent));\n      editor.on('remove', () => {\n        elementLoad.clear();\n      });\n    };\n    const render = (editor, uiComponents, rawUiConfig, backstage, args) => {\n      const {mothership, uiMothership, outerContainer} = uiComponents;\n      const floatContainer = Cell(null);\n      const targetElm = SugarElement.fromDom(args.targetNode);\n      const ui = InlineHeader(editor, targetElm, uiComponents, backstage, floatContainer);\n      const toolbarPersist = isToolbarPersist(editor);\n      inline(editor);\n      const render = () => {\n        if (floatContainer.get()) {\n          ui.show();\n          return;\n        }\n        floatContainer.set(OuterContainer.getHeader(outerContainer).getOrDie());\n        const uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, mothership);\n        attachSystem(uiContainer, uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(outerContainer, identifyMenus(editor, rawUiConfig));\n        ui.show();\n        setupEvents(editor, targetElm, ui, toolbarPersist);\n        editor.nodeChanged();\n      };\n      editor.on('show', render);\n      editor.on('hide', ui.hide);\n      if (!toolbarPersist) {\n        editor.on('focus', render);\n        editor.on('blur', ui.hide);\n      }\n      editor.on('init', () => {\n        if (editor.hasFocus() || toolbarPersist) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      const api = {\n        show: () => {\n          render();\n        },\n        hide: () => {\n          ui.hide();\n        },\n        setEnabled: state => {\n          broadcastReadonly(uiComponents, !state);\n        },\n        isEnabled: () => !Disabling.isDisabled(outerContainer)\n      };\n      return {\n        editorContainer: outerContainer.element.dom,\n        api\n      };\n    };\n\n    var Inline = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        render: render\n    });\n\n    const showContextToolbarEvent = 'contexttoolbar-show';\n    const hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    const getFormApi = input => ({\n      hide: () => emit(input, sandboxClose()),\n      getValue: () => Representing.getValue(input)\n    });\n    const runOnExecute = (memInput, original) => run$1(internalToolbarButtonExecute, (comp, se) => {\n      const input = memInput.get(comp);\n      const formApi = getFormApi(input);\n      original.onAction(formApi, se.event.buttonApi);\n    });\n    const renderContextButton = (memInput, button, extras) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToolbarButton({\n        ...rest,\n        type: 'button',\n        onAction: noop\n      }));\n      return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    const renderContextToggleButton = (memInput, button, extras) => {\n      const {primary, ...rest} = button.original;\n      const bridged = getOrDie(createToggleButton({\n        ...rest,\n        type: 'togglebutton',\n        onAction: noop\n      }));\n      return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute(memInput, button)]);\n    };\n    const generateOne = (memInput, button, providersBackstage) => {\n      const extras = { backstage: { shared: { providers: providersBackstage } } };\n      if (button.type === 'contextformtogglebutton') {\n        return renderContextToggleButton(memInput, button, extras);\n      } else {\n        return renderContextButton(memInput, button, extras);\n      }\n    };\n    const generate = (memInput, buttons, providersBackstage) => {\n      const mementos = map$2(buttons, button => record(generateOne(memInput, button, providersBackstage)));\n      const asSpecs = () => map$2(mementos, mem => mem.asSpec());\n      const findPrimary = compInSystem => findMap(buttons, (button, i) => {\n        if (button.primary) {\n          return Optional.from(mementos[i]).bind(mem => mem.getOpt(compInSystem)).filter(not(Disabling.isDisabled));\n        } else {\n          return Optional.none();\n        }\n      });\n      return {\n        asSpecs,\n        findPrimary\n      };\n    };\n\n    const buildInitGroups = (ctx, providers) => {\n      const inputAttributes = ctx.label.fold(() => ({}), label => ({ 'aria-label': label }));\n      const memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: input => commands.findPrimary(input).map(primary => {\n              emitExecute(primary);\n              return true;\n            }),\n            onLeft: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            },\n            onRight: (comp, se) => {\n              se.cut();\n              return Optional.none();\n            }\n          })])\n      }));\n      const commands = generate(memInput, ctx.commands, providers);\n      return [\n        {\n          title: Optional.none(),\n          items: [memInput.asSpec()]\n        },\n        {\n          title: Optional.none(),\n          items: commands.asSpecs()\n        }\n      ];\n    };\n    const renderContextForm = (toolbarType, ctx, providers) => renderToolbar({\n      type: toolbarType,\n      uid: generate$6('context-toolbar'),\n      initGroups: buildInitGroups(ctx, providers),\n      onEscape: Optional.none,\n      cyclicKeying: true,\n      providers\n    });\n    const ContextForm = {\n      renderContextForm,\n      buildInitGroups\n    };\n\n    const isVerticalOverlap = (a, b, threshold = 0.01) => b.bottom - a.y >= threshold && a.bottom - b.y >= threshold;\n    const getRangeRect = rng => {\n      const rect = rng.getBoundingClientRect();\n      if (rect.height <= 0 && rect.width <= 0) {\n        const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset).element;\n        const elm = isText(leaf$1) ? parent(leaf$1) : Optional.some(leaf$1);\n        return elm.filter(isElement$1).map(e => e.dom.getBoundingClientRect()).getOr(rect);\n      } else {\n        return rect;\n      }\n    };\n    const getSelectionBounds = editor => {\n      const rng = editor.selection.getRng();\n      const rect = getRangeRect(rng);\n      if (editor.inline) {\n        const scroll = get$b();\n        return bounds(scroll.left + rect.left, scroll.top + rect.top, rect.width, rect.height);\n      } else {\n        const bodyPos = absolute$2(SugarElement.fromDom(editor.getBody()));\n        return bounds(bodyPos.x + rect.left, bodyPos.y + rect.top, rect.width, rect.height);\n      }\n    };\n    const getAnchorElementBounds = (editor, lastElement) => lastElement.filter(inBody).map(absolute$2).getOrThunk(() => getSelectionBounds(editor));\n    const getHorizontalBounds = (contentAreaBox, viewportBounds, margin) => {\n      const x = Math.max(contentAreaBox.x + margin, viewportBounds.x);\n      const right = Math.min(contentAreaBox.right - margin, viewportBounds.right);\n      return {\n        x,\n        width: right - x\n      };\n    };\n    const getVerticalBounds = (editor, contentAreaBox, viewportBounds, isToolbarLocationTop, toolbarType, margin) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const header = descendant(container, '.tox-editor-header').getOr(container);\n      const headerBox = box$1(header);\n      const isToolbarBelowContentArea = headerBox.y >= contentAreaBox.bottom;\n      const isToolbarAbove = isToolbarLocationTop && !isToolbarBelowContentArea;\n      if (editor.inline && isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: viewportBounds.bottom\n        };\n      }\n      if (editor.inline && !isToolbarAbove) {\n        return {\n          y: viewportBounds.y,\n          bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n        };\n      }\n      const containerBounds = toolbarType === 'line' ? box$1(container) : contentAreaBox;\n      if (isToolbarAbove) {\n        return {\n          y: Math.max(headerBox.bottom + margin, viewportBounds.y),\n          bottom: Math.min(containerBounds.bottom - margin, viewportBounds.bottom)\n        };\n      }\n      return {\n        y: Math.max(containerBounds.y + margin, viewportBounds.y),\n        bottom: Math.min(headerBox.y - margin, viewportBounds.bottom)\n      };\n    };\n    const getContextToolbarBounds = (editor, sharedBackstage, toolbarType, margin = 0) => {\n      const viewportBounds = getBounds$3(window);\n      const contentAreaBox = box$1(SugarElement.fromDom(editor.getContentAreaContainer()));\n      const toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      const {x, width} = getHorizontalBounds(contentAreaBox, viewportBounds, margin);\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return bounds(x, viewportBounds.y, width, viewportBounds.height);\n      } else {\n        const isToolbarTop = sharedBackstage.header.isPositionedAtTop();\n        const {y, bottom} = getVerticalBounds(editor, contentAreaBox, viewportBounds, isToolbarTop, toolbarType, margin);\n        return bounds(x, y, width, bottom - y);\n      }\n    };\n\n    const bubbleSize$1 = 12;\n    const bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top'],\n      inset: ['tox-pop--inset']\n    };\n    const anchorOverrides = {\n      maxHeightFunction: expandable$1(),\n      maxWidthFunction: expandable()\n    };\n    const isEntireElementSelected = (editor, elem) => {\n      const rng = editor.selection.getRng();\n      const leaf$1 = leaf(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      return rng.startContainer === rng.endContainer && rng.startOffset === rng.endOffset - 1 && eq(leaf$1.element, elem);\n    };\n    const preservePosition = (elem, position, f) => {\n      const currentPosition = getRaw(elem, 'position');\n      set$8(elem, 'position', position);\n      const result = f(elem);\n      currentPosition.each(pos => set$8(elem, 'position', pos));\n      return result;\n    };\n    const shouldUseInsetLayouts = position => position === 'node';\n    const determineInsetLayout = (editor, contextbar, elem, data, bounds) => {\n      const selectionBounds = getSelectionBounds(editor);\n      const isSameAnchorElement = data.lastElement().exists(prev => eq(elem, prev));\n      if (isEntireElementSelected(editor, elem)) {\n        return isSameAnchorElement ? preserve : north;\n      } else if (isSameAnchorElement) {\n        return preservePosition(contextbar, data.getMode(), () => {\n          const isOverlapping = isVerticalOverlap(selectionBounds, box$1(contextbar));\n          return isOverlapping && !data.isReposition() ? flip : preserve;\n        });\n      } else {\n        const yBounds = data.getMode() === 'fixed' ? bounds.y + get$b().top : bounds.y;\n        const contextbarHeight = get$d(contextbar) + bubbleSize$1;\n        return yBounds + contextbarHeight <= selectionBounds.y ? north : south;\n      }\n    };\n    const getAnchorSpec$2 = (editor, mobile, data, position) => {\n      const smartInsetLayout = elem => (anchor, element, bubbles, placee, bounds) => {\n        const layout = determineInsetLayout(editor, placee, elem, data, bounds);\n        const newAnchor = {\n          ...anchor,\n          y: bounds.y,\n          height: bounds.height\n        };\n        return {\n          ...layout(newAnchor, element, bubbles, placee, bounds),\n          alwaysFit: true\n        };\n      };\n      const getInsetLayouts = elem => shouldUseInsetLayouts(position) ? [smartInsetLayout(elem)] : [];\n      const desktopAnchorSpecLayouts = {\n        onLtr: elem => [\n          north$2,\n          south$2,\n          northeast$2,\n          southeast$2,\n          northwest$2,\n          southwest$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          north$2,\n          south$2,\n          northwest$2,\n          southwest$2,\n          northeast$2,\n          southeast$2\n        ].concat(getInsetLayouts(elem))\n      };\n      const mobileAnchorSpecLayouts = {\n        onLtr: elem => [\n          south$2,\n          southeast$2,\n          southwest$2,\n          northeast$2,\n          northwest$2,\n          north$2\n        ].concat(getInsetLayouts(elem)),\n        onRtl: elem => [\n          south$2,\n          southwest$2,\n          southeast$2,\n          northwest$2,\n          northeast$2,\n          north$2\n        ].concat(getInsetLayouts(elem))\n      };\n      return mobile ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts;\n    };\n    const getAnchorLayout = (editor, position, isTouch, data) => {\n      if (position === 'line') {\n        return {\n          bubble: nu$5(bubbleSize$1, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: () => [east$2],\n            onRtl: () => [west$2]\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$5(0, bubbleSize$1, bubbleAlignments$1, 1 / bubbleSize$1),\n          layouts: getAnchorSpec$2(editor, isTouch, data, position),\n          overrides: anchorOverrides\n        };\n      }\n    };\n\n    const matchTargetWith = (elem, candidates) => {\n      const ctxs = filter$2(candidates, toolbarApi => toolbarApi.predicate(elem.dom));\n      const {pass, fail} = partition$3(ctxs, t => t.type === 'contexttoolbar');\n      return {\n        contextToolbars: pass,\n        contextForms: fail\n      };\n    };\n    const filterByPositionForStartNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const doesPositionExist = value => exists(toolbars, t => t.position === value);\n        const filterToolbarsByPosition = value => filter$2(toolbars, t => t.position === value);\n        const hasSelectionToolbars = doesPositionExist('selection');\n        const hasNodeToolbars = doesPositionExist('node');\n        if (hasSelectionToolbars || hasNodeToolbars) {\n          if (hasNodeToolbars && hasSelectionToolbars) {\n            const nodeToolbars = filterToolbarsByPosition('node');\n            const selectionToolbars = map$2(filterToolbarsByPosition('selection'), t => ({\n              ...t,\n              position: 'node'\n            }));\n            return nodeToolbars.concat(selectionToolbars);\n          } else {\n            return hasSelectionToolbars ? filterToolbarsByPosition('selection') : filterToolbarsByPosition('node');\n          }\n        } else {\n          return filterToolbarsByPosition('line');\n        }\n      }\n    };\n    const filterByPositionForAncestorNode = toolbars => {\n      if (toolbars.length <= 1) {\n        return toolbars;\n      } else {\n        const findPosition = value => find$5(toolbars, t => t.position === value);\n        const basePosition = findPosition('selection').orThunk(() => findPosition('node')).orThunk(() => findPosition('line')).map(t => t.position);\n        return basePosition.fold(() => [], pos => filter$2(toolbars, t => t.position === pos));\n      }\n    };\n    const matchStartNode = (elem, nodeCandidates, editorCandidates) => {\n      const nodeMatches = matchTargetWith(elem, nodeCandidates);\n      if (nodeMatches.contextForms.length > 0) {\n        return Optional.some({\n          elem,\n          toolbars: [nodeMatches.contextForms[0]]\n        });\n      } else {\n        const editorMatches = matchTargetWith(elem, editorCandidates);\n        if (editorMatches.contextForms.length > 0) {\n          return Optional.some({\n            elem,\n            toolbars: [editorMatches.contextForms[0]]\n          });\n        } else if (nodeMatches.contextToolbars.length > 0 || editorMatches.contextToolbars.length > 0) {\n          const toolbars = filterByPositionForStartNode(nodeMatches.contextToolbars.concat(editorMatches.contextToolbars));\n          return Optional.some({\n            elem,\n            toolbars\n          });\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const matchAncestor = (isRoot, startNode, scopes) => {\n      if (isRoot(startNode)) {\n        return Optional.none();\n      } else {\n        return ancestor$2(startNode, ancestorElem => {\n          if (isElement$1(ancestorElem)) {\n            const {contextToolbars, contextForms} = matchTargetWith(ancestorElem, scopes.inNodeScope);\n            const toolbars = contextForms.length > 0 ? contextForms : filterByPositionForAncestorNode(contextToolbars);\n            return toolbars.length > 0 ? Optional.some({\n              elem: ancestorElem,\n              toolbars\n            }) : Optional.none();\n          } else {\n            return Optional.none();\n          }\n        }, isRoot);\n      }\n    };\n    const lookup$1 = (scopes, editor) => {\n      const rootElem = SugarElement.fromDom(editor.getBody());\n      const isRoot = elem => eq(elem, rootElem);\n      const isOutsideRoot = startNode => !isRoot(startNode) && !contains(rootElem, startNode);\n      const startNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isOutsideRoot(startNode)) {\n        return Optional.none();\n      }\n      return matchStartNode(startNode, scopes.inNodeScope, scopes.inEditorScope).orThunk(() => matchAncestor(isRoot, startNode, scopes));\n    };\n\n    const categorise = (contextToolbars, navigate) => {\n      const forms = {};\n      const inNodeScope = [];\n      const inEditorScope = [];\n      const formNavigators = {};\n      const lookupTable = {};\n      const registerForm = (key, toolbarSpec) => {\n        const contextForm = getOrDie(createContextForm(toolbarSpec));\n        forms[key] = contextForm;\n        contextForm.launch.map(launch => {\n          formNavigators['form:' + key + ''] = {\n            ...toolbarSpec.launch,\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: () => {\n              navigate(contextForm);\n            }\n          };\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      const registerToolbar = (key, toolbarSpec) => {\n        createContextToolbar(toolbarSpec).each(contextToolbar => {\n          if (toolbarSpec.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      const keys$1 = keys(contextToolbars);\n      each$1(keys$1, key => {\n        const toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms,\n        inNodeScope,\n        inEditorScope,\n        lookupTable,\n        formNavigators\n      };\n    };\n\n    const forwardSlideEvent = generate$6('forward-slide');\n    const backSlideEvent = generate$6('backward-slide');\n    const changeSlideEvent = generate$6('change-slide-event');\n    const resizingClass = 'tox-pop--resizing';\n    const renderContextToolbar = spec => {\n      const stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: comp => {\n          stack.set([]);\n          InlineView.getContent(comp).each(c => {\n            remove$6(c.element, 'visibility');\n          });\n          remove$2(comp.element, resizingClass);\n          remove$6(comp.element, 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), (comp, se) => {\n              if (se.event.raw.propertyName === 'width') {\n                remove$2(comp.element, resizingClass);\n                remove$6(comp.element, 'width');\n              }\n            }),\n            run$1(changeSlideEvent, (comp, se) => {\n              const elem = comp.element;\n              remove$6(elem, 'width');\n              const currentWidth = get$c(elem);\n              InlineView.setContent(comp, se.event.contents);\n              add$2(elem, resizingClass);\n              const newWidth = get$c(elem);\n              set$8(elem, 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(newContents => {\n                se.event.focus.bind(f => {\n                  focus$3(f);\n                  return search(elem);\n                }).orThunk(() => {\n                  Keying.focusIn(newContents);\n                  return active$1(getRootNode(elem));\n                });\n              });\n              setTimeout(() => {\n                set$8(comp.element, 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run$1(forwardSlideEvent, (comp, se) => {\n              InlineView.getContent(comp).each(oldContents => {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active$1(getRootNode(comp.element))\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event.forwardContents,\n                focus: Optional.none()\n              });\n            }),\n            run$1(backSlideEvent, (comp, _se) => {\n              last$1(stack.get()).each(last => {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: comp => last$1(stack.get()).fold(() => spec.onEscape(), _ => {\n              emit(comp, backSlideEvent);\n              return Optional.some(true);\n            })\n          })\n        ]),\n        lazySink: () => Result.value(spec.sink)\n      });\n    };\n\n    const transitionClass = 'tox-pop--transition';\n    const register$9 = (editor, registryContextToolbars, sink, extras) => {\n      const backstage = extras.backstage;\n      const sharedBackstage = backstage.shared;\n      const isTouch = detect$1().deviceType.isTouch;\n      const lastElement = value$2();\n      const lastTrigger = value$2();\n      const lastContextPosition = value$2();\n      const contextbar = build$1(renderContextToolbar({\n        sink,\n        onEscape: () => {\n          editor.focus();\n          return Optional.some(true);\n        }\n      }));\n      const getBounds = () => {\n        const position = lastContextPosition.get().getOr('node');\n        const margin = shouldUseInsetLayouts(position) ? 1 : 0;\n        return getContextToolbarBounds(editor, sharedBackstage, position, margin);\n      };\n      const canLaunchToolbar = () => {\n        return !editor.removed && !(isTouch() && backstage.isContextMenuOpen());\n      };\n      const isSameLaunchElement = elem => is$1(lift2(elem, lastElement.get(), eq), true);\n      const shouldContextToolbarHide = () => {\n        if (!canLaunchToolbar()) {\n          return true;\n        } else {\n          const contextToolbarBounds = getBounds();\n          const anchorBounds = is$1(lastContextPosition.get(), 'node') ? getAnchorElementBounds(editor, lastElement.get()) : getSelectionBounds(editor);\n          return contextToolbarBounds.height <= 0 || !isVerticalOverlap(anchorBounds, contextToolbarBounds);\n        }\n      };\n      const close = () => {\n        lastElement.clear();\n        lastTrigger.clear();\n        lastContextPosition.clear();\n        InlineView.hide(contextbar);\n      };\n      const hideOrRepositionIfNecessary = () => {\n        if (InlineView.isOpen(contextbar)) {\n          const contextBarEle = contextbar.element;\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$8(contextBarEle, 'display', 'none');\n          } else {\n            lastTrigger.set(0);\n            InlineView.reposition(contextbar);\n          }\n        }\n      };\n      const wrapInPopDialog = toolbarSpec => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop__dialog']\n        },\n        components: [toolbarSpec],\n        behaviours: derive$1([\n          Keying.config({ mode: 'acyclic' }),\n          config('pop-dialog-wrap-events', [\n            runOnAttached(comp => {\n              editor.shortcuts.add('ctrl+F9', 'focus statusbar', () => Keying.focusIn(comp));\n            }),\n            runOnDetached(_comp => {\n              editor.shortcuts.remove('ctrl+F9');\n            })\n          ])\n        ])\n      });\n      const getScopes = cached(() => categorise(registryContextToolbars, toolbarApi => {\n        const alloySpec = buildToolbar([toolbarApi]);\n        emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n      }));\n      const buildContextToolbarGroups = (allButtons, ctx) => identifyButtons(editor, {\n        buttons: allButtons,\n        toolbar: ctx.items,\n        allowToolbarGroups: false\n      }, extras, Optional.some(['form:']));\n      const buildContextFormGroups = (ctx, providers) => ContextForm.buildInitGroups(ctx, providers);\n      const buildToolbar = toolbars => {\n        const {buttons} = editor.ui.registry.getAll();\n        const scopes = getScopes();\n        const allButtons = {\n          ...buttons,\n          ...scopes.formNavigators\n        };\n        const toolbarType = getToolbarMode(editor) === ToolbarMode$1.scrolling ? ToolbarMode$1.scrolling : ToolbarMode$1.default;\n        const initGroups = flatten(map$2(toolbars, ctx => ctx.type === 'contexttoolbar' ? buildContextToolbarGroups(allButtons, ctx) : buildContextFormGroups(ctx, sharedBackstage.providers)));\n        return renderToolbar({\n          type: toolbarType,\n          uid: generate$6('context-toolbar'),\n          initGroups,\n          onEscape: Optional.none,\n          cyclicKeying: true,\n          providers: sharedBackstage.providers\n        });\n      };\n      const getAnchor = (position, element) => {\n        const anchorage = position === 'node' ? sharedBackstage.anchors.node(element) : sharedBackstage.anchors.cursor();\n        const anchorLayout = getAnchorLayout(editor, position, isTouch(), {\n          lastElement: lastElement.get,\n          isReposition: () => is$1(lastTrigger.get(), 0),\n          getMode: () => Positioning.getMode(sink)\n        });\n        return deepMerge(anchorage, anchorLayout);\n      };\n      const launchContext = (toolbarApi, elem) => {\n        launchContextToolbar.cancel();\n        if (!canLaunchToolbar()) {\n          return;\n        }\n        const toolbarSpec = buildToolbar(toolbarApi);\n        const position = toolbarApi[0].position;\n        const anchor = getAnchor(position, elem);\n        lastContextPosition.set(position);\n        lastTrigger.set(1);\n        const contextBarEle = contextbar.element;\n        remove$6(contextBarEle, 'display');\n        if (!isSameLaunchElement(elem)) {\n          remove$2(contextBarEle, transitionClass);\n          Positioning.reset(sink, contextbar);\n        }\n        InlineView.showWithinBounds(contextbar, wrapInPopDialog(toolbarSpec), {\n          anchor,\n          transition: {\n            classes: [transitionClass],\n            mode: 'placement'\n          }\n        }, () => Optional.some(getBounds()));\n        elem.fold(lastElement.clear, lastElement.set);\n        if (shouldContextToolbarHide()) {\n          set$8(contextBarEle, 'display', 'none');\n        }\n      };\n      const launchContextToolbar = last(() => {\n        if (!editor.hasFocus() || editor.removed) {\n          return;\n        }\n        if (has(contextbar.element, transitionClass)) {\n          launchContextToolbar.throttle();\n        } else {\n          const scopes = getScopes();\n          lookup$1(scopes, editor).fold(close, info => {\n            launchContext(info.toolbars, Optional.some(info.elem));\n          });\n        }\n      }, 17);\n      editor.on('init', () => {\n        editor.on('remove', close);\n        editor.on('ScrollContent ScrollWindow ObjectResized ResizeEditor longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup focus SetContent', launchContextToolbar.throttle);\n        editor.on(hideContextToolbarEvent, close);\n        editor.on(showContextToolbarEvent, e => {\n          const scopes = getScopes();\n          get$g(scopes.lookupTable, e.toolbarKey).each(ctx => {\n            launchContext([ctx], someIf(e.target !== editor, e.target));\n            InlineView.getContent(contextbar).each(Keying.focusIn);\n          });\n        });\n        editor.on('focusout', _e => {\n          global$9.setEditorTimeout(editor, () => {\n            if (search(sink.element).isNone() && search(contextbar.element).isNone()) {\n              close();\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', () => {\n          if (editor.mode.isReadOnly()) {\n            close();\n          }\n        });\n        editor.on('AfterProgressState', event => {\n          if (event.state) {\n            close();\n          } else if (editor.hasFocus()) {\n            launchContextToolbar.throttle();\n          }\n        });\n        editor.on('NodeChange', _e => {\n          search(contextbar.element).fold(launchContextToolbar.throttle, noop);\n        });\n      });\n    };\n\n    const register$8 = editor => {\n      const alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      each$1(alignToolbarButtons, item => {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          icon: item.icon,\n          onAction: onActionExecCommand(editor, item.cmd),\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      editor.ui.registry.addButton('alignnone', {\n        tooltip: 'No alignment',\n        icon: 'align-none',\n        onAction: onActionExecCommand(editor, 'JustifyNone')\n      });\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const normalise = (input, accepted) => parse(input, accepted).map(({value, unit}) => value + unit);\n\n    const registerController = (editor, spec) => {\n      const getMenuItems = () => {\n        const options = spec.getOptions(editor);\n        const initial = spec.getCurrent(editor).map(spec.hash);\n        const current = value$2();\n        return map$2(options, value => ({\n          type: 'togglemenuitem',\n          text: spec.display(value),\n          onSetup: api => {\n            const setActive = active => {\n              if (active) {\n                current.on(oldApi => oldApi.setActive(false));\n                current.set(api);\n              }\n              api.setActive(active);\n            };\n            setActive(is$1(initial, spec.hash(value)));\n            const unbindWatcher = spec.watcher(editor, value, setActive);\n            return () => {\n              current.clear();\n              unbindWatcher();\n            };\n          },\n          onAction: () => spec.setCurrent(editor, value)\n        }));\n      };\n      editor.ui.registry.addMenuButton(spec.name, {\n        tooltip: spec.text,\n        icon: spec.icon,\n        fetch: callback => callback(getMenuItems()),\n        onSetup: spec.onToolbarSetup\n      });\n      editor.ui.registry.addNestedMenuItem(spec.name, {\n        type: 'nestedmenuitem',\n        text: spec.text,\n        getSubmenuItems: getMenuItems,\n        onSetup: spec.onMenuSetup\n      });\n    };\n    const lineHeightSpec = {\n      name: 'lineheight',\n      text: 'Line height',\n      icon: 'line-height',\n      getOptions: getLineHeightFormats,\n      hash: input => normalise(input, [\n        'fixed',\n        'relative',\n        'empty'\n      ]).getOr(input),\n      display: identity,\n      watcher: (editor, value, callback) => editor.formatter.formatChanged('lineheight', callback, false, { value }).unbind,\n      getCurrent: editor => Optional.from(editor.queryCommandValue('LineHeight')),\n      setCurrent: (editor, value) => editor.execCommand('LineHeight', false, value)\n    };\n    const languageSpec = editor => {\n      const settingsOpt = Optional.from(getContentLanguages(editor));\n      return settingsOpt.map(settings => ({\n        name: 'language',\n        text: 'Language',\n        icon: 'language',\n        getOptions: constant$1(settings),\n        hash: input => isUndefined(input.customCode) ? input.code : `${ input.code }/${ input.customCode }`,\n        display: input => input.title,\n        watcher: (editor, value, callback) => editor.formatter.formatChanged('lang', callback, false, {\n          value: value.code,\n          customValue: value.customCode\n        }).unbind,\n        getCurrent: editor => {\n          const node = SugarElement.fromDom(editor.selection.getNode());\n          return closest$4(node, n => Optional.some(n).filter(isElement$1).bind(ele => {\n            const codeOpt = getOpt(ele, 'lang');\n            return codeOpt.map(code => {\n              const customCode = getOpt(ele, 'data-mce-lang').getOrUndefined();\n              return {\n                code,\n                customCode,\n                title: ''\n              };\n            });\n          }));\n        },\n        setCurrent: (editor, lang) => editor.execCommand('Lang', false, lang),\n        onToolbarSetup: api => {\n          const unbinder = unbindable();\n          api.setActive(editor.formatter.match('lang', {}, undefined, true));\n          unbinder.set(editor.formatter.formatChanged('lang', api.setActive, true));\n          return unbinder.clear;\n        }\n      }));\n    };\n    const register$7 = editor => {\n      registerController(editor, lineHeightSpec);\n      languageSpec(editor).each(spec => registerController(editor, spec));\n    };\n\n    const register$6 = (editor, backstage) => {\n      createAlignMenu(editor, backstage);\n      createFontFamilyMenu(editor, backstage);\n      createStylesMenu(editor, backstage);\n      createBlocksMenu(editor, backstage);\n      createFontSizeMenu(editor, backstage);\n    };\n\n    const onSetupOutdentState = editor => onSetupEvent(editor, 'NodeChange', api => {\n      api.setEnabled(editor.queryCommandState('outdent'));\n    });\n    const registerButtons$2 = editor => {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: onSetupOutdentState(editor),\n        onAction: onActionExecCommand(editor, 'outdent')\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: onActionExecCommand(editor, 'indent')\n      });\n    };\n    const register$5 = editor => {\n      registerButtons$2(editor);\n    };\n\n    const makeSetupHandler = (editor, pasteAsText) => api => {\n      api.setActive(pasteAsText.get());\n      const pastePlainTextToggleHandler = e => {\n        pasteAsText.set(e.state);\n        api.setActive(e.state);\n      };\n      editor.on('PastePlainTextToggle', pastePlainTextToggleHandler);\n      return () => editor.off('PastePlainTextToggle', pastePlainTextToggleHandler);\n    };\n    const register$4 = editor => {\n      const pasteAsText = Cell(getPasteAsText(editor));\n      const onAction = () => editor.execCommand('mceTogglePlainTextPaste');\n      editor.ui.registry.addToggleButton('pastetext', {\n        active: false,\n        icon: 'paste-text',\n        tooltip: 'Paste as text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n      editor.ui.registry.addToggleMenuItem('pastetext', {\n        text: 'Paste as text',\n        icon: 'paste-text',\n        onAction,\n        onSetup: makeSetupHandler(editor, pasteAsText)\n      });\n    };\n\n    const onActionToggleFormat = (editor, fmt) => () => {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n    const registerFormatButtons = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], (btn, _idx) => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: onActionToggleFormat(editor, btn.name)\n        });\n      });\n      for (let i = 1; i <= 6; i++) {\n        const name = 'h' + i;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name),\n          onAction: onActionToggleFormat(editor, name)\n        });\n      }\n    };\n    const registerCommandButtons = editor => {\n      global$1.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        },\n        {\n          name: 'print',\n          text: 'Print',\n          action: 'mcePrint',\n          icon: 'print'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], btn => {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action)\n        });\n      });\n    };\n    const registerCommandToggleButtons = editor => {\n      global$1.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], btn => {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: onActionExecCommand(editor, btn.action),\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    const registerButtons$1 = editor => {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    const registerMenuItems$2 = editor => {\n      global$1.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        },\n        {\n          name: 'print',\n          text: 'Print...',\n          action: 'mcePrint',\n          icon: 'print',\n          shortcut: 'Meta+P'\n        },\n        {\n          name: 'hr',\n          text: 'Horizontal line',\n          action: 'InsertHorizontalRule',\n          icon: 'horizontal-rule'\n        }\n      ], menuitem => {\n        editor.ui.registry.addMenuItem(menuitem.name, {\n          text: menuitem.text,\n          icon: menuitem.icon,\n          shortcut: menuitem.shortcut,\n          onAction: onActionExecCommand(editor, menuitem.action)\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: onActionToggleFormat(editor, 'code')\n      });\n    };\n    const register$3 = editor => {\n      registerButtons$1(editor);\n      registerMenuItems$2(editor);\n    };\n\n    const onSetupUndoRedoState = (editor, type) => onSetupEvent(editor, 'Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', api => {\n      api.setEnabled(!editor.mode.isReadOnly() && editor.undoManager[type]());\n    });\n    const registerMenuItems$1 = editor => {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const registerButtons = editor => {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasUndo'),\n        onAction: onActionExecCommand(editor, 'undo')\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        enabled: false,\n        onSetup: onSetupUndoRedoState(editor, 'hasRedo'),\n        onAction: onActionExecCommand(editor, 'redo')\n      });\n    };\n    const register$2 = editor => {\n      registerMenuItems$1(editor);\n      registerButtons(editor);\n    };\n\n    const onSetupVisualAidState = editor => onSetupEvent(editor, 'VisualAid', api => {\n      api.setActive(editor.hasVisual);\n    });\n    const registerMenuItems = editor => {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: onSetupVisualAidState(editor),\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const registerToolbarButton = editor => {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: onActionExecCommand(editor, 'mceToggleVisualAid')\n      });\n    };\n    const register$1 = editor => {\n      registerToolbarButton(editor);\n      registerMenuItems(editor);\n    };\n\n    const setup$6 = (editor, backstage) => {\n      register$8(editor);\n      register$3(editor);\n      register$6(editor, backstage);\n      register$2(editor);\n      register$c(editor);\n      register$1(editor);\n      register$5(editor);\n      register$7(editor);\n      register$4(editor);\n    };\n\n    const patchPipeConfig = config => isString(config) ? config.split(/[ ,]/) : config;\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('contextmenu_avoid_overlap', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('contextmenu_never_use_native', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('contextmenu', {\n        processor: value => {\n          if (value === false) {\n            return {\n              value: [],\n              valid: true\n            };\n          } else if (isString(value) || isArrayOf(value, isString)) {\n            return {\n              value: patchPipeConfig(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string.'\n            };\n          }\n        },\n        default: 'link linkchecker image editimage table spellchecker configurepermanentpen'\n      });\n    };\n    const shouldNeverUseNative = option('contextmenu_never_use_native');\n    const getAvoidOverlapSelector = option('contextmenu_avoid_overlap');\n    const isContextMenuDisabled = editor => getContextMenu(editor).length === 0;\n    const getContextMenu = editor => {\n      const contextMenus = editor.ui.registry.getAll().contextMenus;\n      const contextMenu = editor.options.get('contextmenu');\n      if (editor.options.isSet('contextmenu')) {\n        return contextMenu;\n      } else {\n        return filter$2(contextMenu, item => has$2(contextMenus, item));\n      }\n    };\n\n    const nu = (x, y) => ({\n      type: 'makeshift',\n      x,\n      y\n    });\n    const transpose = (pos, dx, dy) => {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n    const isTouchEvent = e => e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    const fromPageXY = e => {\n      if (isTouchEvent(e)) {\n        const touch = e.touches[0];\n        return nu(touch.pageX, touch.pageY);\n      } else {\n        return nu(e.pageX, e.pageY);\n      }\n    };\n    const fromClientXY = e => {\n      if (isTouchEvent(e)) {\n        const touch = e.touches[0];\n        return nu(touch.clientX, touch.clientY);\n      } else {\n        return nu(e.clientX, e.clientY);\n      }\n    };\n    const transposeContentAreaContainer = (element, pos) => {\n      const containerPos = global$7.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n    const getPointAnchor = (editor, e) => {\n      if (e.type === 'contextmenu' || e.type === 'longpress') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    const getSelectionAnchor = editor => {\n      return {\n        type: 'selection',\n        root: SugarElement.fromDom(editor.selection.getNode())\n      };\n    };\n    const getNodeAnchor = editor => ({\n      type: 'node',\n      node: Optional.some(SugarElement.fromDom(editor.selection.getNode())),\n      root: SugarElement.fromDom(editor.getBody())\n    });\n    const getAnchorSpec$1 = (editor, e, anchorType) => {\n      switch (anchorType) {\n      case 'node':\n        return getNodeAnchor(editor);\n      case 'point':\n        return getPointAnchor(editor, e);\n      case 'selection':\n        return getSelectionAnchor(editor);\n      }\n    };\n\n    const initAndShow$1 = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const items = buildMenu();\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, { anchor: anchorSpec }, {\n          menu: { markers: markers('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    const layouts = {\n      onLtr: () => [\n        south$2,\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2,\n        north$2,\n        north,\n        south,\n        northeast,\n        southeast,\n        northwest,\n        southwest\n      ],\n      onRtl: () => [\n        south$2,\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2,\n        north$2,\n        north,\n        south,\n        northwest,\n        southwest,\n        northeast,\n        southeast\n      ]\n    };\n    const bubbleSize = 12;\n    const bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    const isTouchWithinSelection = (editor, e) => {\n      const selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        const touch = e.touches[0];\n        const rng = selection.getRng();\n        const rngRectOpt = getFirstRect(editor.getWin(), SimSelection.domRange(rng));\n        return rngRectOpt.exists(rngRect => rngRect.left <= touch.clientX && rngRect.right >= touch.clientX && rngRect.top <= touch.clientY && rngRect.bottom >= touch.clientY);\n      }\n    };\n    const setupiOSOverrides = editor => {\n      const originalSelection = editor.selection.getRng();\n      const selectionReset = () => {\n        global$9.setEditorTimeout(editor, () => {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      const preventMousedown = e => {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      const clearSelectionReset = () => unbindEventListeners();\n      editor.once('longpresscancel', clearSelectionReset);\n      const unbindEventListeners = () => {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    const getAnchorSpec = (editor, e, anchorType) => {\n      const anchorSpec = getAnchorSpec$1(editor, e, anchorType);\n      const bubbleYOffset = anchorType === 'point' ? bubbleSize : 0;\n      return {\n        bubble: nu$5(0, bubbleYOffset, bubbleAlignments),\n        layouts,\n        overrides: {\n          maxWidthFunction: expandable(),\n          maxHeightFunction: expandable$1()\n        },\n        ...anchorSpec\n      };\n    };\n    const show = (editor, e, items, backstage, contextmenu, anchorType, highlightImmediately) => {\n      const anchorSpec = getAnchorSpec(editor, e, anchorType);\n      build(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, true).map(menuData => {\n        e.preventDefault();\n        InlineView.showMenuWithinBounds(contextmenu, { anchor: anchorSpec }, {\n          menu: {\n            markers: markers('normal'),\n            highlightImmediately\n          },\n          data: menuData,\n          type: 'horizontal'\n        }, () => Optional.some(getContextToolbarBounds(editor, backstage.shared, anchorType === 'node' ? 'node' : 'selection')));\n        editor.dispatch(hideContextToolbarEvent);\n      });\n    };\n    const initAndShow = (editor, e, buildMenu, backstage, contextmenu, anchorType) => {\n      const detection = detect$1();\n      const isiOS = detection.os.isiOS();\n      const isMacOS = detection.os.isMacOS();\n      const isAndroid = detection.os.isAndroid();\n      const isTouch = detection.deviceType.isTouch();\n      const shouldHighlightImmediately = () => !(isAndroid || isiOS || isMacOS && isTouch);\n      const open = () => {\n        const items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, anchorType, shouldHighlightImmediately());\n      };\n      if ((isMacOS || isiOS) && anchorType !== 'node') {\n        const openiOS = () => {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS();\n        } else {\n          editor.once('selectionchange', openiOS);\n          editor.once('touchend', () => editor.off('selectionchange', openiOS));\n        }\n      } else {\n        open();\n      }\n    };\n\n    const isSeparator = item => isString(item) ? item === '|' : item.type === 'separator';\n    const separator = { type: 'separator' };\n    const makeContextItem = item => {\n      const commonMenuItem = item => ({\n        text: item.text,\n        icon: item.icon,\n        enabled: item.enabled,\n        shortcut: item.shortcut\n      });\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            ...commonMenuItem(item),\n            getSubmenuItems: () => {\n              const items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map$2(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          return {\n            type: 'menuitem',\n            ...commonMenuItem(item),\n            onAction: noarg(item.onAction)\n          };\n        }\n      }\n    };\n    const addContextMenuGroup = (xs, groupItems) => {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      const lastMenuItem = last$1(xs).filter(item => !isSeparator(item));\n      const before = lastMenuItem.fold(() => [], _ => [separator]);\n      return xs.concat(before).concat(groupItems).concat([separator]);\n    };\n    const generateContextMenu = (contextMenus, menuConfig, selectedElement) => {\n      const sections = foldl(menuConfig, (acc, name) => {\n        return get$g(contextMenus, name.toLowerCase()).map(menu => {\n          const items = menu.update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            const allItems = map$2(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        }).getOrThunk(() => acc.concat([name]));\n      }, []);\n      if (sections.length > 0 && isSeparator(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    const isNativeOverrideKeyEvent = (editor, e) => e.ctrlKey && !shouldNeverUseNative(editor);\n    const isTriggeredByKeyboard = (editor, e) => e.type !== 'longpress' && (e.button !== 2 || e.target === editor.getBody() && e.pointerType === '');\n    const getSelectedElement = (editor, e) => isTriggeredByKeyboard(editor, e) ? editor.selection.getStart(true) : e.target;\n    const getAnchorType = (editor, e) => {\n      const selector = getAvoidOverlapSelector(editor);\n      const anchorType = isTriggeredByKeyboard(editor, e) ? 'selection' : 'point';\n      if (isNotEmpty(selector)) {\n        const target = getSelectedElement(editor, e);\n        const selectorExists = closest(SugarElement.fromDom(target), selector);\n        return selectorExists ? 'node' : anchorType;\n      } else {\n        return anchorType;\n      }\n    };\n    const setup$5 = (editor, lazySink, backstage) => {\n      const detection = detect$1();\n      const isTouch = detection.deviceType.isTouch;\n      const contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink,\n        onEscape: () => editor.focus(),\n        onShow: () => backstage.setContextMenuState(true),\n        onHide: () => backstage.setContextMenuState(false),\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run$1(dismissRequested(), (comp, _se) => {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      const hideContextMenu = _e => InlineView.hide(contextmenu);\n      const showContextMenu = e => {\n        if (shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || isContextMenuDisabled(editor)) {\n          return;\n        }\n        const anchorType = getAnchorType(editor, e);\n        const buildMenu = () => {\n          const selectedElement = getSelectedElement(editor, e);\n          const registry = editor.ui.registry.getAll();\n          const menuConfig = getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        const initAndShow$2 = isTouch() ? initAndShow : initAndShow$1;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, anchorType);\n      };\n      editor.on('init', () => {\n        const hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : ' ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on('longpress contextmenu', showContextMenu);\n      });\n    };\n\n    const adt = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    const subtract = change => point => point.translate(-change.left, -change.top);\n    const add = change => point => point.translate(change.left, change.top);\n    const transform = changes => (x, y) => foldl(changes, (rest, f) => f(rest), SugarPosition(x, y));\n    const asFixed = (coord, scroll, origin) => coord.fold(transform([\n      add(origin),\n      subtract(scroll)\n    ]), transform([subtract(scroll)]), transform([]));\n    const asAbsolute = (coord, scroll, origin) => coord.fold(transform([add(origin)]), transform([]), transform([add(scroll)]));\n    const asOffset = (coord, scroll, origin) => coord.fold(transform([]), transform([subtract(origin)]), transform([\n      add(scroll),\n      subtract(origin)\n    ]));\n    const withinRange = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left - a2.left) <= xRange && Math.abs(a1.top - a2.top) <= yRange;\n    };\n    const getDeltas = (coord1, coord2, xRange, yRange, scroll, origin) => {\n      const a1 = asAbsolute(coord1, scroll, origin);\n      const a2 = asAbsolute(coord2, scroll, origin);\n      const left = Math.abs(a1.left - a2.left);\n      const top = Math.abs(a1.top - a2.top);\n      return SugarPosition(left, top);\n    };\n    const toStyles = (coord, scroll, origin) => {\n      const stylesOpt = coord.fold((x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }), (x, y) => ({\n        position: Optional.some('absolute'),\n        left: Optional.some(x - origin.left + 'px'),\n        top: Optional.some(y - origin.top + 'px')\n      }), (x, y) => ({\n        position: Optional.some('fixed'),\n        left: Optional.some(x + 'px'),\n        top: Optional.some(y + 'px')\n      }));\n      return {\n        right: Optional.none(),\n        bottom: Optional.none(),\n        ...stylesOpt\n      };\n    };\n    const translate = (coord, deltaX, deltaY) => coord.fold((x, y) => offset(x + deltaX, y + deltaY), (x, y) => absolute(x + deltaX, y + deltaY), (x, y) => fixed(x + deltaX, y + deltaY));\n    const absorb = (partialCoord, originalCoord, scroll, origin) => {\n      const absorbOne = (stencil, nu) => (optX, optY) => {\n        const original = stencil(originalCoord, scroll, origin);\n        return nu(optX.getOr(original.left), optY.getOr(original.top));\n      };\n      return partialCoord.fold(absorbOne(asOffset, offset), absorbOne(asAbsolute, absolute), absorbOne(asFixed, fixed));\n    };\n    const offset = adt.offset;\n    const absolute = adt.absolute;\n    const fixed = adt.fixed;\n\n    const parseAttrToInt = (element, name) => {\n      const value = get$f(element, name);\n      return isUndefined(value) ? NaN : parseInt(value, 10);\n    };\n    const get = (component, snapsInfo) => {\n      const element = component.element;\n      const x = parseAttrToInt(element, snapsInfo.leftAttr);\n      const y = parseAttrToInt(element, snapsInfo.topAttr);\n      return isNaN(x) || isNaN(y) ? Optional.none() : Optional.some(SugarPosition(x, y));\n    };\n    const set = (component, snapsInfo, pt) => {\n      const element = component.element;\n      set$9(element, snapsInfo.leftAttr, pt.left + 'px');\n      set$9(element, snapsInfo.topAttr, pt.top + 'px');\n    };\n    const clear = (component, snapsInfo) => {\n      const element = component.element;\n      remove$7(element, snapsInfo.leftAttr);\n      remove$7(element, snapsInfo.topAttr);\n    };\n\n    const getCoords = (component, snapInfo, coord, delta) => get(component, snapInfo).fold(() => coord, fixed$1 => fixed(fixed$1.left + delta.left, fixed$1.top + delta.top));\n    const moveOrSnap = (component, snapInfo, coord, delta, scroll, origin) => {\n      const newCoord = getCoords(component, snapInfo, coord, delta);\n      const snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      const fixedCoord = asFixed(newCoord, scroll, origin);\n      set(component, snapInfo, fixedCoord);\n      return snap.fold(() => ({\n        coord: fixed(fixedCoord.left, fixedCoord.top),\n        extra: Optional.none()\n      }), spanned => ({\n        coord: spanned.output,\n        extra: spanned.extra\n      }));\n    };\n    const stopDrag = (component, snapInfo) => {\n      clear(component, snapInfo);\n    };\n    const findMatchingSnap = (snaps, newCoord, scroll, origin) => findMap(snaps, snap => {\n      const sensor = snap.sensor;\n      const inRange = withinRange(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n      return inRange ? Optional.some({\n        output: absorb(snap.output, newCoord, scroll, origin),\n        extra: snap.extra\n      }) : Optional.none();\n    });\n    const findClosestSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      const matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(() => {\n        const bestSnap = foldl(snaps, (acc, snap) => {\n          const sensor = snap.sensor;\n          const deltas = getDeltas(newCoord, sensor, snap.range.left, snap.range.top, scroll, origin);\n          return acc.deltas.fold(() => ({\n            deltas: Optional.some(deltas),\n            snap: Optional.some(snap)\n          }), bestDeltas => {\n            const currAvg = (deltas.left + deltas.top) / 2;\n            const bestAvg = (bestDeltas.left + bestDeltas.top) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Optional.some(deltas),\n                snap: Optional.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Optional.none(),\n          snap: Optional.none()\n        });\n        return bestSnap.snap.map(snap => ({\n          output: absorb(snap.output, newCoord, scroll, origin),\n          extra: snap.extra\n        }));\n      });\n    };\n    const findSnap = (component, snapInfo, newCoord, scroll, origin) => {\n      const snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    const snapTo$1 = (snap, scroll, origin) => ({\n      coord: absorb(snap.output, snap.output, scroll, origin),\n      extra: snap.extra\n    });\n\n    const snapTo = (component, dragConfig, _state, snap) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const snapPin = snapTo$1(snap, scroll, origin);\n        const styles = toStyles(snapPin.coord, scroll, origin);\n        setOptions(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        snapTo: snapTo\n    });\n\n    const initialAttribute = 'data-initial-z-index';\n    const resetZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getOpt(root, initialAttribute).fold(() => remove$6(root, 'z-index'), zIndex => set$8(root, 'z-index', zIndex));\n        remove$7(root, initialAttribute);\n      });\n    };\n    const changeZIndex = blocker => {\n      parent(blocker.element).filter(isElement$1).each(root => {\n        getRaw(root, 'z-index').each(zindex => {\n          set$9(root, initialAttribute, zindex);\n        });\n        set$8(root, 'z-index', get$e(blocker.element, 'z-index'));\n      });\n    };\n    const instigate = (anyComponent, blocker) => {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    const discard = blocker => {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n    const createComponent = (component, blockerClass, blockerEvents) => component.getSystem().build(Container.sketch({\n      dom: {\n        styles: {\n          'left': '0px',\n          'top': '0px',\n          'width': '100%',\n          'height': '100%',\n          'position': 'fixed',\n          'z-index': '1000000000000000'\n        },\n        classes: [blockerClass]\n      },\n      events: blockerEvents\n    }));\n\n    var SnapSchema = optionObjOf('snaps', [\n      required$1('getSnapPoints'),\n      onHandler('onSensor'),\n      required$1('leftAttr'),\n      required$1('topAttr'),\n      defaulted('lazyViewport', win),\n      defaulted('mustSnap', false)\n    ]);\n\n    const schema$6 = [\n      defaulted('useFixed', never),\n      required$1('blockerClass'),\n      defaulted('getTarget', identity),\n      defaulted('onDrag', noop),\n      defaulted('repositionTarget', true),\n      defaulted('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema\n    ];\n\n    const getCurrentCoord = target => lift3(getRaw(target, 'left'), getRaw(target, 'top'), getRaw(target, 'position'), (left, top, position) => {\n      const nu = position === 'fixed' ? fixed : offset;\n      return nu(parseInt(left, 10), parseInt(top, 10));\n    }).getOrThunk(() => {\n      const location = absolute$3(target);\n      return absolute(location.left, location.top);\n    });\n    const clampCoords = (component, coords, scroll, origin, startData) => {\n      const bounds = startData.bounds;\n      const absoluteCoord = asAbsolute(coords, scroll, origin);\n      const newX = clamp(absoluteCoord.left, bounds.x, bounds.x + bounds.width - startData.width);\n      const newY = clamp(absoluteCoord.top, bounds.y, bounds.y + bounds.height - startData.height);\n      const newCoords = absolute(newX, newY);\n      return coords.fold(() => {\n        const offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left, offset$1.top);\n      }, constant$1(newCoords), () => {\n        const fixed$1 = asFixed(newCoords, scroll, origin);\n        return fixed(fixed$1.left, fixed$1.top);\n      });\n    };\n    const calcNewCoord = (component, optSnaps, currentCoord, scroll, origin, delta, startData) => {\n      const newCoord = optSnaps.fold(() => {\n        const translated = translate(currentCoord, delta.left, delta.top);\n        const fixedCoord = asFixed(translated, scroll, origin);\n        return fixed(fixedCoord.left, fixedCoord.top);\n      }, snapInfo => {\n        const snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(extra => {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    const dragBy = (component, dragConfig, startData, delta) => {\n      const target = dragConfig.getTarget(component.element);\n      if (dragConfig.repositionTarget) {\n        const doc = owner$4(component.element);\n        const scroll = get$b(doc);\n        const origin = getOrigin(target);\n        const currentCoord = getCurrentCoord(target);\n        const newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        const styles = toStyles(newCoord, scroll, origin);\n        setOptions(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    const calcStartData = (dragConfig, comp) => ({\n      bounds: dragConfig.getBounds(),\n      height: getOuter$2(comp.element),\n      width: getOuter$1(comp.element)\n    });\n    const move = (component, dragConfig, dragState, dragMode, event) => {\n      const delta = dragState.update(dragMode, event);\n      const dragStartData = dragState.getStartData().getOrThunk(() => calcStartData(dragConfig, component));\n      delta.each(dlt => {\n        dragBy(component, dragConfig, dragStartData, dlt);\n      });\n    };\n    const stop = (component, blocker, dragConfig, dragState) => {\n      blocker.each(discard);\n      dragConfig.snaps.each(snapInfo => {\n        stopDrag(component, snapInfo);\n      });\n      const target = dragConfig.getTarget(component.element);\n      dragState.reset();\n      dragConfig.onDrop(component, target);\n    };\n    const handlers = events => (dragConfig, dragState) => {\n      const updateStartState = comp => {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive$2([\n        run$1(windowScroll(), comp => {\n          dragState.getStartData().each(() => updateStartState(comp));\n        }),\n        ...events(dragConfig, dragState, updateStartState)\n      ]);\n    };\n\n    const init$2 = dragApi => derive$2([\n      run$1(mousedown(), dragApi.forceDrop),\n      run$1(mouseup(), dragApi.drop),\n      run$1(mousemove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      }),\n      run$1(mouseout(), dragApi.delayDrop)\n    ]);\n\n    const getData$1 = event => Optional.from(SugarPosition(event.x, event.y));\n    const getDelta$1 = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    const events$2 = (dragConfig, dragState, updateStartState) => [run$1(mousedown(), (component, simulatedEvent) => {\n        const raw = simulatedEvent.event.raw;\n        if (raw.button !== 0) {\n          return;\n        }\n        simulatedEvent.stop();\n        const stop$1 = () => stop(component, Optional.some(blocker), dragConfig, dragState);\n        const delayDrop = DelayedFunction(stop$1, 200);\n        const dragApi = {\n          drop: stop$1,\n          delayDrop: delayDrop.schedule,\n          forceDrop: stop$1,\n          move: event => {\n            delayDrop.cancel();\n            move(component, dragConfig, dragState, MouseData, event);\n          }\n        };\n        const blocker = createComponent(component, dragConfig.blockerClass, init$2(dragApi));\n        const start = () => {\n          updateStartState(component);\n          instigate(component, blocker);\n        };\n        start();\n      })];\n    const schema$5 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$2) })\n    ];\n\n    const init$1 = dragApi => derive$2([\n      run$1(touchstart(), dragApi.forceDrop),\n      run$1(touchend(), dragApi.drop),\n      run$1(touchcancel(), dragApi.drop),\n      run$1(touchmove(), (comp, simulatedEvent) => {\n        dragApi.move(simulatedEvent.event);\n      })\n    ]);\n\n    const getDataFrom = touches => {\n      const touch = touches[0];\n      return Optional.some(SugarPosition(touch.clientX, touch.clientY));\n    };\n    const getData = event => {\n      const raw = event.raw;\n      const touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Optional.none();\n    };\n    const getDelta = (old, nu) => SugarPosition(nu.left - old.left, nu.top - old.top);\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        getData: getData,\n        getDelta: getDelta\n    });\n\n    const events$1 = (dragConfig, dragState, updateStartState) => {\n      const blockerSingleton = value$2();\n      const stopBlocking = component => {\n        stop(component, blockerSingleton.get(), dragConfig, dragState);\n        blockerSingleton.clear();\n      };\n      return [\n        run$1(touchstart(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          const stop = () => stopBlocking(component);\n          const dragApi = {\n            drop: stop,\n            delayDrop: noop,\n            forceDrop: stop,\n            move: event => {\n              move(component, dragConfig, dragState, TouchData, event);\n            }\n          };\n          const blocker = createComponent(component, dragConfig.blockerClass, init$1(dragApi));\n          blockerSingleton.set(blocker);\n          const start = () => {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        }),\n        run$1(touchmove(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          move(component, dragConfig, dragState, TouchData, simulatedEvent.event);\n        }),\n        run$1(touchend(), (component, simulatedEvent) => {\n          simulatedEvent.stop();\n          stopBlocking(component);\n        }),\n        run$1(touchcancel(), stopBlocking)\n      ];\n    };\n    const schema$4 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events$1) })\n    ];\n\n    const events = (dragConfig, dragState, updateStartState) => [\n      ...events$2(dragConfig, dragState, updateStartState),\n      ...events$1(dragConfig, dragState, updateStartState)\n    ];\n    const schema$3 = [\n      ...schema$6,\n      output$1('dragger', { handlers: handlers(events) })\n    ];\n\n    const mouse = schema$5;\n    const touch = schema$4;\n    const mouseOrTouch = schema$3;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        mouse: mouse,\n        touch: touch,\n        mouseOrTouch: mouseOrTouch\n    });\n\n    const init = () => {\n      let previous = Optional.none();\n      let startData = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n        startData = Optional.none();\n      };\n      const calculateDelta = (mode, nu) => {\n        const result = previous.map(old => mode.getDelta(old, nu));\n        previous = Optional.some(nu);\n        return result;\n      };\n      const update = (mode, dragEvent) => mode.getData(dragEvent).bind(nuData => calculateDelta(mode, nuData));\n      const setStartData = data => {\n        startData = Optional.some(data);\n      };\n      const getStartData = () => startData;\n      const readState = constant$1({});\n      return nu$8({\n        readState,\n        reset,\n        update,\n        getStartData,\n        setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        init: init\n    });\n\n    const Dragging = createModes({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: (dragConfig, dragState) => {\n          const dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: sConfig => ({\n          sensor: sConfig.sensor,\n          range: sConfig.range,\n          output: sConfig.output,\n          extra: Optional.from(sConfig.extra)\n        })\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    const snapWidth = 40;\n    const snapOffset = snapWidth / 2;\n    const calcSnap = (selectorOpt, td, x, y, width, height) => selectorOpt.fold(() => Dragging.snap({\n      sensor: absolute(x - snapOffset, y - snapOffset),\n      range: SugarPosition(width, height),\n      output: absolute(Optional.some(x), Optional.some(y)),\n      extra: { td }\n    }), selectorHandle => {\n      const sensorLeft = x - snapOffset;\n      const sensorTop = y - snapOffset;\n      const sensorWidth = snapWidth;\n      const sensorHeight = snapWidth;\n      const rect = selectorHandle.element.dom.getBoundingClientRect();\n      return Dragging.snap({\n        sensor: absolute(sensorLeft, sensorTop),\n        range: SugarPosition(sensorWidth, sensorHeight),\n        output: absolute(Optional.some(x - rect.width / 2), Optional.some(y - rect.height / 2)),\n        extra: { td }\n      });\n    });\n    const getSnapsConfig = (getSnapPoints, cell, onChange) => {\n      const isSameCell = (cellOpt, td) => cellOpt.exists(currentTd => eq(currentTd, td));\n      return {\n        getSnapPoints,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: (component, extra) => {\n          const td = extra.td;\n          if (!isSameCell(cell.get(), td)) {\n            cell.set(td);\n            onChange(td);\n          }\n        },\n        mustSnap: true\n      };\n    };\n    const createSelector = snaps => record(Button.sketch({\n      dom: {\n        tag: 'div',\n        classes: ['tox-selector']\n      },\n      buttonBehaviours: derive$1([\n        Dragging.config({\n          mode: 'mouseOrTouch',\n          blockerClass: 'blocker',\n          snaps\n        }),\n        Unselecting.config({})\n      ]),\n      eventOrder: {\n        mousedown: [\n          'dragging',\n          'alloy.base.behaviour'\n        ],\n        touchstart: [\n          'dragging',\n          'alloy.base.behaviour'\n        ]\n      }\n    }));\n    const setup$4 = (editor, sink) => {\n      const tlTds = Cell([]);\n      const brTds = Cell([]);\n      const isVisible = Cell(false);\n      const startCell = value$2();\n      const finishCell = value$2();\n      const getTopLeftSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memTopLeft.getOpt(sink), td, box.x, box.y, box.width, box.height);\n      };\n      const getTopLeftSnaps = () => map$2(tlTds.get(), td => getTopLeftSnap(td));\n      const getBottomRightSnap = td => {\n        const box = absolute$2(td);\n        return calcSnap(memBottomRight.getOpt(sink), td, box.right, box.bottom, box.width, box.height);\n      };\n      const getBottomRightSnaps = () => map$2(brTds.get(), td => getBottomRightSnap(td));\n      const topLeftSnaps = getSnapsConfig(getTopLeftSnaps, startCell, start => {\n        finishCell.get().each(finish => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const bottomRightSnaps = getSnapsConfig(getBottomRightSnaps, finishCell, finish => {\n        startCell.get().each(start => {\n          editor.dispatch('TableSelectorChange', {\n            start,\n            finish\n          });\n        });\n      });\n      const memTopLeft = createSelector(topLeftSnaps);\n      const memBottomRight = createSelector(bottomRightSnaps);\n      const topLeft = build$1(memTopLeft.asSpec());\n      const bottomRight = build$1(memBottomRight.asSpec());\n      const showOrHideHandle = (selector, cell, isAbove, isBelow) => {\n        const cellRect = cell.dom.getBoundingClientRect();\n        remove$6(selector.element, 'display');\n        const viewportHeight = defaultView(SugarElement.fromDom(editor.getBody())).dom.innerHeight;\n        const aboveViewport = isAbove(cellRect);\n        const belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$8(selector.element, 'display', 'none');\n        }\n      };\n      const snapTo = (selector, cell, getSnapConfig, pos) => {\n        const snap = getSnapConfig(cell);\n        Dragging.snapTo(selector, snap);\n        const isAbove = rect => rect[pos] < 0;\n        const isBelow = (rect, viewportHeight) => rect[pos] > viewportHeight;\n        showOrHideHandle(selector, cell, isAbove, isBelow);\n      };\n      const snapTopLeft = cell => snapTo(topLeft, cell, getTopLeftSnap, 'top');\n      const snapLastTopLeft = () => startCell.get().each(snapTopLeft);\n      const snapBottomRight = cell => snapTo(bottomRight, cell, getBottomRightSnap, 'bottom');\n      const snapLastBottomRight = () => finishCell.get().each(snapBottomRight);\n      if (detect$1().deviceType.isTouch()) {\n        editor.on('TableSelectionChange', e => {\n          if (!isVisible.get()) {\n            attach(sink, topLeft);\n            attach(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(otherCells => {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('ResizeEditor ResizeWindow ScrollContent', () => {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('TableSelectionClear', () => {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n          startCell.clear();\n          finishCell.clear();\n        });\n      }\n    };\n\n    var Logo = \"<svg width=\\\"50px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 50 16\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z\\\"/>\\n</svg>\\n\";\n\n    const isHidden = elm => elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus') || elm.getAttribute('data-mce-type') === 'bookmark';\n    const renderElementPath = (editor, settings, providersBackstage) => {\n      var _a;\n      const delimiter = (_a = settings.delimiter) !== null && _a !== void 0 ? _a : '\\u203A';\n      const renderElement = (name, element, index) => Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-item'],\n          attributes: {\n            'data-index': index,\n            'aria-level': index + 1\n          }\n        },\n        components: [text$1(name)],\n        action: _btn => {\n          editor.focus();\n          editor.selection.select(element);\n          editor.nodeChanged();\n        },\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig()\n        ])\n      });\n      const renderDivider = () => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path-divider'],\n          attributes: { 'aria-hidden': true }\n        },\n        components: [text$1(` ${ delimiter } `)]\n      });\n      const renderPathData = data => foldl(data, (acc, path, index) => {\n        const element = renderElement(path.name, path.element, index);\n        if (index === 0) {\n          return acc.concat([element]);\n        } else {\n          return acc.concat([\n            renderDivider(),\n            element\n          ]);\n        }\n      }, []);\n      const updatePath = parents => {\n        const newPath = [];\n        let i = parents.length;\n        while (i-- > 0) {\n          const parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden(parent)) {\n            const args = editor.dispatch('ResolveName', {\n              name: parent.nodeName.toLowerCase(),\n              target: parent\n            });\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Disabling.config({ disabled: providersBackstage.isDisabled }),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached((comp, _e) => {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', () => Keying.focusIn(comp));\n              editor.on('NodeChange', e => {\n                const newPath = updatePath(e.parents);\n                const newChildren = newPath.length > 0 ? renderPathData(newPath) : [];\n                Replacing.set(comp, newChildren);\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    const getDimensions = (editor, deltas, resizeType, originalHeight, originalWidth) => {\n      const dimensions = {};\n      dimensions.height = calcCappedSize(originalHeight + deltas.top, getMinHeightOption(editor), getMaxHeightOption(editor));\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth + deltas.left, getMinWidthOption(editor), getMaxWidthOption(editor));\n      }\n      return dimensions;\n    };\n    const resize = (editor, deltas, resizeType) => {\n      const container = SugarElement.fromDom(editor.getContainer());\n      const dimensions = getDimensions(editor, deltas, resizeType, get$d(container), get$c(container));\n      each(dimensions, (val, dim) => set$8(container, dim, numToPx(val)));\n      fireResizeEditor(editor);\n    };\n\n    const getResizeType = editor => {\n      const resize = getResize(editor);\n      if (resize === false) {\n        return ResizeTypes.None;\n      } else if (resize === 'both') {\n        return ResizeTypes.Both;\n      } else {\n        return ResizeTypes.Vertical;\n      }\n    };\n    const keyboardHandler = (editor, resizeType, x, y) => {\n      const scale = 20;\n      const delta = SugarPosition(x * scale, y * scale);\n      resize(editor, delta, resizeType);\n      return Optional.some(true);\n    };\n    const renderResizeHandler = (editor, providersBackstage) => {\n      const resizeType = getResizeType(editor);\n      if (resizeType === ResizeTypes.None) {\n        return Optional.none();\n      }\n      return Optional.some(render$3('resize-handle', {\n        tag: 'div',\n        classes: ['tox-statusbar__resize-handle'],\n        attributes: { title: providersBackstage.translate('Resize') },\n        behaviours: [\n          Dragging.config({\n            mode: 'mouse',\n            repositionTarget: false,\n            onDrag: (_comp, _target, delta) => resize(editor, delta, resizeType),\n            blockerClass: 'tox-blocker'\n          }),\n          Keying.config({\n            mode: 'special',\n            onLeft: () => keyboardHandler(editor, resizeType, -1, 0),\n            onRight: () => keyboardHandler(editor, resizeType, 1, 0),\n            onUp: () => keyboardHandler(editor, resizeType, 0, -1),\n            onDown: () => keyboardHandler(editor, resizeType, 0, 1)\n          }),\n          Tabstopping.config({}),\n          Focusing.config({})\n        ]\n      }, providersBackstage.icons));\n    };\n\n    const renderWordCount = (editor, providersBackstage) => {\n      const replaceCountText = (comp, count, mode) => Replacing.set(comp, [text$1(providersBackstage.translate([\n          '{0} ' + mode,\n          count[mode]\n        ]))]);\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(providersBackstage.isDisabled),\n          receivingConfig(),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            runOnExecute$1(comp => {\n              const currentVal = Representing.getValue(comp);\n              const newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(comp => {\n              editor.on('wordCountUpdate', e => {\n                const {mode} = Representing.getValue(comp);\n                Representing.setValue(comp, {\n                  mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: {\n          [execute$5()]: [\n            'disabling',\n            'alloy.base.behaviour',\n            'wordcount-events'\n          ]\n        }\n      });\n    };\n\n    const renderStatusbar = (editor, providersBackstage) => {\n      const renderBranding = () => {\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding']\n          },\n          components: [{\n              dom: {\n                tag: 'a',\n                attributes: {\n                  'href': 'https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6',\n                  'rel': 'noopener',\n                  'target': '_blank',\n                  'aria-label': global$8.translate([\n                    'Powered by {0}',\n                    'Tiny'\n                  ])\n                },\n                innerHtml: Logo.trim()\n              },\n              behaviours: derive$1([Focusing.config({})])\n            }]\n        };\n      };\n      const getTextComponents = () => {\n        const components = [];\n        if (useElementPath(editor)) {\n          components.push(renderElementPath(editor, {}, providersBackstage));\n        }\n        if (editor.hasPlugin('wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (useBranding(editor)) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components\n            }];\n        }\n        return [];\n      };\n      const getComponents = () => {\n        const components = getTextComponents();\n        const resizeHandler = renderResizeHandler(editor, providersBackstage);\n        return components.concat(resizeHandler.toArray());\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    const getLazyMothership = singleton => singleton.get().getOrDie('UI has not been rendered');\n    const setup$3 = editor => {\n      const isInline = editor.inline;\n      const mode = isInline ? Inline : Iframe;\n      const header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      const lazySink = value$2();\n      const lazyOuterContainer = value$2();\n      const lazyMothership = value$2();\n      const lazyUiMothership = value$2();\n      const platform = detect$1();\n      const isTouch = platform.deviceType.isTouch();\n      const touchPlatformClass = 'tox-platform-touch';\n      const deviceClasses = isTouch ? [touchPlatformClass] : [];\n      const isToolbarBottom = isToolbarLocationBottom(editor);\n      const toolbarMode = getToolbarMode(editor);\n      const memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      const lazyHeader = () => lazyOuterContainer.get().bind(OuterContainer.getHeader);\n      const lazySinkResult = () => Result.fromOption(lazySink.get(), 'UI has not been rendered');\n      const lazyAnchorBar = () => lazyOuterContainer.get().bind(container => memAnchorBar.getOpt(container)).getOrDie('Could not find a anchor bar element');\n      const lazyToolbar = () => lazyOuterContainer.get().bind(container => OuterContainer.getToolbar(container)).getOrDie('Could not find more toolbar element');\n      const lazyThrobber = () => lazyOuterContainer.get().bind(container => OuterContainer.getThrobber(container)).getOrDie('Could not find throbber element');\n      const backstage = init$7(lazySinkResult, editor, lazyAnchorBar);\n      const makeHeaderPart = () => {\n        const verticalDirAttributes = { attributes: { [Attribute]: isToolbarBottom ? AttributeValue.BottomToTop : AttributeValue.TopToBottom } };\n        const partMenubar = OuterContainer.parts.menubar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-menubar']\n          },\n          backstage,\n          onEscape: () => {\n            editor.focus();\n          }\n        });\n        const partToolbar = OuterContainer.parts.toolbar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar']\n          },\n          getSink: lazySinkResult,\n          providers: backstage.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode,\n          lazyToolbar,\n          lazyHeader: () => lazyHeader().getOrDie('Could not find header element'),\n          ...verticalDirAttributes\n        });\n        const partMultipleToolbar = OuterContainer.parts['multiple-toolbar']({\n          dom: {\n            tag: 'div',\n            classes: ['tox-toolbar-overlord']\n          },\n          providers: backstage.shared.providers,\n          onEscape: () => {\n            editor.focus();\n          },\n          type: toolbarMode\n        });\n        const hasMultipleToolbar = isMultipleToolbars(editor);\n        const hasToolbar = isToolbarEnabled(editor);\n        const hasMenubar = isMenubarEnabled(editor);\n        const getPartToolbar = () => {\n          if (hasMultipleToolbar) {\n            return [partMultipleToolbar];\n          } else if (hasToolbar) {\n            return [partToolbar];\n          } else {\n            return [];\n          }\n        };\n        return OuterContainer.parts.header({\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-header'],\n            ...verticalDirAttributes\n          },\n          components: flatten([\n            hasMenubar ? [partMenubar] : [],\n            getPartToolbar(),\n            useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n          ]),\n          sticky: isStickyToolbar(editor),\n          editor,\n          sharedBackstage: backstage.shared\n        });\n      };\n      const makeSidebarDefinition = () => {\n        const partSocket = OuterContainer.parts.socket({\n          dom: {\n            tag: 'div',\n            classes: ['tox-edit-area']\n          }\n        });\n        const partSidebar = OuterContainer.parts.sidebar({\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar']\n          }\n        });\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar-wrap']\n          },\n          components: [\n            partSocket,\n            partSidebar\n          ]\n        };\n      };\n      const renderSink = () => {\n        const uiContainer = getUiContainer(editor);\n        const isGridUiContainer = eq(body(), uiContainer) && get$e(uiContainer, 'display') === 'grid';\n        const sinkSpec = {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-silver-sink',\n              'tox-tinymce-aux'\n            ].concat(deviceClasses),\n            attributes: { ...global$8.isRtl() ? { dir: 'rtl' } : {} }\n          },\n          behaviours: derive$1([Positioning.config({ useFixed: () => header.isDocked(lazyHeader) })])\n        };\n        const reactiveWidthSpec = {\n          dom: { styles: { width: document.body.clientWidth + 'px' } },\n          events: derive$2([run$1(windowResize(), comp => {\n              set$8(comp.element, 'width', document.body.clientWidth + 'px');\n            })])\n        };\n        const sink = build$1(deepMerge(sinkSpec, isGridUiContainer ? reactiveWidthSpec : {}));\n        const uiMothership = takeover(sink);\n        lazySink.set(sink);\n        lazyUiMothership.set(uiMothership);\n        return {\n          sink,\n          uiMothership\n        };\n      };\n      const renderContainer = () => {\n        const partHeader = makeHeaderPart();\n        const sidebarContainer = makeSidebarDefinition();\n        const partThrobber = OuterContainer.parts.throbber({\n          dom: {\n            tag: 'div',\n            classes: ['tox-throbber']\n          },\n          backstage\n        });\n        const statusbar = useStatusBar(editor) && !isInline ? Optional.some(renderStatusbar(editor, backstage.shared.providers)) : Optional.none();\n        const editorComponents = flatten([\n          isToolbarBottom ? [] : [partHeader],\n          isInline ? [] : [sidebarContainer],\n          isToolbarBottom ? [partHeader] : []\n        ]);\n        const editorContainer = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-editor-container']\n          },\n          components: editorComponents\n        };\n        const containerComponents = flatten([\n          [editorContainer],\n          isInline ? [] : statusbar.toArray(),\n          [partThrobber]\n        ]);\n        const isHidden = isDistractionFree(editor);\n        const attributes = {\n          role: 'application',\n          ...global$8.isRtl() ? { dir: 'rtl' } : {},\n          ...isHidden ? { 'aria-hidden': 'true' } : {}\n        };\n        const outerContainer = build$1(OuterContainer.sketch({\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox',\n              'tox-tinymce'\n            ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(isToolbarBottom ? ['tox-tinymce--toolbar-bottom'] : []).concat(deviceClasses),\n            styles: {\n              visibility: 'hidden',\n              ...isHidden ? {\n                opacity: '0',\n                border: '0'\n              } : {}\n            },\n            attributes\n          },\n          components: containerComponents,\n          behaviours: derive$1([\n            receivingConfig(),\n            Disabling.config({ disableClass: 'tox-tinymce--disabled' }),\n            Keying.config({\n              mode: 'cyclic',\n              selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle'\n            })\n          ])\n        }));\n        const mothership = takeover(outerContainer);\n        lazyOuterContainer.set(outerContainer);\n        lazyMothership.set(mothership);\n        return {\n          mothership,\n          outerContainer\n        };\n      };\n      const setEditorSize = outerContainer => {\n        const parsedHeight = numToPx(getHeightWithFallback(editor));\n        const parsedWidth = numToPx(getWidthWithFallback(editor));\n        if (!editor.inline) {\n          if (isValidValue('div', 'width', parsedWidth)) {\n            set$8(outerContainer.element, 'width', parsedWidth);\n          }\n          if (isValidValue('div', 'height', parsedHeight)) {\n            set$8(outerContainer.element, 'height', parsedHeight);\n          } else {\n            set$8(outerContainer.element, 'height', '400px');\n          }\n        }\n        return parsedHeight;\n      };\n      const setupShortcutsAndCommands = outerContainer => {\n        editor.addShortcut('alt+F9', 'focus menubar', () => {\n          OuterContainer.focusMenubar(outerContainer);\n        });\n        editor.addShortcut('alt+F10', 'focus toolbar', () => {\n          OuterContainer.focusToolbar(outerContainer);\n        });\n        editor.addCommand('ToggleToolbarDrawer', () => {\n          OuterContainer.toggleToolbarDrawer(outerContainer);\n        });\n        editor.addQueryStateHandler('ToggleToolbarDrawer', () => OuterContainer.isToolbarDrawerToggled(outerContainer));\n      };\n      const renderUI = () => {\n        const {mothership, outerContainer} = renderContainer();\n        const {uiMothership, sink} = renderSink();\n        map$1(getToolbarGroups(editor), (toolbarGroupButtonConfig, name) => {\n          editor.ui.registry.addGroupToolbarButton(name, toolbarGroupButtonConfig);\n        });\n        const {buttons, menuItems, contextToolbars, sidebars} = editor.ui.registry.getAll();\n        const toolbarOpt = getMultipleToolbarsOption(editor);\n        const rawUiConfig = {\n          menuItems,\n          menus: getMenus(editor),\n          menubar: getMenubar(editor),\n          toolbar: toolbarOpt.getOrThunk(() => getToolbar(editor)),\n          allowToolbarGroups: toolbarMode === ToolbarMode$1.floating,\n          buttons,\n          sidebar: sidebars\n        };\n        setupShortcutsAndCommands(outerContainer);\n        setup$b(editor, mothership, uiMothership);\n        header.setup(editor, backstage.shared, lazyHeader);\n        setup$6(editor, backstage);\n        setup$5(editor, lazySinkResult, backstage);\n        setup$8(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        register$9(editor, contextToolbars, sink, { backstage });\n        setup$4(editor, sink);\n        const elm = editor.getElement();\n        const height = setEditorSize(outerContainer);\n        const uiComponents = {\n          mothership,\n          uiMothership,\n          outerContainer,\n          sink\n        };\n        const args = {\n          targetNode: elm,\n          height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      const getMothership = () => getLazyMothership(lazyMothership);\n      const getUiMothership = () => getLazyMothership(lazyUiMothership);\n      return {\n        getMothership,\n        getUiMothership,\n        backstage,\n        renderUI\n      };\n    };\n\n    const describedBy = (describedElement, describeElement) => {\n      const describeId = Optional.from(get$f(describedElement, 'id')).fold(() => {\n        const id = generate$6('dialog-describe');\n        set$9(describeElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(describedElement, 'aria-describedby', describeId);\n    };\n\n    const labelledBy = (labelledElement, labelElement) => {\n      const labelId = getOpt(labelledElement, 'id').fold(() => {\n        const id = generate$6('dialog-label');\n        set$9(labelElement, 'id', id);\n        return id;\n      }, identity);\n      set$9(labelledElement, 'aria-labelledby', labelId);\n    };\n\n    const schema$2 = constant$1([\n      required$1('lazySink'),\n      option$3('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted('useTabstopAt', always),\n      defaulted('eventOrder', {}),\n      field('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    const basic = { sketch: identity };\n    const parts$2 = constant$1([\n      optional({\n        name: 'draghandle',\n        overrides: (detail, spec) => {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: handle => {\n                  return ancestor(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [required$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [required$1('dom')],\n        name: 'footer'\n      }),\n      external({\n        factory: {\n          sketch: (spec, detail) => ({\n            ...spec,\n            dom: detail.dom,\n            components: detail.components\n          })\n        },\n        schema: [\n          defaulted('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    const factory$4 = (detail, components, spec, externals) => {\n      const dialogComp = value$2();\n      const showDialog = dialog => {\n        dialogComp.set(dialog);\n        const sink = detail.lazySink(dialog).getOrDie();\n        const externalBlocker = externals.blocker();\n        const blocker = sink.getSystem().build({\n          ...externalBlocker,\n          components: externalBlocker.components.concat([premade(dialog)]),\n          behaviours: derive$1([\n            Focusing.config({}),\n            config('dialog-blocker-events', [runOnSource(focusin(), () => {\n                Keying.focusIn(dialog);\n              })])\n          ])\n        });\n        attach(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      const hideDialog = dialog => {\n        dialogComp.clear();\n        parent(dialog.element).each(blockerDom => {\n          dialog.getSystem().getByDom(blockerDom).each(blocker => {\n            detach(blocker);\n          });\n        });\n      };\n      const getDialogBody = dialog => getPartOrDie(dialog, detail, 'body');\n      const getDialogFooter = dialog => getPartOrDie(dialog, detail, 'footer');\n      const setBusy = (dialog, getBusySpec) => {\n        Blocking.block(dialog, getBusySpec);\n      };\n      const setIdle = dialog => {\n        Blocking.unblock(dialog);\n      };\n      const modalEventsId = generate$6('modal-events');\n      const eventOrder = {\n        ...detail.eventOrder,\n        [attachedToDom()]: [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || [])\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle,\n          setBusy\n        },\n        eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          Blocking.config({ getRoot: dialogComp.get }),\n          config(modalEventsId, [runOnAttached(c => {\n              labelledBy(c.element, getPartOrDie(c, detail, 'title').element);\n              describedBy(c.element, getPartOrDie(c, detail, 'body').element);\n            })])\n        ])\n      };\n    };\n    const ModalDialog = composite({\n      name: 'ModalDialog',\n      configFields: schema$2(),\n      partFields: parts$2(),\n      factory: factory$4,\n      apis: {\n        show: (apis, dialog) => {\n          apis.show(dialog);\n        },\n        hide: (apis, dialog) => {\n          apis.hide(dialog);\n        },\n        getBody: (apis, dialog) => apis.getBody(dialog),\n        getFooter: (apis, dialog) => apis.getFooter(dialog),\n        setBusy: (apis, dialog, getBusySpec) => {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: (apis, dialog) => {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    const dialogToggleMenuItemSchema = objOf([\n      type,\n      name$1\n    ].concat(commonMenuItemFields));\n    const dialogToggleMenuItemDataProcessor = boolean;\n\n    const baseFooterButtonFields = [\n      generatedName('button'),\n      optionalIcon,\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      primary,\n      enabled,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary'\n      ])\n    ];\n    const dialogFooterButtonFields = [\n      ...baseFooterButtonFields,\n      text\n    ];\n    const normalFooterButtonFields = [\n      requiredStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ]),\n      ...dialogFooterButtonFields\n    ];\n    const menuFooterButtonFields = [\n      requiredStringEnum('type', ['menu']),\n      optionalText,\n      optionalTooltip,\n      optionalIcon,\n      requiredArrayOf('items', dialogToggleMenuItemSchema),\n      ...baseFooterButtonFields\n    ];\n    const dialogFooterButtonSchema = choose$1('type', {\n      submit: normalFooterButtonFields,\n      cancel: normalFooterButtonFields,\n      custom: normalFooterButtonFields,\n      menu: menuFooterButtonFields\n    });\n\n    const alertBannerFields = [\n      type,\n      text,\n      requiredStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      icon,\n      defaulted('url', '')\n    ];\n    const alertBannerSchema = objOf(alertBannerFields);\n\n    const createBarFields = itemsField => [\n      type,\n      itemsField\n    ];\n\n    const buttonFields = [\n      type,\n      text,\n      enabled,\n      generatedName('button'),\n      optionalIcon,\n      borderless,\n      optionStringEnum('buttonType', [\n        'primary',\n        'secondary',\n        'toolbar'\n      ]),\n      primary\n    ];\n    const buttonSchema = objOf(buttonFields);\n\n    const formComponentFields = [\n      type,\n      name$1\n    ];\n    const formComponentWithLabelFields = formComponentFields.concat([optionalLabel]);\n\n    const checkboxFields = formComponentFields.concat([\n      label,\n      enabled\n    ]);\n    const checkboxSchema = objOf(checkboxFields);\n    const checkboxDataProcessor = boolean;\n\n    const collectionFields = formComponentWithLabelFields.concat([defaultedColumns('auto')]);\n    const collectionSchema = objOf(collectionFields);\n    const collectionDataProcessor = arrOfObj([\n      value$1,\n      text,\n      icon\n    ]);\n\n    const colorInputFields = formComponentWithLabelFields;\n    const colorInputSchema = objOf(colorInputFields);\n    const colorInputDataProcessor = string;\n\n    const colorPickerFields = formComponentWithLabelFields;\n    const colorPickerSchema = objOf(colorPickerFields);\n    const colorPickerDataProcessor = string;\n\n    const customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredString('scriptId'),\n      requiredString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    const customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      requiredFunction('init')\n    ]);\n    const customEditorSchema = valueOf(v => asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(() => asRaw('customeditor.new', objOfOnly(customEditorFields), v)));\n    const customEditorDataProcessor = string;\n\n    const dropZoneFields = formComponentWithLabelFields;\n    const dropZoneSchema = objOf(dropZoneFields);\n    const dropZoneDataProcessor = arrOfVal();\n\n    const createGridFields = itemsField => [\n      type,\n      requiredNumber('columns'),\n      itemsField\n    ];\n\n    const htmlPanelFields = [\n      type,\n      requiredString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    const htmlPanelSchema = objOf(htmlPanelFields);\n\n    const iframeFields = formComponentWithLabelFields.concat([defaultedBoolean('sandboxed', true)]);\n    const iframeSchema = objOf(iframeFields);\n    const iframeDataProcessor = string;\n\n    const imagePreviewSchema = objOf(formComponentFields.concat([optionString('height')]));\n    const imagePreviewDataProcessor = objOf([\n      requiredString('url'),\n      optionNumber('zoom'),\n      optionNumber('cachedWidth'),\n      optionNumber('cachedHeight')\n    ]);\n\n    const inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const inputSchema = objOf(inputFields);\n    const inputDataProcessor = string;\n\n    const createLabelFields = itemsField => [\n      type,\n      label,\n      itemsField\n    ];\n\n    const listBoxSingleItemFields = [\n      text,\n      value$1\n    ];\n    const listBoxNestedItemFields = [\n      text,\n      requiredArrayOf('items', thunkOf('items', () => listBoxItemSchema))\n    ];\n    const listBoxItemSchema = oneOf([\n      objOf(listBoxSingleItemFields),\n      objOf(listBoxNestedItemFields)\n    ]);\n    const listBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOf('items', listBoxItemSchema),\n      enabled\n    ]);\n    const listBoxSchema = objOf(listBoxFields);\n    const listBoxDataProcessor = string;\n\n    const selectBoxFields = formComponentWithLabelFields.concat([\n      requiredArrayOfObj('items', [\n        text,\n        value$1\n      ]),\n      defaultedNumber('size', 1),\n      enabled\n    ]);\n    const selectBoxSchema = objOf(selectBoxFields);\n    const selectBoxDataProcessor = string;\n\n    const sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      enabled\n    ]);\n    const sizeInputSchema = objOf(sizeInputFields);\n    const sizeInputDataProcessor = objOf([\n      requiredString('width'),\n      requiredString('height')\n    ]);\n\n    const sliderFields = formComponentFields.concat([\n      label,\n      defaultedNumber('min', 0),\n      defaultedNumber('max', 0)\n    ]);\n    const sliderSchema = objOf(sliderFields);\n    const sliderInputDataProcessor = number;\n\n    const tableFields = [\n      type,\n      requiredArrayOf('header', string),\n      requiredArrayOf('cells', arrOf(string))\n    ];\n    const tableSchema = objOf(tableFields);\n\n    const textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      enabled\n    ]);\n    const textAreaSchema = objOf(textAreaFields);\n    const textAreaDataProcessor = string;\n\n    const urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      enabled\n    ]);\n    const urlInputSchema = objOf(urlInputFields);\n    const urlInputDataProcessor = objOf([\n      value$1,\n      defaultedMeta\n    ]);\n\n    const createItemsField = name => field$1('items', 'items', required$2(), arrOf(valueOf(v => asRaw(`Checking item of ${ name }`, itemSchema, v).fold(sErr => Result.error(formatError(sErr)), passValue => Result.value(passValue)))));\n    const itemSchema = valueThunk(() => choose$2('type', {\n      alertbanner: alertBannerSchema,\n      bar: objOf(createBarFields(createItemsField('bar'))),\n      button: buttonSchema,\n      checkbox: checkboxSchema,\n      colorinput: colorInputSchema,\n      colorpicker: colorPickerSchema,\n      dropzone: dropZoneSchema,\n      grid: objOf(createGridFields(createItemsField('grid'))),\n      iframe: iframeSchema,\n      input: inputSchema,\n      listbox: listBoxSchema,\n      selectbox: selectBoxSchema,\n      sizeinput: sizeInputSchema,\n      slider: sliderSchema,\n      textarea: textAreaSchema,\n      urlinput: urlInputSchema,\n      customeditor: customEditorSchema,\n      htmlpanel: htmlPanelSchema,\n      imagepreview: imagePreviewSchema,\n      collection: collectionSchema,\n      label: objOf(createLabelFields(createItemsField('label'))),\n      table: tableSchema,\n      panel: panelSchema\n    }));\n    const panelFields = [\n      type,\n      defaulted('classes', []),\n      requiredArrayOf('items', itemSchema)\n    ];\n    const panelSchema = objOf(panelFields);\n\n    const tabFields = [\n      generatedName('tab'),\n      title,\n      requiredArrayOf('items', itemSchema)\n    ];\n    const tabPanelFields = [\n      type,\n      requiredArrayOfObj('tabs', tabFields)\n    ];\n    const tabPanelSchema = objOf(tabPanelFields);\n\n    const dialogButtonFields = dialogFooterButtonFields;\n    const dialogButtonSchema = dialogFooterButtonSchema;\n    const dialogSchema = objOf([\n      requiredString('title'),\n      requiredOf('body', choose$2('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      requiredArrayOf('buttons', dialogButtonSchema),\n      defaulted('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onTabChange', noop)\n    ]);\n    const createDialog = spec => asRaw('dialog', dialogSchema, spec);\n\n    const urlDialogButtonSchema = objOf([\n      requiredStringEnum('type', [\n        'cancel',\n        'custom'\n      ]),\n      ...dialogButtonFields\n    ]);\n    const urlDialogSchema = objOf([\n      requiredString('title'),\n      requiredString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    const createUrlDialog = spec => asRaw('dialog', urlDialogSchema, spec);\n\n    const getAllObjects = obj => {\n      if (isObject(obj)) {\n        return [obj].concat(bind$3(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind$3(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    const isNamedItem = obj => isString(obj.type) && isString(obj.name);\n    const dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      imagepreview: imagePreviewDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      slider: sliderInputDataProcessor,\n      listbox: listBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    const getDataProcessor = item => Optional.from(dataProcessors[item.type]);\n    const getNamedItems = structure => filter$2(getAllObjects(structure), isNamedItem);\n\n    const createDataValidator = structure => {\n      const namedItems = getNamedItems(structure);\n      const fields = bind$3(namedItems, item => getDataProcessor(item).fold(() => [], schema => [requiredOf(item.name, schema)]));\n      return objOf(fields);\n    };\n\n    const extract = structure => {\n      const internalDialog = getOrDie(createDialog(structure));\n      const dataValidator = createDataValidator(structure);\n      const initialData = structure.initialData;\n      return {\n        internalDialog,\n        dataValidator,\n        initialData\n      };\n    };\n    const DialogManager = {\n      open: (factory, structure) => {\n        const extraction = extract(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: (factory, structure) => {\n        const internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: structure => extract(structure)\n    };\n\n    const toValidValues = values => {\n      const errors = [];\n      const result = {};\n      each(values, (value, name) => {\n        value.fold(() => {\n          errors.push(name);\n        }, v => {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    const renderBodyPanel = (spec, dialogData, backstage) => {\n      const memForm = record(Form.sketch(parts => ({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form'].concat(spec.classes)\n        },\n        components: map$2(spec.items, item => interpretInForm(parts, item, dialogData, backstage))\n      })));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: formValue => toValidValues(formValue).fold(err => {\n              console.error(err);\n              return {};\n            }, identity)\n          })\n        ])\n      };\n    };\n\n    const factory$3 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      components: detail.components,\n      events: events$a(detail.action),\n      behaviours: augment(detail.tabButtonBehaviours, [\n        Focusing.config({}),\n        Keying.config({\n          mode: 'execution',\n          useSpace: true,\n          useEnter: true\n        }),\n        Representing.config({\n          store: {\n            mode: 'memory',\n            initialValue: detail.value\n          }\n        })\n      ]),\n      domModification: detail.domModification\n    });\n    const TabButton = single({\n      name: 'TabButton',\n      configFields: [\n        defaulted('uid', undefined),\n        required$1('value'),\n        field$1('dom', 'dom', mergeWithThunk(() => ({\n          attributes: {\n            'role': 'tab',\n            'id': generate$6('aria'),\n            'aria-selected': 'false'\n          }\n        })), anyValue()),\n        option$3('action'),\n        defaulted('domModification', {}),\n        field('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        required$1('view')\n      ],\n      factory: factory$3\n    });\n\n    const schema$1 = constant$1([\n      required$1('tabs'),\n      required$1('dom'),\n      defaulted('clickToDismiss', false),\n      field('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers$1([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    const tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: barDetail => {\n        const dismissTab$1 = (tabbar, button) => {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar,\n            button\n          });\n        };\n        const changeTab$1 = (tabbar, button) => {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar,\n            button\n          });\n        };\n        return {\n          action: button => {\n            const tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            const activeButton = Highlighting.isHighlighted(tabbar, button);\n            const response = (() => {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            })();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    const parts$1 = constant$1([tabsPart]);\n\n    const factory$2 = (detail, components, _spec, _externals) => ({\n      'uid': detail.uid,\n      'dom': detail.dom,\n      components,\n      'debug.sketcher': 'Tabbar',\n      'domModification': { attributes: { role: 'tablist' } },\n      'behaviours': augment(detail.tabbarBehaviours, [\n        Highlighting.config({\n          highlightClass: detail.markers.selectedClass,\n          itemClass: detail.markers.tabClass,\n          onHighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'true');\n          },\n          onDehighlight: (tabbar, tab) => {\n            set$9(tab.element, 'aria-selected', 'false');\n          }\n        }),\n        Keying.config({\n          mode: 'flow',\n          getInitial: tabbar => {\n            return Highlighting.getHighlighted(tabbar).map(tab => tab.element);\n          },\n          selector: '.' + detail.markers.tabClass,\n          executeOnMove: true\n        })\n      ])\n    });\n    const Tabbar = composite({\n      name: 'Tabbar',\n      configFields: schema$1(),\n      partFields: parts$1(),\n      factory: factory$2\n    });\n\n    const factory$1 = (detail, _spec) => ({\n      uid: detail.uid,\n      dom: detail.dom,\n      behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n      domModification: { attributes: { role: 'tabpanel' } }\n    });\n    const Tabview = single({\n      name: 'Tabview',\n      configFields: [field('tabviewBehaviours', [Replacing])],\n      factory: factory$1\n    });\n\n    const schema = constant$1([\n      defaulted('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted('tabs', []),\n      field('tabSectionBehaviours', [])\n    ]);\n    const barPart = required({\n      factory: Tabbar,\n      schema: [\n        required$1('dom'),\n        requiredObjOf('markers', [\n          required$1('tabClass'),\n          required$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: detail => {\n        return { tabs: detail.tabs };\n      }\n    });\n    const viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    const parts = constant$1([\n      barPart,\n      viewPart\n    ]);\n\n    const factory = (detail, components, _spec, _externals) => {\n      const changeTab$1 = button => {\n        const tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(tabview => {\n          const tabWithValue = find$5(detail.tabs, t => t.value === tabValue);\n          tabWithValue.each(tabData => {\n            const panel = tabData.view();\n            getOpt(button.element, 'id').each(id => {\n              set$9(tabview.element, 'aria-labelledby', id);\n            });\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      const changeTabBy = (section, byPred) => {\n        getPart(section, detail, 'tabbar').each(tabbar => {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components,\n        behaviours: get$3(detail.tabSectionBehaviours),\n        events: derive$2(flatten([\n          detail.selectFirst ? [runOnAttached((section, _simulatedEvent) => {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run$1(changeTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              changeTab$1(button);\n            }),\n            run$1(dismissTab(), (section, simulatedEvent) => {\n              const button = simulatedEvent.event.button;\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: section => {\n            return getPart(section, detail, 'tabview').map(tabview => Replacing.contents(tabview)).getOr([]);\n          },\n          showTab: (section, tabKey) => {\n            const getTabIfNotActive = tabbar => {\n              const candidates = Highlighting.getCandidates(tabbar);\n              const optTab = find$5(candidates, c => Representing.getValue(c) === tabKey);\n              return optTab.filter(tab => !Highlighting.isHighlighted(tabbar, tab));\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    const TabSection = composite({\n      name: 'TabSection',\n      configFields: schema(),\n      partFields: parts(),\n      factory,\n      apis: {\n        getViewItems: (apis, component) => apis.getViewItems(component),\n        showTab: (apis, component, tabKey) => {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    const measureHeights = (allTabs, tabview, tabviewComp) => map$2(allTabs, (_tab, i) => {\n      Replacing.set(tabviewComp, allTabs[i].view());\n      const rect = tabview.dom.getBoundingClientRect();\n      Replacing.set(tabviewComp, []);\n      return rect.height;\n    });\n    const getMaxHeight = heights => head(sort(heights, (a, b) => {\n      if (a > b) {\n        return -1;\n      } else if (a < b) {\n        return +1;\n      } else {\n        return 0;\n      }\n    }));\n    const getMaxTabviewHeight = (dialog, tabview, tablist) => {\n      const documentElement$1 = documentElement(dialog).dom;\n      const rootElm = ancestor(dialog, '.tox-dialog-wrap').getOr(dialog);\n      const isFixed = get$e(rootElm, 'position') === 'fixed';\n      let maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(documentElement$1.clientHeight, window.innerHeight);\n      } else {\n        maxHeight = Math.max(documentElement$1.offsetHeight, documentElement$1.scrollHeight);\n      }\n      const tabviewHeight = get$d(tabview);\n      const isTabListBeside = tabview.dom.offsetLeft >= tablist.dom.offsetLeft + get$c(tablist);\n      const currentTabHeight = isTabListBeside ? Math.max(get$d(tablist), tabviewHeight) : tabviewHeight;\n      const dialogTopMargin = parseInt(get$e(dialog, 'margin-top'), 10) || 0;\n      const dialogBottomMargin = parseInt(get$e(dialog, 'margin-bottom'), 10) || 0;\n      const dialogHeight = get$d(dialog) + dialogTopMargin + dialogBottomMargin;\n      const chromeHeight = dialogHeight - currentTabHeight;\n      return maxHeight - chromeHeight;\n    };\n    const showTab = (allTabs, comp) => {\n      head(allTabs).each(tab => TabSection.showTab(comp, tab.value));\n    };\n    const setTabviewHeight = (tabview, height) => {\n      set$8(tabview, 'height', height + 'px');\n      set$8(tabview, 'flex-basis', height + 'px');\n    };\n    const updateTabviewHeight = (dialogBody, tabview, maxTabHeight) => {\n      ancestor(dialogBody, '[role=\"dialog\"]').each(dialog => {\n        descendant(dialog, '[role=\"tablist\"]').each(tablist => {\n          maxTabHeight.get().map(height => {\n            set$8(tabview, 'height', '0');\n            set$8(tabview, 'flex-basis', '0');\n            return Math.min(height, getMaxTabviewHeight(dialog, tabview, tablist));\n          }).each(height => {\n            setTabviewHeight(tabview, height);\n          });\n        });\n      });\n    };\n    const getTabview = dialog => descendant(dialog, '[role=\"tabpanel\"]');\n    const setMode = allTabs => {\n      const smartTabHeight = (() => {\n        const maxTabHeight = value$2();\n        const extraEvents = [\n          runOnAttached(comp => {\n            const dialog = comp.element;\n            getTabview(dialog).each(tabview => {\n              set$8(tabview, 'visibility', 'hidden');\n              comp.getSystem().getByDom(tabview).toOptional().each(tabviewComp => {\n                const heights = measureHeights(allTabs, tabview, tabviewComp);\n                const maxTabHeightOpt = getMaxHeight(heights);\n                maxTabHeightOpt.fold(maxTabHeight.clear, maxTabHeight.set);\n              });\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n              remove$6(tabview, 'visibility');\n              showTab(allTabs, comp);\n              requestAnimationFrame(() => {\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              });\n            });\n          }),\n          run$1(windowResize(), comp => {\n            const dialog = comp.element;\n            getTabview(dialog).each(tabview => {\n              updateTabviewHeight(dialog, tabview, maxTabHeight);\n            });\n          }),\n          run$1(formResizeEvent, (comp, _se) => {\n            const dialog = comp.element;\n            getTabview(dialog).each(tabview => {\n              const oldFocus = active$1(getRootNode(tabview));\n              set$8(tabview, 'visibility', 'hidden');\n              const oldHeight = getRaw(tabview, 'height').map(h => parseInt(h, 10));\n              remove$6(tabview, 'height');\n              remove$6(tabview, 'flex-basis');\n              const newHeight = tabview.dom.getBoundingClientRect().height;\n              const hasGrown = oldHeight.forall(h => newHeight > h);\n              if (hasGrown) {\n                maxTabHeight.set(newHeight);\n                updateTabviewHeight(dialog, tabview, maxTabHeight);\n              } else {\n                oldHeight.each(h => {\n                  setTabviewHeight(tabview, h);\n                });\n              }\n              remove$6(tabview, 'visibility');\n              oldFocus.each(focus$3);\n            });\n          })\n        ];\n        const selectFirst = false;\n        return {\n          extraEvents,\n          selectFirst\n        };\n      })();\n      const naiveTabHeight = (() => {\n        const extraEvents = [];\n        const selectFirst = true;\n        return {\n          extraEvents,\n          selectFirst\n        };\n      })();\n      return {\n        smartTabHeight,\n        naiveTabHeight\n      };\n    };\n\n    const SendDataToSectionChannel = 'send-data-to-section';\n    const SendDataToViewChannel = 'send-data-to-view';\n    const renderTabPanel = (spec, dialogData, backstage) => {\n      const storedValue = Cell({});\n      const updateDataWithForm = form => {\n        const formData = Representing.getValue(form);\n        const validData = toValidValues(formData).getOr({});\n        const currentData = storedValue.get();\n        const newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      const setDataOnForm = form => {\n        const tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      const oldTab = Cell(null);\n      const allTabs = map$2(spec.tabs, tab => {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item']\n          },\n          components: [text$1(backstage.shared.providers.translate(tab.title))],\n          view: () => {\n            return [Form.sketch(parts => ({\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-form']\n                },\n                components: map$2(tab.items, item => interpretInForm(parts, item, dialogData, backstage)),\n                formBehaviours: derive$1([\n                  Keying.config({\n                    mode: 'acyclic',\n                    useTabstopAt: not(isPseudoStop)\n                  }),\n                  config('TabView.form.events', [\n                    runOnAttached(setDataOnForm),\n                    runOnDetached(updateDataWithForm)\n                  ]),\n                  Receiving.config({\n                    channels: wrapAll([\n                      {\n                        key: SendDataToSectionChannel,\n                        value: { onReceive: updateDataWithForm }\n                      },\n                      {\n                        key: SendDataToViewChannel,\n                        value: { onReceive: setDataOnForm }\n                      }\n                    ])\n                  })\n                ])\n              }))];\n          }\n        };\n      });\n      const tabMode = setMode(allTabs).smartTabHeight;\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: (section, button, _viewItems) => {\n          const name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts.tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts.tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts.tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({ find: comp => head(TabSection.getViewItems(comp)) }),\n          RepresentingConfigs.withComp(Optional.none(), tsection => {\n            tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n            return storedValue.get();\n          }, (tsection, value) => {\n            storedValue.set(value);\n            tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n          })\n        ])\n      });\n    };\n\n    const dialogChannel = generate$6('update-dialog');\n    const titleChannel = generate$6('update-title');\n    const bodyChannel = generate$6('update-body');\n    const footerChannel = generate$6('update-footer');\n    const bodySendMessageChannel = generate$6('body-send-message');\n\n    const renderBody = (spec, dialogId, contentId, backstage, ariaAttrs) => {\n      const renderComponents = incoming => {\n        const body = incoming.body;\n        switch (body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(body, incoming.initialData, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(body, incoming.initialData, backstage)];\n          }\n        }\n      };\n      const updateState = (_comp, incoming) => Optional.some({ isTabPanel: () => incoming.body.type === 'tabpanel' });\n      const ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: {\n            ...contentId.map(x => ({ id: x })).getOr({}),\n            ...ariaAttrs ? ariaAttributes : {}\n          }\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: `${ bodyChannel }-${ dialogId }`,\n            updateState,\n            renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    const renderInlineBody = (spec, dialogId, contentId, backstage, ariaAttrs) => renderBody(spec, dialogId, Optional.some(contentId), backstage, ariaAttrs);\n    const renderModalBody = (spec, dialogId, backstage) => {\n      const bodySpec = renderBody(spec, dialogId, Optional.none(), backstage, false);\n      return ModalDialog.parts.body(bodySpec);\n    };\n    const renderIframeBody = spec => {\n      const bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts.body(bodySpec);\n    };\n\n    const isTouch = global$5.deviceType.isTouch();\n    const hiddenHeader = (title, close) => ({\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      },\n      components: [\n        title,\n        close\n      ]\n    });\n    const pClose = (onClose, providersBackstage) => ModalDialog.parts.close(Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close')\n        }\n      },\n      action: onClose,\n      buttonBehaviours: derive$1([Tabstopping.config({})])\n    }));\n    const pUntitled = () => ModalDialog.parts.title({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__title'],\n        innerHtml: '',\n        styles: { display: 'none' }\n      }\n    });\n    const pBodyMessage = (message, providersBackstage) => ModalDialog.parts.body({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__body']\n      },\n      components: [{\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-content']\n          },\n          components: [{ dom: fromHtml(`<p>${ providersBackstage.translate(message) }</p>`) }]\n        }]\n    });\n    const pFooter = buttons => ModalDialog.parts.footer({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__footer']\n      },\n      components: buttons\n    });\n    const pFooterGroup = (startButtons, endButtons) => [\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-start']\n        },\n        components: startButtons\n      }),\n      Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer-end']\n        },\n        components: endButtons\n      })\n    ];\n    const renderDialog$1 = spec => {\n      const dialogClass = 'tox-dialog';\n      const blockerClass = dialogClass + '-wrap';\n      const blockerBackdropClass = blockerClass + '__backdrop';\n      const scrollLockClass = dialogClass + '__disable-scroll';\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: comp => {\n          spec.onEscape(comp);\n          return Optional.some(true);\n        },\n        useTabstopAt: elem => !isPseudoStop(elem),\n        dom: {\n          tag: 'div',\n          classes: [dialogClass].concat(spec.extraClasses),\n          styles: {\n            position: 'relative',\n            ...spec.extraStyles\n          }\n        },\n        components: [\n          spec.header,\n          spec.body,\n          ...spec.footer.toArray()\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml(`<div class=\"${ blockerClass }\"></div>`),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch ? [\n                    blockerBackdropClass,\n                    blockerBackdropClass + '--opaque'\n                  ] : [blockerBackdropClass]\n                }\n              }]\n          }\n        },\n        dragBlockClass: blockerClass,\n        modalBehaviours: derive$1([\n          Focusing.config({}),\n          config('dialog-events', spec.dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(() => {\n              add$2(body(), scrollLockClass);\n            }),\n            runOnDetached(() => {\n              remove$2(body(), scrollLockClass);\n            })\n          ]),\n          ...spec.extraBehaviours\n        ]),\n        eventOrder: {\n          [execute$5()]: ['dialog-events'],\n          [attachedToDom()]: [\n            'scroll-lock',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'scroll-lock'\n          ],\n          ...spec.eventOrder\n        }\n      });\n    };\n\n    const renderClose = providersBackstage => Button.sketch({\n      dom: {\n        tag: 'button',\n        classes: [\n          'tox-button',\n          'tox-button--icon',\n          'tox-button--naked'\n        ],\n        attributes: {\n          'type': 'button',\n          'aria-label': providersBackstage.translate('Close'),\n          'title': providersBackstage.translate('Close')\n        }\n      },\n      components: [render$3('close', {\n          tag: 'div',\n          classes: ['tox-icon']\n        }, providersBackstage.icons)],\n      action: comp => {\n        emit(comp, formCancelEvent);\n      }\n    });\n    const renderTitle = (spec, dialogId, titleId, providersBackstage) => {\n      const renderComponents = data => [text$1(providersBackstage.translate(data.title))];\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: { ...titleId.map(x => ({ id: x })).getOr({}) }\n        },\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ titleChannel }-${ dialogId }`,\n            initialData: spec,\n            renderComponents\n          })])\n      };\n    };\n    const renderDragHandle = () => ({ dom: fromHtml('<div class=\"tox-dialog__draghandle\"></div>') });\n    const renderInlineHeader = (spec, dialogId, titleId, providersBackstage) => Container.sketch({\n      dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n      components: [\n        renderTitle(spec, dialogId, Optional.some(titleId), providersBackstage),\n        renderDragHandle(),\n        renderClose(providersBackstage)\n      ],\n      containerBehaviours: derive$1([Dragging.config({\n          mode: 'mouse',\n          blockerClass: 'blocker',\n          getTarget: handle => {\n            return closest$1(handle, '[role=\"dialog\"]').getOrDie();\n          },\n          snaps: {\n            getSnapPoints: () => [],\n            leftAttr: 'data-drag-left',\n            topAttr: 'data-drag-top'\n          }\n        })])\n    });\n    const renderModalHeader = (spec, dialogId, providersBackstage) => {\n      const pTitle = ModalDialog.parts.title(renderTitle(spec, dialogId, Optional.none(), providersBackstage));\n      const pHandle = ModalDialog.parts.draghandle(renderDragHandle());\n      const pClose = ModalDialog.parts.close(renderClose(providersBackstage));\n      const components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml('<div class=\"tox-dialog__header\"></div>'),\n        components\n      });\n    };\n\n    const getHeader = (title, dialogId, backstage) => renderModalHeader({\n      title: backstage.shared.providers.translate(title),\n      draggable: backstage.dialog.isDraggableModal()\n    }, dialogId, backstage.shared.providers);\n    const getBusySpec = (message, bs, providers) => ({\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__busy-spinner'],\n        attributes: { 'aria-label': providers.translate(message) },\n        styles: {\n          left: '0px',\n          right: '0px',\n          bottom: '0px',\n          top: '0px',\n          position: 'absolute'\n        }\n      },\n      behaviours: bs,\n      components: [{ dom: fromHtml('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n    });\n    const getEventExtras = (lazyDialog, providers, extra) => ({\n      onClose: () => extra.closeWindow(),\n      onBlock: blockEvent => {\n        ModalDialog.setBusy(lazyDialog(), (_comp, bs) => getBusySpec(blockEvent.message, bs, providers));\n      },\n      onUnblock: () => {\n        ModalDialog.setIdle(lazyDialog());\n      }\n    });\n    const renderModalDialog = (spec, initialData, dialogEvents, backstage) => {\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      return build$1(renderDialog$1({\n        ...spec,\n        lazySink: backstage.shared.getSink,\n        extraBehaviours: [\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ spec.id }`,\n            updateState,\n            initialData\n          }),\n          RepresentingConfigs.memory({}),\n          ...spec.extraBehaviours\n        ],\n        onEscape: comp => {\n          emit(comp, formCancelEvent);\n        },\n        dialogEvents,\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [attachedToDom()]: [\n            'scroll-lock',\n            Reflecting.name(),\n            'messages',\n            'dialog-events',\n            'alloy.base.behaviour'\n          ],\n          [detachedFromDom()]: [\n            'alloy.base.behaviour',\n            'dialog-events',\n            'messages',\n            Reflecting.name(),\n            'scroll-lock'\n          ]\n        }\n      }));\n    };\n    const mapMenuButtons = buttons => {\n      const mapItems = button => {\n        const items = map$2(button.items, item => {\n          const cell = Cell(false);\n          return {\n            ...item,\n            storage: cell\n          };\n        });\n        return {\n          ...button,\n          items\n        };\n      };\n      return map$2(buttons, button => {\n        if (button.type === 'menu') {\n          return mapItems(button);\n        }\n        return button;\n      });\n    };\n    const extractCellsToObject = buttons => foldl(buttons, (acc, button) => {\n      if (button.type === 'menu') {\n        const menuButton = button;\n        return foldl(menuButton.items, (innerAcc, item) => {\n          innerAcc[item.name] = item.storage;\n          return innerAcc;\n        }, acc);\n      }\n      return acc;\n    }, {});\n\n    const initCommonEvents = (fireApiEvent, extras) => [\n      runWithTarget(focusin(), onFocus),\n      fireApiEvent(formCloseEvent, (_api, spec) => {\n        extras.onClose();\n        spec.onClose();\n      }),\n      fireApiEvent(formCancelEvent, (api, spec, _event, self) => {\n        spec.onCancel(api);\n        emit(self, formCloseEvent);\n      }),\n      run$1(formUnblockEvent, (_c, _se) => extras.onUnblock()),\n      run$1(formBlockEvent, (_c, se) => extras.onBlock(se.event))\n    ];\n    const initUrlDialog = (getInstanceApi, extras) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialog => {\n          f(currentDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formActionEvent, (api, spec, event) => {\n          spec.onAction(api, { name: event.name });\n        })\n      ];\n    };\n    const initDialog = (getInstanceApi, extras, getSink) => {\n      const fireApiEvent = (eventName, f) => run$1(eventName, (c, se) => {\n        withSpec(c, (spec, _c) => {\n          f(getInstanceApi(), spec, se.event, c);\n        });\n      });\n      const withSpec = (c, f) => {\n        Reflecting.getState(c).get().each(currentDialogInit => {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return [\n        ...initCommonEvents(fireApiEvent, extras),\n        fireApiEvent(formSubmitEvent, (api, spec) => spec.onSubmit(api)),\n        fireApiEvent(formChangeEvent, (api, spec, event) => {\n          spec.onChange(api, { name: event.name });\n        }),\n        fireApiEvent(formActionEvent, (api, spec, event, component) => {\n          const focusIn = () => Keying.focusIn(component);\n          const isDisabled = focused => has$1(focused, 'disabled') || getOpt(focused, 'aria-disabled').exists(val => val === 'true');\n          const rootNode = getRootNode(component.element);\n          const current = active$1(rootNode);\n          spec.onAction(api, {\n            name: event.name,\n            value: event.value\n          });\n          active$1(rootNode).fold(focusIn, focused => {\n            if (isDisabled(focused)) {\n              focusIn();\n            } else if (current.exists(cur => contains(focused, cur) && isDisabled(cur))) {\n              focusIn();\n            } else {\n              getSink().toOptional().filter(sink => !contains(sink.element, focused)).each(focusIn);\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, (api, spec, event) => {\n          spec.onTabChange(api, {\n            newTabName: event.name,\n            oldTabName: event.oldName\n          });\n        }),\n        runOnDetached(component => {\n          const api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ];\n    };\n    const SilverDialogEvents = {\n      initUrlDialog,\n      initDialog\n    };\n\n    const makeButton = (button, backstage) => renderFooterButton(button, button.type, backstage);\n    const lookup = (compInSystem, footerButtons, buttonName) => find$5(footerButtons, button => button.name === buttonName).bind(memButton => memButton.memento.getOpt(compInSystem));\n    const renderComponents = (_data, state) => {\n      const footerButtons = state.map(s => s.footerButtons).getOr([]);\n      const buttonGroups = partition$3(footerButtons, button => button.align === 'start');\n      const makeGroup = (edge, buttons) => Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [`tox-dialog__footer-${ edge }`]\n        },\n        components: map$2(buttons, button => button.memento.asSpec())\n      });\n      const startButtons = makeGroup('start', buttonGroups.pass);\n      const endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    const renderFooter = (initSpec, dialogId, backstage) => {\n      const updateState = (comp, data) => {\n        const footerButtons = map$2(data.buttons, button => {\n          const memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        const lookupByName = buttonName => lookup(comp, footerButtons, buttonName);\n        return Optional.some({\n          lookupByName,\n          footerButtons\n        });\n      };\n      return {\n        dom: fromHtml('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: `${ footerChannel }-${ dialogId }`,\n            initialData: initSpec,\n            updateState,\n            renderComponents\n          })])\n      };\n    };\n    const renderInlineFooter = (initSpec, dialogId, backstage) => renderFooter(initSpec, dialogId, backstage);\n    const renderModalFooter = (initSpec, dialogId, backstage) => ModalDialog.parts.footer(renderFooter(initSpec, dialogId, backstage));\n\n    const getCompByName = (access, name) => {\n      const root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        const form = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form, name).orThunk(() => {\n          const footer = access.getFooter();\n          const footerState = Reflecting.getState(footer).get();\n          return footerState.bind(f => f.lookupByName(name));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const validateData$1 = (access, data) => {\n      const root = access.getRoot();\n      return Reflecting.getState(root).get().map(dialogState => getOrDie(asRaw('data', dialogState.dataValidator, data))).getOr(data);\n    };\n    const getDialogApi = (access, doRedial, menuItemStates) => {\n      const withRoot = f => {\n        const root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const getData = () => {\n        const root = access.getRoot();\n        const valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        const representedValues = Representing.getValue(valueComp);\n        const menuItemCurrentState = map$1(menuItemStates, cell => cell.get());\n        return {\n          ...representedValues,\n          ...menuItemCurrentState\n        };\n      };\n      const setData = newData => {\n        withRoot(_ => {\n          const prevData = instanceApi.getData();\n          const mergedData = deepMerge(prevData, newData);\n          const newInternalData = validateData$1(access, mergedData);\n          const form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each(menuItemStates, (v, k) => {\n            if (has$2(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      const setEnabled = (name, state) => {\n        getCompByName(access, name).each(state ? Disabling.enable : Disabling.disable);\n      };\n      const focus = name => {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const showTab = name => {\n        withRoot(_ => {\n          const body = access.getBody();\n          const bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(b => b.isTabPanel())) {\n            Composing.getCurrent(body).each(tabSection => {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      const redial = d => {\n        withRoot(root => {\n          const id = access.getId();\n          const dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([`${ dialogChannel }-${ id }`], dialogInit);\n          root.getSystem().broadcastOn([`${ titleChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ bodyChannel }-${ id }`], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([`${ footerChannel }-${ id }`], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const instanceApi = {\n        getData,\n        setData,\n        setEnabled,\n        focus,\n        block,\n        unblock,\n        showTab,\n        redial,\n        close\n      };\n      return instanceApi;\n    };\n\n    const getDialogSizeClasses = size => {\n      switch (size) {\n      case 'large':\n        return ['tox-dialog--width-lg'];\n      case 'medium':\n        return ['tox-dialog--width-md'];\n      default:\n        return [];\n      }\n    };\n    const renderDialog = (dialogInit, extra, backstage) => {\n      const dialogId = generate$6('dialog');\n      const internalDialog = dialogInit.internalDialog;\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderModalBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, backstage);\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const footer = renderModalFooter({ buttons: storagedMenuButtons }, dialogId, backstage);\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra), backstage.shared.getSink);\n      const dialogSize = getDialogSizeClasses(internalDialog.size);\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer: Optional.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      const dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      const modalAccess = (() => {\n        const getForm = () => {\n          const outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getId: constant$1(dialogId),\n          getRoot: constant$1(dialog),\n          getBody: () => ModalDialog.getBody(dialog),\n          getFooter: () => ModalDialog.getFooter(dialog),\n          getFormWrapper: getForm\n        };\n      })();\n      const instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const renderInlineDialog = (dialogInit, extra, backstage, ariaAttrs) => {\n      const dialogId = generate$6('dialog');\n      const dialogLabelId = generate$6('dialog-label');\n      const dialogContentId = generate$6('dialog-content');\n      const internalDialog = dialogInit.internalDialog;\n      const updateState = (_comp, incoming) => Optional.some(incoming);\n      const memHeader = record(renderInlineHeader({\n        title: internalDialog.title,\n        draggable: true\n      }, dialogId, dialogLabelId, backstage.shared.providers));\n      const memBody = record(renderInlineBody({\n        body: internalDialog.body,\n        initialData: internalDialog.initialData\n      }, dialogId, dialogContentId, backstage, ariaAttrs));\n      const storagedMenuButtons = mapMenuButtons(internalDialog.buttons);\n      const objOfCells = extractCellsToObject(storagedMenuButtons);\n      const memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, dialogId, backstage));\n      const dialogEvents = SilverDialogEvents.initDialog(() => instanceApi, {\n        onBlock: event => {\n          Blocking.block(dialog, (_comp, bs) => getBusySpec(event.message, bs, backstage.shared.providers));\n        },\n        onUnblock: () => {\n          Blocking.unblock(dialog);\n        },\n        onClose: () => extra.closeWindow()\n      }, backstage.shared.getSink);\n      const dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: {\n            role: 'dialog',\n            ['aria-labelledby']: dialogLabelId,\n            ['aria-describedby']: dialogContentId\n          }\n        },\n        eventOrder: {\n          [receive()]: [\n            Reflecting.name(),\n            Receiving.name()\n          ],\n          [execute$5()]: ['execute-on-form'],\n          [attachedToDom()]: [\n            'reflecting',\n            'execute-on-form'\n          ]\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: c => {\n              emit(c, formCloseEvent);\n              return Optional.some(true);\n            },\n            useTabstopAt: elem => !isPseudoStop(elem) && (name$3(elem) !== 'button' || get$f(elem, 'disabled') !== 'disabled')\n          }),\n          Reflecting.config({\n            channel: `${ dialogChannel }-${ dialogId }`,\n            updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), (comp, _se) => {\n              Keying.focusIn(comp);\n            })])),\n          Blocking.config({ getRoot: () => Optional.some(dialog) }),\n          Replacing.config({}),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      const instanceApi = getDialogApi({\n        getId: constant$1(dialogId),\n        getRoot: constant$1(dialog),\n        getFooter: () => memFooter.get(dialog),\n        getBody: () => memBody.get(dialog),\n        getFormWrapper: () => {\n          const body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const getUrlDialogApi = root => {\n      const withRoot = f => {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      const block = message => {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(root => {\n          emitWith(root, formBlockEvent, { message });\n        });\n      };\n      const unblock = () => {\n        withRoot(root => {\n          emit(root, formUnblockEvent);\n        });\n      };\n      const close = () => {\n        withRoot(root => {\n          emit(root, formCloseEvent);\n        });\n      };\n      const sendMessage = data => {\n        withRoot(root => {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block,\n        unblock,\n        close,\n        sendMessage\n      };\n    };\n\n    const SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    const isSupportedMessage = data => isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    const isCustomMessage = data => !isSupportedMessage(data) && isObject(data) && has$2(data, 'mceAction');\n    const handleMessage = (editor, api, data) => {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        const ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    const renderUrlDialog = (internalDialog, extra, editor, backstage) => {\n      const dialogId = generate$6('dialog');\n      const header = getHeader(internalDialog.title, dialogId, backstage);\n      const body = renderIframeBody(internalDialog);\n      const footer = internalDialog.buttons.bind(buttons => {\n        if (buttons.length === 0) {\n          return Optional.none();\n        } else {\n          return Optional.some(renderModalFooter({ buttons }, dialogId, backstage));\n        }\n      });\n      const dialogEvents = SilverDialogEvents.initUrlDialog(() => instanceApi, getEventExtras(() => dialog, backstage.shared.providers, extra));\n      const styles = {\n        ...internalDialog.height.fold(() => ({}), height => ({\n          'height': height + 'px',\n          'max-height': height + 'px'\n        })),\n        ...internalDialog.width.fold(() => ({}), width => ({\n          'width': width + 'px',\n          'max-width': width + 'px'\n        }))\n      };\n      const classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      const iframeUri = new global(internalDialog.url, { base_uri: new global(window.location.href) });\n      const iframeDomain = `${ iframeUri.protocol }://${ iframeUri.host }${ iframeUri.port ? ':' + iframeUri.port : '' }`;\n      const messageHandlerUnbinder = unbindable();\n      const extraBehaviours = [\n        config('messages', [\n          runOnAttached(() => {\n            const unbind = bind(SugarElement.fromDom(window), 'message', e => {\n              if (iframeUri.isSameOrigin(new global(e.raw.origin))) {\n                const data = e.raw.data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(unbind);\n          }),\n          runOnDetached(messageHandlerUnbinder.clear)\n        ]),\n        Receiving.config({\n          channels: {\n            [bodySendMessageChannel]: {\n              onReceive: (comp, data) => {\n                descendant(comp.element, 'iframe').each(iframeEle => {\n                  const iframeWin = iframeEle.dom.contentWindow;\n                  iframeWin.postMessage(data, iframeDomain);\n                });\n              }\n            }\n          }\n        })\n      ];\n      const spec = {\n        id: dialogId,\n        header,\n        body,\n        footer,\n        extraClasses: classes,\n        extraBehaviours,\n        extraStyles: styles\n      };\n      const dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      const instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog,\n        instanceApi\n      };\n    };\n\n    const setup$2 = extras => {\n      const sharedBackstage = extras.backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = () => {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        const memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage));\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(closeDialog, sharedBackstage.providers);\n        const alertDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [memFooterClose.asSpec()]))),\n          onEscape: closeDialog,\n          extraClasses: ['tox-alert-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [run$1(formCancelEvent, closeDialog)],\n          eventOrder: {}\n        }));\n        ModalDialog.show(alertDialog);\n        const footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open };\n    };\n\n    const setup$1 = extras => {\n      const sharedBackstage = extras.backstage.shared;\n      const open = (message, callback) => {\n        const closeDialog = state => {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        const memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          buttonType: Optional.some('primary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'submit', extras.backstage));\n        const footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: false,\n          buttonType: Optional.some('secondary'),\n          align: 'end',\n          enabled: true,\n          icon: Optional.none()\n        }, 'cancel', extras.backstage);\n        const titleSpec = pUntitled();\n        const closeSpec = pClose(() => closeDialog(false), sharedBackstage.providers);\n        const confirmDialog = build$1(renderDialog$1({\n          lazySink: () => sharedBackstage.getSink(),\n          header: hiddenHeader(titleSpec, closeSpec),\n          body: pBodyMessage(message, sharedBackstage.providers),\n          footer: Optional.some(pFooter(pFooterGroup([], [\n            footerNo,\n            memFooterYes.asSpec()\n          ]))),\n          onEscape: () => closeDialog(false),\n          extraClasses: ['tox-confirm-dialog'],\n          extraBehaviours: [],\n          extraStyles: {},\n          dialogEvents: [\n            run$1(formCancelEvent, () => closeDialog(false)),\n            run$1(formSubmitEvent, () => closeDialog(true))\n          ],\n          eventOrder: {}\n        }));\n        ModalDialog.show(confirmDialog);\n        const footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open };\n    };\n\n    const validateData = (data, validator) => getOrDie(asRaw('data', validator, data));\n    const isAlertOrConfirmDialog = target => closest(target, '.tox-alert-dialog') || closest(target, '.tox-confirm-dialog');\n    const inlineAdditionalBehaviours = (editor, isStickyToolbar, isToolbarLocationTop) => {\n      if (isStickyToolbar && isToolbarLocationTop) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: () => Optional.some(box$1(SugarElement.fromDom(editor.getContentAreaContainer()))),\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            modes: ['top']\n          })];\n      }\n    };\n    const setup = extras => {\n      const backstage = extras.backstage;\n      const editor = extras.editor;\n      const isStickyToolbar$1 = isStickyToolbar(editor);\n      const alertDialog = setup$2(extras);\n      const confirmDialog = setup$1(extras);\n      const open = (config, params, closeWindow) => {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.inlineDialog(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      const openUrl = (config, closeWindow) => openModalUrlDialog(config, closeWindow);\n      const openModalUrlDialog = (config, closeWindow) => {\n        const factory = contents => {\n          const dialog = renderUrlDialog(contents, {\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      const openModalDialog = (config, closeWindow) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = internalInitialData;\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      const openInlineDialog = (config$1, anchor, closeWindow, ariaAttrs) => {\n        const factory = (contents, internalInitialData, dataValidator) => {\n          const initialData = validateData(internalInitialData, dataValidator);\n          const inlineDialog = value$2();\n          const isToolbarLocationTop = backstage.shared.header.isPositionedAtTop();\n          const dialogInit = {\n            dataValidator,\n            initialData,\n            internalDialog: contents\n          };\n          const refreshDocking = () => inlineDialog.on(dialog => {\n            InlineView.reposition(dialog);\n            Docking.refresh(dialog);\n          });\n          const dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: () => {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          const inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {},\n            ...isToolbarLocationTop ? {} : { fireRepositionEventInstead: {} },\n            inlineBehaviours: derive$1([\n              config('window-manager-inline-events', [run$1(dismissRequested(), (_comp, _se) => {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })]),\n              ...inlineAdditionalBehaviours(editor, isStickyToolbar$1, isToolbarLocationTop)\n            ]),\n            isExtraPart: (_comp, target) => isAlertOrConfirmDialog(target)\n          }));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, premade(dialogUi.dialog), { anchor }, Optional.some(body()));\n          if (!isStickyToolbar$1 || !isToolbarLocationTop) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      const confirm = (message, callback) => {\n        confirmDialog.open(message, state => {\n          callback(state);\n        });\n      };\n      const alert = (message, callback) => {\n        alertDialog.open(message, () => {\n          callback();\n        });\n      };\n      const close = instanceApi => {\n        instanceApi.close();\n      };\n      return {\n        open,\n        openUrl,\n        alert,\n        close,\n        confirm\n      };\n    };\n\n    const registerOptions = editor => {\n      register$e(editor);\n      register$d(editor);\n      register(editor);\n    };\n    var Theme = () => {\n      global$a.add('silver', editor => {\n        registerOptions(editor);\n        const {getUiMothership, backstage, renderUI} = setup$3(editor);\n        Autocompleter.register(editor, backstage.shared);\n        const windowMgr = setup({\n          editor,\n          backstage\n        });\n        return {\n          renderUI,\n          getWindowManagerImpl: constant$1(windowMgr),\n          getNotificationManagerImpl: () => NotificationManagerImpl(editor, { backstage }, getUiMothership())\n        };\n      });\n    };\n\n    Theme();\n\n})();\n","// Exports the \"dom\" model for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/models/dom')\n//   ES2015:\n//     import 'tinymce/models/dom'\nrequire('./model.js');","/**\n * TinyMCE version 6.0.3 (2022-05-25)\n */\n\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.ModelManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$2 = t => a => t === a;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isNull = eq$2(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply = f => {\n      return f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range$1 = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map$1 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$2 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$2 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$2(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$1 = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const findIndex = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$2 = (xs, f) => flatten(map$1(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort$1 = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$d = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$d(xs, 0);\n    const last$2 = xs => get$d(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$c = (obj, key) => {\n      return has$1(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$1 = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$1(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const isEmpty = r => {\n      for (const x in r) {\n        if (hasOwnProperty.call(r, x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const setOptions = (element, attrs) => {\n      each$1(attrs, (v, k) => {\n        v.fold(() => {\n          remove$7(element, k);\n        }, value => {\n          rawSet(element.dom, k, value);\n        });\n      });\n    };\n    const get$b = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$b(element, key));\n    const remove$7 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone$2 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$1 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint: fromPoint$1\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$1(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq$1 = (e1, e2) => e1.dom === e2.dom;\n    const contains$1 = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is$1 = is$2;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$2 = element => map$1(element.dom.childNodes, SugarElement.fromDom);\n    const child$2 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$2(element, 0);\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$5 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const appendAt = (parent, element, index) => {\n      child$2(parent, index).fold(() => {\n        append$1(parent, element);\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const wrap = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$4 = (marker, elements) => {\n      each$2(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$5(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$2(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$2(children$2(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$2(wrapper);\n      if (children.length > 0) {\n        after$4(wrapper, children);\n      }\n      remove$6(wrapper);\n    };\n\n    const clone$1 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow = original => clone$1(original, false);\n    const deep = original => clone$1(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$2(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const copy$2 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      const cloneChildren = children$2(deep(original));\n      append(nu, cloneChildren);\n      return nu;\n    };\n    const mutate$1 = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$5(original, nu);\n      const children = children$2(original);\n      append(nu, children);\n      remove$6(original);\n      return nu;\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains$2(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const address = (row, column) => ({\n      row,\n      column\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const detailnew = (element, rowspan, colspan, isNew) => ({\n      element,\n      rowspan,\n      colspan,\n      isNew\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const rowdetailnew = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const elementnew = (element, isNew, isLocked) => ({\n      element,\n      isNew,\n      isLocked\n    });\n    const rowcells = (element, cells, section, isNew) => ({\n      element,\n      cells,\n      section,\n      isNew\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported$1 = constant(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported$1() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n    const body$1 = () => getBody$1(SugarElement.fromDom(document));\n    const getBody$1 = doc => {\n      const b = doc.dom.body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const ancestors$4 = (scope, predicate, isRoot) => filter$2(parents(scope, isRoot), predicate);\n    const children$1 = (scope, predicate) => filter$2(children$2(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$2(children$2(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const ancestors$3 = (scope, selector, isRoot) => ancestors$4(scope, e => is$2(e, selector), isRoot);\n    const children = (scope, selector) => children$1(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$2 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$2, scope, predicate, isRoot);\n    };\n    const child$1 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$1(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$1 = (scope, selector, isRoot) => ancestor$2(scope, e => is$2(e, selector), isRoot);\n    const child = (scope, selector) => child$1(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$1 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const bindFrom = (a, f) => a !== undefined && a !== null ? f(a) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const contains = (str, substr) => {\n      return str.indexOf(substr) !== -1;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$1(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$a = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw$2 = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$5 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$7(element, 'style');\n      }\n    };\n    const copy$1 = (source, target) => {\n      const sourceDom = source.dom;\n      const targetDom = target.dom;\n      if (isSupported(sourceDom) && isSupported(targetDom)) {\n        targetDom.style.cssText = sourceDom.style.cssText;\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n    const getSpan = (cell, type) => getAttrValue(cell, type, 1);\n    const hasColspan = cellOrCol => {\n      if (isTag('col')(cellOrCol)) {\n        return getAttrValue(cellOrCol, 'span', 1) > 1;\n      } else {\n        return getSpan(cellOrCol, 'colspan') > 1;\n      }\n    };\n    const hasRowspan = cell => getSpan(cell, 'rowspan') > 1;\n    const getCssValue = (element, property) => parseInt(get$a(element, property), 10);\n    const minWidth = constant(10);\n    const minHeight = constant(10);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$2(children$2(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor$1(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells$1 = ancestor => firstLayer(ancestor, 'th,td');\n    const columns$1 = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children(ancestor, 'col');\n      } else {\n        return bind$2(columnGroups(ancestor), columnGroup => children(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest$1(element, 'table', isRoot);\n    const rows$1 = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map$1(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map$1(columns$1(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells = map$1(cells$1(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows = rows$1(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n    const fromPastedRows = (elems, section) => fromRowsOrColGroups(elems, () => section);\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$2(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$2(0, 0);\n    };\n    const nu$2 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$2,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$1(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$1(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains(uastring, 'edge/') && contains(uastring, 'chrome') && contains(uastring, 'safari') && contains(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains(uastring, 'chrome') && !contains(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains(uastring, 'msie') || contains(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains(uastring, 'safari') || contains(uastring, 'mobile/')) && contains(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains(uastring, 'iphone') || contains(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform();\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$a(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$a(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$a(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getHeight$1 = element => getProp(element, 'height', element.dom.offsetHeight);\n    const getWidth = element => getProp(element, 'width', element.dom.offsetWidth);\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const api$2 = Dimension('width', element => element.dom.offsetWidth);\n    const get$9 = element => api$2.get(element);\n    const getOuter$2 = element => api$2.getOuter(element);\n    const getInner = getInnerWidth;\n    const getRuntime$1 = getWidth;\n\n    const addCells = (gridRow, index, cells) => {\n      const existingCells = gridRow.cells;\n      const before = existingCells.slice(0, index);\n      const after = existingCells.slice(index);\n      const newCells = before.concat(cells).concat(after);\n      return setCells(gridRow, newCells);\n    };\n    const addCell = (gridRow, index, cell) => addCells(gridRow, index, [cell]);\n    const mutateCell = (gridRow, index, cell) => {\n      const cells = gridRow.cells;\n      cells[index] = cell;\n    };\n    const setCells = (gridRow, cells) => rowcells(gridRow.element, cells, gridRow.section, gridRow.isNew);\n    const mapCells = (gridRow, f) => {\n      const cells = gridRow.cells;\n      const r = map$1(cells, f);\n      return rowcells(gridRow.element, r, gridRow.section, gridRow.isNew);\n    };\n    const getCell = (gridRow, index) => gridRow.cells[index];\n    const getCellElement = (gridRow, index) => getCell(gridRow, index).element;\n    const cellLength = gridRow => gridRow.cells.length;\n    const extractGridDetails = grid => {\n      const result = partition(grid, row => row.section === 'colgroup');\n      return {\n        rows: result.fail,\n        cols: result.pass\n      };\n    };\n    const clone = (gridRow, cloneRow, cloneCell) => {\n      const newCells = map$1(gridRow.cells, cloneCell);\n      return rowcells(cloneRow(gridRow.element), newCells, gridRow.section, true);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n    const getLockedColumnsFromGrid = grid => {\n      const locked = foldl(extractGridDetails(grid).rows, (acc, row) => {\n        each$2(row.cells, (cell, idx) => {\n          if (cell.isLocked) {\n            acc[idx] = true;\n          }\n        });\n        return acc;\n      }, {});\n      const lockedArr = mapToArray(locked, (_val, key) => parseInt(key, 10));\n      return sort$1(lockedArr);\n    };\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind$2(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter$2(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each$2(rowData.cells, column => {\n        const colspan = column.colspan;\n        range$1(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each$2(rows, rowData => {\n        const currentRow = [];\n        each$2(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last$2(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind$2(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    const columns = (warehouse, isValidCell = always) => {\n      const grid = warehouse.grid;\n      const cols = range$1(grid.columns, identity);\n      const rowsArr = range$1(grid.rows, identity);\n      return map$1(cols, col => {\n        const getBlock = () => bind$2(rowsArr, r => Warehouse.getAt(warehouse, r, col).filter(detail => detail.column === col).toArray());\n        const isValid = detail => detail.colspan === 1 && isValidCell(detail.element);\n        const getFallback = () => Warehouse.getAt(warehouse, 0, col);\n        return decide(getBlock, isValid, getFallback);\n      });\n    };\n    const decide = (getBlock, isValid, getFallback) => {\n      const inBlock = getBlock();\n      const validInBlock = find$1(inBlock, isValid);\n      const detailOption = validInBlock.orThunk(() => Optional.from(inBlock[0]).orThunk(getFallback));\n      return detailOption.map(detail => detail.element);\n    };\n    const rows = warehouse => {\n      const grid = warehouse.grid;\n      const rowsArr = range$1(grid.rows, identity);\n      const cols = range$1(grid.columns, identity);\n      return map$1(rowsArr, row => {\n        const getBlock = () => bind$2(cols, c => Warehouse.getAt(warehouse, row, c).filter(detail => detail.row === row).fold(constant([]), detail => [detail]));\n        const isSingle = detail => detail.rowspan === 1;\n        const getFallback = () => Warehouse.getAt(warehouse, row, 0);\n        return decide(getBlock, isSingle, getFallback);\n      });\n    };\n\n    const deduce = (xs, index) => {\n      if (index < 0 || index >= xs.length - 1) {\n        return Optional.none();\n      }\n      const current = xs[index].fold(() => {\n        const rest = reverse(xs.slice(0, index));\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, c => Optional.some({\n        value: c,\n        delta: 0\n      }));\n      const next = xs[index + 1].fold(() => {\n        const rest = xs.slice(index + 1);\n        return findMap(rest, (a, i) => a.map(aa => ({\n          value: aa,\n          delta: i + 1\n        })));\n      }, n => Optional.some({\n        value: n,\n        delta: 1\n      }));\n      return current.bind(c => next.map(n => {\n        const extras = n.delta + c.delta;\n        return Math.abs(n.value - c.value) / extras;\n      }));\n    };\n\n    const onDirection = (isLtr, isRtl) => element => getDirection(element) === 'rtl' ? isRtl : isLtr;\n    const getDirection = element => get$a(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n\n    const api$1 = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$8 = element => api$1.get(element);\n    const getOuter$1 = element => api$1.getOuter(element);\n    const getRuntime = getHeight$1;\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const rowInfo = (row, y) => ({\n      row,\n      y\n    });\n    const colInfo = (col, x) => ({\n      col,\n      x\n    });\n    const rtlEdge = cell => {\n      const pos = absolute(cell);\n      return pos.left + getOuter$2(cell);\n    };\n    const ltrEdge = cell => {\n      return absolute(cell).left;\n    };\n    const getLeftEdge = (index, cell) => {\n      return colInfo(index, ltrEdge(cell));\n    };\n    const getRightEdge = (index, cell) => {\n      return colInfo(index, rtlEdge(cell));\n    };\n    const getTop$1 = cell => {\n      return absolute(cell).top;\n    };\n    const getTopEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell));\n    };\n    const getBottomEdge = (index, cell) => {\n      return rowInfo(index, getTop$1(cell) + getOuter$1(cell));\n    };\n    const findPositions = (getInnerEdge, getOuterEdge, array) => {\n      if (array.length === 0) {\n        return [];\n      }\n      const lines = map$1(array.slice(1), (cellOption, index) => {\n        return cellOption.map(cell => {\n          return getInnerEdge(index, cell);\n        });\n      });\n      const lastLine = array[array.length - 1].map(cell => {\n        return getOuterEdge(array.length - 1, cell);\n      });\n      return lines.concat([lastLine]);\n    };\n    const negate = step => {\n      return -step;\n    };\n    const height = {\n      delta: identity,\n      positions: optElements => findPositions(getTopEdge, getBottomEdge, optElements),\n      edge: getTop$1\n    };\n    const ltr$1 = {\n      delta: identity,\n      edge: ltrEdge,\n      positions: optElements => findPositions(getLeftEdge, getRightEdge, optElements)\n    };\n    const rtl$1 = {\n      delta: negate,\n      edge: rtlEdge,\n      positions: optElements => findPositions(getRightEdge, getLeftEdge, optElements)\n    };\n    const detect$1 = onDirection(ltr$1, rtl$1);\n    const width = {\n      delta: (amount, table) => detect$1(table).delta(amount, table),\n      positions: (cols, table) => detect$1(table).positions(cols, table),\n      edge: cell => detect$1(cell).edge(cell)\n    };\n\n    const units = {\n      unsupportedLength: [\n        'em',\n        'ex',\n        'cap',\n        'ch',\n        'ic',\n        'rem',\n        'lh',\n        'rlh',\n        'vw',\n        'vh',\n        'vi',\n        'vb',\n        'vmin',\n        'vmax',\n        'cm',\n        'mm',\n        'Q',\n        'in',\n        'pc',\n        'pt',\n        'px'\n      ],\n      fixed: [\n        'px',\n        'pt'\n      ],\n      relative: ['%'],\n      empty: ['']\n    };\n    const pattern = (() => {\n      const decimalDigits = '[0-9]+';\n      const signedInteger = '[+-]?' + decimalDigits;\n      const exponentPart = '[eE]' + signedInteger;\n      const dot = '\\\\.';\n      const opt = input => `(?:${ input })?`;\n      const unsignedDecimalLiteral = [\n        'Infinity',\n        decimalDigits + dot + opt(decimalDigits) + opt(exponentPart),\n        dot + decimalDigits + opt(exponentPart),\n        decimalDigits + opt(exponentPart)\n      ].join('|');\n      const float = `[+-]?(?:${ unsignedDecimalLiteral })`;\n      return new RegExp(`^(${ float })(.*)$`);\n    })();\n    const isUnit = (unit, accepted) => exists(accepted, acc => exists(units[acc], check => unit === check));\n    const parse = (input, accepted) => {\n      const match = Optional.from(pattern.exec(input));\n      return match.bind(array => {\n        const value = Number(array[1]);\n        const unitRaw = array[2];\n        if (isUnit(unitRaw, accepted)) {\n          return Optional.some({\n            value,\n            unit: unitRaw\n          });\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n\n    const rPercentageBasedSizeRegex = /(\\d+(\\.\\d+)?)%/;\n    const rPixelBasedSizeRegex = /(\\d+(\\.\\d+)?)px|em/;\n    const isCol$2 = isTag('col');\n    const getPercentSize = (elm, outerGetter, innerGetter) => {\n      const relativeParent = parentElement(elm).getOrThunk(() => getBody$1(owner(elm)));\n      return outerGetter(elm) / innerGetter(relativeParent) * 100;\n    };\n    const setPixelWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + 'px');\n    };\n    const setPercentageWidth = (cell, amount) => {\n      set$1(cell, 'width', amount + '%');\n    };\n    const setHeight = (cell, amount) => {\n      set$1(cell, 'height', amount + 'px');\n    };\n    const getHeightValue = cell => getRuntime(cell) + 'px';\n    const convert = (cell, number, getter, setter) => {\n      const newSize = table(cell).map(table => {\n        const total = getter(table);\n        return Math.floor(number / 100 * total);\n      }).getOr(number);\n      setter(cell, newSize);\n      return newSize;\n    };\n    const normalizePixelSize = (value, cell, getter, setter) => {\n      const number = parseFloat(value);\n      return endsWith(value, '%') && name(cell) !== 'table' ? convert(cell, number, getter, setter) : number;\n    };\n    const getTotalHeight = cell => {\n      const value = getHeightValue(cell);\n      if (!value) {\n        return get$8(cell);\n      }\n      return normalizePixelSize(value, cell, get$8, setHeight);\n    };\n    const get$7 = (cell, type, f) => {\n      const v = f(cell);\n      const span = getSpan(cell, type);\n      return v / span;\n    };\n    const getRaw$1 = (element, prop) => {\n      return getRaw$2(element, prop).orThunk(() => {\n        return getOpt(element, prop).map(val => val + 'px');\n      });\n    };\n    const getRawWidth$1 = element => getRaw$1(element, 'width');\n    const getRawHeight = element => getRaw$1(element, 'height');\n    const getPercentageWidth = cell => getPercentSize(cell, get$9, getInner);\n    const getPixelWidth$1 = cell => isCol$2(cell) ? get$9(cell) : getRuntime$1(cell);\n    const getHeight = cell => {\n      return get$7(cell, 'rowspan', getTotalHeight);\n    };\n    const getGenericWidth = cell => {\n      const width = getRawWidth$1(cell);\n      return width.bind(w => parse(w, [\n        'fixed',\n        'relative',\n        'empty'\n      ]));\n    };\n    const setGenericWidth = (cell, amount, unit) => {\n      set$1(cell, 'width', amount + unit);\n    };\n    const getPixelTableWidth = table => get$9(table) + 'px';\n    const getPercentTableWidth = table => getPercentSize(table, get$9, getInner) + '%';\n    const isPercentSizing$1 = table => getRawWidth$1(table).exists(size => rPercentageBasedSizeRegex.test(size));\n    const isPixelSizing$1 = table => getRawWidth$1(table).exists(size => rPixelBasedSizeRegex.test(size));\n    const isNoneSizing$1 = table => getRawWidth$1(table).isNone();\n    const percentageBasedSizeRegex = constant(rPercentageBasedSizeRegex);\n\n    const isCol$1 = isTag('col');\n    const getRawW = cell => {\n      return getRawWidth$1(cell).getOrThunk(() => getPixelWidth$1(cell) + 'px');\n    };\n    const getRawH = cell => {\n      return getRawHeight(cell).getOrThunk(() => getHeight(cell) + 'px');\n    };\n    const justCols = warehouse => map$1(Warehouse.justColumns(warehouse), column => Optional.from(column.element));\n    const isValidColumn = cell => {\n      const browser = detect$2().browser;\n      const supportsColWidths = browser.isChromium() || browser.isFirefox();\n      return isCol$1(cell) ? supportsColWidths : true;\n    };\n    const getDimension = (cellOpt, index, backups, filter, getter, fallback) => cellOpt.filter(filter).fold(() => fallback(deduce(backups, index)), cell => getter(cell));\n    const getWidthFrom = (warehouse, table, getWidth, fallback) => {\n      const columnCells = columns(warehouse);\n      const columns$1 = Warehouse.hasColumns(warehouse) ? justCols(warehouse) : columnCells;\n      const backups = [Optional.some(width.edge(table))].concat(map$1(width.positions(columnCells, table), pos => pos.map(p => p.x)));\n      const colFilter = not(hasColspan);\n      return map$1(columns$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, colFilter, column => {\n          if (isValidColumn(column)) {\n            return getWidth(column);\n          } else {\n            const cell = bindFrom(columnCells[c], identity);\n            return getDimension(cell, c, backups, colFilter, cell => fallback(Optional.some(get$9(cell))), fallback);\n          }\n        }, fallback);\n      });\n    };\n    const getDeduced = deduced => {\n      return deduced.map(d => {\n        return d + 'px';\n      }).getOr('');\n    };\n    const getRawWidths = (warehouse, table) => {\n      return getWidthFrom(warehouse, table, getRawW, getDeduced);\n    };\n    const getPercentageWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPercentageWidth, deduced => {\n        return deduced.fold(() => {\n          return tableSize.minCellWidth();\n        }, cellWidth => {\n          return cellWidth / tableSize.pixelWidth() * 100;\n        });\n      });\n    };\n    const getPixelWidths = (warehouse, table, tableSize) => {\n      return getWidthFrom(warehouse, table, getPixelWidth$1, deduced => {\n        return deduced.getOrThunk(tableSize.minCellWidth);\n      });\n    };\n    const getHeightFrom = (warehouse, table, direction, getHeight, fallback) => {\n      const rows$1 = rows(warehouse);\n      const backups = [Optional.some(direction.edge(table))].concat(map$1(direction.positions(rows$1, table), pos => pos.map(p => p.y)));\n      return map$1(rows$1, (cellOption, c) => {\n        return getDimension(cellOption, c, backups, not(hasRowspan), getHeight, fallback);\n      });\n    };\n    const getPixelHeights = (warehouse, table, direction) => {\n      return getHeightFrom(warehouse, table, direction, getHeight, deduced => {\n        return deduced.getOrThunk(minHeight);\n      });\n    };\n    const getRawHeights = (warehouse, table, direction) => {\n      return getHeightFrom(warehouse, table, direction, getRawH, getDeduced);\n    };\n\n    const widthLookup = (table, getter) => () => {\n      if (inBody(table)) {\n        return getter(table);\n      } else {\n        return parseFloat(getRaw$2(table, 'width').getOr('0'));\n      }\n    };\n    const noneSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const zero = constant(0);\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta: zero,\n        singleColumnWidth: constant([0]),\n        minCellWidth: zero,\n        setElementWidth: noop,\n        adjustTableWidth: noop,\n        isRelative: true,\n        label: 'none'\n      };\n    };\n    const percentageSize = table => {\n      const getFloatWidth = widthLookup(table, elem => parseFloat(getPercentTableWidth(elem)));\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = delta => delta / getWidth() * 100;\n      const singleColumnWidth = (w, _delta) => [100 - w];\n      const minCellWidth = () => minWidth() / getWidth() * 100;\n      const adjustTableWidth = delta => {\n        const currentWidth = getFloatWidth();\n        const change = delta / 100 * currentWidth;\n        const newWidth = currentWidth + change;\n        setPercentageWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPercentageWidths(warehouse, table, tableSize);\n      return {\n        width: getFloatWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth,\n        setElementWidth: setPercentageWidth,\n        adjustTableWidth,\n        isRelative: true,\n        label: 'percent'\n      };\n    };\n    const pixelSize = table => {\n      const getWidth = widthLookup(table, get$9);\n      const getCellDelta = identity;\n      const singleColumnWidth = (w, delta) => {\n        const newNext = Math.max(minWidth(), w + delta);\n        return [newNext - w];\n      };\n      const adjustTableWidth = delta => {\n        const newWidth = getWidth() + delta;\n        setPixelWidth(table, newWidth);\n      };\n      const getWidths = (warehouse, tableSize) => getPixelWidths(warehouse, table, tableSize);\n      return {\n        width: getWidth,\n        pixelWidth: getWidth,\n        getWidths,\n        getCellDelta,\n        singleColumnWidth,\n        minCellWidth: minWidth,\n        setElementWidth: setPixelWidth,\n        adjustTableWidth,\n        isRelative: false,\n        label: 'pixel'\n      };\n    };\n    const chooseSize = (element, width) => {\n      const percentMatch = percentageBasedSizeRegex().exec(width);\n      if (percentMatch !== null) {\n        return percentageSize(element);\n      } else {\n        return pixelSize(element);\n      }\n    };\n    const getTableSize = table => {\n      const width = getRawWidth$1(table);\n      return width.fold(() => noneSize(table), w => chooseSize(table, w));\n    };\n    const TableSize = {\n      getTableSize,\n      pixelSize,\n      percentageSize,\n      noneSize\n    };\n\n    const statsStruct = (minRow, minCol, maxRow, maxCol, allCells, selectedCells) => ({\n      minRow,\n      minCol,\n      maxRow,\n      maxCol,\n      allCells,\n      selectedCells\n    });\n    const findSelectedStats = (house, isSelected) => {\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      let minRow = totalRows;\n      let minCol = totalColumns;\n      let maxRow = 0;\n      let maxCol = 0;\n      const allCells = [];\n      const selectedCells = [];\n      each$1(house.access, detail => {\n        allCells.push(detail);\n        if (isSelected(detail)) {\n          selectedCells.push(detail);\n          const startRow = detail.row;\n          const endRow = startRow + detail.rowspan - 1;\n          const startCol = detail.column;\n          const endCol = startCol + detail.colspan - 1;\n          if (startRow < minRow) {\n            minRow = startRow;\n          } else if (endRow > maxRow) {\n            maxRow = endRow;\n          }\n          if (startCol < minCol) {\n            minCol = startCol;\n          } else if (endCol > maxCol) {\n            maxCol = endCol;\n          }\n        }\n      });\n      return statsStruct(minRow, minCol, maxRow, maxCol, allCells, selectedCells);\n    };\n    const makeCell = (list, seenSelected, rowIndex) => {\n      const row = list[rowIndex].element;\n      const td = SugarElement.fromTag('td');\n      append$1(td, SugarElement.fromTag('br'));\n      const f = seenSelected ? append$1 : prepend;\n      f(row, td);\n    };\n    const fillInGaps = (list, house, stats, isSelected) => {\n      const rows = filter$2(list, row => row.section !== 'colgroup');\n      const totalColumns = house.grid.columns;\n      const totalRows = house.grid.rows;\n      for (let i = 0; i < totalRows; i++) {\n        let seenSelected = false;\n        for (let j = 0; j < totalColumns; j++) {\n          if (!(i < stats.minRow || i > stats.maxRow || j < stats.minCol || j > stats.maxCol)) {\n            const needCell = Warehouse.getAt(house, i, j).filter(isSelected).isNone();\n            if (needCell) {\n              makeCell(rows, seenSelected, i);\n            } else {\n              seenSelected = true;\n            }\n          }\n        }\n      }\n    };\n    const clean = (replica, stats, house, widthDelta) => {\n      each$1(house.columns, col => {\n        if (col.column < stats.minCol || col.column > stats.maxCol) {\n          remove$6(col.element);\n        }\n      });\n      const emptyRows = filter$2(firstLayer(replica, 'tr'), row => row.dom.childElementCount === 0);\n      each$2(emptyRows, remove$6);\n      if (stats.minCol === stats.maxCol || stats.minRow === stats.maxRow) {\n        each$2(firstLayer(replica, 'th,td'), cell => {\n          remove$7(cell, 'rowspan');\n          remove$7(cell, 'colspan');\n        });\n      }\n      remove$7(replica, LOCKED_COL_ATTR);\n      remove$7(replica, 'data-snooker-col-series');\n      const tableSize = TableSize.getTableSize(replica);\n      tableSize.adjustTableWidth(widthDelta);\n    };\n    const getTableWidthDelta = (table, warehouse, tableSize, stats) => {\n      if (stats.minCol === 0 && warehouse.grid.columns === stats.maxCol + 1) {\n        return 0;\n      }\n      const colWidths = getPixelWidths(warehouse, table, tableSize);\n      const allColsWidth = foldl(colWidths, (acc, width) => acc + width, 0);\n      const selectedColsWidth = foldl(colWidths.slice(stats.minCol, stats.maxCol + 1), (acc, width) => acc + width, 0);\n      const newWidth = selectedColsWidth / allColsWidth * tableSize.pixelWidth();\n      const delta = newWidth - tableSize.pixelWidth();\n      return tableSize.getCellDelta(delta);\n    };\n    const extract$1 = (table, selectedSelector) => {\n      const isSelected = detail => is$2(detail.element, selectedSelector);\n      const replica = deep(table);\n      const list = fromTable$1(replica);\n      const tableSize = TableSize.getTableSize(table);\n      const replicaHouse = Warehouse.generate(list);\n      const replicaStats = findSelectedStats(replicaHouse, isSelected);\n      const selector = 'th:not(' + selectedSelector + ')' + ',td:not(' + selectedSelector + ')';\n      const unselectedCells = filterFirstLayer(replica, 'th,td', cell => is$2(cell, selector));\n      each$2(unselectedCells, remove$6);\n      fillInGaps(list, replicaHouse, replicaStats, isSelected);\n      const house = Warehouse.fromTable(table);\n      const widthDelta = getTableWidthDelta(table, house, tableSize, replicaStats);\n      clean(replica, replicaStats, replicaHouse, widthDelta);\n      return replica;\n    };\n\n    const nbsp = '\\xA0';\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get$6 = element => api.get(element);\n    const getOption = element => api.getOption(element);\n    const set = (element, value) => api.set(element, value);\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children$2(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem));\n    };\n\n    const first = element => descendant$1(element, isCursorPosition);\n    const last$1 = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children = children$2(element);\n        for (let i = children.length - 1; i >= 0; i--) {\n          const child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const transferableAttributes = {\n      scope: [\n        'row',\n        'col'\n      ]\n    };\n    const createCell = doc => () => {\n      const td = SugarElement.fromTag('td', doc.dom);\n      append$1(td, SugarElement.fromTag('br', doc.dom));\n      return td;\n    };\n    const createCol = doc => () => {\n      return SugarElement.fromTag('col', doc.dom);\n    };\n    const createColgroup = doc => () => {\n      return SugarElement.fromTag('colgroup', doc.dom);\n    };\n    const createRow$1 = doc => () => {\n      return SugarElement.fromTag('tr', doc.dom);\n    };\n    const replace$1 = (cell, tag, attrs) => {\n      const replica = copy$2(cell, tag);\n      each$1(attrs, (v, k) => {\n        if (v === null) {\n          remove$7(replica, k);\n        } else {\n          set$2(replica, k, v);\n        }\n      });\n      return replica;\n    };\n    const pasteReplace = cell => {\n      return cell;\n    };\n    const cloneFormats = (oldCell, newCell, formats) => {\n      const first$1 = first(oldCell);\n      return first$1.map(firstText => {\n        const formatSelector = formats.join(',');\n        const parents = ancestors$3(firstText, formatSelector, element => {\n          return eq$1(element, oldCell);\n        });\n        return foldr(parents, (last, parent) => {\n          const clonedFormat = shallow(parent);\n          remove$7(clonedFormat, 'contenteditable');\n          append$1(last, clonedFormat);\n          return clonedFormat;\n        }, newCell);\n      }).getOr(newCell);\n    };\n    const cloneAppropriateAttributes = (original, clone) => {\n      each$1(transferableAttributes, (validAttributes, attributeName) => getOpt(original, attributeName).filter(attribute => contains$2(validAttributes, attribute)).each(attribute => set$2(clone, attributeName, attribute)));\n    };\n    const cellOperations = (mutate, doc, formatsToClone) => {\n      const cloneCss = (prev, clone) => {\n        copy$1(prev.element, clone);\n        remove$5(clone, 'height');\n        if (prev.colspan !== 1) {\n          remove$5(clone, 'width');\n        }\n      };\n      const newCell = prev => {\n        const td = SugarElement.fromTag(name(prev.element), doc.dom);\n        const formats = formatsToClone.getOr([\n          'strong',\n          'em',\n          'b',\n          'i',\n          'span',\n          'font',\n          'h1',\n          'h2',\n          'h3',\n          'h4',\n          'h5',\n          'h6',\n          'p',\n          'div'\n        ]);\n        const lastNode = formats.length > 0 ? cloneFormats(prev.element, td, formats) : td;\n        append$1(lastNode, SugarElement.fromTag('br'));\n        cloneCss(prev, td);\n        cloneAppropriateAttributes(prev.element, td);\n        mutate(prev.element, td);\n        return td;\n      };\n      const newCol = prev => {\n        const col = SugarElement.fromTag(name(prev.element), doc.dom);\n        cloneCss(prev, col);\n        mutate(prev.element, col);\n        return col;\n      };\n      return {\n        col: newCol,\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: newCell,\n        replace: replace$1,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n    const paste$1 = doc => {\n      return {\n        col: createCol(doc),\n        colgroup: createColgroup(doc),\n        row: createRow$1(doc),\n        cell: createCell(doc),\n        replace: pasteReplace,\n        colGap: createCol(doc),\n        gap: createCell(doc)\n      };\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$2(SugarElement.fromDom(div));\n    };\n    const fromDom = nodes => map$1(nodes, SugarElement.fromDom);\n\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq$1(element, getBody(editor));\n    const removeDataStyle = table => {\n      remove$7(table, 'data-mce-style');\n      const removeStyleAttribute = element => remove$7(element, 'data-mce-style');\n      each$2(cells$1(table), removeStyleAttribute);\n      each$2(columns$1(table), removeStyleAttribute);\n      each$2(rows$1(table), removeStyleAttribute);\n    };\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getPixelWidth = elm => elm.getBoundingClientRect().width;\n    const getPixelHeight = elm => elm.getBoundingClientRect().height;\n    const getRawWidth = (editor, elm) => {\n      const raw = editor.dom.getStyle(elm, 'width') || editor.dom.getAttrib(elm, 'width');\n      return Optional.from(raw).filter(isNotEmpty);\n    };\n    const isPercentage$1 = value => /^(\\d+(\\.\\d+)?)%$/.test(value);\n    const isPixel = value => /^(\\d+(\\.\\d+)?)px$/.test(value);\n\n    const inSelection = (bounds, detail) => {\n      const leftEdge = detail.column;\n      const rightEdge = detail.column + detail.colspan - 1;\n      const topEdge = detail.row;\n      const bottomEdge = detail.row + detail.rowspan - 1;\n      return leftEdge <= bounds.finishCol && rightEdge >= bounds.startCol && (topEdge <= bounds.finishRow && bottomEdge >= bounds.startRow);\n    };\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq$1);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq$1);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const moveBy$1 = (warehouse, cell, row, column) => {\n      return Warehouse.findItem(warehouse, cell, eq$1).bind(detail => {\n        const startRow = row > 0 ? detail.row + detail.rowspan - 1 : detail.row;\n        const startCol = column > 0 ? detail.column + detail.colspan - 1 : detail.column;\n        const dest = Warehouse.getAt(warehouse, startRow + row, startCol + column);\n        return dest.map(d => {\n          return d.element;\n        });\n      });\n    };\n    const intercepts$1 = (warehouse, start, finish) => {\n      return getAnyBox(warehouse, start, finish).map(bounds => {\n        const inside = Warehouse.filterItems(warehouse, curry(inSelection, bounds));\n        return map$1(inside, detail => {\n          return detail.element;\n        });\n      });\n    };\n    const parentCell = (warehouse, innerCell) => {\n      const isContainedBy = (c1, c2) => {\n        return contains$1(c2, c1);\n      };\n      return Warehouse.findItem(warehouse, innerCell, isContainedBy).map(detail => {\n        return detail.element;\n      });\n    };\n\n    const moveBy = (cell, deltaRow, deltaColumn) => {\n      return table(cell).bind(table => {\n        const warehouse = getWarehouse(table);\n        return moveBy$1(warehouse, cell, deltaRow, deltaColumn);\n      });\n    };\n    const intercepts = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return intercepts$1(warehouse, first, last);\n    };\n    const nestedIntercepts = (table, first, firstTable, last, lastTable) => {\n      const warehouse = getWarehouse(table);\n      const optStartCell = eq$1(table, firstTable) ? Optional.some(first) : parentCell(warehouse, first);\n      const optLastCell = eq$1(table, lastTable) ? Optional.some(last) : parentCell(warehouse, last);\n      return optStartCell.bind(startCell => optLastCell.bind(lastCell => intercepts$1(warehouse, startCell, lastCell)));\n    };\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains$2(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains$2([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$b(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone$2(source);\n        setAll$1(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains$2([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor$1,\n          closest: closest$1,\n          predicate: ancestor$2,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$a,\n          getRaw: getRaw$2,\n          set: set$1,\n          remove: remove$5\n        }),\n        attrs: constant({\n          get: get$b,\n          set: set$2,\n          remove: remove$7,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before$3,\n          after: after$5,\n          afterAll: after$4,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove$6\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$2,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get$6,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq$1,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const eq = (universe, item) => {\n      return curry(universe.eq, item);\n    };\n    const ancestors$2 = (universe, start, end, isRoot = never) => {\n      const ps1 = [start].concat(universe.up().all(start));\n      const ps2 = [end].concat(universe.up().all(end));\n      const prune = path => {\n        const index = findIndex(path, isRoot);\n        return index.fold(() => {\n          return path;\n        }, ind => {\n          return path.slice(0, ind + 1);\n        });\n      };\n      const pruned1 = prune(ps1);\n      const pruned2 = prune(ps2);\n      const shared = find$1(pruned1, x => {\n        return exists(pruned2, eq(universe, x));\n      });\n      return {\n        firstpath: pruned1,\n        secondpath: pruned2,\n        shared\n      };\n    };\n\n    const sharedOne$1 = oneAll;\n    const ancestors$1 = ancestors$2;\n\n    const universe$3 = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe$3, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n    const ancestors = (start, finish, isRoot) => {\n      return ancestors$1(universe$3, start, finish, isRoot);\n    };\n\n    const lookupTable = container => {\n      return ancestor$1(container, 'table');\n    };\n    const identify = (start, finish, isRoot) => {\n      const getIsRoot = rootTable => {\n        return element => {\n          return isRoot !== undefined && isRoot(element) || eq$1(element, rootTable);\n        };\n      };\n      if (eq$1(start, finish)) {\n        return Optional.some({\n          boxes: Optional.some([start]),\n          start,\n          finish\n        });\n      } else {\n        return lookupTable(start).bind(startTable => {\n          return lookupTable(finish).bind(finishTable => {\n            if (eq$1(startTable, finishTable)) {\n              return Optional.some({\n                boxes: intercepts(startTable, start, finish),\n                start,\n                finish\n              });\n            } else if (contains$1(startTable, finishTable)) {\n              const ancestorCells = ancestors$3(finish, 'td,th', getIsRoot(startTable));\n              const finishCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : finish;\n              return Optional.some({\n                boxes: nestedIntercepts(startTable, start, startTable, finish, finishTable),\n                start,\n                finish: finishCell\n              });\n            } else if (contains$1(finishTable, startTable)) {\n              const ancestorCells = ancestors$3(start, 'td,th', getIsRoot(finishTable));\n              const startCell = ancestorCells.length > 0 ? ancestorCells[ancestorCells.length - 1] : start;\n              return Optional.some({\n                boxes: nestedIntercepts(finishTable, start, startTable, finish, finishTable),\n                start,\n                finish: startCell\n              });\n            } else {\n              return ancestors(start, finish).shared.bind(lca => {\n                return closest$1(lca, 'table', isRoot).bind(lcaTable => {\n                  const finishAncestorCells = ancestors$3(finish, 'td,th', getIsRoot(lcaTable));\n                  const finishCell = finishAncestorCells.length > 0 ? finishAncestorCells[finishAncestorCells.length - 1] : finish;\n                  const startAncestorCells = ancestors$3(start, 'td,th', getIsRoot(lcaTable));\n                  const startCell = startAncestorCells.length > 0 ? startAncestorCells[startAncestorCells.length - 1] : start;\n                  return Optional.some({\n                    boxes: nestedIntercepts(lcaTable, start, startTable, finish, finishTable),\n                    start: startCell,\n                    finish: finishCell\n                  });\n                });\n              });\n            }\n          });\n        });\n      }\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getLast = (boxes, lastSelectedSelector) => {\n      return find$1(boxes, box => {\n        return is$2(box, lastSelectedSelector);\n      });\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n    const expandTo = (finish, firstSelectedSelector) => {\n      return ancestor$1(finish, 'table').bind(table => {\n        return descendant(table, firstSelectedSelector).bind(start => {\n          return identify(start, finish).bind(identified => {\n            return identified.boxes.map(boxes => {\n              return {\n                boxes,\n                start: identified.start,\n                finish: identified.finish\n              };\n            });\n          });\n        });\n      });\n    };\n    const shiftSelection = (boxes, deltaRow, deltaColumn, firstSelectedSelector, lastSelectedSelector) => {\n      return getLast(boxes, lastSelectedSelector).bind(last => {\n        return moveBy(last, deltaRow, deltaColumn).bind(finish => {\n          return expandTo(finish, firstSelectedSelector);\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq$1(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor$1(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor$1(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq$1(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strAttributeSelector = '[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const attributeSelector = strAttributeSelector;\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n    const paste = (element, clipboard, generators) => ({\n      element,\n      clipboard,\n      generators\n    });\n    const pasteRows = (selectedCells, _cell, clipboard, generators) => ({\n      selection: selection(selectedCells),\n      clipboard,\n      generators\n    });\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest$1(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getCellsFromFakeSelection = editor => filter$2(getCellsFromSelection(editor), cell => is$2(cell, ephemera.selectedSelector));\n\n    const extractSelected = cells => {\n      return table(cells[0]).map(table => {\n        const replica = extract$1(table, attributeSelector);\n        removeDataStyle(replica);\n        return [replica];\n      });\n    };\n    const serializeElements = (editor, elements) => map$1(elements, elm => editor.selection.serializer.serialize(elm.dom, {})).join('');\n    const getTextContent = elements => map$1(elements, element => element.dom.innerText).join('');\n    const registerEvents = (editor, actions) => {\n      editor.on('BeforeGetContent', e => {\n        const multiCellContext = cells => {\n          e.preventDefault();\n          extractSelected(cells).each(elements => {\n            e.content = e.format === 'text' ? getTextContent(elements) : serializeElements(editor, elements);\n          });\n        };\n        if (e.selection === true) {\n          const cells = getCellsFromFakeSelection(editor);\n          if (cells.length >= 1) {\n            multiCellContext(cells);\n          }\n        }\n      });\n      editor.on('BeforeSetContent', e => {\n        if (e.selection === true && e.paste === true) {\n          const selectedCells = getCellsFromSelection(editor);\n          head(selectedCells).each(cell => {\n            table(cell).each(table => {\n              const elements = filter$2(fromHtml(e.content), content => {\n                return name(content) !== 'meta';\n              });\n              const isTable = isTag('table');\n              if (elements.length === 1 && isTable(elements[0])) {\n                e.preventDefault();\n                const doc = SugarElement.fromDom(editor.getDoc());\n                const generators = paste$1(doc);\n                const targets = paste(cell, elements[0], generators);\n                actions.pasteCells(table, targets).each(() => {\n                  editor.focus();\n                });\n              }\n            });\n          });\n        }\n      });\n    };\n\n    const point = (element, offset) => ({\n      element,\n      offset\n    });\n\n    const scan$1 = (universe, element, direction) => {\n      if (universe.property().isText(element) && universe.property().getText(element).trim().length === 0 || universe.property().isComment(element)) {\n        return direction(element).bind(elem => {\n          return scan$1(universe, elem, direction).orThunk(() => {\n            return Optional.some(elem);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const toEnd = (universe, element) => {\n      if (universe.property().isText(element)) {\n        return universe.property().getText(element).length;\n      }\n      const children = universe.property().children(element);\n      return children.length;\n    };\n    const freefallRtl$2 = (universe, element) => {\n      const candidate = scan$1(universe, element, universe.query().prevSibling).getOr(element);\n      if (universe.property().isText(candidate)) {\n        return point(candidate, toEnd(universe, candidate));\n      }\n      const children = universe.property().children(candidate);\n      return children.length > 0 ? freefallRtl$2(universe, children[children.length - 1]) : point(candidate, toEnd(universe, candidate));\n    };\n\n    const freefallRtl$1 = freefallRtl$2;\n\n    const universe$2 = DomUniverse();\n    const freefallRtl = element => {\n      return freefallRtl$1(universe$2, element);\n    };\n\n    const halve = (main, other) => {\n      if (!hasColspan(main)) {\n        const width = getGenericWidth(main);\n        width.each(w => {\n          const newWidth = w.value / 2;\n          setGenericWidth(main, newWidth, w.unit);\n          setGenericWidth(other, newWidth, w.unit);\n        });\n      }\n    };\n\n    const zero = array => map$1(array, constant(0));\n    const surround = (sizes, startIndex, endIndex, results, f) => f(sizes.slice(0, startIndex)).concat(results).concat(f(sizes.slice(endIndex)));\n    const clampDeltaHelper = predicate => (sizes, index, delta, minCellSize) => {\n      if (!predicate(delta)) {\n        return delta;\n      } else {\n        const newSize = Math.max(minCellSize, sizes[index] - Math.abs(delta));\n        const diff = Math.abs(newSize - sizes[index]);\n        return delta >= 0 ? diff : -diff;\n      }\n    };\n    const clampNegativeDelta = clampDeltaHelper(delta => delta < 0);\n    const clampDelta = clampDeltaHelper(always);\n    const resizeTable = () => {\n      const calcFixedDeltas = (sizes, index, next, delta, minCellSize) => {\n        const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          0\n        ], zero);\n      };\n      const calcRelativeDeltas = (sizes, index, delta, minCellSize) => {\n        const ratio = (100 + delta) / 100;\n        const newThis = Math.max(minCellSize, (sizes[index] + delta) / ratio);\n        return map$1(sizes, (size, idx) => {\n          const newSize = idx === index ? newThis : size / ratio;\n          return newSize - size;\n        });\n      };\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          return calcFixedDeltas(sizes, index, next, delta, minCellSize);\n        }\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize, isRelative) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize, isRelative);\n      const resizeTable = (resizer, delta) => resizer(delta);\n      const calcRightEdgeDeltas = (sizes, _prev, index, delta, minCellSize, isRelative) => {\n        if (isRelative) {\n          return calcRelativeDeltas(sizes, index, delta, minCellSize);\n        } else {\n          const clampedDelta = clampNegativeDelta(sizes, index, delta, minCellSize);\n          return zero(sizes.slice(0, index)).concat([clampedDelta]);\n        }\n      };\n      const calcRedestributedWidths = (sizes, totalWidth, pixelDelta, isRelative) => {\n        if (isRelative) {\n          const tableWidth = totalWidth + pixelDelta;\n          const ratio = tableWidth / totalWidth;\n          const newSizes = map$1(sizes, size => size / ratio);\n          return {\n            delta: ratio * 100 - 100,\n            newSizes\n          };\n        } else {\n          return {\n            delta: pixelDelta,\n            newSizes: sizes\n          };\n        }\n      };\n      return {\n        resizeTable,\n        clampTableDelta: clampNegativeDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n    const preserveTable = () => {\n      const calcLeftEdgeDeltas = (sizes, index, next, delta, minCellSize) => {\n        const idx = delta >= 0 ? next : index;\n        const clampedDelta = clampDelta(sizes, idx, delta, minCellSize);\n        return surround(sizes, index, next + 1, [\n          clampedDelta,\n          -clampedDelta\n        ], zero);\n      };\n      const calcMiddleDeltas = (sizes, _prev, index, next, delta, minCellSize) => calcLeftEdgeDeltas(sizes, index, next, delta, minCellSize);\n      const resizeTable = (resizer, delta, isLastColumn) => {\n        if (isLastColumn) {\n          resizer(delta);\n        }\n      };\n      const calcRightEdgeDeltas = (sizes, _prev, _index, delta, _minCellSize, isRelative) => {\n        if (isRelative) {\n          return zero(sizes);\n        } else {\n          const diff = delta / sizes.length;\n          return map$1(sizes, constant(diff));\n        }\n      };\n      const clampTableDelta = (sizes, index, delta, minCellSize, isLastColumn) => {\n        if (isLastColumn) {\n          if (delta >= 0) {\n            return delta;\n          } else {\n            const maxDelta = foldl(sizes, (a, b) => a + b - minCellSize, 0);\n            return Math.max(-maxDelta, delta);\n          }\n        } else {\n          return clampNegativeDelta(sizes, index, delta, minCellSize);\n        }\n      };\n      const calcRedestributedWidths = (sizes, _totalWidth, _pixelDelta, _isRelative) => ({\n        delta: 0,\n        newSizes: sizes\n      });\n      return {\n        resizeTable,\n        clampTableDelta,\n        calcLeftEdgeDeltas,\n        calcMiddleDeltas,\n        calcRightEdgeDeltas,\n        calcRedestributedWidths\n      };\n    };\n\n    const getGridSize = table => {\n      const warehouse = Warehouse.fromTable(table);\n      return warehouse.grid;\n    };\n\n    const isHeaderCell = isTag('th');\n    const isHeaderCells = cells => forall(cells, cell => isHeaderCell(cell.element));\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter$2(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map$1(rows, row => getRowType(row).type);\n      const hasHeader = contains$2(rowTypes, 'header');\n      const hasFooter = contains$2(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains$2(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n    const findTableRowHeaderType = warehouse => findMap(warehouse.all, row => {\n      const rowType = getRowType(row);\n      return rowType.type === 'header' ? Optional.from(rowType.subType) : Optional.none();\n    });\n\n    const transformCell = (cell, comparator, substitution) => elementnew(substitution(cell.element, comparator), true, cell.isLocked);\n    const transformRow = (row, section) => row.section !== section ? rowcells(row.element, row.cells, section, row.isNew) : row;\n    const section = () => ({\n      transformRow,\n      transformCell: (cell, comparator, substitution) => {\n        const newCell = substitution(cell.element, comparator);\n        const fixedCell = name(newCell) !== 'td' ? mutate$1(newCell, 'td') : newCell;\n        return elementnew(fixedCell, cell.isNew, cell.isLocked);\n      }\n    });\n    const sectionCells = () => ({\n      transformRow,\n      transformCell\n    });\n    const cells = () => ({\n      transformRow: (row, section) => {\n        const newSection = section === 'thead' ? 'tbody' : section;\n        return transformRow(row, newSection);\n      },\n      transformCell\n    });\n    const fallback = () => ({\n      transformRow: identity,\n      transformCell\n    });\n    const getTableSectionType = (table, fallback) => {\n      const warehouse = Warehouse.fromTable(table);\n      const type = findTableRowHeaderType(warehouse).getOr(fallback);\n      switch (type) {\n      case 'section':\n        return section();\n      case 'sectionCells':\n        return sectionCells();\n      case 'cells':\n        return cells();\n      }\n    };\n    const TableSection = {\n      getTableSectionType,\n      section,\n      sectionCells,\n      cells,\n      fallback\n    };\n\n    const closest = target => closest$1(target, '[contenteditable]');\n    const isEditable$1 = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const setIfNot = (element, property, value, ignore) => {\n      if (value === ignore) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, value);\n      }\n    };\n    const insert$1 = (table, selector, element) => {\n      last$2(children(table, selector)).fold(() => prepend(table, element), child => after$5(child, element));\n    };\n    const generateSection = (table, sectionName) => {\n      const section = child(table, sectionName).getOrThunk(() => {\n        const newSection = SugarElement.fromTag(sectionName, owner(table).dom);\n        if (sectionName === 'thead') {\n          insert$1(table, 'caption,colgroup', newSection);\n        } else if (sectionName === 'colgroup') {\n          insert$1(table, 'caption', newSection);\n        } else {\n          append$1(table, newSection);\n        }\n        return newSection;\n      });\n      empty(section);\n      return section;\n    };\n    const render$1 = (table, grid) => {\n      const newRows = [];\n      const newCells = [];\n      const syncRows = gridSection => map$1(gridSection, row => {\n        if (row.isNew) {\n          newRows.push(row.element);\n        }\n        const tr = row.element;\n        empty(tr);\n        each$2(row.cells, cell => {\n          if (cell.isNew) {\n            newCells.push(cell.element);\n          }\n          setIfNot(cell.element, 'colspan', cell.colspan, 1);\n          setIfNot(cell.element, 'rowspan', cell.rowspan, 1);\n          append$1(tr, cell.element);\n        });\n        return tr;\n      });\n      const syncColGroup = gridSection => bind$2(gridSection, colGroup => map$1(colGroup.cells, col => {\n        setIfNot(col.element, 'span', col.colspan, 1);\n        return col.element;\n      }));\n      const renderSection = (gridSection, sectionName) => {\n        const section = generateSection(table, sectionName);\n        const sync = sectionName === 'colgroup' ? syncColGroup : syncRows;\n        const sectionElems = sync(gridSection);\n        append(section, sectionElems);\n      };\n      const removeSection = sectionName => {\n        child(table, sectionName).each(remove$6);\n      };\n      const renderOrRemoveSection = (gridSection, sectionName) => {\n        if (gridSection.length > 0) {\n          renderSection(gridSection, sectionName);\n        } else {\n          removeSection(sectionName);\n        }\n      };\n      const headSection = [];\n      const bodySection = [];\n      const footSection = [];\n      const columnGroupsSection = [];\n      each$2(grid, row => {\n        switch (row.section) {\n        case 'thead':\n          headSection.push(row);\n          break;\n        case 'tbody':\n          bodySection.push(row);\n          break;\n        case 'tfoot':\n          footSection.push(row);\n          break;\n        case 'colgroup':\n          columnGroupsSection.push(row);\n          break;\n        }\n      });\n      renderOrRemoveSection(columnGroupsSection, 'colgroup');\n      renderOrRemoveSection(headSection, 'thead');\n      renderOrRemoveSection(bodySection, 'tbody');\n      renderOrRemoveSection(footSection, 'tfoot');\n      return {\n        newRows,\n        newCells\n      };\n    };\n    const copy = grid => map$1(grid, row => {\n      const tr = shallow(row.element);\n      each$2(row.cells, cell => {\n        const clonedCell = deep(cell.element);\n        setIfNot(clonedCell, 'colspan', cell.colspan, 1);\n        setIfNot(clonedCell, 'rowspan', cell.rowspan, 1);\n        append$1(tr, clonedCell);\n      });\n      return tr;\n    });\n\n    const getColumn = (grid, index) => {\n      return map$1(grid, row => {\n        return getCell(row, index);\n      });\n    };\n    const getRow = (grid, index) => {\n      return grid[index];\n    };\n    const findDiff = (xs, comp) => {\n      if (xs.length === 0) {\n        return 0;\n      }\n      const first = xs[0];\n      const index = findIndex(xs, x => {\n        return !comp(first.element, x.element);\n      });\n      return index.getOr(xs.length);\n    };\n    const subgrid = (grid, row, column, comparator) => {\n      const gridRow = getRow(grid, row);\n      const isColRow = gridRow.section === 'colgroup';\n      const colspan = findDiff(gridRow.cells.slice(column), comparator);\n      const rowspan = isColRow ? 1 : findDiff(getColumn(grid.slice(row), column), comparator);\n      return {\n        colspan,\n        rowspan\n      };\n    };\n\n    const toDetails = (grid, comparator) => {\n      const seen = map$1(grid, row => map$1(row.cells, never));\n      const updateSeen = (rowIndex, columnIndex, rowspan, colspan) => {\n        for (let row = rowIndex; row < rowIndex + rowspan; row++) {\n          for (let column = columnIndex; column < columnIndex + colspan; column++) {\n            seen[row][column] = true;\n          }\n        }\n      };\n      return map$1(grid, (row, rowIndex) => {\n        const details = bind$2(row.cells, (cell, columnIndex) => {\n          if (seen[rowIndex][columnIndex] === false) {\n            const result = subgrid(grid, rowIndex, columnIndex, comparator);\n            updateSeen(rowIndex, columnIndex, result.rowspan, result.colspan);\n            return [detailnew(cell.element, result.rowspan, result.colspan, cell.isNew)];\n          } else {\n            return [];\n          }\n        });\n        return rowdetailnew(row.element, details, row.section, row.isNew);\n      });\n    };\n    const toGrid = (warehouse, generators, isNew) => {\n      const grid = [];\n      each$2(warehouse.colgroups, colgroup => {\n        const colgroupCols = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getColumnAt(warehouse, columnIndex).map(column => elementnew(column.element, isNew, false)).getOrThunk(() => elementnew(generators.colGap(), true, false));\n          colgroupCols.push(element);\n        }\n        grid.push(rowcells(colgroup.element, colgroupCols, 'colgroup', isNew));\n      });\n      for (let rowIndex = 0; rowIndex < warehouse.grid.rows; rowIndex++) {\n        const rowCells = [];\n        for (let columnIndex = 0; columnIndex < warehouse.grid.columns; columnIndex++) {\n          const element = Warehouse.getAt(warehouse, rowIndex, columnIndex).map(item => elementnew(item.element, isNew, item.isLocked)).getOrThunk(() => elementnew(generators.gap(), true, false));\n          rowCells.push(element);\n        }\n        const rowDetail = warehouse.all[rowIndex];\n        const row = rowcells(rowDetail.element, rowCells, rowDetail.section, isNew);\n        grid.push(row);\n      }\n      return grid;\n    };\n\n    const fromWarehouse = (warehouse, generators) => toGrid(warehouse, generators, false);\n    const toDetailList = grid => toDetails(grid, eq$1);\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find$1(r.cells, e => eq$1(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map$1(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const run = (operation, extract, adjustment, postAction, genWrappers) => (table, target, generators, behaviours) => {\n      const warehouse = Warehouse.fromTable(table);\n      const tableSection = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.section).getOrThunk(TableSection.fallback);\n      const output = extract(warehouse, target).map(info => {\n        const model = fromWarehouse(warehouse, generators);\n        const result = operation(model, info, eq$1, genWrappers(generators), tableSection);\n        const lockedColumns = getLockedColumnsFromGrid(result.grid);\n        const grid = toDetailList(result.grid);\n        return {\n          info,\n          grid,\n          cursor: result.cursor,\n          lockedColumns\n        };\n      });\n      return output.bind(out => {\n        const newElements = render$1(table, out.grid);\n        const tableSizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.sizing).getOrThunk(() => TableSize.getTableSize(table));\n        const resizing = Optional.from(behaviours === null || behaviours === void 0 ? void 0 : behaviours.resize).getOrThunk(preserveTable);\n        adjustment(table, out.grid, out.info, {\n          sizing: tableSizing,\n          resize: resizing,\n          section: tableSection\n        });\n        postAction(table);\n        remove$7(table, LOCKED_COL_ATTR);\n        if (out.lockedColumns.length > 0) {\n          set$2(table, LOCKED_COL_ATTR, out.lockedColumns.join(','));\n        }\n        return Optional.some({\n          cursor: out.cursor,\n          newRows: newElements.newRows,\n          newCells: newElements.newCells\n        });\n      });\n    };\n    const onPaste = (warehouse, target) => cell(target.element).bind(cell => findInWarehouse(warehouse, cell).map(details => {\n      const value = {\n        ...details,\n        generators: target.generators,\n        clipboard: target.clipboard\n      };\n      return value;\n    }));\n    const onPasteByEditor = (warehouse, target) => extractCells(warehouse, target, always).map(cells => ({\n      cells,\n      generators: target.generators,\n      clipboard: target.clipboard\n    }));\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const onUnlockedCells = (warehouse, target) => extractCells(warehouse, target, detail => !detail.isLocked);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const merge$2 = (grid, bounds, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (rows.length === 0) {\n        return grid;\n      }\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          const row = rows[i];\n          const isLocked = getCell(row, j).isLocked;\n          mutateCell(row, j, elementnew(substitution(), false, isLocked));\n        }\n      }\n      return grid;\n    };\n    const unmerge = (grid, target, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      let first = true;\n      for (let i = 0; i < rows.length; i++) {\n        for (let j = 0; j < cellLength(rows[0]); j++) {\n          const row = rows[i];\n          const currentCell = getCell(row, j);\n          const currentCellElm = currentCell.element;\n          const isToReplace = comparator(currentCellElm, target);\n          if (isToReplace && !first) {\n            mutateCell(row, j, elementnew(substitution(), true, currentCell.isLocked));\n          } else if (isToReplace) {\n            first = false;\n          }\n        }\n      }\n      return grid;\n    };\n    const uniqueCells = (row, comparator) => {\n      return foldl(row, (rest, cell) => {\n        return exists(rest, currentCell => {\n          return comparator(currentCell.element, cell.element);\n        }) ? rest : rest.concat([cell]);\n      }, []);\n    };\n    const splitCols = (grid, index, comparator, substitution) => {\n      if (index > 0 && index < grid[0].cells.length) {\n        each$2(grid, row => {\n          const prevCell = row.cells[index - 1];\n          const current = row.cells[index];\n          const isToReplace = comparator(current.element, prevCell.element);\n          if (isToReplace) {\n            mutateCell(row, index, elementnew(substitution(), true, current.isLocked));\n          }\n        });\n      }\n      return grid;\n    };\n    const splitRows = (grid, index, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      if (index > 0 && index < rows.length) {\n        const rowPrevCells = rows[index - 1].cells;\n        const cells = uniqueCells(rowPrevCells, comparator);\n        each$2(cells, cell => {\n          let replacement = Optional.none();\n          for (let i = index; i < rows.length; i++) {\n            for (let j = 0; j < cellLength(rows[0]); j++) {\n              const row = rows[i];\n              const current = getCell(row, j);\n              const isToReplace = comparator(current.element, cell.element);\n              if (isToReplace) {\n                if (replacement.isNone()) {\n                  replacement = Optional.some(substitution());\n                }\n                replacement.each(sub => {\n                  mutateCell(row, j, elementnew(sub, true, current.isLocked));\n                });\n              }\n            }\n          }\n        });\n      }\n      return grid;\n    };\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply,\n        orThunk: apply,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const measure = (startAddress, gridA, gridB) => {\n      if (startAddress.row >= gridA.length || startAddress.column > cellLength(gridA[0])) {\n        return Result.error('invalid start address out of table bounds, row: ' + startAddress.row + ', column: ' + startAddress.column);\n      }\n      const rowRemainder = gridA.slice(startAddress.row);\n      const colRemainder = rowRemainder[0].cells.slice(startAddress.column);\n      const colRequired = cellLength(gridB[0]);\n      const rowRequired = gridB.length;\n      return Result.value({\n        rowDelta: rowRemainder.length - rowRequired,\n        colDelta: colRemainder.length - colRequired\n      });\n    };\n    const measureWidth = (gridA, gridB) => {\n      const colLengthA = cellLength(gridA[0]);\n      const colLengthB = cellLength(gridB[0]);\n      return {\n        rowDelta: 0,\n        colDelta: colLengthA - colLengthB\n      };\n    };\n    const measureHeight = (gridA, gridB) => {\n      const rowLengthA = gridA.length;\n      const rowLengthB = gridB.length;\n      return {\n        rowDelta: rowLengthA - rowLengthB,\n        colDelta: 0\n      };\n    };\n    const generateElements = (amount, row, generators, isLocked) => {\n      const generator = row.section === 'colgroup' ? generators.col : generators.cell;\n      return range$1(amount, idx => elementnew(generator(), true, isLocked(idx)));\n    };\n    const rowFill = (grid, amount, generators, lockedColumns) => {\n      const exampleRow = grid[grid.length - 1];\n      return grid.concat(range$1(amount, () => {\n        const generator = exampleRow.section === 'colgroup' ? generators.colgroup : generators.row;\n        const row = clone(exampleRow, generator, identity);\n        const elements = generateElements(row.cells.length, row, generators, idx => has$1(lockedColumns, idx.toString()));\n        return setCells(row, elements);\n      }));\n    };\n    const colFill = (grid, amount, generators, startIndex) => map$1(grid, row => {\n      const newChildren = generateElements(amount, row, generators, never);\n      return addCells(row, startIndex, newChildren);\n    });\n    const lockedColFill = (grid, generators, lockedColumns) => map$1(grid, row => {\n      return foldl(lockedColumns, (acc, colNum) => {\n        const newChild = generateElements(1, row, generators, always)[0];\n        return addCell(acc, colNum, newChild);\n      }, row);\n    });\n    const tailor = (gridA, delta, generators) => {\n      const fillCols = delta.colDelta < 0 ? colFill : identity;\n      const fillRows = delta.rowDelta < 0 ? rowFill : identity;\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const gridWidth = cellLength(gridA[0]);\n      const isLastColLocked = exists(lockedColumns, locked => locked === gridWidth - 1);\n      const modifiedCols = fillCols(gridA, Math.abs(delta.colDelta), generators, isLastColLocked ? gridWidth - 1 : gridWidth);\n      const newLockedColumns = getLockedColumnsFromGrid(modifiedCols);\n      return fillRows(modifiedCols, Math.abs(delta.rowDelta), generators, mapToObject(newLockedColumns, always));\n    };\n\n    const isSpanning = (grid, row, col, comparator) => {\n      const candidate = getCell(grid[row], col);\n      const matching = curry(comparator, candidate.element);\n      const currentRow = grid[row];\n      return grid.length > 1 && cellLength(currentRow) > 1 && (col > 0 && matching(getCellElement(currentRow, col - 1)) || col < currentRow.cells.length - 1 && matching(getCellElement(currentRow, col + 1)) || row > 0 && matching(getCellElement(grid[row - 1], col)) || row < grid.length - 1 && matching(getCellElement(grid[row + 1], col)));\n    };\n    const mergeTables = (startAddress, gridA, gridBRows, generator, comparator, lockedColumns) => {\n      const startRow = startAddress.row;\n      const startCol = startAddress.column;\n      const mergeHeight = gridBRows.length;\n      const mergeWidth = cellLength(gridBRows[0]);\n      const endRow = startRow + mergeHeight;\n      const endCol = startCol + mergeWidth + lockedColumns.length;\n      const lockedColumnObj = mapToObject(lockedColumns, always);\n      for (let r = startRow; r < endRow; r++) {\n        let skippedCol = 0;\n        for (let c = startCol; c < endCol; c++) {\n          if (lockedColumnObj[c]) {\n            skippedCol++;\n            continue;\n          }\n          if (isSpanning(gridA, r, c, comparator)) {\n            unmerge(gridA, getCellElement(gridA[r], c), comparator, generator.cell);\n          }\n          const gridBColIndex = c - startCol - skippedCol;\n          const newCell = getCell(gridBRows[r - startRow], gridBColIndex);\n          const newCellElm = newCell.element;\n          const replacement = generator.replace(newCellElm);\n          mutateCell(gridA[r], c, elementnew(replacement, true, newCell.isLocked));\n        }\n      }\n      return gridA;\n    };\n    const getValidStartAddress = (currentStartAddress, grid, lockedColumns) => {\n      const gridColLength = cellLength(grid[0]);\n      const adjustedRowAddress = extractGridDetails(grid).cols.length + currentStartAddress.row;\n      const possibleColAddresses = range$1(gridColLength - currentStartAddress.column, num => num + currentStartAddress.column);\n      const validColAddress = find$1(possibleColAddresses, num => forall(lockedColumns, col => col !== num)).getOr(gridColLength - 1);\n      return {\n        row: adjustedRowAddress,\n        column: validColAddress\n      };\n    };\n    const getLockedColumnsWithinBounds = (startAddress, rows, lockedColumns) => filter$2(lockedColumns, colNum => colNum >= startAddress.column && colNum <= cellLength(rows[0]) + startAddress.column);\n    const merge$1 = (startAddress, gridA, gridB, generator, comparator) => {\n      const lockedColumns = getLockedColumnsFromGrid(gridA);\n      const validStartAddress = getValidStartAddress(startAddress, gridA, lockedColumns);\n      const gridBRows = extractGridDetails(gridB).rows;\n      const lockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, lockedColumns);\n      const result = measure(validStartAddress, gridA, gridBRows);\n      return result.map(diff => {\n        const delta = {\n          ...diff,\n          colDelta: diff.colDelta - lockedColumnsWithinBounds.length\n        };\n        const fittedGrid = tailor(gridA, delta, generator);\n        const newLockedColumns = getLockedColumnsFromGrid(fittedGrid);\n        const newLockedColumnsWithinBounds = getLockedColumnsWithinBounds(validStartAddress, gridBRows, newLockedColumns);\n        return mergeTables(validStartAddress, fittedGrid, gridBRows, generator, comparator, newLockedColumnsWithinBounds);\n      });\n    };\n    const insertCols = (index, gridA, gridB, generator, comparator) => {\n      splitCols(gridA, index, comparator, generator.cell);\n      const delta = measureHeight(gridB, gridA);\n      const fittedNewGrid = tailor(gridB, delta, generator);\n      const secondDelta = measureHeight(gridA, fittedNewGrid);\n      const fittedOldGrid = tailor(gridA, secondDelta, generator);\n      return map$1(fittedOldGrid, (gridRow, i) => {\n        return addCells(gridRow, index, fittedNewGrid[i].cells);\n      });\n    };\n    const insertRows = (index, gridA, gridB, generator, comparator) => {\n      splitRows(gridA, index, comparator, generator.cell);\n      const locked = getLockedColumnsFromGrid(gridA);\n      const diff = measureWidth(gridA, gridB);\n      const delta = {\n        ...diff,\n        colDelta: diff.colDelta - locked.length\n      };\n      const fittedOldGrid = tailor(gridA, delta, generator);\n      const {\n        cols: oldCols,\n        rows: oldRows\n      } = extractGridDetails(fittedOldGrid);\n      const newLocked = getLockedColumnsFromGrid(fittedOldGrid);\n      const secondDiff = measureWidth(gridB, gridA);\n      const secondDelta = {\n        ...secondDiff,\n        colDelta: secondDiff.colDelta + newLocked.length\n      };\n      const fittedGridB = lockedColFill(gridB, generator, newLocked);\n      const fittedNewGrid = tailor(fittedGridB, secondDelta, generator);\n      return [\n        ...oldCols,\n        ...oldRows.slice(0, index),\n        ...fittedNewGrid,\n        ...oldRows.slice(index, oldRows.length)\n      ];\n    };\n\n    const cloneRow = (row, cloneCell, comparator, substitution) => clone(row, elem => substitution(elem, comparator), cloneCell);\n    const insertRowAt = (grid, index, example, comparator, substitution) => {\n      const {rows, cols} = extractGridDetails(grid);\n      const before = rows.slice(0, index);\n      const after = rows.slice(index);\n      const newRow = cloneRow(rows[example], (ex, c) => {\n        const withinSpan = index > 0 && index < rows.length && comparator(getCellElement(rows[index - 1], c), getCellElement(rows[index], c));\n        const ret = withinSpan ? getCell(rows[index], c) : elementnew(substitution(ex.element, comparator), true, ex.isLocked);\n        return ret;\n      }, comparator, substitution);\n      return [\n        ...cols,\n        ...before,\n        newRow,\n        ...after\n      ];\n    };\n    const getElementFor = (row, column, section, withinSpan, example, comparator, substitution) => {\n      if (section === 'colgroup' || !withinSpan) {\n        const cell = getCell(row, example);\n        return elementnew(substitution(cell.element, comparator), true, false);\n      } else {\n        return getCell(row, column);\n      }\n    };\n    const insertColumnAt = (grid, index, example, comparator, substitution) => map$1(grid, row => {\n      const withinSpan = index > 0 && index < cellLength(row) && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n      const sub = getElementFor(row, index, row.section, withinSpan, example, comparator, substitution);\n      return addCell(row, index, sub);\n    });\n    const deleteColumnsAt = (grid, columns) => bind$2(grid, row => {\n      const existingCells = row.cells;\n      const cells = foldr(columns, (acc, column) => column >= 0 && column < acc.length ? acc.slice(0, column).concat(acc.slice(column + 1)) : acc, existingCells);\n      return cells.length > 0 ? [rowcells(row.element, cells, row.section, row.isNew)] : [];\n    });\n    const deleteRowsAt = (grid, start, finish) => {\n      const {rows, cols} = extractGridDetails(grid);\n      return [\n        ...cols,\n        ...rows.slice(0, start),\n        ...rows.slice(finish + 1)\n      ];\n    };\n\n    const notInStartRow = (grid, rowIndex, colIndex, comparator) => getCellElement(grid[rowIndex], colIndex) !== undefined && (rowIndex > 0 && comparator(getCellElement(grid[rowIndex - 1], colIndex), getCellElement(grid[rowIndex], colIndex)));\n    const notInStartColumn = (row, index, comparator) => index > 0 && comparator(getCellElement(row, index - 1), getCellElement(row, index));\n    const isDuplicatedCell = (grid, rowIndex, colIndex, comparator) => notInStartRow(grid, rowIndex, colIndex, comparator) || notInStartColumn(grid[rowIndex], colIndex, comparator);\n    const rowReplacerPredicate = (targetRow, columnHeaders) => {\n      const entireTableIsHeader = forall(columnHeaders, identity) && isHeaderCells(targetRow.cells);\n      return entireTableIsHeader ? always : (cell, _rowIndex, colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && columnHeaders[colIndex]);\n      };\n    };\n    const columnReplacePredicate = (targetColumn, rowHeaders) => {\n      const entireTableIsHeader = forall(rowHeaders, identity) && isHeaderCells(targetColumn);\n      return entireTableIsHeader ? always : (cell, rowIndex, _colIndex) => {\n        const type = name(cell.element);\n        return !(type === 'th' && rowHeaders[rowIndex]);\n      };\n    };\n    const determineScope = (applyScope, cell, newScope, isInHeader) => {\n      const hasSpan = scope => scope === 'row' ? hasRowspan(cell) : hasColspan(cell);\n      const getScope = scope => hasSpan(scope) ? `${ scope }group` : scope;\n      if (applyScope) {\n        return isHeaderCell(cell) ? getScope(newScope) : null;\n      } else if (isInHeader && isHeaderCell(cell)) {\n        const oppositeScope = newScope === 'row' ? 'col' : 'row';\n        return getScope(oppositeScope);\n      } else {\n        return null;\n      }\n    };\n    const rowScopeGenerator = (applyScope, columnHeaders) => (cell, rowIndex, columnIndex) => Optional.some(determineScope(applyScope, cell.element, 'col', columnHeaders[columnIndex]));\n    const columnScopeGenerator = (applyScope, rowHeaders) => (cell, rowIndex) => Optional.some(determineScope(applyScope, cell.element, 'row', rowHeaders[rowIndex]));\n    const replace = (cell, comparator, substitute) => elementnew(substitute(cell.element, comparator), true, cell.isLocked);\n    const replaceIn = (grid, targets, comparator, substitute, replacer, genScope, shouldReplace) => {\n      const isTarget = cell => {\n        return exists(targets, target => {\n          return comparator(cell.element, target.element);\n        });\n      };\n      return map$1(grid, (row, rowIndex) => {\n        return mapCells(row, (cell, colIndex) => {\n          if (isTarget(cell)) {\n            const newCell = shouldReplace(cell, rowIndex, colIndex) ? replacer(cell, comparator, substitute) : cell;\n            genScope(newCell, rowIndex, colIndex).each(scope => {\n              setOptions(newCell.element, { scope: Optional.from(scope) });\n            });\n            return newCell;\n          } else {\n            return cell;\n          }\n        });\n      });\n    };\n    const getColumnCells = (rows, columnIndex, comparator) => bind$2(rows, (row, i) => {\n      return isDuplicatedCell(rows, i, columnIndex, comparator) ? [] : [getCell(row, columnIndex)];\n    });\n    const getRowCells = (rows, rowIndex, comparator) => {\n      const targetRow = rows[rowIndex];\n      return bind$2(targetRow.cells, (item, i) => {\n        return isDuplicatedCell(rows, rowIndex, i, comparator) ? [] : [item];\n      });\n    };\n    const replaceColumns = (grid, indexes, applyScope, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targets = bind$2(indexes, index => getColumnCells(rows, index, comparator));\n      const rowHeaders = map$1(rows, row => isHeaderCells(row.cells));\n      const shouldReplaceCell = columnReplacePredicate(targets, rowHeaders);\n      const scopeGenerator = columnScopeGenerator(applyScope, rowHeaders);\n      return replaceIn(grid, targets, comparator, substitution, replace, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceRows = (grid, indexes, section, applyScope, comparator, substitution, tableSection) => {\n      const {cols, rows} = extractGridDetails(grid);\n      const targetRow = rows[indexes[0]];\n      const targets = bind$2(indexes, index => getRowCells(rows, index, comparator));\n      const columnHeaders = map$1(targetRow.cells, (_cell, index) => isHeaderCells(getColumnCells(rows, index, comparator)));\n      const newRows = [...rows];\n      each$2(indexes, index => {\n        newRows[index] = tableSection.transformRow(rows[index], section);\n      });\n      const newGrid = [\n        ...cols,\n        ...newRows\n      ];\n      const shouldReplaceCell = rowReplacerPredicate(targetRow, columnHeaders);\n      const scopeGenerator = rowScopeGenerator(applyScope, columnHeaders);\n      return replaceIn(newGrid, targets, comparator, substitution, tableSection.transformCell, scopeGenerator, shouldReplaceCell);\n    };\n    const replaceCells = (grid, details, comparator, substitution) => {\n      const rows = extractGridDetails(grid).rows;\n      const targetCells = map$1(details, detail => getCell(rows[detail.row], detail.column));\n      return replaceIn(grid, targetCells, comparator, substitution, replace, Optional.none, always);\n    };\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$2(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt$6 = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    const ColumnContext = { ...adt$6 };\n\n    const neighbours = (input, index) => {\n      if (input.length === 0) {\n        return ColumnContext.none();\n      }\n      if (input.length === 1) {\n        return ColumnContext.only(0);\n      }\n      if (index === 0) {\n        return ColumnContext.left(0, 1);\n      }\n      if (index === input.length - 1) {\n        return ColumnContext.right(index - 1, index);\n      }\n      if (index > 0 && index < input.length - 1) {\n        return ColumnContext.middle(index - 1, index, index + 1);\n      }\n      return ColumnContext.none();\n    };\n    const determine = (input, column, step, tableSize, resize) => {\n      const result = input.slice(0);\n      const context = neighbours(input, column);\n      const onNone = constant(map$1(result, constant(0)));\n      const onOnly = index => tableSize.singleColumnWidth(result[index], step);\n      const onLeft = (index, next) => resize.calcLeftEdgeDeltas(result, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onMiddle = (prev, index, next) => resize.calcMiddleDeltas(result, prev, index, next, step, tableSize.minCellWidth(), tableSize.isRelative);\n      const onRight = (prev, index) => resize.calcRightEdgeDeltas(result, prev, index, step, tableSize.minCellWidth(), tableSize.isRelative);\n      return context.fold(onNone, onOnly, onLeft, onMiddle, onRight);\n    };\n\n    const total = (start, end, measures) => {\n      let r = 0;\n      for (let i = start; i < end; i++) {\n        r += measures[i] !== undefined ? measures[i] : 0;\n      }\n      return r;\n    };\n    const recalculateWidthForCells = (warehouse, widths) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const width = total(cell.column, cell.column + cell.colspan, widths);\n        return {\n          element: cell.element,\n          width,\n          colspan: cell.colspan\n        };\n      });\n    };\n    const recalculateWidthForColumns = (warehouse, widths) => {\n      const groups = Warehouse.justColumns(warehouse);\n      return map$1(groups, (column, index) => ({\n        element: column.element,\n        width: widths[index],\n        colspan: column.colspan\n      }));\n    };\n    const recalculateHeightForCells = (warehouse, heights) => {\n      const all = Warehouse.justCells(warehouse);\n      return map$1(all, cell => {\n        const height = total(cell.row, cell.row + cell.rowspan, heights);\n        return {\n          element: cell.element,\n          height,\n          rowspan: cell.rowspan\n        };\n      });\n    };\n    const matchRowHeight = (warehouse, heights) => {\n      return map$1(warehouse.all, (row, i) => {\n        return {\n          element: row.element,\n          height: heights[i]\n        };\n      });\n    };\n\n    const sumUp = newSize => foldr(newSize, (b, a) => b + a, 0);\n    const recalculate = (warehouse, widths) => {\n      if (Warehouse.hasColumns(warehouse)) {\n        return recalculateWidthForColumns(warehouse, widths);\n      } else {\n        return recalculateWidthForCells(warehouse, widths);\n      }\n    };\n    const recalculateAndApply = (warehouse, widths, tableSize) => {\n      const newSizes = recalculate(warehouse, widths);\n      each$2(newSizes, cell => {\n        tableSize.setElementWidth(cell.element, cell.width);\n      });\n    };\n    const adjustWidth = (table, delta, index, resizing, tableSize) => {\n      const warehouse = Warehouse.fromTable(table);\n      const step = tableSize.getCellDelta(delta);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      const isLastColumn = index === warehouse.grid.columns - 1;\n      const clampedStep = resizing.clampTableDelta(widths, index, step, tableSize.minCellWidth(), isLastColumn);\n      const deltas = determine(widths, index, clampedStep, tableSize, resizing);\n      const newWidths = map$1(deltas, (dx, i) => dx + widths[i]);\n      recalculateAndApply(warehouse, newWidths, tableSize);\n      resizing.resizeTable(tableSize.adjustTableWidth, clampedStep, isLastColumn);\n    };\n    const adjustHeight = (table, delta, index, direction) => {\n      const warehouse = Warehouse.fromTable(table);\n      const heights = getPixelHeights(warehouse, table, direction);\n      const newHeights = map$1(heights, (dy, i) => index === i ? Math.max(delta + dy, minHeight()) : dy);\n      const newCellSizes = recalculateHeightForCells(warehouse, newHeights);\n      const newRowSizes = matchRowHeight(warehouse, newHeights);\n      each$2(newRowSizes, row => {\n        setHeight(row.element, row.height);\n      });\n      each$2(newCellSizes, cell => {\n        setHeight(cell.element, cell.height);\n      });\n      const total = sumUp(newHeights);\n      setHeight(table, total);\n    };\n    const adjustAndRedistributeWidths$1 = (_table, list, details, tableSize, resizeBehaviour) => {\n      const warehouse = Warehouse.generate(list);\n      const sizes = tableSize.getWidths(warehouse, tableSize);\n      const tablePixelWidth = tableSize.pixelWidth();\n      const {newSizes, delta} = resizeBehaviour.calcRedestributedWidths(sizes, tablePixelWidth, details.pixelDelta, tableSize.isRelative);\n      recalculateAndApply(warehouse, newSizes, tableSize);\n      tableSize.adjustTableWidth(delta);\n    };\n    const adjustWidthTo = (_table, list, _info, tableSize) => {\n      const warehouse = Warehouse.generate(list);\n      const widths = tableSize.getWidths(warehouse, tableSize);\n      recalculateAndApply(warehouse, widths, tableSize);\n    };\n\n    const uniqueColumns = details => {\n      const uniqueCheck = (rest, detail) => {\n        const columnExists = exists(rest, currentDetail => currentDetail.column === detail.column);\n        return columnExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, uniqueCheck, []).sort((detailA, detailB) => detailA.column - detailB.column);\n    };\n\n    const isCol = isTag('col');\n    const isColgroup = isTag('colgroup');\n    const isRow$1 = element => name(element) === 'tr' || isColgroup(element);\n    const elementToData = element => {\n      const colspan = getAttrValue(element, 'colspan', 1);\n      const rowspan = getAttrValue(element, 'rowspan', 1);\n      return {\n        element,\n        colspan,\n        rowspan\n      };\n    };\n    const modification = (generators, toData = elementToData) => {\n      const nuCell = data => isCol(data.element) ? generators.col(data) : generators.cell(data);\n      const nuRow = data => isColgroup(data.element) ? generators.colgroup(data) : generators.row(data);\n      const add = element => {\n        if (isRow$1(element)) {\n          return nuRow({ element });\n        } else {\n          const cell = element;\n          const replacement = nuCell(toData(cell));\n          recent = Optional.some({\n            item: cell,\n            replacement\n          });\n          return replacement;\n        }\n      };\n      let recent = Optional.none();\n      const getOrInit = (element, comparator) => {\n        return recent.fold(() => {\n          return add(element);\n        }, p => {\n          return comparator(element, p.item) ? p.replacement : add(element);\n        });\n      };\n      return { getOrInit };\n    };\n    const transform$1 = tag => {\n      return generators => {\n        const list = [];\n        const find = (element, comparator) => {\n          return find$1(list, x => {\n            return comparator(x.item, element);\n          });\n        };\n        const makeNew = element => {\n          const attrs = tag === 'td' ? { scope: null } : {};\n          const cell = generators.replace(element, tag, attrs);\n          list.push({\n            item: element,\n            sub: cell\n          });\n          return cell;\n        };\n        const replaceOrInit = (element, comparator) => {\n          if (isRow$1(element) || isCol(element)) {\n            return element;\n          } else {\n            const cell = element;\n            return find(cell, comparator).fold(() => {\n              return makeNew(cell);\n            }, p => {\n              return comparator(element, p.item) ? p.sub : makeNew(cell);\n            });\n          }\n        };\n        return { replaceOrInit };\n      };\n    };\n    const getScopeAttribute = cell => getOpt(cell, 'scope').map(attribute => attribute.substr(0, 3));\n    const merging = generators => {\n      const unmerge = cell => {\n        const scope = getScopeAttribute(cell);\n        scope.each(attribute => set$2(cell, 'scope', attribute));\n        return () => {\n          const raw = generators.cell({\n            element: cell,\n            colspan: 1,\n            rowspan: 1\n          });\n          remove$5(raw, 'width');\n          remove$5(cell, 'width');\n          scope.each(attribute => set$2(raw, 'scope', attribute));\n          return raw;\n        };\n      };\n      const merge = cells => {\n        const getScopeProperty = () => {\n          const stringAttributes = cat(map$1(cells, getScopeAttribute));\n          if (stringAttributes.length === 0) {\n            return Optional.none();\n          } else {\n            const baseScope = stringAttributes[0];\n            const scopes = [\n              'row',\n              'col'\n            ];\n            const isMixed = exists(stringAttributes, attribute => {\n              return attribute !== baseScope && contains$2(scopes, attribute);\n            });\n            return isMixed ? Optional.none() : Optional.from(baseScope);\n          }\n        };\n        remove$5(cells[0], 'width');\n        getScopeProperty().fold(() => remove$7(cells[0], 'scope'), attribute => set$2(cells[0], 'scope', attribute + 'group'));\n        return constant(cells[0]);\n      };\n      return {\n        unmerge,\n        merge\n      };\n    };\n    const Generators = {\n      modification,\n      transform: transform$1,\n      merging\n    };\n\n    const blockList = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'table',\n      'thead',\n      'tfoot',\n      'tbody',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n    const isList$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2([\n        'ol',\n        'ul'\n      ], tagName);\n    };\n    const isBlock$1 = (universe, item) => {\n      const tagName = universe.property().name(item);\n      return contains$2(blockList, tagName);\n    };\n    const isEmptyTag$1 = (universe, item) => {\n      return contains$2([\n        'br',\n        'img',\n        'hr',\n        'input'\n      ], universe.property().name(item));\n    };\n\n    const universe$1 = DomUniverse();\n    const isBlock = element => {\n      return isBlock$1(universe$1, element);\n    };\n    const isList = element => {\n      return isList$1(universe$1, element);\n    };\n    const isEmptyTag = element => {\n      return isEmptyTag$1(universe$1, element);\n    };\n\n    const merge = cells => {\n      const isBr = isTag('br');\n      const advancedBr = children => {\n        return forall(children, c => {\n          return isBr(c) || isText(c) && get$6(c).trim().length === 0;\n        });\n      };\n      const isListItem = el => {\n        return name(el) === 'li' || ancestor$2(el, isList).isSome();\n      };\n      const siblingIsBlock = el => {\n        return nextSibling(el).map(rightSibling => {\n          if (isBlock(rightSibling)) {\n            return true;\n          }\n          if (isEmptyTag(rightSibling)) {\n            return name(rightSibling) === 'img' ? false : true;\n          }\n          return false;\n        }).getOr(false);\n      };\n      const markCell = cell => {\n        return last$1(cell).bind(rightEdge => {\n          const rightSiblingIsBlock = siblingIsBlock(rightEdge);\n          return parent(rightEdge).map(parent => {\n            return rightSiblingIsBlock === true || isListItem(parent) || isBr(rightEdge) || isBlock(parent) && !eq$1(cell, parent) ? [] : [SugarElement.fromTag('br')];\n          });\n        }).getOr([]);\n      };\n      const markContent = () => {\n        const content = bind$2(cells, cell => {\n          const children = children$2(cell);\n          return advancedBr(children) ? [] : children.concat(markCell(cell));\n        });\n        return content.length === 0 ? [SugarElement.fromTag('br')] : content;\n      };\n      const contents = markContent();\n      empty(cells[0]);\n      append(cells[0], contents);\n    };\n\n    const isEditable = elem => isEditable$1(elem, true);\n    const prune = table => {\n      const cells = cells$1(table);\n      if (cells.length === 0) {\n        remove$6(table);\n      }\n    };\n    const outcome = (grid, cursor) => ({\n      grid,\n      cursor\n    });\n    const findEditableCursorPosition = rows => findMap(rows, row => findMap(row.cells, cell => {\n      const elem = cell.element;\n      return someIf(isEditable(elem), elem);\n    }));\n    const elementFromGrid = (grid, row, column) => {\n      var _a, _b;\n      const rows = extractGridDetails(grid).rows;\n      return Optional.from((_b = (_a = rows[row]) === null || _a === void 0 ? void 0 : _a.cells[column]) === null || _b === void 0 ? void 0 : _b.element).filter(isEditable).orThunk(() => findEditableCursorPosition(rows));\n    };\n    const bundle = (grid, row, column) => {\n      const cursorElement = elementFromGrid(grid, row, column);\n      return outcome(grid, cursorElement);\n    };\n    const uniqueRows = details => {\n      const rowCompilation = (rest, detail) => {\n        const rowExists = exists(rest, currentDetail => currentDetail.row === detail.row);\n        return rowExists ? rest : rest.concat([detail]);\n      };\n      return foldl(details, rowCompilation, []).sort((detailA, detailB) => detailA.row - detailB.row);\n    };\n    const opInsertRowsBefore = (grid, details, comparator, genWrappers) => {\n      const targetIndex = details[0].row;\n      const rows = uniqueRows(details);\n      const newGrid = foldr(rows, (acc, row) => {\n        const newG = insertRowAt(acc.grid, targetIndex, row.row + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertRowsAfter = (grid, details, comparator, genWrappers) => {\n      const rows = uniqueRows(details);\n      const target = rows[rows.length - 1];\n      const targetIndex = target.row + target.rowspan;\n      const newGrid = foldr(rows, (newG, row) => {\n        return insertRowAt(newG, targetIndex, row.row, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, targetIndex, details[0].column);\n    };\n    const opInsertColumnsBefore = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const columns = uniqueColumns(details);\n      const targetIndex = columns[0].column;\n      const newGrid = foldr(columns, (acc, col) => {\n        const newG = insertColumnAt(acc.grid, targetIndex, col.column + acc.delta, comparator, genWrappers.getOrInit);\n        return {\n          grid: newG,\n          delta: acc.delta + 1\n        };\n      }, {\n        grid,\n        delta: 0\n      }).grid;\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opInsertColumnsAfter = (grid, extractDetail, comparator, genWrappers) => {\n      const details = extractDetail.details;\n      const target = details[details.length - 1];\n      const targetIndex = target.column + target.colspan;\n      const columns = uniqueColumns(details);\n      const newGrid = foldr(columns, (newG, col) => {\n        return insertColumnAt(newG, targetIndex, col.column, comparator, genWrappers.getOrInit);\n      }, grid);\n      return bundle(newGrid, details[0].row, targetIndex);\n    };\n    const opMakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, true, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeColumnsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const columns = uniqueColumns(details);\n      const columnIndexes = map$1(columns, detail => detail.column);\n      const newGrid = replaceColumns(initialGrid, columnIndexes, false, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opUnmakeCellsHeader = (initialGrid, details, comparator, genWrappers) => {\n      const newGrid = replaceCells(initialGrid, details, comparator, genWrappers.replaceOrInit);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const makeRowsSection = (section, applyScope) => (initialGrid, details, comparator, genWrappers, tableSection) => {\n      const rows = uniqueRows(details);\n      const rowIndexes = map$1(rows, detail => detail.row);\n      const newGrid = replaceRows(initialGrid, rowIndexes, section, applyScope, comparator, genWrappers.replaceOrInit, tableSection);\n      return bundle(newGrid, details[0].row, details[0].column);\n    };\n    const opMakeRowsHeader = makeRowsSection('thead', true);\n    const opMakeRowsBody = makeRowsSection('tbody', false);\n    const opMakeRowsFooter = makeRowsSection('tfoot', false);\n    const opEraseColumns = (grid, extractDetail, _comparator, _genWrappers) => {\n      const columns = uniqueColumns(extractDetail.details);\n      const newGrid = deleteColumnsAt(grid, map$1(columns, column => column.column));\n      const maxColIndex = newGrid.length > 0 ? newGrid[0].cells.length - 1 : 0;\n      return bundle(newGrid, columns[0].row, Math.min(columns[0].column, maxColIndex));\n    };\n    const opEraseRows = (grid, details, _comparator, _genWrappers) => {\n      const rows = uniqueRows(details);\n      const newGrid = deleteRowsAt(grid, rows[0].row, rows[rows.length - 1].row);\n      const maxRowIndex = newGrid.length > 0 ? newGrid.length - 1 : 0;\n      return bundle(newGrid, Math.min(details[0].row, maxRowIndex), details[0].column);\n    };\n    const opMergeCells = (grid, mergable, comparator, genWrappers) => {\n      const cells = mergable.cells;\n      merge(cells);\n      const newGrid = merge$2(grid, mergable.bounds, comparator, genWrappers.merge(cells));\n      return outcome(newGrid, Optional.from(cells[0]));\n    };\n    const opUnmergeCells = (grid, unmergable, comparator, genWrappers) => {\n      const unmerge$1 = (b, cell) => unmerge(b, cell, comparator, genWrappers.unmerge(cell));\n      const newGrid = foldr(unmergable, unmerge$1, grid);\n      return outcome(newGrid, Optional.from(unmergable[0]));\n    };\n    const opPasteCells = (grid, pasteDetails, comparator, _genWrappers) => {\n      const gridify = (table, generators) => {\n        const wh = Warehouse.fromTable(table);\n        return toGrid(wh, generators, true);\n      };\n      const gridB = gridify(pasteDetails.clipboard, pasteDetails.generators);\n      const startAddress = address(pasteDetails.row, pasteDetails.column);\n      const mergedGrid = merge$1(startAddress, grid, gridB, pasteDetails.generators, comparator);\n      return mergedGrid.fold(() => outcome(grid, Optional.some(pasteDetails.element)), newGrid => {\n        return bundle(newGrid, pasteDetails.row, pasteDetails.column);\n      });\n    };\n    const gridifyRows = (rows, generators, context) => {\n      const pasteDetails = fromPastedRows(rows, context.section);\n      const wh = Warehouse.generate(pasteDetails);\n      return toGrid(wh, generators, true);\n    };\n    const opPasteColsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].column;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteColsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].column + pasteDetails.cells[pasteDetails.cells.length - 1].colspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertCols(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsBefore = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[0].row;\n      const context = rows[index];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opPasteRowsAfter = (grid, pasteDetails, comparator, _genWrappers) => {\n      const rows = extractGridDetails(grid).rows;\n      const index = pasteDetails.cells[pasteDetails.cells.length - 1].row + pasteDetails.cells[pasteDetails.cells.length - 1].rowspan;\n      const context = rows[pasteDetails.cells[0].row];\n      const gridB = gridifyRows(pasteDetails.clipboard, pasteDetails.generators, context);\n      const mergedGrid = insertRows(index, grid, gridB, pasteDetails.generators, comparator);\n      return bundle(mergedGrid, pasteDetails.cells[0].row, pasteDetails.cells[0].column);\n    };\n    const opGetColumnsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const selectedColumnCells = flatten(map$1(house.all, row => filter$2(row.cells, cell => cell.column >= minColRange && cell.column < maxColRange)));\n        return findCommonCellType(selectedColumnCells);\n      }).getOr('');\n    };\n    const opGetCellsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(findCommonCellType).getOr('');\n    };\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const resize = (table, list, details, behaviours) => adjustWidthTo(table, list, details, behaviours.sizing);\n    const adjustAndRedistributeWidths = (table, list, details, behaviours) => adjustAndRedistributeWidths$1(table, list, details, behaviours.sizing, behaviours.resize);\n    const firstColumnIsLocked = (_warehouse, details) => exists(details, detail => detail.column === 0 && detail.isLocked);\n    const lastColumnIsLocked = (warehouse, details) => exists(details, detail => detail.column + detail.colspan >= warehouse.grid.columns && detail.isLocked);\n    const getColumnsWidth = (warehouse, details) => {\n      const columns$1 = columns(warehouse);\n      const uniqueCols = uniqueColumns(details);\n      return foldl(uniqueCols, (acc, detail) => {\n        const column = columns$1[detail.column];\n        const colWidth = column.map(getOuter$2).getOr(0);\n        return acc + colWidth;\n      }, 0);\n    };\n    const insertColumnsExtractor = before => (warehouse, target) => onCells(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details);\n    }).map(details => ({\n      details,\n      pixelDelta: getColumnsWidth(warehouse, details)\n    }));\n    const eraseColumnsExtractor = (warehouse, target) => onUnlockedCells(warehouse, target).map(details => ({\n      details,\n      pixelDelta: -getColumnsWidth(warehouse, details)\n    }));\n    const pasteColumnsExtractor = before => (warehouse, target) => onPasteByEditor(warehouse, target).filter(details => {\n      const checkLocked = before ? firstColumnIsLocked : lastColumnIsLocked;\n      return !checkLocked(warehouse, details.cells);\n    });\n    const headerCellGenerator = Generators.transform('th');\n    const bodyCellGenerator = Generators.transform('td');\n    const insertRowsBefore = run(opInsertRowsBefore, onCells, noop, noop, Generators.modification);\n    const insertRowsAfter = run(opInsertRowsAfter, onCells, noop, noop, Generators.modification);\n    const insertColumnsBefore = run(opInsertColumnsBefore, insertColumnsExtractor(true), adjustAndRedistributeWidths, noop, Generators.modification);\n    const insertColumnsAfter = run(opInsertColumnsAfter, insertColumnsExtractor(false), adjustAndRedistributeWidths, noop, Generators.modification);\n    const eraseColumns = run(opEraseColumns, eraseColumnsExtractor, adjustAndRedistributeWidths, prune, Generators.modification);\n    const eraseRows = run(opEraseRows, onCells, noop, prune, Generators.modification);\n    const makeColumnsHeader = run(opMakeColumnsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeColumnsHeader = run(opUnmakeColumnsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsHeader = run(opMakeRowsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const makeRowsBody = run(opMakeRowsBody, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeRowsFooter = run(opMakeRowsFooter, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const makeCellsHeader = run(opMakeCellsHeader, onUnlockedCells, noop, noop, headerCellGenerator);\n    const unmakeCellsHeader = run(opUnmakeCellsHeader, onUnlockedCells, noop, noop, bodyCellGenerator);\n    const mergeCells = run(opMergeCells, onUnlockedMergable, resize, noop, Generators.merging);\n    const unmergeCells = run(opUnmergeCells, onUnlockedUnmergable, resize, noop, Generators.merging);\n    const pasteCells = run(opPasteCells, onPaste, resize, noop, Generators.modification);\n    const pasteColsBefore = run(opPasteColsBefore, pasteColumnsExtractor(true), noop, noop, Generators.modification);\n    const pasteColsAfter = run(opPasteColsAfter, pasteColumnsExtractor(false), noop, noop, Generators.modification);\n    const pasteRowsBefore = run(opPasteRowsBefore, onPasteByEditor, noop, noop, Generators.modification);\n    const pasteRowsAfter = run(opPasteRowsAfter, onPasteByEditor, noop, noop, Generators.modification);\n    const getColumnsType = opGetColumnsType;\n    const getCellsType = opGetCellsType;\n    const getRowsType = opGetRowsType;\n\n    const fireNewRow = (editor, row) => editor.dispatch('NewRow', { node: row });\n    const fireNewCell = (editor, cell) => editor.dispatch('NewCell', { node: cell });\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n    const fireTableSelectionChange = (editor, cells, start, finish, otherCells) => {\n      editor.dispatch('TableSelectionChange', {\n        cells,\n        start,\n        finish,\n        otherCells\n      });\n    };\n    const fireTableSelectionClear = editor => {\n      editor.dispatch('TableSelectionClear');\n    };\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const styleModified = {\n      structure: false,\n      style: true\n    };\n    const structureModified = {\n      structure: true,\n      style: false\n    };\n    const styleAndStructureModified = {\n      structure: true,\n      style: true\n    };\n\n    const option = name => editor => editor.options.get(name);\n    const determineDefaultTableStyles = (editor, defaultStyles) => {\n      var _a;\n      if (isTablePixelsForced(editor)) {\n        const dom = editor.dom;\n        const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n        const contentWidth = getInner(SugarElement.fromDom(parentBlock));\n        return {\n          ...defaultStyles,\n          width: contentWidth + 'px'\n        };\n      } else if (isTableResponsiveForced(editor)) {\n        return filter$1(defaultStyles, (_value, key) => key !== 'width');\n      } else {\n        return defaultStyles;\n      }\n    };\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_clone_elements', { processor: 'string[]' });\n      registerOption('table_use_colgroups', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_header_type', {\n        processor: value => {\n          const valid = contains$2([\n            'section',\n            'cells',\n            'sectionCells',\n            'auto'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: section, cells, sectionCells or auto.'\n          };\n        },\n        default: 'section'\n      });\n      registerOption('table_sizing_mode', {\n        processor: 'string',\n        default: 'auto'\n      });\n      registerOption('table_default_attributes', {\n        processor: 'object',\n        default: { border: '1' }\n      });\n      registerOption('table_default_styles', {\n        processor: 'object',\n        default: {\n          'border-collapse': 'collapse',\n          'width': '100%'\n        }\n      });\n      registerOption('table_column_resizing', {\n        processor: value => {\n          const valid = contains$2([\n            'preservetable',\n            'resizetable'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be preservetable, or resizetable.'\n          };\n        },\n        default: 'preservetable'\n      });\n      registerOption('table_resize_bars', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getTableCloneElements = editor => {\n      return Optional.from(editor.options.get('table_clone_elements'));\n    };\n    const hasTableObjectResizing = editor => {\n      const objectResizing = editor.options.get('object_resizing');\n      return contains$2(objectResizing.split(','), 'table');\n    };\n    const getTableHeaderType = option('table_header_type');\n    const getTableColumnResizingBehaviour = option('table_column_resizing');\n    const isPreserveTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'preservetable';\n    const isResizeTableColumnResizing = editor => getTableColumnResizingBehaviour(editor) === 'resizetable';\n    const getTableSizingMode = option('table_sizing_mode');\n    const isTablePercentagesForced = editor => getTableSizingMode(editor) === 'relative';\n    const isTablePixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isTableResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const hasTableResizeBars = option('table_resize_bars');\n    const getTableDefaultAttributes = option('table_default_attributes');\n    const getTableDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultTableStyles(editor, defaultStyles);\n    };\n    const tableUseColumnGroup = option('table_use_colgroups');\n\n    const get$5 = (editor, table) => {\n      if (isTablePercentagesForced(editor)) {\n        return TableSize.percentageSize(table);\n      } else if (isTablePixelsForced(editor)) {\n        return TableSize.pixelSize(table);\n      } else {\n        return TableSize.getTableSize(table);\n      }\n    };\n\n    const TableActions = (editor, resizeHandler, cellSelectionHandler) => {\n      const isTableBody = editor => name(getBody(editor)) === 'table';\n      const lastRowGuard = table => isTableBody(editor) === false || getGridSize(table).rows > 1;\n      const lastColumnGuard = table => isTableBody(editor) === false || getGridSize(table).columns > 1;\n      const cloneFormats = getTableCloneElements(editor);\n      const colMutationOp = isResizeTableColumnResizing(editor) ? noop : halve;\n      const getTableSectionType = table => {\n        switch (getTableHeaderType(editor)) {\n        case 'section':\n          return TableSection.section();\n        case 'sectionCells':\n          return TableSection.sectionCells();\n        case 'cells':\n          return TableSection.cells();\n        default:\n          return TableSection.getTableSectionType(table, 'section');\n        }\n      };\n      const setSelectionFromAction = (table, result) => result.cursor.fold(() => {\n        const cells = cells$1(table);\n        return head(cells).filter(inBody).map(firstCell => {\n          cellSelectionHandler.clearSelectedCells(table.dom);\n          const rng = editor.dom.createRng();\n          rng.selectNode(firstCell.dom);\n          editor.selection.setRng(rng);\n          set$2(firstCell, 'data-mce-selected', '1');\n          return rng;\n        });\n      }, cell => {\n        const des = freefallRtl(cell);\n        const rng = editor.dom.createRng();\n        rng.setStart(des.element.dom, des.offset);\n        rng.setEnd(des.element.dom, des.offset);\n        editor.selection.setRng(rng);\n        cellSelectionHandler.clearSelectedCells(table.dom);\n        return Optional.some(rng);\n      });\n      const execute = (operation, guard, mutate, effect) => (table, target, noEvents = false) => {\n        removeDataStyle(table);\n        const doc = SugarElement.fromDom(editor.getDoc());\n        const generators = cellOperations(mutate, doc, cloneFormats);\n        const behaviours = {\n          sizing: get$5(editor, table),\n          resize: isResizeTableColumnResizing(editor) ? resizeTable() : preserveTable(),\n          section: getTableSectionType(table)\n        };\n        return guard(table) ? operation(table, target, generators, behaviours).bind(result => {\n          resizeHandler.refresh(table.dom);\n          each$2(result.newRows, row => {\n            fireNewRow(editor, row.dom);\n          });\n          each$2(result.newCells, cell => {\n            fireNewCell(editor, cell.dom);\n          });\n          const range = setSelectionFromAction(table, result);\n          if (inBody(table)) {\n            removeDataStyle(table);\n            if (!noEvents) {\n              fireTableModified(editor, table.dom, effect);\n            }\n          }\n          return range.map(rng => ({\n            rng,\n            effect\n          }));\n        }) : Optional.none();\n      };\n      const deleteRow = execute(eraseRows, lastRowGuard, noop, structureModified);\n      const deleteColumn = execute(eraseColumns, lastColumnGuard, noop, structureModified);\n      const insertRowsBefore$1 = execute(insertRowsBefore, always, noop, structureModified);\n      const insertRowsAfter$1 = execute(insertRowsAfter, always, noop, structureModified);\n      const insertColumnsBefore$1 = execute(insertColumnsBefore, always, colMutationOp, structureModified);\n      const insertColumnsAfter$1 = execute(insertColumnsAfter, always, colMutationOp, structureModified);\n      const mergeCells$1 = execute(mergeCells, always, noop, structureModified);\n      const unmergeCells$1 = execute(unmergeCells, always, noop, structureModified);\n      const pasteColsBefore$1 = execute(pasteColsBefore, always, noop, structureModified);\n      const pasteColsAfter$1 = execute(pasteColsAfter, always, noop, structureModified);\n      const pasteRowsBefore$1 = execute(pasteRowsBefore, always, noop, structureModified);\n      const pasteRowsAfter$1 = execute(pasteRowsAfter, always, noop, structureModified);\n      const pasteCells$1 = execute(pasteCells, always, noop, styleAndStructureModified);\n      const makeCellsHeader$1 = execute(makeCellsHeader, always, noop, structureModified);\n      const unmakeCellsHeader$1 = execute(unmakeCellsHeader, always, noop, structureModified);\n      const makeColumnsHeader$1 = execute(makeColumnsHeader, always, noop, structureModified);\n      const unmakeColumnsHeader$1 = execute(unmakeColumnsHeader, always, noop, structureModified);\n      const makeRowsHeader$1 = execute(makeRowsHeader, always, noop, structureModified);\n      const makeRowsBody$1 = execute(makeRowsBody, always, noop, structureModified);\n      const makeRowsFooter$1 = execute(makeRowsFooter, always, noop, structureModified);\n      const getTableCellType = getCellsType;\n      const getTableColType = getColumnsType;\n      const getTableRowType = getRowsType;\n      return {\n        deleteRow,\n        deleteColumn,\n        insertRowsBefore: insertRowsBefore$1,\n        insertRowsAfter: insertRowsAfter$1,\n        insertColumnsBefore: insertColumnsBefore$1,\n        insertColumnsAfter: insertColumnsAfter$1,\n        mergeCells: mergeCells$1,\n        unmergeCells: unmergeCells$1,\n        pasteColsBefore: pasteColsBefore$1,\n        pasteColsAfter: pasteColsAfter$1,\n        pasteRowsBefore: pasteRowsBefore$1,\n        pasteRowsAfter: pasteRowsAfter$1,\n        pasteCells: pasteCells$1,\n        makeCellsHeader: makeCellsHeader$1,\n        unmakeCellsHeader: unmakeCellsHeader$1,\n        makeColumnsHeader: makeColumnsHeader$1,\n        unmakeColumnsHeader: unmakeColumnsHeader$1,\n        makeRowsHeader: makeRowsHeader$1,\n        makeRowsBody: makeRowsBody$1,\n        makeRowsFooter: makeRowsFooter$1,\n        getTableRowType,\n        getTableCellType,\n        getTableColType\n      };\n    };\n\n    const constrainSpan = (element, property, value) => {\n      const currentColspan = getAttrValue(element, property, 1);\n      if (value === 1 || currentColspan <= 1) {\n        remove$7(element, property);\n      } else {\n        set$2(element, property, Math.min(value, currentColspan));\n      }\n    };\n    const generateColGroup = (house, minColRange, maxColRange) => {\n      if (Warehouse.hasColumns(house)) {\n        const colsToCopy = filter$2(Warehouse.justColumns(house), col => col.column >= minColRange && col.column < maxColRange);\n        const copiedCols = map$1(colsToCopy, c => {\n          const clonedCol = deep(c.element);\n          constrainSpan(clonedCol, 'span', maxColRange - minColRange);\n          return clonedCol;\n        });\n        const fakeColgroup = SugarElement.fromTag('colgroup');\n        append(fakeColgroup, copiedCols);\n        return [fakeColgroup];\n      } else {\n        return [];\n      }\n    };\n    const generateRows = (house, minColRange, maxColRange) => map$1(house.all, row => {\n      const cellsToCopy = filter$2(row.cells, cell => cell.column >= minColRange && cell.column < maxColRange);\n      const copiedCells = map$1(cellsToCopy, cell => {\n        const clonedCell = deep(cell.element);\n        constrainSpan(clonedCell, 'colspan', maxColRange - minColRange);\n        return clonedCell;\n      });\n      const fakeTR = SugarElement.fromTag('tr');\n      append(fakeTR, copiedCells);\n      return fakeTR;\n    });\n    const copyCols = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onUnlockedCells(house, target);\n      return details.map(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minColRange = selectedCells[0].column;\n        const maxColRange = lastSelectedCell.column + lastSelectedCell.colspan;\n        const fakeColGroups = generateColGroup(house, minColRange, maxColRange);\n        const fakeRows = generateRows(house, minColRange, maxColRange);\n        return [\n          ...fakeColGroups,\n          ...fakeRows\n        ];\n      });\n    };\n\n    const copyRows = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.bind(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const rows = extractGridDetails(grid).rows;\n        const slicedGrid = rows.slice(selectedCells[0].row, selectedCells[selectedCells.length - 1].row + selectedCells[selectedCells.length - 1].rowspan);\n        const filteredGrid = bind$2(slicedGrid, row => {\n          const newCells = filter$2(row.cells, cell => !cell.isLocked);\n          return newCells.length > 0 ? [{\n              ...row,\n              cells: newCells\n            }] : [];\n        });\n        const slicedDetails = toDetailList(filteredGrid);\n        return someIf(slicedDetails.length > 0, slicedDetails);\n      }).map(slicedDetails => copy(slicedDetails));\n    };\n\n    const adt$5 = Adt.generate([\n      { invalid: ['raw'] },\n      { pixels: ['value'] },\n      { percent: ['value'] }\n    ]);\n    const validateFor = (suffix, type, value) => {\n      const rawAmount = value.substring(0, value.length - suffix.length);\n      const amount = parseFloat(rawAmount);\n      return rawAmount === amount.toString() ? type(amount) : adt$5.invalid(value);\n    };\n    const from = value => {\n      if (endsWith(value, '%')) {\n        return validateFor('%', adt$5.percent, value);\n      }\n      if (endsWith(value, 'px')) {\n        return validateFor('px', adt$5.pixels, value);\n      }\n      return adt$5.invalid(value);\n    };\n    const Size = {\n      ...adt$5,\n      from\n    };\n\n    const redistributeToPercent = (widths, totalWidth) => {\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          const ratio = px / totalWidth * 100;\n          return ratio + '%';\n        }, pc => {\n          return pc + '%';\n        });\n      });\n    };\n    const redistributeToPx = (widths, totalWidth, newTotalWidth) => {\n      const scale = newTotalWidth / totalWidth;\n      return map$1(widths, w => {\n        const colType = Size.from(w);\n        return colType.fold(() => {\n          return w;\n        }, px => {\n          return px * scale + 'px';\n        }, pc => {\n          return pc / 100 * newTotalWidth + 'px';\n        });\n      });\n    };\n    const redistributeEmpty = (newWidthType, columns) => {\n      const f = newWidthType.fold(() => constant(''), pixels => {\n        const num = pixels / columns;\n        return constant(num + 'px');\n      }, () => {\n        const num = 100 / columns;\n        return constant(num + '%');\n      });\n      return range$1(columns, f);\n    };\n    const redistributeValues = (newWidthType, widths, totalWidth) => {\n      return newWidthType.fold(() => {\n        return widths;\n      }, px => {\n        return redistributeToPx(widths, totalWidth, px);\n      }, _pc => {\n        return redistributeToPercent(widths, totalWidth);\n      });\n    };\n    const redistribute$1 = (widths, totalWidth, newWidth) => {\n      const newType = Size.from(newWidth);\n      const floats = forall(widths, s => {\n        return s === '0px';\n      }) ? redistributeEmpty(newType, widths.length) : redistributeValues(newType, widths, totalWidth);\n      return normalize(floats);\n    };\n    const sum = (values, fallback) => {\n      if (values.length === 0) {\n        return fallback;\n      }\n      return foldr(values, (rest, v) => {\n        return Size.from(v).fold(constant(0), identity, identity) + rest;\n      }, 0);\n    };\n    const roundDown = (num, unit) => {\n      const floored = Math.floor(num);\n      return {\n        value: floored + unit,\n        remainder: num - floored\n      };\n    };\n    const add$3 = (value, amount) => {\n      return Size.from(value).fold(constant(value), px => {\n        return px + amount + 'px';\n      }, pc => {\n        return pc + amount + '%';\n      });\n    };\n    const normalize = values => {\n      if (values.length === 0) {\n        return values;\n      }\n      const scan = foldr(values, (rest, value) => {\n        const info = Size.from(value).fold(() => ({\n          value,\n          remainder: 0\n        }), num => roundDown(num, 'px'), num => ({\n          value: num + '%',\n          remainder: 0\n        }));\n        return {\n          output: [info.value].concat(rest.output),\n          remainder: rest.remainder + info.remainder\n        };\n      }, {\n        output: [],\n        remainder: 0\n      });\n      const r = scan.output;\n      return r.slice(0, r.length - 1).concat([add$3(r[r.length - 1], Math.round(scan.remainder))]);\n    };\n    const validate = Size.from;\n\n    const redistributeToW = (newWidths, cells, unit) => {\n      each$2(cells, cell => {\n        const widths = newWidths.slice(cell.column, cell.colspan + cell.column);\n        const w = sum(widths, minWidth());\n        set$1(cell.element, 'width', w + unit);\n      });\n    };\n    const redistributeToColumns = (newWidths, columns, unit) => {\n      each$2(columns, (column, index) => {\n        const width = sum([newWidths[index]], minWidth());\n        set$1(column.element, 'width', width + unit);\n      });\n    };\n    const redistributeToH = (newHeights, rows, cells, unit) => {\n      each$2(cells, cell => {\n        const heights = newHeights.slice(cell.row, cell.rowspan + cell.row);\n        const h = sum(heights, minHeight());\n        set$1(cell.element, 'height', h + unit);\n      });\n      each$2(rows, (row, i) => {\n        set$1(row.element, 'height', newHeights[i]);\n      });\n    };\n    const getUnit = newSize => {\n      return validate(newSize).fold(constant('px'), constant('px'), constant('%'));\n    };\n    const redistribute = (table, optWidth, optHeight) => {\n      const warehouse = Warehouse.fromTable(table);\n      const rows = warehouse.all;\n      const cells = Warehouse.justCells(warehouse);\n      const columns = Warehouse.justColumns(warehouse);\n      optWidth.each(newWidth => {\n        const widthUnit = getUnit(newWidth);\n        const totalWidth = get$9(table);\n        const oldWidths = getRawWidths(warehouse, table);\n        const nuWidths = redistribute$1(oldWidths, totalWidth, newWidth);\n        if (Warehouse.hasColumns(warehouse)) {\n          redistributeToColumns(nuWidths, columns, widthUnit);\n        } else {\n          redistributeToW(nuWidths, cells, widthUnit);\n        }\n        set$1(table, 'width', newWidth);\n      });\n      optHeight.each(newHeight => {\n        const hUnit = getUnit(newHeight);\n        const totalHeight = get$8(table);\n        const oldHeights = getRawHeights(warehouse, table, height);\n        const nuHeights = redistribute$1(oldHeights, totalHeight, newHeight);\n        redistributeToH(nuHeights, rows, cells, hUnit);\n        set$1(table, 'height', newHeight);\n      });\n    };\n    const isPercentSizing = isPercentSizing$1;\n    const isPixelSizing = isPixelSizing$1;\n    const isNoneSizing = isNoneSizing$1;\n\n    const cleanupLegacyAttributes = element => {\n      remove$7(element, 'width');\n    };\n    const convertToPercentSize = table => {\n      const newWidth = getPercentTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToPixelSize = table => {\n      const newWidth = getPixelTableWidth(table);\n      redistribute(table, Optional.some(newWidth), Optional.none());\n      cleanupLegacyAttributes(table);\n    };\n    const convertToNoneSize = table => {\n      remove$5(table, 'width');\n      const columns = columns$1(table);\n      const rowElements = columns.length > 0 ? columns : cells$1(table);\n      each$2(rowElements, cell => {\n        remove$5(cell, 'width');\n        cleanupLegacyAttributes(cell);\n      });\n      cleanupLegacyAttributes(table);\n    };\n\n    const DefaultRenderOptions = {\n      styles: {\n        'border-collapse': 'collapse',\n        'width': '100%'\n      },\n      attributes: { border: '1' },\n      colGroups: false\n    };\n    const tableHeaderCell = () => SugarElement.fromTag('th');\n    const tableCell = () => SugarElement.fromTag('td');\n    const tableColumn = () => SugarElement.fromTag('col');\n    const createRow = (columns, rowHeaders, columnHeaders, rowIndex) => {\n      const tr = SugarElement.fromTag('tr');\n      for (let j = 0; j < columns; j++) {\n        const td = rowIndex < rowHeaders || j < columnHeaders ? tableHeaderCell() : tableCell();\n        if (j < columnHeaders) {\n          set$2(td, 'scope', 'row');\n        }\n        if (rowIndex < rowHeaders) {\n          set$2(td, 'scope', 'col');\n        }\n        append$1(td, SugarElement.fromTag('br'));\n        append$1(tr, td);\n      }\n      return tr;\n    };\n    const createGroupRow = columns => {\n      const columnGroup = SugarElement.fromTag('colgroup');\n      range$1(columns, () => append$1(columnGroup, tableColumn()));\n      return columnGroup;\n    };\n    const createRows = (rows, columns, rowHeaders, columnHeaders) => range$1(rows, r => createRow(columns, rowHeaders, columnHeaders, r));\n    const render = (rows, columns, rowHeaders, columnHeaders, headerType, renderOpts = DefaultRenderOptions) => {\n      const table = SugarElement.fromTag('table');\n      const rowHeadersGoInThead = headerType !== 'cells';\n      setAll(table, renderOpts.styles);\n      setAll$1(table, renderOpts.attributes);\n      if (renderOpts.colGroups) {\n        append$1(table, createGroupRow(columns));\n      }\n      const actualRowHeaders = Math.min(rows, rowHeaders);\n      if (rowHeadersGoInThead && rowHeaders > 0) {\n        const thead = SugarElement.fromTag('thead');\n        append$1(table, thead);\n        const theadRowHeaders = headerType === 'sectionCells' ? actualRowHeaders : 0;\n        const theadRows = createRows(rowHeaders, columns, theadRowHeaders, columnHeaders);\n        append(thead, theadRows);\n      }\n      const tbody = SugarElement.fromTag('tbody');\n      append$1(table, tbody);\n      const numRows = rowHeadersGoInThead ? rows - actualRowHeaders : rows;\n      const numRowHeaders = rowHeadersGoInThead ? 0 : rowHeaders;\n      const tbodyRows = createRows(numRows, columns, numRowHeaders, columnHeaders);\n      append(tbody, tbodyRows);\n      return table;\n    };\n\n    const get$4 = element => element.dom.innerHTML;\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$4(container);\n    };\n\n    const placeCaretInCell = (editor, cell) => {\n      editor.selection.select(cell.dom, true);\n      editor.selection.collapse(true);\n    };\n    const selectFirstCellInTable = (editor, tableElm) => {\n      descendant(tableElm, 'td,th').each(curry(placeCaretInCell, editor));\n    };\n    const fireEvents = (editor, table) => {\n      each$2(descendants(table, 'tr'), row => {\n        fireNewRow(editor, row.dom);\n        each$2(descendants(row, 'th,td'), cell => {\n          fireNewCell(editor, cell.dom);\n        });\n      });\n    };\n    const isPercentage = width => isString(width) && width.indexOf('%') !== -1;\n    const insert = (editor, columns, rows, colHeaders, rowHeaders) => {\n      const defaultStyles = getTableDefaultStyles(editor);\n      const options = {\n        styles: defaultStyles,\n        attributes: getTableDefaultAttributes(editor),\n        colGroups: tableUseColumnGroup(editor)\n      };\n      editor.undoManager.ignore(() => {\n        const table = render(rows, columns, rowHeaders, colHeaders, getTableHeaderType(editor), options);\n        set$2(table, 'data-mce-id', '__mce');\n        const html = getOuter(table);\n        editor.insertContent(html);\n        editor.addVisual();\n      });\n      return descendant(getBody(editor), 'table[data-mce-id=\"__mce\"]').map(table => {\n        if (isTablePixelsForced(editor)) {\n          convertToPixelSize(table);\n        } else if (isTableResponsiveForced(editor)) {\n          convertToNoneSize(table);\n        } else if (isTablePercentagesForced(editor) || isPercentage(defaultStyles.width)) {\n          convertToPercentSize(table);\n        }\n        removeDataStyle(table);\n        remove$7(table, 'data-mce-id');\n        fireEvents(editor, table);\n        selectFirstCellInTable(editor, table);\n        return table.dom;\n      }).getOr(null);\n    };\n    const insertTable = (editor, rows, columns, options = {}) => {\n      const checkInput = val => isNumber(val) && val > 0;\n      if (checkInput(rows) && checkInput(columns)) {\n        const headerRows = options.headerRows || 0;\n        const headerColumns = options.headerColumns || 0;\n        return insert(editor, columns, rows, headerColumns, headerRows);\n      } else {\n        console.error('Invalid values for mceInsertTable - rows and columns values are required to insert a table.');\n        return null;\n      }\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const setData = items => {\n      const fakeClipboardItem = global.FakeClipboardItem(items);\n      global.write([fakeClipboardItem]);\n    };\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const clearData = type => {\n      if (getData(type).isSome()) {\n        global.clear();\n      }\n    };\n    const setRows = rowsOpt => {\n      rowsOpt.fold(clearRows, rows => setData({ [tableTypeRow]: rows }));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const clearRows = () => clearData(tableTypeRow);\n    const setColumns = columnsOpt => {\n      columnsOpt.fold(clearColumns, columns => setData({ [tableTypeColumn]: columns }));\n    };\n    const getColumns = () => getData(tableTypeColumn);\n    const clearColumns = () => clearData(tableTypeColumn);\n\n    const getSelectionStartCellOrCaption = editor => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n    const getSelectionStartCell = editor => getSelectionCell(getSelectionStart(editor), getIsRoot(editor));\n    const registerCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const eraseTable = () => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        table(cellOrCaption, isRoot).filter(not(isRoot)).each(table => {\n          const cursor = SugarElement.fromText('');\n          after$5(table, cursor);\n          remove$6(table);\n          if (editor.dom.isEmpty(editor.getBody())) {\n            editor.setContent('');\n            editor.selection.setCursorLocation();\n          } else {\n            const rng = editor.dom.createRng();\n            rng.setStart(cursor.dom, 0);\n            rng.setEnd(cursor.dom, 0);\n            editor.selection.setRng(rng);\n            editor.nodeChanged();\n          }\n        });\n      });\n      const setSizingMode = sizing => getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n        const isForcedSizing = isTableResponsiveForced(editor) || isTablePixelsForced(editor) || isTablePercentagesForced(editor);\n        if (!isForcedSizing) {\n          table(cellOrCaption, isRoot).each(table => {\n            if (sizing === 'relative' && !isPercentSizing(table)) {\n              convertToPercentSize(table);\n            } else if (sizing === 'fixed' && !isPixelSizing(table)) {\n              convertToPixelSize(table);\n            } else if (sizing === 'responsive' && !isNoneSizing(table)) {\n              convertToNoneSize(table);\n            }\n            removeDataStyle(table);\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        }\n      });\n      const getTableFromCell = cell => table(cell, isRoot);\n      const performActionOnSelection = action => getSelectionStartCell(editor).bind(cell => getTableFromCell(cell).map(table => action(table, cell)));\n      const toggleTableClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          editor.formatter.toggle('tableclass', { value: clazz }, table.dom);\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleTableCellClass = (_ui, clazz) => {\n        performActionOnSelection(table => {\n          const selectedCells = getCellsFromSelection(editor);\n          const allHaveClass = forall(selectedCells, cell => editor.formatter.match('tablecellclass', { value: clazz }, cell.dom));\n          const formatterAction = allHaveClass ? editor.formatter.remove : editor.formatter.apply;\n          each$2(selectedCells, cell => formatterAction('tablecellclass', { value: clazz }, cell.dom));\n          fireTableModified(editor, table.dom, styleModified);\n        });\n      };\n      const toggleCaption = () => {\n        getSelectionStartCellOrCaption(editor).each(cellOrCaption => {\n          table(cellOrCaption, isRoot).each(table => {\n            child(table, 'caption').fold(() => {\n              const caption = SugarElement.fromTag('caption');\n              append$1(caption, SugarElement.fromText('Caption'));\n              appendAt(table, caption, 0);\n              editor.selection.setCursorLocation(caption.dom, 0);\n            }, caption => {\n              if (isTag('caption')(cellOrCaption)) {\n                one('td', table).each(td => editor.selection.setCursorLocation(td.dom, 0));\n              }\n              remove$6(caption);\n            });\n            fireTableModified(editor, table.dom, structureModified);\n          });\n        });\n      };\n      const postExecute = _data => {\n        editor.focus();\n      };\n      const actOnSelection = (execute, noEvents = false) => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        execute(table, targets, noEvents).each(postExecute);\n      });\n      const copyRowSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), Optional.none());\n        return copyRows(table, targets, generators);\n      });\n      const copyColSelection = () => performActionOnSelection((table, startCell) => {\n        const targets = forMenu(getCellsFromSelection(editor), table, startCell);\n        return copyCols(table, targets);\n      });\n      const pasteOnSelection = (execute, getRows) => getRows().each(rows => {\n        const clonedRows = map$1(rows, row => deep(row));\n        performActionOnSelection((table, startCell) => {\n          const generators = paste$1(SugarElement.fromDom(editor.getDoc()));\n          const targets = pasteRows(getCellsFromSelection(editor), startCell, clonedRows, generators);\n          execute(table, targets).each(postExecute);\n        });\n      });\n      const actOnType = getAction => (_ui, args) => get$c(args, 'type').each(type => {\n        actOnSelection(getAction(type), args.no_events);\n      });\n      each$1({\n        mceTableSplitCells: () => actOnSelection(actions.unmergeCells),\n        mceTableMergeCells: () => actOnSelection(actions.mergeCells),\n        mceTableInsertRowBefore: () => actOnSelection(actions.insertRowsBefore),\n        mceTableInsertRowAfter: () => actOnSelection(actions.insertRowsAfter),\n        mceTableInsertColBefore: () => actOnSelection(actions.insertColumnsBefore),\n        mceTableInsertColAfter: () => actOnSelection(actions.insertColumnsAfter),\n        mceTableDeleteCol: () => actOnSelection(actions.deleteColumn),\n        mceTableDeleteRow: () => actOnSelection(actions.deleteRow),\n        mceTableCutCol: () => copyColSelection().each(selection => {\n          setColumns(selection);\n          actOnSelection(actions.deleteColumn);\n        }),\n        mceTableCutRow: () => copyRowSelection().each(selection => {\n          setRows(selection);\n          actOnSelection(actions.deleteRow);\n        }),\n        mceTableCopyCol: () => copyColSelection().each(selection => setColumns(selection)),\n        mceTableCopyRow: () => copyRowSelection().each(selection => setRows(selection)),\n        mceTablePasteColBefore: () => pasteOnSelection(actions.pasteColsBefore, getColumns),\n        mceTablePasteColAfter: () => pasteOnSelection(actions.pasteColsAfter, getColumns),\n        mceTablePasteRowBefore: () => pasteOnSelection(actions.pasteRowsBefore, getRows),\n        mceTablePasteRowAfter: () => pasteOnSelection(actions.pasteRowsAfter, getRows),\n        mceTableDelete: eraseTable,\n        mceTableCellToggleClass: toggleTableCellClass,\n        mceTableToggleClass: toggleTableClass,\n        mceTableToggleCaption: toggleCaption,\n        mceTableSizingMode: (_ui, sizing) => setSizingMode(sizing),\n        mceTableCellType: actOnType(type => type === 'th' ? actions.makeCellsHeader : actions.unmakeCellsHeader),\n        mceTableColType: actOnType(type => type === 'th' ? actions.makeColumnsHeader : actions.unmakeColumnsHeader),\n        mceTableRowType: actOnType(type => {\n          switch (type) {\n          case 'header':\n            return actions.makeRowsHeader;\n          case 'footer':\n            return actions.makeRowsFooter;\n          default:\n            return actions.makeRowsBody;\n          }\n        })\n      }, (func, name) => editor.addCommand(name, func));\n      editor.addCommand('mceInsertTable', (_ui, args) => {\n        insertTable(editor, args.rows, args.columns, args.options);\n      });\n      editor.addCommand('mceTableApplyCellStyle', (_ui, args) => {\n        const getFormatName = style => 'tablecell' + style.toLowerCase().replace('-', '');\n        if (!isObject(args)) {\n          return;\n        }\n        const cells = getCellsFromSelection(editor);\n        if (cells.length === 0) {\n          return;\n        }\n        const validArgs = filter$1(args, (value, style) => editor.formatter.has(getFormatName(style)) && isString(value));\n        if (isEmpty(validArgs)) {\n          return;\n        }\n        each$1(validArgs, (value, style) => {\n          const formatName = getFormatName(style);\n          each$2(cells, cell => {\n            if (value === '') {\n              editor.formatter.remove(formatName, { value: null }, cell.dom, true);\n            } else {\n              editor.formatter.apply(formatName, { value }, cell.dom);\n            }\n          });\n        });\n        getTableFromCell(cells[0]).each(table => fireTableModified(editor, table.dom, styleModified));\n      });\n    };\n\n    const registerQueryCommands = (editor, actions) => {\n      const isRoot = getIsRoot(editor);\n      const lookupOnSelection = action => getSelectionCell(getSelectionStart(editor)).bind(cell => table(cell, isRoot).map(table => {\n        const targets = forMenu(getCellsFromSelection(editor), table, cell);\n        return action(table, targets);\n      })).getOr('');\n      each$1({\n        mceTableRowType: () => lookupOnSelection(actions.getTableRowType),\n        mceTableCellType: () => lookupOnSelection(actions.getTableCellType),\n        mceTableColType: () => lookupOnSelection(actions.getTableColType)\n      }, (func, name) => editor.addQueryValueHandler(name, func));\n    };\n\n    const adt$4 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata$1 = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$1 = situ => situ.fold(identity, identity, identity);\n    const before$2 = adt$4.before;\n    const on = adt$4.on;\n    const after$3 = adt$4.after;\n    const Situ = {\n      before: before$2,\n      on,\n      after: after$3,\n      cata: cata$1,\n      getStart: getStart$1\n    };\n\n    const create$4 = (selection, kill) => ({\n      selection,\n      kill\n    });\n    const Response = { create: create$4 };\n\n    const selectNode = (win, element) => {\n      const rng = win.document.createRange();\n      rng.selectNode(element.dom);\n      return rng;\n    };\n    const selectNodeContents = (win, element) => {\n      const rng = win.document.createRange();\n      selectNodeContentsUsing(rng, element);\n      return rng;\n    };\n    const selectNodeContentsUsing = (rng, element) => rng.selectNodeContents(element.dom);\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const toRect = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      width: rect.width,\n      height: rect.height\n    });\n    const getFirstRect$1 = rng => {\n      const rects = rng.getClientRects();\n      const rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Optional.some(rect).map(toRect) : Optional.none();\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    const asLtrRange = (win, selection) => {\n      const diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(start.dom, soffset);\n          rng.setEnd(finish.dom, foffset);\n          return rng;\n        },\n        rtl: (start, soffset, finish, foffset) => {\n          const rng = win.document.createRange();\n          rng.setStart(finish.dom, foffset);\n          rng.setEnd(start.dom, soffset);\n          return rng;\n        }\n      });\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$3 = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$3 };\n\n    const create$2 = (start, soffset, finish, foffset) => {\n      return {\n        start: Situ.on(start, soffset),\n        finish: Situ.on(finish, foffset)\n      };\n    };\n    const Situs = { create: create$2 };\n\n    const convertToRange = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset);\n    };\n    const makeSitus = Situs.create;\n\n    const sync = (container, isRoot, start, soffset, finish, foffset, selectRange) => {\n      if (!(eq$1(start, finish) && soffset === foffset)) {\n        return closest$1(start, 'td,th', isRoot).bind(s => {\n          return closest$1(finish, 'td,th', isRoot).bind(f => {\n            return detect(container, isRoot, s, f, selectRange);\n          });\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const detect = (container, isRoot, start, finish, selectRange) => {\n      if (!eq$1(start, finish)) {\n        return identify(start, finish, isRoot).bind(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          if (boxes.length > 1) {\n            selectRange(container, boxes, cellSel.start, cellSel.finish);\n            return Optional.some(Response.create(Optional.some(makeSitus(start, 0, start, getEnd(start))), true));\n          } else {\n            return Optional.none();\n          }\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const update = (rows, columns, container, selected, annotations) => {\n      const updateSelection = newSels => {\n        annotations.clearBeforeUpdate(container);\n        annotations.selectRange(container, newSels.boxes, newSels.start, newSels.finish);\n        return newSels.boxes;\n      };\n      return shiftSelection(selected, rows, columns, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(updateSelection);\n    };\n\n    const traverse = (item, mode) => ({\n      item,\n      mode\n    });\n    const backtrack = (universe, item, _direction, transition = sidestep) => {\n      return universe.property().parent(item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const sidestep = (universe, item, direction, transition = advance) => {\n      return direction.sibling(universe, item).map(p => {\n        return traverse(p, transition);\n      });\n    };\n    const advance = (universe, item, direction, transition = advance) => {\n      const children = universe.property().children(item);\n      const result = direction.first(children);\n      return result.map(r => {\n        return traverse(r, transition);\n      });\n    };\n    const successors = [\n      {\n        current: backtrack,\n        next: sidestep,\n        fallback: Optional.none()\n      },\n      {\n        current: sidestep,\n        next: advance,\n        fallback: Optional.some(backtrack)\n      },\n      {\n        current: advance,\n        next: advance,\n        fallback: Optional.some(sidestep)\n      }\n    ];\n    const go = (universe, item, mode, direction, rules = successors) => {\n      const ruleOpt = find$1(rules, succ => {\n        return succ.current === mode;\n      });\n      return ruleOpt.bind(rule => {\n        return rule.current(universe, item, direction, rule.next).orThunk(() => {\n          return rule.fallback.bind(fb => {\n            return go(universe, item, fb, direction);\n          });\n        });\n      });\n    };\n\n    const left$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().prevSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[children.length - 1]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const right$1 = () => {\n      const sibling = (universe, item) => {\n        return universe.query().nextSibling(item);\n      };\n      const first = children => {\n        return children.length > 0 ? Optional.some(children[0]) : Optional.none();\n      };\n      return {\n        sibling,\n        first\n      };\n    };\n    const Walkers = {\n      left: left$1,\n      right: right$1\n    };\n\n    const hone = (universe, item, predicate, mode, direction, isRoot) => {\n      const next = go(universe, item, mode, direction);\n      return next.bind(n => {\n        if (isRoot(n.item)) {\n          return Optional.none();\n        } else {\n          return predicate(n.item) ? Optional.some(n.item) : hone(universe, n.item, predicate, n.mode, direction, isRoot);\n        }\n      });\n    };\n    const left = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.left(), isRoot);\n    };\n    const right = (universe, item, predicate, isRoot) => {\n      return hone(universe, item, predicate, sidestep, Walkers.right(), isRoot);\n    };\n\n    const isLeaf = universe => element => universe.property().children(element).length === 0;\n    const before$1 = (universe, item, isRoot) => {\n      return seekLeft$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const after$2 = (universe, item, isRoot) => {\n      return seekRight$1(universe, item, isLeaf(universe), isRoot);\n    };\n    const seekLeft$1 = left;\n    const seekRight$1 = right;\n\n    const universe = DomUniverse();\n    const before = (element, isRoot) => {\n      return before$1(universe, element, isRoot);\n    };\n    const after$1 = (element, isRoot) => {\n      return after$2(universe, element, isRoot);\n    };\n    const seekLeft = (element, predicate, isRoot) => {\n      return seekLeft$1(universe, element, predicate, isRoot);\n    };\n    const seekRight = (element, predicate, isRoot) => {\n      return seekRight$1(universe, element, predicate, isRoot);\n    };\n\n    const ancestor = (scope, predicate, isRoot) => ancestor$2(scope, predicate, isRoot).isSome();\n\n    const adt$2 = Adt.generate([\n      { none: ['message'] },\n      { success: [] },\n      { failedUp: ['cell'] },\n      { failedDown: ['cell'] }\n    ]);\n    const isOverlapping = (bridge, before, after) => {\n      const beforeBounds = bridge.getRect(before);\n      const afterBounds = bridge.getRect(after);\n      return afterBounds.right > beforeBounds.left && afterBounds.left < beforeBounds.right;\n    };\n    const isRow = elem => {\n      return closest$1(elem, 'tr');\n    };\n    const verify = (bridge, before, beforeOffset, after, afterOffset, failure, isRoot) => {\n      return closest$1(after, 'td,th', isRoot).bind(afterCell => {\n        return closest$1(before, 'td,th', isRoot).map(beforeCell => {\n          if (!eq$1(afterCell, beforeCell)) {\n            return sharedOne(isRow, [\n              afterCell,\n              beforeCell\n            ]).fold(() => {\n              return isOverlapping(bridge, beforeCell, afterCell) ? adt$2.success() : failure(beforeCell);\n            }, _sharedRow => {\n              return failure(beforeCell);\n            });\n          } else {\n            return eq$1(after, afterCell) && getEnd(afterCell) === afterOffset ? failure(beforeCell) : adt$2.none('in same cell');\n          }\n        });\n      }).getOr(adt$2.none('default'));\n    };\n    const cata = (subject, onNone, onSuccess, onFailedUp, onFailedDown) => {\n      return subject.fold(onNone, onSuccess, onFailedUp, onFailedDown);\n    };\n    const BeforeAfter = {\n      ...adt$2,\n      verify,\n      cata\n    };\n\n    const inParent = (parent, children, element, index) => ({\n      parent,\n      children,\n      element,\n      index\n    });\n    const indexInParent = element => parent(element).bind(parent => {\n      const children = children$2(parent);\n      return indexOf(children, element).map(index => inParent(parent, children, element, index));\n    });\n    const indexOf = (elements, element) => findIndex(elements, curry(eq$1, element));\n\n    const isBr = isTag('br');\n    const gatherer = (cand, gather, isRoot) => {\n      return gather(cand, isRoot).bind(target => {\n        return isText(target) && get$6(target).trim().length === 0 ? gatherer(target, gather, isRoot) : Optional.some(target);\n      });\n    };\n    const handleBr = (isRoot, element, direction) => {\n      return direction.traverse(element).orThunk(() => {\n        return gatherer(element, direction.gather, isRoot);\n      }).map(direction.relative);\n    };\n    const findBr = (element, offset) => {\n      return child$2(element, offset).filter(isBr).orThunk(() => {\n        return child$2(element, offset - 1).filter(isBr);\n      });\n    };\n    const handleParent = (isRoot, element, offset, direction) => {\n      return findBr(element, offset).bind(br => {\n        return direction.traverse(br).fold(() => {\n          return gatherer(br, direction.gather, isRoot).map(direction.relative);\n        }, adjacent => {\n          return indexInParent(adjacent).map(info => {\n            return Situ.on(info.parent, info.index);\n          });\n        });\n      });\n    };\n    const tryBr = (isRoot, element, offset, direction) => {\n      const target = isBr(element) ? handleBr(isRoot, element, direction) : handleParent(isRoot, element, offset, direction);\n      return target.map(tgt => {\n        return {\n          start: tgt,\n          finish: tgt\n        };\n      });\n    };\n    const process = analysis => {\n      return BeforeAfter.cata(analysis, _message => {\n        return Optional.none();\n      }, () => {\n        return Optional.none();\n      }, cell => {\n        return Optional.some(point(cell, 0));\n      }, cell => {\n        return Optional.some(point(cell, getEnd(cell)));\n      });\n    };\n\n    const moveDown = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top + amount,\n        right: caret.right,\n        bottom: caret.bottom + amount\n      };\n    };\n    const moveUp = (caret, amount) => {\n      return {\n        left: caret.left,\n        top: caret.top - amount,\n        right: caret.right,\n        bottom: caret.bottom - amount\n      };\n    };\n    const translate = (caret, xDelta, yDelta) => {\n      return {\n        left: caret.left + xDelta,\n        top: caret.top + yDelta,\n        right: caret.right + xDelta,\n        bottom: caret.bottom + yDelta\n      };\n    };\n    const getTop = caret => {\n      return caret.top;\n    };\n    const getBottom = caret => {\n      return caret.bottom;\n    };\n\n    const getPartialBox = (bridge, element, offset) => {\n      if (offset >= 0 && offset < getEnd(element)) {\n        return bridge.getRangedRect(element, offset, element, offset + 1);\n      } else if (offset > 0) {\n        return bridge.getRangedRect(element, offset - 1, element, offset);\n      }\n      return Optional.none();\n    };\n    const toCaret = rect => ({\n      left: rect.left,\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom\n    });\n    const getElemBox = (bridge, element) => {\n      return Optional.some(bridge.getRect(element));\n    };\n    const getBoxAt = (bridge, element, offset) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return getPartialBox(bridge, element, offset).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n    const getEntireBox = (bridge, element) => {\n      if (isElement(element)) {\n        return getElemBox(bridge, element).map(toCaret);\n      } else if (isText(element)) {\n        return bridge.getRangedRect(element, 0, element, getEnd(element)).map(toCaret);\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const JUMP_SIZE = 5;\n    const NUM_RETRIES = 100;\n    const adt$1 = Adt.generate([\n      { none: [] },\n      { retry: ['caret'] }\n    ]);\n    const isOutside = (caret, box) => {\n      return caret.left < box.left || Math.abs(box.right - caret.left) < 1 || caret.left > box.right;\n    };\n    const inOutsideBlock = (bridge, element, caret) => {\n      return closest$2(element, isBlock).fold(never, cell => {\n        return getEntireBox(bridge, cell).exists(box => {\n          return isOutside(caret, box);\n        });\n      });\n    };\n    const adjustDown = (bridge, element, guessBox, original, caret) => {\n      const lowerCaret = moveDown(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.bottom - original.bottom) < 1) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top > caret.bottom) {\n        return adt$1.retry(lowerCaret);\n      } else if (guessBox.top === caret.bottom) {\n        return adt$1.retry(moveDown(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(lowerCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const adjustUp = (bridge, element, guessBox, original, caret) => {\n      const higherCaret = moveUp(caret, JUMP_SIZE);\n      if (Math.abs(guessBox.top - original.top) < 1) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom < caret.top) {\n        return adt$1.retry(higherCaret);\n      } else if (guessBox.bottom === caret.top) {\n        return adt$1.retry(moveUp(caret, 1));\n      } else {\n        return inOutsideBlock(bridge, element, caret) ? adt$1.retry(translate(higherCaret, JUMP_SIZE, 0)) : adt$1.none();\n      }\n    };\n    const upMovement = {\n      point: getTop,\n      adjuster: adjustUp,\n      move: moveUp,\n      gather: before\n    };\n    const downMovement = {\n      point: getBottom,\n      adjuster: adjustDown,\n      move: moveDown,\n      gather: after$1\n    };\n    const isAtTable = (bridge, x, y) => {\n      return bridge.elementFromPoint(x, y).filter(elm => {\n        return name(elm) === 'table';\n      }).isSome();\n    };\n    const adjustForTable = (bridge, movement, original, caret, numRetries) => {\n      return adjustTil(bridge, movement, original, movement.move(caret, JUMP_SIZE), numRetries);\n    };\n    const adjustTil = (bridge, movement, original, caret, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.some(caret);\n      }\n      if (isAtTable(bridge, caret.left, movement.point(caret))) {\n        return adjustForTable(bridge, movement, original, caret, numRetries - 1);\n      }\n      return bridge.situsFromPoint(caret.left, movement.point(caret)).bind(guess => {\n        return guess.start.fold(Optional.none, element => {\n          return getEntireBox(bridge, element).bind(guessBox => {\n            return movement.adjuster(bridge, element, guessBox, original, caret).fold(Optional.none, newCaret => {\n              return adjustTil(bridge, movement, original, newCaret, numRetries - 1);\n            });\n          }).orThunk(() => {\n            return Optional.some(caret);\n          });\n        }, Optional.none);\n      });\n    };\n    const checkScroll = (movement, adjusted, bridge) => {\n      if (movement.point(adjusted) > bridge.getInnerHeight()) {\n        return Optional.some(movement.point(adjusted) - bridge.getInnerHeight());\n      } else if (movement.point(adjusted) < 0) {\n        return Optional.some(-movement.point(adjusted));\n      } else {\n        return Optional.none();\n      }\n    };\n    const retry = (movement, bridge, caret) => {\n      const moved = movement.move(caret, JUMP_SIZE);\n      const adjusted = adjustTil(bridge, movement, caret, moved, NUM_RETRIES).getOr(moved);\n      return checkScroll(movement, adjusted, bridge).fold(() => {\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted));\n      }, delta => {\n        bridge.scrollBy(0, delta);\n        return bridge.situsFromPoint(adjusted.left, movement.point(adjusted) - delta);\n      });\n    };\n    const Retries = {\n      tryUp: curry(retry, upMovement),\n      tryDown: curry(retry, downMovement),\n      getJumpSize: constant(JUMP_SIZE)\n    };\n\n    const MAX_RETRIES = 20;\n    const findSpot = (bridge, isRoot, direction) => {\n      return bridge.getSelection().bind(sel => {\n        return tryBr(isRoot, sel.finish, sel.foffset, direction).fold(() => {\n          return Optional.some(point(sel.finish, sel.foffset));\n        }, brNeighbour => {\n          const range = bridge.fromSitus(brNeighbour);\n          const analysis = BeforeAfter.verify(bridge, sel.finish, sel.foffset, range.finish, range.foffset, direction.failure, isRoot);\n          return process(analysis);\n        });\n      });\n    };\n    const scan = (bridge, isRoot, element, offset, direction, numRetries) => {\n      if (numRetries === 0) {\n        return Optional.none();\n      }\n      return tryCursor(bridge, isRoot, element, offset, direction).bind(situs => {\n        const range = bridge.fromSitus(situs);\n        const analysis = BeforeAfter.verify(bridge, element, offset, range.finish, range.foffset, direction.failure, isRoot);\n        return BeforeAfter.cata(analysis, () => {\n          return Optional.none();\n        }, () => {\n          return Optional.some(situs);\n        }, cell => {\n          if (eq$1(element, cell) && offset === 0) {\n            return tryAgain(bridge, element, offset, moveUp, direction);\n          } else {\n            return scan(bridge, isRoot, cell, 0, direction, numRetries - 1);\n          }\n        }, cell => {\n          if (eq$1(element, cell) && offset === getEnd(cell)) {\n            return tryAgain(bridge, element, offset, moveDown, direction);\n          } else {\n            return scan(bridge, isRoot, cell, getEnd(cell), direction, numRetries - 1);\n          }\n        });\n      });\n    };\n    const tryAgain = (bridge, element, offset, move, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, move(box, Retries.getJumpSize()));\n      });\n    };\n    const tryAt = (bridge, direction, box) => {\n      const browser = detect$2().browser;\n      if (browser.isChromium() || browser.isSafari() || browser.isFirefox()) {\n        return direction.retry(bridge, box);\n      } else {\n        return Optional.none();\n      }\n    };\n    const tryCursor = (bridge, isRoot, element, offset, direction) => {\n      return getBoxAt(bridge, element, offset).bind(box => {\n        return tryAt(bridge, direction, box);\n      });\n    };\n    const handle$1 = (bridge, isRoot, direction) => {\n      return findSpot(bridge, isRoot, direction).bind(spot => {\n        return scan(bridge, isRoot, spot.element, spot.offset, direction, MAX_RETRIES).map(bridge.fromSitus);\n      });\n    };\n\n    const inSameTable = (elem, table) => {\n      return ancestor(elem, e => {\n        return parent(e).exists(p => {\n          return eq$1(p, table);\n        });\n      });\n    };\n    const simulate = (bridge, isRoot, direction, initial, anchor) => {\n      return closest$1(initial, 'td,th', isRoot).bind(start => {\n        return closest$1(start, 'table', isRoot).bind(table => {\n          if (!inSameTable(anchor, table)) {\n            return Optional.none();\n          }\n          return handle$1(bridge, isRoot, direction).bind(range => {\n            return closest$1(range.finish, 'td,th', isRoot).map(finish => {\n              return {\n                start,\n                finish,\n                range\n              };\n            });\n          });\n        });\n      });\n    };\n    const navigate = (bridge, isRoot, direction, initial, anchor, precheck) => {\n      return precheck(initial, isRoot).orThunk(() => {\n        return simulate(bridge, isRoot, direction, initial, anchor).map(info => {\n          const range = info.range;\n          return Response.create(Optional.some(makeSitus(range.start, range.soffset, range.finish, range.foffset)), true);\n        });\n      });\n    };\n    const firstUpCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[0])) {\n            return seekLeft(table, element => {\n              return last$1(element).isSome();\n            }, isRoot).map(last => {\n              const lastOffset = getEnd(last);\n              return Response.create(Optional.some(makeSitus(last, lastOffset, last, lastOffset)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const lastDownCheck = (initial, isRoot) => {\n      return closest$1(initial, 'tr', isRoot).bind(startRow => {\n        return closest$1(startRow, 'table', isRoot).bind(table => {\n          const rows = descendants(table, 'tr');\n          if (eq$1(startRow, rows[rows.length - 1])) {\n            return seekRight(table, element => {\n              return first(element).isSome();\n            }, isRoot).map(first => {\n              return Response.create(Optional.some(makeSitus(first, 0, first, 0)), true);\n            });\n          } else {\n            return Optional.none();\n          }\n        });\n      });\n    };\n    const select = (bridge, container, isRoot, direction, initial, anchor, selectRange) => {\n      return simulate(bridge, isRoot, direction, initial, anchor).bind(info => {\n        return detect(container, isRoot, info.start, info.finish, selectRange);\n      });\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const findCell = (target, isRoot) => closest$1(target, 'td,th', isRoot);\n    const MouseSelection = (bridge, container, isRoot, annotations) => {\n      const cursor = value();\n      const clearstate = cursor.clear;\n      const applySelection = event => {\n        cursor.on(start => {\n          annotations.clearBeforeUpdate(container);\n          findCell(event.target, isRoot).each(finish => {\n            identify(start, finish, isRoot).each(cellSel => {\n              const boxes = cellSel.boxes.getOr([]);\n              if (boxes.length === 1) {\n                const singleCell = boxes[0];\n                const isNonEditableCell = getRaw(singleCell) === 'false';\n                const isCellClosestContentEditable = is(closest(event.target), singleCell, eq$1);\n                if (isNonEditableCell && isCellClosestContentEditable) {\n                  annotations.selectRange(container, boxes, singleCell, singleCell);\n                  bridge.selectContents(singleCell);\n                }\n              } else if (boxes.length > 1) {\n                annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n                bridge.selectContents(finish);\n              }\n            });\n          });\n        });\n      };\n      const mousedown = event => {\n        annotations.clear(container);\n        findCell(event.target, isRoot).each(cursor.set);\n      };\n      const mouseover = event => {\n        applySelection(event);\n      };\n      const mouseup = event => {\n        applySelection(event);\n        clearstate();\n      };\n      return {\n        clearstate,\n        mousedown,\n        mouseover,\n        mouseup\n      };\n    };\n\n    const down = {\n      traverse: nextSibling,\n      gather: after$1,\n      relative: Situ.before,\n      retry: Retries.tryDown,\n      failure: BeforeAfter.failedDown\n    };\n    const up = {\n      traverse: prevSibling,\n      gather: before,\n      relative: Situ.before,\n      retry: Retries.tryUp,\n      failure: BeforeAfter.failedUp\n    };\n\n    const isKey = key => {\n      return keycode => {\n        return keycode === key;\n      };\n    };\n    const isUp = isKey(38);\n    const isDown = isKey(40);\n    const isNavigation = keycode => {\n      return keycode >= 37 && keycode <= 40;\n    };\n    const ltr = {\n      isBackward: isKey(37),\n      isForward: isKey(39)\n    };\n    const rtl = {\n      isBackward: isKey(39),\n      isForward: isKey(37)\n    };\n\n    const get$3 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const by = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollBy(x, y);\n      }\n    };\n\n    const adt = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt.domRange;\n    const relative = adt.relative;\n    const exact = adt.exact;\n    const getWin = selection => {\n      const start = getStart(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    const availableSearch = (() => {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return Optional.none;\n      }\n    })();\n    const fromPoint = (win, x, y) => {\n      const doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n\n    const makeRange = (start, soffset, finish, foffset) => {\n      const doc = owner(start);\n      const rng = doc.dom.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n    const after = (start, soffset, finish, foffset) => {\n      const r = makeRange(start, soffset, finish, foffset);\n      const same = eq$1(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    const getNativeSelection = win => Optional.from(win.getSelection());\n    const doSetNativeRange = (win, rng) => {\n      getNativeSelection(win).each(selection => {\n        selection.removeAllRanges();\n        selection.addRange(rng);\n      });\n    };\n    const doSetRange = (win, start, soffset, finish, foffset) => {\n      const rng = exactToNative(win, start, soffset, finish, foffset);\n      doSetNativeRange(win, rng);\n    };\n    const setLegacyRtlRange = (win, selection, start, soffset, finish, foffset) => {\n      selection.collapse(start.dom, soffset);\n      selection.extend(finish.dom, foffset);\n    };\n    const setRangeFromRelative = (win, relative) => diagnose(win, relative).match({\n      ltr: (start, soffset, finish, foffset) => {\n        doSetRange(win, start, soffset, finish, foffset);\n      },\n      rtl: (start, soffset, finish, foffset) => {\n        getNativeSelection(win).each(selection => {\n          if (selection.setBaseAndExtent) {\n            selection.setBaseAndExtent(start.dom, soffset, finish.dom, foffset);\n          } else if (selection.extend) {\n            try {\n              setLegacyRtlRange(win, selection, start, soffset, finish, foffset);\n            } catch (e) {\n              doSetRange(win, finish, foffset, start, soffset);\n            }\n          } else {\n            doSetRange(win, finish, foffset, start, soffset);\n          }\n        });\n      }\n    });\n    const setExact = (win, start, soffset, finish, foffset) => {\n      const relative = preprocessExact(start, soffset, finish, foffset);\n      setRangeFromRelative(win, relative);\n    };\n    const setRelative = (win, startSitu, finishSitu) => {\n      const relative = preprocessRelative(startSitu, finishSitu);\n      setRangeFromRelative(win, relative);\n    };\n    const readRange = selection => {\n      if (selection.rangeCount > 0) {\n        const firstRng = selection.getRangeAt(0);\n        const lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Optional.some(SimRange.create(SugarElement.fromDom(firstRng.startContainer), firstRng.startOffset, SugarElement.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const doGetExact = selection => {\n      if (selection.anchorNode === null || selection.focusNode === null) {\n        return readRange(selection);\n      } else {\n        const anchor = SugarElement.fromDom(selection.anchorNode);\n        const focus = SugarElement.fromDom(selection.focusNode);\n        return after(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Optional.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n      }\n    };\n    const setToElement = (win, element, selectNodeContents$1 = true) => {\n      const rngGetter = selectNodeContents$1 ? selectNodeContents : selectNode;\n      const rng = rngGetter(win, element);\n      doSetNativeRange(win, rng);\n    };\n    const getExact = win => getNativeSelection(win).filter(sel => sel.rangeCount > 0).bind(doGetExact);\n    const get$2 = win => getExact(win).map(range => SimSelection.exact(range.start, range.soffset, range.finish, range.foffset));\n    const getFirstRect = (win, selection) => {\n      const rng = asLtrRange(win, selection);\n      return getFirstRect$1(rng);\n    };\n    const getAtPoint = (win, x, y) => fromPoint(win, x, y);\n    const clear = win => {\n      getNativeSelection(win).each(selection => selection.removeAllRanges());\n    };\n\n    const WindowBridge = win => {\n      const elementFromPoint = (x, y) => {\n        return SugarElement.fromPoint(SugarElement.fromDom(win.document), x, y);\n      };\n      const getRect = element => {\n        return element.dom.getBoundingClientRect();\n      };\n      const getRangedRect = (start, soffset, finish, foffset) => {\n        const sel = SimSelection.exact(start, soffset, finish, foffset);\n        return getFirstRect(win, sel);\n      };\n      const getSelection = () => {\n        return get$2(win).map(exactAdt => {\n          return convertToRange(win, exactAdt);\n        });\n      };\n      const fromSitus = situs => {\n        const relative = SimSelection.relative(situs.start, situs.finish);\n        return convertToRange(win, relative);\n      };\n      const situsFromPoint = (x, y) => {\n        return getAtPoint(win, x, y).map(exact => {\n          return Situs.create(exact.start, exact.soffset, exact.finish, exact.foffset);\n        });\n      };\n      const clearSelection = () => {\n        clear(win);\n      };\n      const collapseSelection = (toStart = false) => {\n        get$2(win).each(sel => sel.fold(rng => rng.collapse(toStart), (startSitu, finishSitu) => {\n          const situ = toStart ? startSitu : finishSitu;\n          setRelative(win, situ, situ);\n        }, (start, soffset, finish, foffset) => {\n          const node = toStart ? start : finish;\n          const offset = toStart ? soffset : foffset;\n          setExact(win, node, offset, node, offset);\n        }));\n      };\n      const selectNode = element => {\n        setToElement(win, element, false);\n      };\n      const selectContents = element => {\n        setToElement(win, element);\n      };\n      const setSelection = sel => {\n        setExact(win, sel.start, sel.soffset, sel.finish, sel.foffset);\n      };\n      const setRelativeSelection = (start, finish) => {\n        setRelative(win, start, finish);\n      };\n      const getInnerHeight = () => {\n        return win.innerHeight;\n      };\n      const getScrollY = () => {\n        const pos = get$3(SugarElement.fromDom(win.document));\n        return pos.top;\n      };\n      const scrollBy = (x, y) => {\n        by(x, y, SugarElement.fromDom(win.document));\n      };\n      return {\n        elementFromPoint,\n        getRect,\n        getRangedRect,\n        getSelection,\n        fromSitus,\n        situsFromPoint,\n        clearSelection,\n        collapseSelection,\n        setSelection,\n        setRelativeSelection,\n        selectNode,\n        selectContents,\n        getInnerHeight,\n        getScrollY,\n        scrollBy\n      };\n    };\n\n    const rc = (rows, cols) => ({\n      rows,\n      cols\n    });\n    const mouse = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const handlers = MouseSelection(bridge, container, isRoot, annotations);\n      return {\n        clearstate: handlers.clearstate,\n        mousedown: handlers.mousedown,\n        mouseover: handlers.mouseover,\n        mouseup: handlers.mouseup\n      };\n    };\n    const keyboard = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      const clearToNavigate = () => {\n        annotations.clear(container);\n        return Optional.none();\n      };\n      const keydown = (event, start, soffset, finish, foffset, direction) => {\n        const realEvent = event.raw;\n        const keycode = realEvent.which;\n        const shiftKey = realEvent.shiftKey === true;\n        const handler = retrieve$1(container, annotations.selectedSelector).fold(() => {\n          if (isNavigation(keycode) && !shiftKey) {\n            annotations.clearBeforeUpdate(container);\n          }\n          if (isDown(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, down, finish, start, annotations.selectRange);\n          } else if (isUp(keycode) && shiftKey) {\n            return curry(select, bridge, container, isRoot, up, finish, start, annotations.selectRange);\n          } else if (isDown(keycode)) {\n            return curry(navigate, bridge, isRoot, down, finish, start, lastDownCheck);\n          } else if (isUp(keycode)) {\n            return curry(navigate, bridge, isRoot, up, finish, start, firstUpCheck);\n          } else {\n            return Optional.none;\n          }\n        }, selected => {\n          const update$1 = attempts => {\n            return () => {\n              const navigation = findMap(attempts, delta => {\n                return update(delta.rows, delta.cols, container, selected, annotations);\n              });\n              return navigation.fold(() => {\n                return getEdges(container, annotations.firstSelectedSelector, annotations.lastSelectedSelector).map(edges => {\n                  const relative = isDown(keycode) || direction.isForward(keycode) ? Situ.after : Situ.before;\n                  bridge.setRelativeSelection(Situ.on(edges.first, 0), relative(edges.table));\n                  annotations.clear(container);\n                  return Response.create(Optional.none(), true);\n                });\n              }, _ => {\n                return Optional.some(Response.create(Optional.none(), true));\n              });\n            };\n          };\n          if (isDown(keycode) && shiftKey) {\n            return update$1([rc(+1, 0)]);\n          } else if (isUp(keycode) && shiftKey) {\n            return update$1([rc(-1, 0)]);\n          } else if (direction.isBackward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, -1),\n              rc(-1, 0)\n            ]);\n          } else if (direction.isForward(keycode) && shiftKey) {\n            return update$1([\n              rc(0, +1),\n              rc(+1, 0)\n            ]);\n          } else if (isNavigation(keycode) && !shiftKey) {\n            return clearToNavigate;\n          } else {\n            return Optional.none;\n          }\n        });\n        return handler();\n      };\n      const keyup = (event, start, soffset, finish, foffset) => {\n        return retrieve$1(container, annotations.selectedSelector).fold(() => {\n          const realEvent = event.raw;\n          const keycode = realEvent.which;\n          const shiftKey = realEvent.shiftKey === true;\n          if (!shiftKey) {\n            return Optional.none();\n          }\n          if (isNavigation(keycode)) {\n            return sync(container, isRoot, start, soffset, finish, foffset, annotations.selectRange);\n          } else {\n            return Optional.none();\n          }\n        }, Optional.none);\n      };\n      return {\n        keydown,\n        keyup\n      };\n    };\n    const external = (win, container, isRoot, annotations) => {\n      const bridge = WindowBridge(win);\n      return (start, finish) => {\n        annotations.clearBeforeUpdate(container);\n        identify(start, finish, isRoot).each(cellSel => {\n          const boxes = cellSel.boxes.getOr([]);\n          annotations.selectRange(container, boxes, cellSel.start, cellSel.finish);\n          bridge.selectContents(finish);\n          bridge.collapseSelection();\n        });\n      };\n    };\n\n    const read = (element, attr) => {\n      const value = get$b(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$2 = (element, attr, id) => {\n      const old = read(element, attr);\n      const nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$4 = (element, attr, id) => {\n      const nu = filter$2(read(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$7(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$1 = element => read(element, 'class');\n    const add$1 = (element, clazz) => add$2(element, 'class', clazz);\n    const remove$3 = (element, clazz) => remove$4(element, 'class', clazz);\n\n    const add = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$1(element);\n      if (classList.length === 0) {\n        remove$7(element, 'class');\n      }\n    };\n    const remove$2 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const remove$1 = (element, classes) => {\n      each$2(classes, x => {\n        remove$2(element, x);\n      });\n    };\n\n    const addClass = clazz => element => {\n      add(element, clazz);\n    };\n    const removeClasses = classes => element => {\n      remove$1(element, classes);\n    };\n\n    const byClass = ephemera => {\n      const addSelectionClass = addClass(ephemera.selected);\n      const removeSelectionClasses = removeClasses([\n        ephemera.selected,\n        ephemera.lastSelected,\n        ephemera.firstSelected\n      ]);\n      const clear = container => {\n        const sels = descendants(container, ephemera.selectedSelector);\n        each$2(sels, removeSelectionClasses);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionClass);\n        add(start, ephemera.firstSelected);\n        add(finish, ephemera.lastSelected);\n      };\n      return {\n        clearBeforeUpdate: clear,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const byAttr = (ephemera, onSelection, onClear) => {\n      const removeSelectionAttributes = element => {\n        remove$7(element, ephemera.selected);\n        remove$7(element, ephemera.firstSelected);\n        remove$7(element, ephemera.lastSelected);\n      };\n      const addSelectionAttribute = element => {\n        set$2(element, ephemera.selected, '1');\n      };\n      const clear = container => {\n        clearBeforeUpdate(container);\n        onClear();\n      };\n      const clearBeforeUpdate = container => {\n        const sels = descendants(container, `${ ephemera.selectedSelector },${ ephemera.firstSelectedSelector },${ ephemera.lastSelectedSelector }`);\n        each$2(sels, removeSelectionAttributes);\n      };\n      const selectRange = (container, cells, start, finish) => {\n        clear(container);\n        each$2(cells, addSelectionAttribute);\n        set$2(start, ephemera.firstSelected, '1');\n        set$2(finish, ephemera.lastSelected, '1');\n        onSelection(cells, start, finish);\n      };\n      return {\n        clearBeforeUpdate,\n        clear,\n        selectRange,\n        selectedSelector: ephemera.selectedSelector,\n        firstSelectedSelector: ephemera.firstSelectedSelector,\n        lastSelectedSelector: ephemera.lastSelectedSelector\n      };\n    };\n    const SelectionAnnotation = {\n      byClass,\n      byAttr\n    };\n\n    const fold = (subject, onNone, onMultiple, onSingle) => {\n      switch (subject.tag) {\n      case 'none':\n        return onNone();\n      case 'single':\n        return onSingle(subject.element);\n      case 'multiple':\n        return onMultiple(subject.elements);\n      }\n    };\n    const none = () => ({ tag: 'none' });\n    const multiple = elements => ({\n      tag: 'multiple',\n      elements\n    });\n    const single = element => ({\n      tag: 'single',\n      element\n    });\n\n    const Selections = (lazyRoot, getStart, selectedSelector) => {\n      const get = () => retrieve(lazyRoot(), selectedSelector).fold(() => getStart().fold(none, single), multiple);\n      return { get };\n    };\n\n    const getUpOrLeftCells = (grid, selectedCells) => {\n      const upGrid = grid.slice(0, selectedCells[selectedCells.length - 1].row + 1);\n      const upDetails = toDetailList(upGrid);\n      return bind$2(upDetails, detail => {\n        const slicedCells = detail.cells.slice(0, selectedCells[selectedCells.length - 1].column + 1);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getDownOrRightCells = (grid, selectedCells) => {\n      const downGrid = grid.slice(selectedCells[0].row + selectedCells[0].rowspan - 1, grid.length);\n      const downDetails = toDetailList(downGrid);\n      return bind$2(downDetails, detail => {\n        const slicedCells = detail.cells.slice(selectedCells[0].column + selectedCells[0].colspan - 1, detail.cells.length);\n        return map$1(slicedCells, cell => cell.element);\n      });\n    };\n    const getOtherCells = (table, target, generators) => {\n      const warehouse = Warehouse.fromTable(table);\n      const details = onCells(warehouse, target);\n      return details.map(selectedCells => {\n        const grid = toGrid(warehouse, generators, false);\n        const {rows} = extractGridDetails(grid);\n        const upOrLeftCells = getUpOrLeftCells(rows, selectedCells);\n        const downOrRightCells = getDownOrRightCells(rows, selectedCells);\n        return {\n          upOrLeftCells,\n          downOrRightCells\n        };\n      });\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent$1 = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent$1(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$1 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const filter = always;\n    const bind = (element, event, handler) => bind$1(element, event, filter, handler);\n    const fromRawEvent = fromRawEvent$1;\n\n    const hasInternalTarget = e => has(SugarElement.fromDom(e.target), 'ephox-snooker-resizer-bar') === false;\n    const TableCellSelectionHandler = (editor, resizeHandler) => {\n      const cellSelection = Selections(() => SugarElement.fromDom(editor.getBody()), () => getSelectionCell(getSelectionStart(editor), getIsRoot(editor)), ephemera.selectedSelector);\n      const onSelection = (cells, start, finish) => {\n        const tableOpt = table(start);\n        tableOpt.each(table => {\n          const cloneFormats = getTableCloneElements(editor);\n          const generators = cellOperations(noop, SugarElement.fromDom(editor.getDoc()), cloneFormats);\n          const selectedCells = getCellsFromSelection(editor);\n          const otherCells = getOtherCells(table, { selection: selectedCells }, generators);\n          fireTableSelectionChange(editor, cells, start, finish, otherCells);\n        });\n      };\n      const onClear = () => fireTableSelectionClear(editor);\n      const annotations = SelectionAnnotation.byAttr(ephemera, onSelection, onClear);\n      editor.on('init', _e => {\n        const win = editor.getWin();\n        const body = getBody(editor);\n        const isRoot = getIsRoot(editor);\n        const syncSelection = () => {\n          const sel = editor.selection;\n          const start = SugarElement.fromDom(sel.getStart());\n          const end = SugarElement.fromDom(sel.getEnd());\n          const shared = sharedOne(table, [\n            start,\n            end\n          ]);\n          shared.fold(() => annotations.clear(body), noop);\n        };\n        const mouseHandlers = mouse(win, body, isRoot, annotations);\n        const keyHandlers = keyboard(win, body, isRoot, annotations);\n        const external$1 = external(win, body, isRoot, annotations);\n        const hasShiftKey = event => event.raw.shiftKey === true;\n        editor.on('TableSelectorChange', e => external$1(e.start, e.finish));\n        const handleResponse = (event, response) => {\n          if (!hasShiftKey(event)) {\n            return;\n          }\n          if (response.kill) {\n            event.kill();\n          }\n          response.selection.each(ns => {\n            const relative = SimSelection.relative(ns.start, ns.finish);\n            const rng = asLtrRange(win, relative);\n            editor.selection.setRng(rng);\n          });\n        };\n        const keyup = event => {\n          const wrappedEvent = fromRawEvent(event);\n          if (wrappedEvent.raw.shiftKey && isNavigation(wrappedEvent.raw.which)) {\n            const rng = editor.selection.getRng();\n            const start = SugarElement.fromDom(rng.startContainer);\n            const end = SugarElement.fromDom(rng.endContainer);\n            keyHandlers.keyup(wrappedEvent, start, rng.startOffset, end, rng.endOffset).each(response => {\n              handleResponse(wrappedEvent, response);\n            });\n          }\n        };\n        const keydown = event => {\n          const wrappedEvent = fromRawEvent(event);\n          resizeHandler.hide();\n          const rng = editor.selection.getRng();\n          const start = SugarElement.fromDom(rng.startContainer);\n          const end = SugarElement.fromDom(rng.endContainer);\n          const direction = onDirection(ltr, rtl)(SugarElement.fromDom(editor.selection.getStart()));\n          keyHandlers.keydown(wrappedEvent, start, rng.startOffset, end, rng.endOffset, direction).each(response => {\n            handleResponse(wrappedEvent, response);\n          });\n          resizeHandler.show();\n        };\n        const isLeftMouse = raw => raw.button === 0;\n        const isLeftButtonPressed = raw => {\n          if (raw.buttons === undefined) {\n            return true;\n          }\n          return (raw.buttons & 1) !== 0;\n        };\n        const dragStart = _e => {\n          mouseHandlers.clearstate();\n        };\n        const mouseDown = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mousedown(fromRawEvent(e));\n          }\n        };\n        const mouseOver = e => {\n          if (isLeftButtonPressed(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseover(fromRawEvent(e));\n          }\n        };\n        const mouseUp = e => {\n          if (isLeftMouse(e) && hasInternalTarget(e)) {\n            mouseHandlers.mouseup(fromRawEvent(e));\n          }\n        };\n        const getDoubleTap = () => {\n          const lastTarget = Cell(SugarElement.fromDom(body));\n          const lastTimeStamp = Cell(0);\n          const touchEnd = t => {\n            const target = SugarElement.fromDom(t.target);\n            if (isTag('td')(target) || isTag('th')(target)) {\n              const lT = lastTarget.get();\n              const lTS = lastTimeStamp.get();\n              if (eq$1(lT, target) && t.timeStamp - lTS < 300) {\n                t.preventDefault();\n                external$1(target, target);\n              }\n            }\n            lastTarget.set(target);\n            lastTimeStamp.set(t.timeStamp);\n          };\n          return { touchEnd };\n        };\n        const doubleTap = getDoubleTap();\n        editor.on('dragstart', dragStart);\n        editor.on('mousedown', mouseDown);\n        editor.on('mouseover', mouseOver);\n        editor.on('mouseup', mouseUp);\n        editor.on('touchend', doubleTap.touchEnd);\n        editor.on('keyup', keyup);\n        editor.on('keydown', keydown);\n        editor.on('NodeChange', syncSelection);\n      });\n      editor.on('PreInit', () => {\n        editor.serializer.addTempAttr(ephemera.firstSelected);\n        editor.serializer.addTempAttr(ephemera.lastSelected);\n      });\n      const clearSelectedCells = container => annotations.clear(SugarElement.fromDom(container));\n      const getSelectedCells = () => fold(cellSelection.get(), constant([]), cells => {\n        return map$1(cells, cell => cell.dom);\n      }, cell => [cell.dom]);\n      return {\n        getSelectedCells,\n        clearSelectedCells\n      };\n    };\n\n    const Event = fields => {\n      let handlers = [];\n      const bind = handler => {\n        if (handler === undefined) {\n          throw new Error('Event bind error: undefined handler');\n        }\n        handlers.push(handler);\n      };\n      const unbind = handler => {\n        handlers = filter$2(handlers, h => {\n          return h !== handler;\n        });\n      };\n      const trigger = (...args) => {\n        const event = {};\n        each$2(fields, (name, i) => {\n          event[name] = args[i];\n        });\n        each$2(handlers, handler => {\n          handler(event);\n        });\n      };\n      return {\n        bind,\n        unbind,\n        trigger\n      };\n    };\n\n    const create$1 = typeDefs => {\n      const registry = map(typeDefs, event => {\n        return {\n          bind: event.bind,\n          unbind: event.unbind\n        };\n      });\n      const trigger = map(typeDefs, event => {\n        return event.trigger;\n      });\n      return {\n        registry,\n        trigger\n      };\n    };\n\n    const last = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const sort = arr => {\n      return arr.slice(0).sort();\n    };\n    const reqMessage = (required, keys) => {\n      throw new Error('All required keys (' + sort(required).join(', ') + ') were not specified. Specified keys were: ' + sort(keys).join(', ') + '.');\n    };\n    const unsuppMessage = unsupported => {\n      throw new Error('Unsupported keys for object: ' + sort(unsupported).join(', '));\n    };\n    const validateStrArr = (label, array) => {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each$2(array, a => {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    const invalidTypeMessage = (incorrect, type) => {\n      throw new Error('All values need to be of type: ' + type + '. Keys (' + sort(incorrect).join(', ') + ') were not.');\n    };\n    const checkDupes = everything => {\n      const sorted = sort(everything);\n      const dupe = find$1(sorted, (s, i) => {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(d => {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    const base = (handleUnsupported, required) => {\n      return baseWith(handleUnsupported, required, {\n        validate: isFunction,\n        label: 'function'\n      });\n    };\n    const baseWith = (handleUnsupported, required, pred) => {\n      if (required.length === 0) {\n        throw new Error('You must specify at least one required field.');\n      }\n      validateStrArr('required', required);\n      checkDupes(required);\n      return obj => {\n        const keys$1 = keys(obj);\n        const allReqd = forall(required, req => {\n          return contains$2(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        handleUnsupported(required, keys$1);\n        const invalidKeys = filter$2(required, key => {\n          return !pred.validate(obj[key], key);\n        });\n        if (invalidKeys.length > 0) {\n          invalidTypeMessage(invalidKeys, pred.label);\n        }\n        return obj;\n      };\n    };\n    const handleExact = (required, keys) => {\n      const unsupported = filter$2(keys, key => {\n        return !contains$2(required, key);\n      });\n      if (unsupported.length > 0) {\n        unsuppMessage(unsupported);\n      }\n    };\n    const exactly = required => base(handleExact, required);\n\n    const DragMode = exactly([\n      'compare',\n      'extract',\n      'mutate',\n      'sink'\n    ]);\n    const DragSink = exactly([\n      'element',\n      'start',\n      'stop',\n      'destroy'\n    ]);\n    const DragApi = exactly([\n      'forceDrop',\n      'drop',\n      'move',\n      'delayDrop'\n    ]);\n\n    const InDrag = () => {\n      let previous = Optional.none();\n      const reset = () => {\n        previous = Optional.none();\n      };\n      const update = (mode, nu) => {\n        const result = previous.map(old => {\n          return mode.compare(old, nu);\n        });\n        previous = Optional.some(nu);\n        return result;\n      };\n      const onEvent = (event, mode) => {\n        const dataOption = mode.extract(event);\n        dataOption.each(data => {\n          const offset = update(mode, data);\n          offset.each(d => {\n            events.trigger.move(d);\n          });\n        });\n      };\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent,\n        reset,\n        events: events.registry\n      };\n    };\n\n    const NoDrag = () => {\n      const events = create$1({ move: Event(['info']) });\n      return {\n        onEvent: noop,\n        reset: noop,\n        events: events.registry\n      };\n    };\n\n    const Movement = () => {\n      const noDragState = NoDrag();\n      const inDragState = InDrag();\n      let dragState = noDragState;\n      const on = () => {\n        dragState.reset();\n        dragState = inDragState;\n      };\n      const off = () => {\n        dragState.reset();\n        dragState = noDragState;\n      };\n      const onEvent = (event, mode) => {\n        dragState.onEvent(event, mode);\n      };\n      const isOn = () => {\n        return dragState === inDragState;\n      };\n      return {\n        on,\n        off,\n        isOn,\n        onEvent,\n        events: inDragState.events\n      };\n    };\n\n    const setup = (mutation, mode, settings) => {\n      let active = false;\n      const events = create$1({\n        start: Event([]),\n        stop: Event([])\n      });\n      const movement = Movement();\n      const drop = () => {\n        sink.stop();\n        if (movement.isOn()) {\n          movement.off();\n          events.trigger.stop();\n        }\n      };\n      const throttledDrop = last(drop, 200);\n      const go = parent => {\n        sink.start(parent);\n        movement.on();\n        events.trigger.start();\n      };\n      const mousemove = event => {\n        throttledDrop.cancel();\n        movement.onEvent(event, mode);\n      };\n      movement.events.move.bind(event => {\n        mode.mutate(mutation, event.info);\n      });\n      const on = () => {\n        active = true;\n      };\n      const off = () => {\n        active = false;\n      };\n      const runIfActive = f => {\n        return (...args) => {\n          if (active) {\n            f.apply(null, args);\n          }\n        };\n      };\n      const sink = mode.sink(DragApi({\n        forceDrop: drop,\n        drop: runIfActive(drop),\n        move: runIfActive(mousemove),\n        delayDrop: runIfActive(throttledDrop.throttle)\n      }), settings);\n      const destroy = () => {\n        sink.destroy();\n      };\n      return {\n        element: sink.element,\n        go,\n        on,\n        off,\n        destroy,\n        events: events.registry\n      };\n    };\n\n    const css = namespace => {\n      const dashNamespace = namespace.replace(/\\./g, '-');\n      const resolve = str => {\n        return dashNamespace + '-' + str;\n      };\n      return { resolve };\n    };\n\n    const styles$1 = css('ephox-dragster');\n    const resolve$1 = styles$1.resolve;\n\n    const Blocker = options => {\n      const settings = {\n        layerClass: resolve$1('blocker'),\n        ...options\n      };\n      const div = SugarElement.fromTag('div');\n      set$2(div, 'role', 'presentation');\n      setAll(div, {\n        position: 'fixed',\n        left: '0px',\n        top: '0px',\n        width: '100%',\n        height: '100%'\n      });\n      add(div, resolve$1('blocker'));\n      add(div, settings.layerClass);\n      const element = constant(div);\n      const destroy = () => {\n        remove$6(div);\n      };\n      return {\n        element,\n        destroy\n      };\n    };\n\n    const compare = (old, nu) => {\n      return SugarPosition(nu.left - old.left, nu.top - old.top);\n    };\n    const extract = event => {\n      return Optional.some(SugarPosition(event.x, event.y));\n    };\n    const mutate = (mutation, info) => {\n      mutation.mutate(info.left, info.top);\n    };\n    const sink = (dragApi, settings) => {\n      const blocker = Blocker(settings);\n      const mdown = bind(blocker.element(), 'mousedown', dragApi.forceDrop);\n      const mup = bind(blocker.element(), 'mouseup', dragApi.drop);\n      const mmove = bind(blocker.element(), 'mousemove', dragApi.move);\n      const mout = bind(blocker.element(), 'mouseout', dragApi.delayDrop);\n      const destroy = () => {\n        blocker.destroy();\n        mup.unbind();\n        mmove.unbind();\n        mout.unbind();\n        mdown.unbind();\n      };\n      const start = parent => {\n        append$1(parent, blocker.element());\n      };\n      const stop = () => {\n        remove$6(blocker.element());\n      };\n      return DragSink({\n        element: blocker.element,\n        start,\n        stop,\n        destroy\n      });\n    };\n    var MouseDrag = DragMode({\n      compare,\n      extract,\n      sink,\n      mutate\n    });\n\n    const transform = (mutation, settings = {}) => {\n      var _a;\n      const mode = (_a = settings.mode) !== null && _a !== void 0 ? _a : MouseDrag;\n      return setup(mutation, mode, settings);\n    };\n\n    const styles = css('ephox-snooker');\n    const resolve = styles.resolve;\n\n    const Mutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta'\n        ])\n      });\n      const mutate = (x, y) => {\n        events.trigger.drag(x, y);\n      };\n      return {\n        mutate,\n        events: events.registry\n      };\n    };\n\n    const BarMutation = () => {\n      const events = create$1({\n        drag: Event([\n          'xDelta',\n          'yDelta',\n          'target'\n        ])\n      });\n      let target = Optional.none();\n      const delegate = Mutation();\n      delegate.events.drag.bind(event => {\n        target.each(t => {\n          events.trigger.drag(event.xDelta, event.yDelta, t);\n        });\n      });\n      const assign = t => {\n        target = Optional.some(t);\n      };\n      const get = () => {\n        return target;\n      };\n      return {\n        assign,\n        get,\n        mutate: delegate.mutate,\n        events: events.registry\n      };\n    };\n\n    const col = (column, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x - w / 2 + 'px',\n        top: y + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-column': column,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n    const row = (r, x, y, w, h) => {\n      const bar = SugarElement.fromTag('div');\n      setAll(bar, {\n        position: 'absolute',\n        left: x + 'px',\n        top: y - h / 2 + 'px',\n        height: h + 'px',\n        width: w + 'px'\n      });\n      setAll$1(bar, {\n        'data-row': r,\n        'role': 'presentation'\n      });\n      return bar;\n    };\n\n    const resizeBar = resolve('resizer-bar');\n    const resizeRowBar = resolve('resizer-rows');\n    const resizeColBar = resolve('resizer-cols');\n    const BAR_THICKNESS = 7;\n    const resizableRows = (warehouse, isResizable) => bind$2(warehouse.all, (row, i) => isResizable(row.element) ? [i] : []);\n    const resizableColumns = (warehouse, isResizable) => {\n      const resizableCols = [];\n      range$1(warehouse.grid.columns, index => {\n        const colElmOpt = Warehouse.getColumnAt(warehouse, index).map(col => col.element);\n        if (colElmOpt.forall(isResizable)) {\n          resizableCols.push(index);\n        }\n      });\n      return filter$2(resizableCols, colIndex => {\n        const columnCells = Warehouse.filterItems(warehouse, cell => cell.column === colIndex);\n        return forall(columnCells, cell => isResizable(cell.element));\n      });\n    };\n    const destroy = wire => {\n      const previous = descendants(wire.parent(), '.' + resizeBar);\n      each$2(previous, remove$6);\n    };\n    const drawBar = (wire, positions, create) => {\n      const origin = wire.origin();\n      each$2(positions, cpOption => {\n        cpOption.each(cp => {\n          const bar = create(origin, cp);\n          add(bar, resizeBar);\n          append$1(wire.parent(), bar);\n        });\n      });\n    };\n    const refreshCol = (wire, colPositions, position, tableHeight) => {\n      drawBar(wire, colPositions, (origin, cp) => {\n        const colBar = col(cp.col, cp.x - origin.left, position.top - origin.top, BAR_THICKNESS, tableHeight);\n        add(colBar, resizeColBar);\n        return colBar;\n      });\n    };\n    const refreshRow = (wire, rowPositions, position, tableWidth) => {\n      drawBar(wire, rowPositions, (origin, cp) => {\n        const rowBar = row(cp.row, position.left - origin.left, cp.y - origin.top, tableWidth, BAR_THICKNESS);\n        add(rowBar, resizeRowBar);\n        return rowBar;\n      });\n    };\n    const refreshGrid = (warhouse, wire, table, rows, cols) => {\n      const position = absolute(table);\n      const isResizable = wire.isResizable;\n      const rowPositions = rows.length > 0 ? height.positions(rows, table) : [];\n      const resizableRowBars = rowPositions.length > 0 ? resizableRows(warhouse, isResizable) : [];\n      const resizableRowPositions = filter$2(rowPositions, (_pos, i) => exists(resizableRowBars, barIndex => i === barIndex));\n      refreshRow(wire, resizableRowPositions, position, getOuter$2(table));\n      const colPositions = cols.length > 0 ? width.positions(cols, table) : [];\n      const resizableColBars = colPositions.length > 0 ? resizableColumns(warhouse, isResizable) : [];\n      const resizableColPositions = filter$2(colPositions, (_pos, i) => exists(resizableColBars, barIndex => i === barIndex));\n      refreshCol(wire, resizableColPositions, position, getOuter$1(table));\n    };\n    const refresh = (wire, table) => {\n      destroy(wire);\n      if (wire.isResizable(table)) {\n        const warehouse = Warehouse.fromTable(table);\n        const rows$1 = rows(warehouse);\n        const cols = columns(warehouse);\n        refreshGrid(warehouse, wire, table, rows$1, cols);\n      }\n    };\n    const each = (wire, f) => {\n      const bars = descendants(wire.parent(), '.' + resizeBar);\n      each$2(bars, f);\n    };\n    const hide = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'none');\n      });\n    };\n    const show = wire => {\n      each(wire, bar => {\n        set$1(bar, 'display', 'block');\n      });\n    };\n    const isRowBar = element => {\n      return has(element, resizeRowBar);\n    };\n    const isColBar = element => {\n      return has(element, resizeColBar);\n    };\n\n    const resizeBarDragging = resolve('resizer-bar-dragging');\n    const BarManager = wire => {\n      const mutation = BarMutation();\n      const resizing = transform(mutation, {});\n      let hoverTable = Optional.none();\n      const getResizer = (element, type) => {\n        return Optional.from(get$b(element, type));\n      };\n      mutation.events.drag.bind(event => {\n        getResizer(event.target, 'data-row').each(_dataRow => {\n          const currentRow = getCssValue(event.target, 'top');\n          set$1(event.target, 'top', currentRow + event.yDelta + 'px');\n        });\n        getResizer(event.target, 'data-column').each(_dataCol => {\n          const currentCol = getCssValue(event.target, 'left');\n          set$1(event.target, 'left', currentCol + event.xDelta + 'px');\n        });\n      });\n      const getDelta = (target, dir) => {\n        const newX = getCssValue(target, dir);\n        const oldX = getAttrValue(target, 'data-initial-' + dir, 0);\n        return newX - oldX;\n      };\n      resizing.events.stop.bind(() => {\n        mutation.get().each(target => {\n          hoverTable.each(table => {\n            getResizer(target, 'data-row').each(row => {\n              const delta = getDelta(target, 'top');\n              remove$7(target, 'data-initial-top');\n              events.trigger.adjustHeight(table, delta, parseInt(row, 10));\n            });\n            getResizer(target, 'data-column').each(column => {\n              const delta = getDelta(target, 'left');\n              remove$7(target, 'data-initial-left');\n              events.trigger.adjustWidth(table, delta, parseInt(column, 10));\n            });\n            refresh(wire, table);\n          });\n        });\n      });\n      const handler = (target, dir) => {\n        events.trigger.startAdjust();\n        mutation.assign(target);\n        set$2(target, 'data-initial-' + dir, getCssValue(target, dir));\n        add(target, resizeBarDragging);\n        set$1(target, 'opacity', '0.2');\n        resizing.go(wire.parent());\n      };\n      const mousedown = bind(wire.parent(), 'mousedown', event => {\n        if (isRowBar(event.target)) {\n          handler(event.target, 'top');\n        }\n        if (isColBar(event.target)) {\n          handler(event.target, 'left');\n        }\n      });\n      const isRoot = e => {\n        return eq$1(e, wire.view());\n      };\n      const findClosestEditableTable = target => closest$1(target, 'table', isRoot).filter(isEditable$1);\n      const mouseover = bind(wire.view(), 'mouseover', event => {\n        findClosestEditableTable(event.target).fold(() => {\n          if (inBody(event.target)) {\n            destroy(wire);\n          }\n        }, table => {\n          hoverTable = Optional.some(table);\n          refresh(wire, table);\n        });\n      });\n      const destroy$1 = () => {\n        mousedown.unbind();\n        mouseover.unbind();\n        resizing.destroy();\n        destroy(wire);\n      };\n      const refresh$1 = tbl => {\n        refresh(wire, tbl);\n      };\n      const events = create$1({\n        adjustHeight: Event([\n          'table',\n          'delta',\n          'row'\n        ]),\n        adjustWidth: Event([\n          'table',\n          'delta',\n          'column'\n        ]),\n        startAdjust: Event([])\n      });\n      return {\n        destroy: destroy$1,\n        refresh: refresh$1,\n        on: resizing.on,\n        off: resizing.off,\n        hideBars: curry(hide, wire),\n        showBars: curry(show, wire),\n        events: events.registry\n      };\n    };\n\n    const create = (wire, resizing, lazySizing) => {\n      const hdirection = height;\n      const vdirection = width;\n      const manager = BarManager(wire);\n      const events = create$1({\n        beforeResize: Event([\n          'table',\n          'type'\n        ]),\n        afterResize: Event([\n          'table',\n          'type'\n        ]),\n        startDrag: Event([])\n      });\n      manager.events.adjustHeight.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'row');\n        const delta = hdirection.delta(event.delta, table);\n        adjustHeight(table, delta, event.row, hdirection);\n        events.trigger.afterResize(table, 'row');\n      });\n      manager.events.startAdjust.bind(_event => {\n        events.trigger.startDrag();\n      });\n      manager.events.adjustWidth.bind(event => {\n        const table = event.table;\n        events.trigger.beforeResize(table, 'col');\n        const delta = vdirection.delta(event.delta, table);\n        const tableSize = lazySizing(table);\n        adjustWidth(table, delta, event.column, resizing, tableSize);\n        events.trigger.afterResize(table, 'col');\n      });\n      return {\n        on: manager.on,\n        off: manager.off,\n        refreshBars: manager.refresh,\n        hideBars: manager.hideBars,\n        showBars: manager.showBars,\n        destroy: manager.destroy,\n        events: events.registry\n      };\n    };\n    const TableResize = { create };\n\n    const only = (element, isResizable) => {\n      const parent = isDocument(element) ? documentElement(element) : element;\n      return {\n        parent: constant(parent),\n        view: constant(element),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const detached = (editable, chrome, isResizable) => {\n      const origin = () => absolute(chrome);\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin,\n        isResizable\n      };\n    };\n    const body = (editable, chrome, isResizable) => {\n      return {\n        parent: constant(chrome),\n        view: constant(editable),\n        origin: constant(SugarPosition(0, 0)),\n        isResizable\n      };\n    };\n    const ResizeWire = {\n      only,\n      detached,\n      body\n    };\n\n    const createContainer = () => {\n      const container = SugarElement.fromTag('div');\n      setAll(container, {\n        position: 'static',\n        height: '0',\n        width: '0',\n        padding: '0',\n        margin: '0',\n        border: '0'\n      });\n      append$1(body$1(), container);\n      return container;\n    };\n    const get = (editor, isResizable) => {\n      return editor.inline ? ResizeWire.body(SugarElement.fromDom(editor.getBody()), createContainer(), isResizable) : ResizeWire.only(SugarElement.fromDom(editor.getDoc()), isResizable);\n    };\n    const remove = (editor, wire) => {\n      if (editor.inline) {\n        remove$6(wire.parent());\n      }\n    };\n\n    const isTable = node => isNonNullable(node) && node.tagName === 'TABLE';\n    const barResizerPrefix = 'bar-';\n    const isResizable = elm => get$b(elm, 'data-mce-resize') !== 'false';\n    const syncPixels = table => {\n      const warehouse = Warehouse.fromTable(table);\n      if (!Warehouse.hasColumns(warehouse)) {\n        each$2(cells$1(table), cell => {\n          const computedWidth = get$a(cell, 'width');\n          set$1(cell, 'width', computedWidth);\n          remove$7(cell, 'width');\n        });\n      }\n    };\n    const TableResizeHandler = editor => {\n      const selectionRng = value();\n      const tableResize = value();\n      const resizeWire = value();\n      let startW;\n      let startRawW;\n      const lazySizing = table => get$5(editor, table);\n      const lazyResizingBehaviour = () => isPreserveTableColumnResizing(editor) ? preserveTable() : resizeTable();\n      const getNumColumns = table => getGridSize(table).columns;\n      const afterCornerResize = (table, origin, width) => {\n        const isRightEdgeResize = endsWith(origin, 'e');\n        if (startRawW === '') {\n          convertToPercentSize(table);\n        }\n        if (width !== startW && startRawW !== '') {\n          set$1(table, 'width', startRawW);\n          const resizing = lazyResizingBehaviour();\n          const tableSize = lazySizing(table);\n          const col = isPreserveTableColumnResizing(editor) || isRightEdgeResize ? getNumColumns(table) - 1 : 0;\n          adjustWidth(table, width - startW, col, resizing, tableSize);\n        } else if (isPercentage$1(startRawW)) {\n          const percentW = parseFloat(startRawW.replace('%', ''));\n          const targetPercentW = width * percentW / startW;\n          set$1(table, 'width', targetPercentW + '%');\n        }\n        if (isPixel(startRawW)) {\n          syncPixels(table);\n        }\n      };\n      const destroy = () => {\n        tableResize.on(sz => {\n          sz.destroy();\n        });\n        resizeWire.on(w => {\n          remove(editor, w);\n        });\n      };\n      editor.on('init', () => {\n        const rawWire = get(editor, isResizable);\n        resizeWire.set(rawWire);\n        if (hasTableObjectResizing(editor) && hasTableResizeBars(editor)) {\n          const resizing = lazyResizingBehaviour();\n          const sz = TableResize.create(rawWire, resizing, lazySizing);\n          sz.on();\n          sz.events.startDrag.bind(_event => {\n            selectionRng.set(editor.selection.getRng());\n          });\n          sz.events.beforeResize.bind(event => {\n            const rawTable = event.table.dom;\n            fireObjectResizeStart(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n          });\n          sz.events.afterResize.bind(event => {\n            const table = event.table;\n            const rawTable = table.dom;\n            removeDataStyle(table);\n            selectionRng.on(rng => {\n              editor.selection.setRng(rng);\n              editor.focus();\n            });\n            fireObjectResized(editor, rawTable, getPixelWidth(rawTable), getPixelHeight(rawTable), barResizerPrefix + event.type);\n            editor.undoManager.add();\n          });\n          tableResize.set(sz);\n        }\n      });\n      editor.on('ObjectResizeStart', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          each$2(editor.dom.select('.mce-clonedresizable'), clone => {\n            editor.dom.addClass(clone, 'mce-' + getTableColumnResizingBehaviour(editor) + '-columns');\n          });\n          if (!isPixelSizing(table) && isTablePixelsForced(editor)) {\n            convertToPixelSize(table);\n          } else if (!isPercentSizing(table) && isTablePercentagesForced(editor)) {\n            convertToPercentSize(table);\n          }\n          if (isNoneSizing(table) && startsWith(e.origin, barResizerPrefix)) {\n            convertToPercentSize(table);\n          }\n          startW = e.width;\n          startRawW = isTableResponsiveForced(editor) ? '' : getRawWidth(editor, targetElm).getOr('');\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const targetElm = e.target;\n        if (isTable(targetElm)) {\n          const table = SugarElement.fromDom(targetElm);\n          const origin = e.origin;\n          if (startsWith(origin, 'corner-')) {\n            afterCornerResize(table, origin, e.width);\n          }\n          removeDataStyle(table);\n          fireTableModified(editor, table.dom, styleModified);\n        }\n      });\n      editor.on('SwitchMode', () => {\n        tableResize.on(resize => {\n          if (editor.mode.isReadOnly()) {\n            resize.hideBars();\n          } else {\n            resize.showBars();\n          }\n        });\n      });\n      editor.on('remove', () => {\n        destroy();\n      });\n      const refresh = table => {\n        tableResize.on(resize => resize.refreshBars(SugarElement.fromDom(table)));\n      };\n      const hide = () => {\n        tableResize.on(resize => resize.hideBars());\n      };\n      const show = () => {\n        tableResize.on(resize => resize.showBars());\n      };\n      return {\n        refresh,\n        hide,\n        show\n      };\n    };\n\n    const setupTable = editor => {\n      register(editor);\n      const resizeHandler = TableResizeHandler(editor);\n      const cellSelectionHandler = TableCellSelectionHandler(editor, resizeHandler);\n      const actions = TableActions(editor, resizeHandler, cellSelectionHandler);\n      registerCommands(editor, actions);\n      registerQueryCommands(editor, actions);\n      registerEvents(editor, actions);\n      return {\n        getSelectedCells: cellSelectionHandler.getSelectedCells,\n        clearSelectedCells: cellSelectionHandler.clearSelectedCells\n      };\n    };\n\n    const DomModel = editor => {\n      const table = setupTable(editor);\n      return { table };\n    };\n    var Model = () => {\n      global$1.add('dom', DomModel);\n    };\n\n    Model();\n\n})();\n","// Exports the \"media\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/media')\n//   ES2015:\n//     import 'tinymce/plugins/media'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.0.3 (2022-05-25)\n */\n\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativePush = Array.prototype.push;\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const get$1 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('audio_template_callback', { processor: 'function' });\n      registerOption('video_template_callback', { processor: 'function' });\n      registerOption('media_live_embeds', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_filter_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_url_resolver', { processor: 'function' });\n      registerOption('media_alt_source', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_poster', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('media_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const getAudioTemplateCallback = option('audio_template_callback');\n    const getVideoTemplateCallback = option('video_template_callback');\n    const hasLiveEmbeds = option('media_live_embeds');\n    const shouldFilterHtml = option('media_filter_html');\n    const getUrlResolver = option('media_url_resolver');\n    const hasAltSource = option('media_alt_source');\n    const hasPoster = option('media_poster');\n    const hasDimensions = option('media_dimensions');\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n    const DOM$1 = global$4.DOM;\n    const trimPx = value => value.replace(/px$/, '');\n    const getEphoxEmbedData = node => {\n      const style = node.attr('style');\n      const styles = style ? DOM$1.parseStyle(style) : {};\n      return {\n        type: 'ephox-embed-iri',\n        source: node.attr('data-ephox-embed-iri'),\n        altsource: '',\n        poster: '',\n        width: get$1(styles, 'max-width').map(trimPx).getOr(''),\n        height: get$1(styles, 'max-height').map(trimPx).getOr('')\n      };\n    };\n    const htmlToData = (html, schema) => {\n      let data = {};\n      const parser = global$3({\n        validate: false,\n        forced_root_block: false\n      }, schema);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            data = getEphoxEmbedData(node);\n            break;\n          } else {\n            if (!data.source && name === 'param') {\n              data.source = node.attr('movie');\n            }\n            if (name === 'iframe' || name === 'object' || name === 'embed' || name === 'video' || name === 'audio') {\n              if (!data.type) {\n                data.type = name;\n              }\n              data = global$5.extend(node.attributes.map, data);\n            }\n            if (name === 'script') {\n              data = {\n                type: 'script',\n                source: node.attr('src')\n              };\n            }\n            if (name === 'source') {\n              if (!data.source) {\n                data.source = node.attr('src');\n              } else if (!data.altsource) {\n                data.altsource = node.attr('src');\n              }\n            }\n            if (name === 'img' && !data.poster) {\n              data.poster = node.attr('src');\n            }\n          }\n        }\n      }\n      data.source = data.source || data.src || data.data;\n      data.altsource = data.altsource || '';\n      data.poster = data.poster || '';\n      return data;\n    };\n\n    const guess = url => {\n      const mimes = {\n        mp3: 'audio/mpeg',\n        m4a: 'audio/x-m4a',\n        wav: 'audio/wav',\n        mp4: 'video/mp4',\n        webm: 'video/webm',\n        ogg: 'video/ogg',\n        swf: 'application/x-shockwave-flash'\n      };\n      const fileEnd = url.toLowerCase().split('.').pop();\n      const mime = mimes[fileEnd];\n      return mime ? mime : '';\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    const Parser = (schema, settings = {}) => global$3({\n      forced_root_block: false,\n      validate: false,\n      allow_conditional_comments: true,\n      ...settings\n    }, schema);\n\n    const DOM = global$4.DOM;\n    const addPx = value => /^[0-9.]+$/.test(value) ? value + 'px' : value;\n    const updateEphoxEmbed = (data, node) => {\n      const style = node.attr('style');\n      const styleMap = style ? DOM.parseStyle(style) : {};\n      styleMap['max-width'] = addPx(data.width);\n      styleMap['max-height'] = addPx(data.height);\n      node.attr('style', DOM.serializeStyle(styleMap));\n    };\n    const sources = [\n      'source',\n      'altsource'\n    ];\n    const updateHtml = (html, data, updateAll, schema) => {\n      let numSources = 0;\n      let sourceCount = 0;\n      const parser = Parser(schema);\n      parser.addNodeFilter('source', nodes => numSources = nodes.length);\n      const rootNode = parser.parse(html);\n      for (let node = rootNode; node; node = node.walk()) {\n        if (node.type === 1) {\n          const name = node.name;\n          if (node.attr('data-ephox-embed-iri')) {\n            updateEphoxEmbed(data, node);\n            break;\n          } else {\n            switch (name) {\n            case 'video':\n            case 'object':\n            case 'embed':\n            case 'img':\n            case 'iframe':\n              if (data.height !== undefined && data.width !== undefined) {\n                node.attr('width', data.width);\n                node.attr('height', data.height);\n              }\n              break;\n            }\n            if (updateAll) {\n              switch (name) {\n              case 'video':\n                node.attr('poster', data.poster);\n                node.attr('src', null);\n                for (let index = numSources; index < 2; index++) {\n                  if (data[sources[index]]) {\n                    const source = new global$2('source', 1);\n                    source.attr('src', data[sources[index]]);\n                    source.attr('type', data[sources[index] + 'mime'] || null);\n                    node.append(source);\n                  }\n                }\n                break;\n              case 'iframe':\n                node.attr('src', data.source);\n                break;\n              case 'object':\n                const hasImage = node.getAll('img').length > 0;\n                if (data.poster && !hasImage) {\n                  node.attr('src', data.poster);\n                  const img = new global$2('img', 1);\n                  img.attr('src', data.poster);\n                  img.attr('width', data.width);\n                  img.attr('height', data.height);\n                  node.append(img);\n                }\n                break;\n              case 'source':\n                if (sourceCount < 2) {\n                  node.attr('src', data[sources[sourceCount]]);\n                  node.attr('type', data[sources[sourceCount] + 'mime'] || null);\n                  if (!data[sources[sourceCount]]) {\n                    node.remove();\n                    continue;\n                  }\n                }\n                sourceCount++;\n                break;\n              case 'img':\n                if (!data.poster) {\n                  node.remove();\n                }\n                break;\n              }\n            }\n          }\n        }\n      }\n      return global$1({}, schema).serialize(rootNode);\n    };\n\n    const urlPatterns = [\n      {\n        regex: /youtu\\.be\\/([\\w\\-_\\?&=.]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube\\.com(.+)v=([^&]+)(&([a-z0-9&=\\-_]+))?/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$2?$4',\n        allowFullscreen: true\n      },\n      {\n        regex: /youtube.com\\/embed\\/([a-z0-9\\?&=\\-_]+)/i,\n        type: 'iframe',\n        w: 560,\n        h: 314,\n        url: 'www.youtube.com/embed/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc',\n        allowFullscreen: true\n      },\n      {\n        regex: /vimeo\\.com\\/(.*)\\/([0-9]+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'player.vimeo.com/video/$2?title=0&amp;byline=0',\n        allowFullscreen: true\n      },\n      {\n        regex: /maps\\.google\\.([a-z]{2,3})\\/maps\\/(.+)msid=(.+)/,\n        type: 'iframe',\n        w: 425,\n        h: 350,\n        url: 'maps.google.com/maps/ms?msid=$2&output=embed\"',\n        allowFullscreen: false\n      },\n      {\n        regex: /dailymotion\\.com\\/video\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      },\n      {\n        regex: /dai\\.ly\\/([^_]+)/,\n        type: 'iframe',\n        w: 480,\n        h: 270,\n        url: 'www.dailymotion.com/embed/video/$1',\n        allowFullscreen: true\n      }\n    ];\n    const getProtocol = url => {\n      const protocolMatches = url.match(/^(https?:\\/\\/|www\\.)(.+)$/i);\n      if (protocolMatches && protocolMatches.length > 1) {\n        return protocolMatches[1] === 'www.' ? 'https://' : protocolMatches[1];\n      } else {\n        return 'https://';\n      }\n    };\n    const getUrl = (pattern, url) => {\n      const protocol = getProtocol(url);\n      const match = pattern.regex.exec(url);\n      let newUrl = protocol + pattern.url;\n      for (let i = 0; i < match.length; i++) {\n        newUrl = newUrl.replace('$' + i, () => match[i] ? match[i] : '');\n      }\n      return newUrl.replace(/\\?$/, '');\n    };\n    const matchPattern = url => {\n      const patterns = urlPatterns.filter(pattern => pattern.regex.test(url));\n      if (patterns.length > 0) {\n        return global$5.extend({}, patterns[0], { url: getUrl(patterns[0], url) });\n      } else {\n        return null;\n      }\n    };\n\n    const getIframeHtml = data => {\n      const allowFullscreen = data.allowfullscreen ? ' allowFullscreen=\"1\"' : '';\n      return '<iframe src=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\"' + allowFullscreen + '></iframe>';\n    };\n    const getFlashHtml = data => {\n      let html = '<object data=\"' + data.source + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" type=\"application/x-shockwave-flash\">';\n      if (data.poster) {\n        html += '<img src=\"' + data.poster + '\" width=\"' + data.width + '\" height=\"' + data.height + '\" />';\n      }\n      html += '</object>';\n      return html;\n    };\n    const getAudioHtml = (data, audioTemplateCallback) => {\n      if (audioTemplateCallback) {\n        return audioTemplateCallback(data);\n      } else {\n        return '<audio controls=\"controls\" src=\"' + data.source + '\">' + (data.altsource ? '\\n<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</audio>';\n      }\n    };\n    const getVideoHtml = (data, videoTemplateCallback) => {\n      if (videoTemplateCallback) {\n        return videoTemplateCallback(data);\n      } else {\n        return '<video width=\"' + data.width + '\" height=\"' + data.height + '\"' + (data.poster ? ' poster=\"' + data.poster + '\"' : '') + ' controls=\"controls\">\\n' + '<source src=\"' + data.source + '\"' + (data.sourcemime ? ' type=\"' + data.sourcemime + '\"' : '') + ' />\\n' + (data.altsource ? '<source src=\"' + data.altsource + '\"' + (data.altsourcemime ? ' type=\"' + data.altsourcemime + '\"' : '') + ' />\\n' : '') + '</video>';\n      }\n    };\n    const getScriptHtml = data => {\n      return '<script src=\"' + data.source + '\"></script>';\n    };\n    const dataToHtml = (editor, dataIn) => {\n      const data = global$5.extend({}, dataIn);\n      if (!data.source) {\n        global$5.extend(data, htmlToData(data.embed, editor.schema));\n        if (!data.source) {\n          return '';\n        }\n      }\n      if (!data.altsource) {\n        data.altsource = '';\n      }\n      if (!data.poster) {\n        data.poster = '';\n      }\n      data.source = editor.convertURL(data.source, 'source');\n      data.altsource = editor.convertURL(data.altsource, 'source');\n      data.sourcemime = guess(data.source);\n      data.altsourcemime = guess(data.altsource);\n      data.poster = editor.convertURL(data.poster, 'poster');\n      const pattern = matchPattern(data.source);\n      if (pattern) {\n        data.source = pattern.url;\n        data.type = pattern.type;\n        data.allowfullscreen = pattern.allowFullscreen;\n        data.width = data.width || String(pattern.w);\n        data.height = data.height || String(pattern.h);\n      }\n      if (data.embed) {\n        return updateHtml(data.embed, data, true, editor.schema);\n      } else {\n        const audioTemplateCallback = getAudioTemplateCallback(editor);\n        const videoTemplateCallback = getVideoTemplateCallback(editor);\n        data.width = data.width || '300';\n        data.height = data.height || '150';\n        global$5.each(data, (value, key) => {\n          data[key] = editor.dom.encode('' + value);\n        });\n        if (data.type === 'iframe') {\n          return getIframeHtml(data);\n        } else if (data.sourcemime === 'application/x-shockwave-flash') {\n          return getFlashHtml(data);\n        } else if (data.sourcemime.indexOf('audio') !== -1) {\n          return getAudioHtml(data, audioTemplateCallback);\n        } else if (data.type === 'script') {\n          return getScriptHtml(data);\n        } else {\n          return getVideoHtml(data, videoTemplateCallback);\n        }\n      }\n    };\n\n    const isMediaElement = element => element.hasAttribute('data-mce-object') || element.hasAttribute('data-ephox-embed-iri');\n    const setup$2 = editor => {\n      editor.on('click keyup touchend', () => {\n        const selectedNode = editor.selection.getNode();\n        if (selectedNode && editor.dom.hasClass(selectedNode, 'mce-preview-object')) {\n          if (editor.dom.getAttrib(selectedNode, 'data-mce-selected')) {\n            selectedNode.setAttribute('data-mce-selected', '2');\n          }\n        }\n      });\n      editor.on('ObjectSelected', e => {\n        const objectType = e.target.getAttribute('data-mce-object');\n        if (objectType === 'script') {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectResized', e => {\n        const target = e.target;\n        if (target.getAttribute('data-mce-object')) {\n          let html = target.getAttribute('data-mce-html');\n          if (html) {\n            html = unescape(html);\n            target.setAttribute('data-mce-html', escape(updateHtml(html, {\n              width: String(e.width),\n              height: String(e.height)\n            }, false, editor.schema)));\n          }\n        }\n      });\n    };\n\n    const cache = {};\n    const embedPromise = (data, dataToHtml, handler) => {\n      return new Promise((res, rej) => {\n        const wrappedResolve = response => {\n          if (response.html) {\n            cache[data.source] = response;\n          }\n          return res({\n            url: data.source,\n            html: response.html ? response.html : dataToHtml(data)\n          });\n        };\n        if (cache[data.source]) {\n          wrappedResolve(cache[data.source]);\n        } else {\n          handler({ url: data.source }, wrappedResolve, rej);\n        }\n      });\n    };\n    const defaultPromise = (data, dataToHtml) => Promise.resolve({\n      html: dataToHtml(data),\n      url: data.source\n    });\n    const loadedData = editor => data => dataToHtml(editor, data);\n    const getEmbedHtml = (editor, data) => {\n      const embedHandler = getUrlResolver(editor);\n      return embedHandler ? embedPromise(data, loadedData(editor), embedHandler) : defaultPromise(data, loadedData(editor));\n    };\n    const isCached = url => has(cache, url);\n\n    const extractMeta = (sourceInput, data) => get$1(data, sourceInput).bind(mainData => get$1(mainData, 'meta'));\n    const getValue = (data, metaData, sourceInput) => prop => {\n      const getFromData = () => get$1(data, prop);\n      const getFromMetaData = () => get$1(metaData, prop);\n      const getNonEmptyValue = c => get$1(c, 'value').bind(v => v.length > 0 ? Optional.some(v) : Optional.none());\n      const getFromValueFirst = () => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child).orThunk(getFromMetaData) : getFromMetaData().orThunk(() => Optional.from(child)));\n      const getFromMetaFirst = () => getFromMetaData().orThunk(() => getFromData().bind(child => isObject(child) ? getNonEmptyValue(child) : Optional.from(child)));\n      return { [prop]: (prop === sourceInput ? getFromValueFirst() : getFromMetaFirst()).getOr('') };\n    };\n    const getDimensions = (data, metaData) => {\n      const dimensions = {};\n      get$1(data, 'dimensions').each(dims => {\n        each$1([\n          'width',\n          'height'\n        ], prop => {\n          get$1(metaData, prop).orThunk(() => get$1(dims, prop)).each(value => dimensions[prop] = value);\n        });\n      });\n      return dimensions;\n    };\n    const unwrap = (data, sourceInput) => {\n      const metaData = sourceInput ? extractMeta(sourceInput, data).getOr({}) : {};\n      const get = getValue(data, metaData, sourceInput);\n      return {\n        ...get('source'),\n        ...get('altsource'),\n        ...get('poster'),\n        ...get('embed'),\n        ...getDimensions(data, metaData)\n      };\n    };\n    const wrap = data => {\n      const wrapped = {\n        ...data,\n        source: { value: get$1(data, 'source').getOr('') },\n        altsource: { value: get$1(data, 'altsource').getOr('') },\n        poster: { value: get$1(data, 'poster').getOr('') }\n      };\n      each$1([\n        'width',\n        'height'\n      ], prop => {\n        get$1(data, prop).each(value => {\n          const dimensions = wrapped.dimensions || {};\n          dimensions[prop] = value;\n          wrapped.dimensions = dimensions;\n        });\n      });\n      return wrapped;\n    };\n    const handleError = editor => error => {\n      const errorMessage = error && error.msg ? 'Media embed handler error: ' + error.msg : 'Media embed handler threw unknown error.';\n      editor.notificationManager.open({\n        type: 'error',\n        text: errorMessage\n      });\n    };\n    const getEditorData = editor => {\n      const element = editor.selection.getNode();\n      const snippet = isMediaElement(element) ? editor.serializer.serialize(element, { selection: true }) : '';\n      return {\n        embed: snippet,\n        ...htmlToData(snippet, editor.schema)\n      };\n    };\n    const addEmbedHtml = (api, editor) => response => {\n      if (isString(response.url) && response.url.trim().length > 0) {\n        const html = response.html;\n        const snippetData = htmlToData(html, editor.schema);\n        const nuData = {\n          ...snippetData,\n          source: response.url,\n          embed: html\n        };\n        api.setData(wrap(nuData));\n      }\n    };\n    const selectPlaceholder = (editor, beforeObjects) => {\n      const afterObjects = editor.dom.select('*[data-mce-object]');\n      for (let i = 0; i < beforeObjects.length; i++) {\n        for (let y = afterObjects.length - 1; y >= 0; y--) {\n          if (beforeObjects[i] === afterObjects[y]) {\n            afterObjects.splice(y, 1);\n          }\n        }\n      }\n      editor.selection.select(afterObjects[0]);\n    };\n    const handleInsert = (editor, html) => {\n      const beforeObjects = editor.dom.select('*[data-mce-object]');\n      editor.insertContent(html);\n      selectPlaceholder(editor, beforeObjects);\n      editor.nodeChanged();\n    };\n    const submitForm = (prevData, newData, editor) => {\n      newData.embed = updateHtml(newData.embed, newData, false, editor.schema);\n      if (newData.embed && (prevData.source === newData.source || isCached(newData.source))) {\n        handleInsert(editor, newData.embed);\n      } else {\n        getEmbedHtml(editor, newData).then(response => {\n          handleInsert(editor, response.html);\n        }).catch(handleError(editor));\n      }\n    };\n    const showDialog = editor => {\n      const editorData = getEditorData(editor);\n      const currentData = Cell(editorData);\n      const initialData = wrap(editorData);\n      const handleSource = (prevData, api) => {\n        const serviceData = unwrap(api.getData(), 'source');\n        if (prevData.source !== serviceData.source) {\n          addEmbedHtml(win, editor)({\n            url: serviceData.source,\n            html: ''\n          });\n          getEmbedHtml(editor, serviceData).then(addEmbedHtml(win, editor)).catch(handleError(editor));\n        }\n      };\n      const handleEmbed = api => {\n        const data = unwrap(api.getData());\n        const dataFromEmbed = htmlToData(data.embed, editor.schema);\n        api.setData(wrap(dataFromEmbed));\n      };\n      const handleUpdate = (api, sourceInput) => {\n        const data = unwrap(api.getData(), sourceInput);\n        const embed = dataToHtml(editor, data);\n        api.setData(wrap({\n          ...data,\n          embed\n        }));\n      };\n      const mediaInput = [{\n          name: 'source',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Source'\n        }];\n      const sizeInput = !hasDimensions(editor) ? [] : [{\n          type: 'sizeinput',\n          name: 'dimensions',\n          label: 'Constrain proportions',\n          constrain: true\n        }];\n      const generalTab = {\n        title: 'General',\n        name: 'general',\n        items: flatten([\n          mediaInput,\n          sizeInput\n        ])\n      };\n      const embedTextarea = {\n        type: 'textarea',\n        name: 'embed',\n        label: 'Paste your embed code below:'\n      };\n      const embedTab = {\n        title: 'Embed',\n        items: [embedTextarea]\n      };\n      const advancedFormItems = [];\n      if (hasAltSource(editor)) {\n        advancedFormItems.push({\n          name: 'altsource',\n          type: 'urlinput',\n          filetype: 'media',\n          label: 'Alternative source URL'\n        });\n      }\n      if (hasPoster(editor)) {\n        advancedFormItems.push({\n          name: 'poster',\n          type: 'urlinput',\n          filetype: 'image',\n          label: 'Media poster (Image URL)'\n        });\n      }\n      const advancedTab = {\n        title: 'Advanced',\n        name: 'advanced',\n        items: advancedFormItems\n      };\n      const tabs = [\n        generalTab,\n        embedTab\n      ];\n      if (advancedFormItems.length > 0) {\n        tabs.push(advancedTab);\n      }\n      const body = {\n        type: 'tabpanel',\n        tabs\n      };\n      const win = editor.windowManager.open({\n        title: 'Insert/Edit Media',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const serviceData = unwrap(api.getData());\n          submitForm(currentData.get(), serviceData, editor);\n          api.close();\n        },\n        onChange: (api, detail) => {\n          switch (detail.name) {\n          case 'source':\n            handleSource(currentData.get(), api);\n            break;\n          case 'embed':\n            handleEmbed(api);\n            break;\n          case 'dimensions':\n          case 'altsource':\n          case 'poster':\n            handleUpdate(api, detail.name);\n            break;\n          }\n          currentData.set(unwrap(api.getData()));\n        },\n        initialData\n      });\n    };\n\n    const get = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      return { showDialog: showDialog$1 };\n    };\n\n    const register$1 = editor => {\n      const showDialog$1 = () => {\n        showDialog(editor);\n      };\n      editor.addCommand('mceMedia', showDialog$1);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const isLiveEmbedNode = node => {\n      const name = node.name;\n      return name === 'iframe' || name === 'video' || name === 'audio';\n    };\n    const getDimension = (node, styles, dimension, defaultValue = null) => {\n      const value = node.attr(dimension);\n      if (isNonNullable(value)) {\n        return value;\n      } else if (!has(styles, dimension)) {\n        return defaultValue;\n      } else {\n        return null;\n      }\n    };\n    const setDimensions = (node, previewNode, styles) => {\n      const useDefaults = previewNode.name === 'img' || node.name === 'video';\n      const defaultWidth = useDefaults ? '300' : null;\n      const fallbackHeight = node.name === 'audio' ? '30' : '150';\n      const defaultHeight = useDefaults ? fallbackHeight : null;\n      previewNode.attr({\n        width: getDimension(node, styles, 'width', defaultWidth),\n        height: getDimension(node, styles, 'height', defaultHeight)\n      });\n    };\n    const appendNodeContent = (editor, nodeName, previewNode, html) => {\n      const newNode = Parser(editor.schema).parse(html, { context: nodeName });\n      while (newNode.firstChild) {\n        previewNode.append(newNode.firstChild);\n      }\n    };\n    const createPlaceholderNode = (editor, node) => {\n      const name = node.name;\n      const placeHolder = new global$2('img', 1);\n      retainAttributesAndInnerHtml(editor, node, placeHolder);\n      setDimensions(node, placeHolder, {});\n      placeHolder.attr({\n        'style': node.attr('style'),\n        'src': global.transparentSrc,\n        'data-mce-object': name,\n        'class': 'mce-object mce-object-' + name\n      });\n      return placeHolder;\n    };\n    const createPreviewNode = (editor, node) => {\n      const name = node.name;\n      const previewWrapper = new global$2('span', 1);\n      previewWrapper.attr({\n        'contentEditable': 'false',\n        'style': node.attr('style'),\n        'data-mce-object': name,\n        'class': 'mce-preview-object mce-object-' + name\n      });\n      retainAttributesAndInnerHtml(editor, node, previewWrapper);\n      const styles = editor.dom.parseStyle(node.attr('style'));\n      const previewNode = new global$2(name, 1);\n      setDimensions(node, previewNode, styles);\n      previewNode.attr({\n        src: node.attr('src'),\n        style: node.attr('style'),\n        class: node.attr('class')\n      });\n      if (name === 'iframe') {\n        previewNode.attr({\n          allowfullscreen: node.attr('allowfullscreen'),\n          frameborder: '0'\n        });\n      } else {\n        const attrs = [\n          'controls',\n          'crossorigin',\n          'currentTime',\n          'loop',\n          'muted',\n          'poster',\n          'preload'\n        ];\n        each$1(attrs, attrName => {\n          previewNode.attr(attrName, node.attr(attrName));\n        });\n        const sanitizedHtml = previewWrapper.attr('data-mce-html');\n        if (isNonNullable(sanitizedHtml)) {\n          appendNodeContent(editor, name, previewNode, unescape(sanitizedHtml));\n        }\n      }\n      const shimNode = new global$2('span', 1);\n      shimNode.attr('class', 'mce-shim');\n      previewWrapper.append(previewNode);\n      previewWrapper.append(shimNode);\n      return previewWrapper;\n    };\n    const retainAttributesAndInnerHtml = (editor, sourceNode, targetNode) => {\n      const attribs = sourceNode.attributes;\n      let ai = attribs.length;\n      while (ai--) {\n        const attrName = attribs[ai].name;\n        let attrValue = attribs[ai].value;\n        if (attrName !== 'width' && attrName !== 'height' && attrName !== 'style' && !startsWith(attrName, 'data-mce-')) {\n          if (attrName === 'data' || attrName === 'src') {\n            attrValue = editor.convertURL(attrValue, attrName);\n          }\n          targetNode.attr('data-mce-p-' + attrName, attrValue);\n        }\n      }\n      const serializer = global$1({ inner: true }, editor.schema);\n      const tempNode = new global$2('div', 1);\n      each$1(sourceNode.children(), child => tempNode.append(child));\n      const innerHtml = serializer.serialize(tempNode);\n      if (innerHtml) {\n        targetNode.attr('data-mce-html', escape(innerHtml));\n        targetNode.empty();\n      }\n    };\n    const isPageEmbedWrapper = node => {\n      const nodeClass = node.attr('class');\n      return nodeClass && /\\btiny-pageembed\\b/.test(nodeClass);\n    };\n    const isWithinEmbedWrapper = node => {\n      while (node = node.parent) {\n        if (node.attr('data-ephox-embed-iri') || isPageEmbedWrapper(node)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const placeHolderConverter = editor => nodes => {\n      let i = nodes.length;\n      let node;\n      while (i--) {\n        node = nodes[i];\n        if (!node.parent) {\n          continue;\n        }\n        if (node.parent.attr('data-mce-object')) {\n          continue;\n        }\n        if (isLiveEmbedNode(node) && hasLiveEmbeds(editor)) {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPreviewNode(editor, node));\n          }\n        } else {\n          if (!isWithinEmbedWrapper(node)) {\n            node.replace(createPlaceholderNode(editor, node));\n          }\n        }\n      }\n    };\n\n    const parseAndSanitize = (editor, context, html) => {\n      const validate = shouldFilterHtml(editor);\n      return Parser(editor.schema, { validate }).parse(html, { context });\n    };\n\n    const setup$1 = editor => {\n      editor.on('PreInit', () => {\n        const {schema, serializer, parser} = editor;\n        const boolAttrs = schema.getBoolAttrs();\n        each$1('webkitallowfullscreen mozallowfullscreen'.split(' '), name => {\n          boolAttrs[name] = {};\n        });\n        each({ embed: ['wmode'] }, (attrs, name) => {\n          const rule = schema.getElementRule(name);\n          each$1(attrs, attr => {\n            rule.attributes[attr] = {};\n            rule.attributesOrder.push(attr);\n          });\n        });\n        parser.addNodeFilter('iframe,video,audio,object,embed,script', placeHolderConverter(editor));\n        serializer.addAttributeFilter('data-mce-object', (nodes, name) => {\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            if (!node.parent) {\n              continue;\n            }\n            const realElmName = node.attr(name);\n            const realElm = new global$2(realElmName, 1);\n            if (realElmName !== 'audio' && realElmName !== 'script') {\n              const className = node.attr('class');\n              if (className && className.indexOf('mce-preview-object') !== -1) {\n                realElm.attr({\n                  width: node.firstChild.attr('width'),\n                  height: node.firstChild.attr('height')\n                });\n              } else {\n                realElm.attr({\n                  width: node.attr('width'),\n                  height: node.attr('height')\n                });\n              }\n            }\n            realElm.attr({ style: node.attr('style') });\n            const attribs = node.attributes;\n            let ai = attribs.length;\n            while (ai--) {\n              const attrName = attribs[ai].name;\n              if (attrName.indexOf('data-mce-p-') === 0) {\n                realElm.attr(attrName.substr(11), attribs[ai].value);\n              }\n            }\n            if (realElmName === 'script') {\n              realElm.attr('type', 'text/javascript');\n            }\n            const innerHtml = node.attr('data-mce-html');\n            if (innerHtml) {\n              const fragment = parseAndSanitize(editor, realElmName, unescape(innerHtml));\n              each$1(fragment.children(), child => realElm.append(child));\n            }\n            node.replace(realElm);\n          }\n        });\n      });\n      editor.on('SetContent', () => {\n        const dom = editor.dom;\n        each$1(dom.select('span.mce-preview-object'), elm => {\n          if (dom.select('span.mce-shim', elm).length === 0) {\n            dom.add(elm, 'span', { class: 'mce-shim' });\n          }\n        });\n      });\n    };\n\n    const setup = editor => {\n      editor.on('ResolveName', e => {\n        let name;\n        if (e.target.nodeType === 1 && (name = e.target.getAttribute('data-mce-object'))) {\n          e.name = name;\n        }\n      });\n    };\n\n    const register = editor => {\n      const onAction = () => editor.execCommand('mceMedia');\n      editor.ui.registry.addToggleButton('media', {\n        tooltip: 'Insert/edit media',\n        icon: 'embed',\n        onAction,\n        onSetup: buttonApi => {\n          const selection = editor.selection;\n          buttonApi.setActive(isMediaElement(selection.getNode()));\n          return selection.selectorChangedWithUnbind('img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('media', {\n        icon: 'embed',\n        text: 'Media...',\n        onAction\n      });\n    };\n\n    var Plugin = () => {\n      global$6.add('media', editor => {\n        register$2(editor);\n        register$1(editor);\n        register(editor);\n        setup(editor);\n        setup$1(editor);\n        setup$2(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"image\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/image')\n//   ES2015:\n//     import 'tinymce/plugins/image'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.0.3 (2022-05-25)\n */\n\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const is = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isPlainObject = value => is(value, Object);\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativePush = Array.prototype.push;\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const get = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get(xs, 0);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const remove = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isNotEmpty = s => s.length > 0;\n\n    const option = name => editor => editor.options.get(name);\n    const register$2 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('image_dimensions', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_advtab', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_uploadtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_prepend_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('image_class_list', { processor: 'object[]' });\n      registerOption('image_description', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('image_title', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_caption', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('image_list', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isObject) || isFunction(value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be false, a string, an array or a function.'\n          };\n        },\n        default: false\n      });\n    };\n    const hasDimensions = option('image_dimensions');\n    const hasAdvTab = option('image_advtab');\n    const hasUploadTab = option('image_uploadtab');\n    const getPrependUrl = option('image_prepend_url');\n    const getClassList = option('image_class_list');\n    const hasDescription = option('image_description');\n    const hasImageTitle = option('image_title');\n    const hasImageCaption = option('image_caption');\n    const getImageList = option('image_list');\n    const showAccessibilityOptions = option('a11y_advanced_options');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const hasUploadUrl = editor => isNotEmpty(editor.options.get('images_upload_url'));\n    const hasUploadHandler = editor => isNonNullable(editor.options.get('images_upload_handler'));\n\n    const parseIntAndGetMax = (val1, val2) => Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    const getImageSize = url => new Promise(callback => {\n      const img = document.createElement('img');\n      const done = dimensions => {\n        img.onload = img.onerror = null;\n        if (img.parentNode) {\n          img.parentNode.removeChild(img);\n        }\n        callback(dimensions);\n      };\n      img.onload = () => {\n        const width = parseIntAndGetMax(img.width, img.clientWidth);\n        const height = parseIntAndGetMax(img.height, img.clientHeight);\n        const dimensions = {\n          width,\n          height\n        };\n        done(Promise.resolve(dimensions));\n      };\n      img.onerror = () => {\n        done(Promise.reject(`Failed to get image dimensions for: ${ url }`));\n      };\n      const style = img.style;\n      style.visibility = 'hidden';\n      style.position = 'fixed';\n      style.bottom = style.left = '0px';\n      style.width = style.height = 'auto';\n      document.body.appendChild(img);\n      img.src = url;\n    });\n    const removePixelSuffix = value => {\n      if (value) {\n        value = value.replace(/px$/, '');\n      }\n      return value;\n    };\n    const addPixelSuffix = value => {\n      if (value.length > 0 && /^[0-9]+$/.test(value)) {\n        value += 'px';\n      }\n      return value;\n    };\n    const mergeMargins = css => {\n      if (css.margin) {\n        const splitMargin = String(css.margin).split(' ');\n        switch (splitMargin.length) {\n        case 1:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[0];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[0];\n          break;\n        case 2:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 3:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[1];\n          break;\n        case 4:\n          css['margin-top'] = css['margin-top'] || splitMargin[0];\n          css['margin-right'] = css['margin-right'] || splitMargin[1];\n          css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n          css['margin-left'] = css['margin-left'] || splitMargin[3];\n        }\n        delete css.margin;\n      }\n      return css;\n    };\n    const createImageList = (editor, callback) => {\n      const imageList = getImageList(editor);\n      if (isString(imageList)) {\n        fetch(imageList).then(res => {\n          if (res.ok) {\n            res.json().then(callback);\n          }\n        });\n      } else if (isFunction(imageList)) {\n        imageList(callback);\n      } else {\n        callback(imageList);\n      }\n    };\n    const waitLoadImage = (editor, data, imgElm) => {\n      const selectImage = () => {\n        imgElm.onload = imgElm.onerror = null;\n        if (editor.selection) {\n          editor.selection.select(imgElm);\n          editor.nodeChanged();\n        }\n      };\n      imgElm.onload = () => {\n        if (!data.width && !data.height && hasDimensions(editor)) {\n          editor.dom.setAttribs(imgElm, {\n            width: String(imgElm.clientWidth),\n            height: String(imgElm.clientHeight)\n          });\n        }\n        selectImage();\n      };\n      imgElm.onerror = selectImage;\n    };\n    const blobToDataUri = blob => new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => {\n        resolve(reader.result);\n      };\n      reader.onerror = () => {\n        reject(reader.error.message);\n      };\n      reader.readAsDataURL(blob);\n    });\n    const isPlaceholderImage = imgElm => imgElm.nodeName === 'IMG' && (imgElm.hasAttribute('data-mce-object') || imgElm.hasAttribute('data-mce-placeholder'));\n    const isSafeImageUrl = (editor, src) => {\n      const getOption = editor.options.get;\n      return global$2.isDomSafe(src, 'img', {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      });\n    };\n\n    const DOM = global$3.DOM;\n    const getHspace = image => {\n      if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n        return removePixelSuffix(image.style.marginLeft);\n      } else {\n        return '';\n      }\n    };\n    const getVspace = image => {\n      if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n        return removePixelSuffix(image.style.marginTop);\n      } else {\n        return '';\n      }\n    };\n    const getBorder = image => {\n      if (image.style.borderWidth) {\n        return removePixelSuffix(image.style.borderWidth);\n      } else {\n        return '';\n      }\n    };\n    const getAttrib = (image, name) => {\n      if (image.hasAttribute(name)) {\n        return image.getAttribute(name);\n      } else {\n        return '';\n      }\n    };\n    const getStyle = (image, name) => image.style[name] ? image.style[name] : '';\n    const hasCaption = image => image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    const updateAttrib = (image, name, value) => {\n      if (value === '') {\n        image.removeAttribute(name);\n      } else {\n        image.setAttribute(name, value);\n      }\n    };\n    const wrapInFigure = image => {\n      const figureElm = DOM.create('figure', { class: 'image' });\n      DOM.insertAfter(figureElm, image);\n      figureElm.appendChild(image);\n      figureElm.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n      figureElm.contentEditable = 'false';\n    };\n    const removeFigure = image => {\n      const figureElm = image.parentNode;\n      DOM.insertAfter(image, figureElm);\n      DOM.remove(figureElm);\n    };\n    const toggleCaption = image => {\n      if (hasCaption(image)) {\n        removeFigure(image);\n      } else {\n        wrapInFigure(image);\n      }\n    };\n    const normalizeStyle = (image, normalizeCss) => {\n      const attrValue = image.getAttribute('style');\n      const value = normalizeCss(attrValue !== null ? attrValue : '');\n      if (value.length > 0) {\n        image.setAttribute('style', value);\n        image.setAttribute('data-mce-style', value);\n      } else {\n        image.removeAttribute('style');\n      }\n    };\n    const setSize = (name, normalizeCss) => (image, name, value) => {\n      if (image.style[name]) {\n        image.style[name] = addPixelSuffix(value);\n        normalizeStyle(image, normalizeCss);\n      } else {\n        updateAttrib(image, name, value);\n      }\n    };\n    const getSize = (image, name) => {\n      if (image.style[name]) {\n        return removePixelSuffix(image.style[name]);\n      } else {\n        return getAttrib(image, name);\n      }\n    };\n    const setHspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginLeft = pxValue;\n      image.style.marginRight = pxValue;\n    };\n    const setVspace = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.marginTop = pxValue;\n      image.style.marginBottom = pxValue;\n    };\n    const setBorder = (image, value) => {\n      const pxValue = addPixelSuffix(value);\n      image.style.borderWidth = pxValue;\n    };\n    const setBorderStyle = (image, value) => {\n      image.style.borderStyle = value;\n    };\n    const getBorderStyle = image => getStyle(image, 'borderStyle');\n    const isFigure = elm => elm.nodeName === 'FIGURE';\n    const isImage = elm => elm.nodeName === 'IMG';\n    const getIsDecorative = image => DOM.getAttrib(image, 'alt').length === 0 && DOM.getAttrib(image, 'role') === 'presentation';\n    const getAlt = image => {\n      if (getIsDecorative(image)) {\n        return '';\n      } else {\n        return getAttrib(image, 'alt');\n      }\n    };\n    const defaultData = () => ({\n      src: '',\n      alt: '',\n      title: '',\n      width: '',\n      height: '',\n      class: '',\n      style: '',\n      caption: false,\n      hspace: '',\n      vspace: '',\n      border: '',\n      borderStyle: '',\n      isDecorative: false\n    });\n    const getStyleValue = (normalizeCss, data) => {\n      const image = document.createElement('img');\n      updateAttrib(image, 'style', data.style);\n      if (getHspace(image) || data.hspace !== '') {\n        setHspace(image, data.hspace);\n      }\n      if (getVspace(image) || data.vspace !== '') {\n        setVspace(image, data.vspace);\n      }\n      if (getBorder(image) || data.border !== '') {\n        setBorder(image, data.border);\n      }\n      if (getBorderStyle(image) || data.borderStyle !== '') {\n        setBorderStyle(image, data.borderStyle);\n      }\n      return normalizeCss(image.getAttribute('style'));\n    };\n    const create = (normalizeCss, data) => {\n      const image = document.createElement('img');\n      write(normalizeCss, {\n        ...data,\n        caption: false\n      }, image);\n      setAlt(image, data.alt, data.isDecorative);\n      if (data.caption) {\n        const figure = DOM.create('figure', { class: 'image' });\n        figure.appendChild(image);\n        figure.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n        figure.contentEditable = 'false';\n        return figure;\n      } else {\n        return image;\n      }\n    };\n    const read = (normalizeCss, image) => ({\n      src: getAttrib(image, 'src'),\n      alt: getAlt(image),\n      title: getAttrib(image, 'title'),\n      width: getSize(image, 'width'),\n      height: getSize(image, 'height'),\n      class: getAttrib(image, 'class'),\n      style: normalizeCss(getAttrib(image, 'style')),\n      caption: hasCaption(image),\n      hspace: getHspace(image),\n      vspace: getVspace(image),\n      border: getBorder(image),\n      borderStyle: getStyle(image, 'borderStyle'),\n      isDecorative: getIsDecorative(image)\n    });\n    const updateProp = (image, oldData, newData, name, set) => {\n      if (newData[name] !== oldData[name]) {\n        set(image, name, newData[name]);\n      }\n    };\n    const setAlt = (image, alt, isDecorative) => {\n      if (isDecorative) {\n        DOM.setAttrib(image, 'role', 'presentation');\n        const sugarImage = SugarElement.fromDom(image);\n        set(sugarImage, 'alt', '');\n      } else {\n        if (isNull(alt)) {\n          const sugarImage = SugarElement.fromDom(image);\n          remove(sugarImage, 'alt');\n        } else {\n          const sugarImage = SugarElement.fromDom(image);\n          set(sugarImage, 'alt', alt);\n        }\n        if (DOM.getAttrib(image, 'role') === 'presentation') {\n          DOM.setAttrib(image, 'role', '');\n        }\n      }\n    };\n    const updateAlt = (image, oldData, newData) => {\n      if (newData.alt !== oldData.alt || newData.isDecorative !== oldData.isDecorative) {\n        setAlt(image, newData.alt, newData.isDecorative);\n      }\n    };\n    const normalized = (set, normalizeCss) => (image, name, value) => {\n      set(image, value);\n      normalizeStyle(image, normalizeCss);\n    };\n    const write = (normalizeCss, newData, image) => {\n      const oldData = read(normalizeCss, image);\n      updateProp(image, oldData, newData, 'caption', (image, _name, _value) => toggleCaption(image));\n      updateProp(image, oldData, newData, 'src', updateAttrib);\n      updateProp(image, oldData, newData, 'title', updateAttrib);\n      updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n      updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n      updateProp(image, oldData, newData, 'class', updateAttrib);\n      updateProp(image, oldData, newData, 'style', normalized((image, value) => updateAttrib(image, 'style', value), normalizeCss));\n      updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n      updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n      updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n      updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n      updateAlt(image, oldData, newData);\n    };\n\n    const normalizeCss$1 = (editor, cssText) => {\n      const css = editor.dom.styles.parse(cssText);\n      const mergedCss = mergeMargins(css);\n      const compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n      return editor.dom.styles.serialize(compressed);\n    };\n    const getSelectedImage = editor => {\n      const imgElm = editor.selection.getNode();\n      const figureElm = editor.dom.getParent(imgElm, 'figure.image');\n      if (figureElm) {\n        return editor.dom.select('img', figureElm)[0];\n      }\n      if (imgElm && (imgElm.nodeName !== 'IMG' || isPlaceholderImage(imgElm))) {\n        return null;\n      }\n      return imgElm;\n    };\n    const splitTextBlock = (editor, figure) => {\n      const dom = editor.dom;\n      const textBlockElements = filter(editor.schema.getTextBlockElements(), (_, parentElm) => !editor.schema.isValidChild(parentElm, 'figure'));\n      const textBlock = dom.getParent(figure.parentNode, node => hasNonNullableKey(textBlockElements, node.nodeName), editor.getBody());\n      if (textBlock) {\n        return dom.split(textBlock, figure);\n      } else {\n        return figure;\n      }\n    };\n    const readImageDataFromSelection = editor => {\n      const image = getSelectedImage(editor);\n      return image ? read(css => normalizeCss$1(editor, css), image) : defaultData();\n    };\n    const insertImageAtCaret = (editor, data) => {\n      const elm = create(css => normalizeCss$1(editor, css), data);\n      editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n      editor.focus();\n      editor.selection.setContent(elm.outerHTML);\n      const insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n      editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n      if (isFigure(insertedElm)) {\n        const figure = splitTextBlock(editor, insertedElm);\n        editor.selection.select(figure);\n      } else {\n        editor.selection.select(insertedElm);\n      }\n    };\n    const syncSrcAttr = (editor, image) => {\n      editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    const deleteImage = (editor, image) => {\n      if (image) {\n        const elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n        editor.dom.remove(elm);\n        editor.focus();\n        editor.nodeChanged();\n        if (editor.dom.isEmpty(editor.getBody())) {\n          editor.setContent('');\n          editor.selection.setCursorLocation();\n        }\n      }\n    };\n    const writeImageDataToSelection = (editor, data) => {\n      const image = getSelectedImage(editor);\n      write(css => normalizeCss$1(editor, css), data, image);\n      syncSrcAttr(editor, image);\n      if (isFigure(image.parentNode)) {\n        const figure = image.parentNode;\n        splitTextBlock(editor, figure);\n        editor.selection.select(image.parentNode);\n      } else {\n        editor.selection.select(image);\n        waitLoadImage(editor, data, image);\n      }\n    };\n    const sanitizeImageData = (editor, data) => {\n      const src = data.src;\n      return {\n        ...data,\n        src: isSafeImageUrl(editor, src) ? src : ''\n      };\n    };\n    const insertOrUpdateImage = (editor, partialData) => {\n      const image = getSelectedImage(editor);\n      if (image) {\n        const selectedImageData = read(css => normalizeCss$1(editor, css), image);\n        const data = {\n          ...selectedImageData,\n          ...partialData\n        };\n        const sanitizedData = sanitizeImageData(editor, data);\n        if (data.src) {\n          writeImageDataToSelection(editor, sanitizedData);\n        } else {\n          deleteImage(editor, image);\n        }\n      } else if (partialData.src) {\n        insertImageAtCaret(editor, {\n          ...defaultData(),\n          ...partialData\n        });\n      }\n    };\n\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.ImageUploader');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizer = (extractor = getValue) => list => {\n      if (list) {\n        return Optional.from(list).map(list => sanitizeList(list, extractor));\n      } else {\n        return Optional.none();\n      }\n    };\n    const sanitize = list => sanitizer(getValue)(list);\n    const isGroup = item => has(item, 'items');\n    const findEntryDelegate = (list, value) => findMap(list, item => {\n      if (isGroup(item)) {\n        return findEntryDelegate(item.items, value);\n      } else if (item.value === value) {\n        return Optional.some(item);\n      } else {\n        return Optional.none();\n      }\n    });\n    const findEntry = (optList, value) => optList.bind(list => findEntryDelegate(list, value));\n    const ListUtils = {\n      sanitizer,\n      sanitize,\n      findEntry\n    };\n\n    const makeTab$2 = _info => ({\n      title: 'Advanced',\n      name: 'advanced',\n      items: [{\n          type: 'grid',\n          columns: 2,\n          items: [\n            {\n              type: 'input',\n              label: 'Vertical space',\n              name: 'vspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Horizontal space',\n              name: 'hspace',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'input',\n              label: 'Border width',\n              name: 'border',\n              inputMode: 'numeric'\n            },\n            {\n              type: 'listbox',\n              name: 'borderstyle',\n              label: 'Border style',\n              items: [\n                {\n                  text: 'Select...',\n                  value: ''\n                },\n                {\n                  text: 'Solid',\n                  value: 'solid'\n                },\n                {\n                  text: 'Dotted',\n                  value: 'dotted'\n                },\n                {\n                  text: 'Dashed',\n                  value: 'dashed'\n                },\n                {\n                  text: 'Double',\n                  value: 'double'\n                },\n                {\n                  text: 'Groove',\n                  value: 'groove'\n                },\n                {\n                  text: 'Ridge',\n                  value: 'ridge'\n                },\n                {\n                  text: 'Inset',\n                  value: 'inset'\n                },\n                {\n                  text: 'Outset',\n                  value: 'outset'\n                },\n                {\n                  text: 'None',\n                  value: 'none'\n                },\n                {\n                  text: 'Hidden',\n                  value: 'hidden'\n                }\n              ]\n            }\n          ]\n        }]\n    });\n    const AdvTab = { makeTab: makeTab$2 };\n\n    const collect = editor => {\n      const urlListSanitizer = ListUtils.sanitizer(item => editor.convertURL(item.value || item.url, 'src'));\n      const futureImageList = new Promise(completer => {\n        createImageList(editor, imageList => {\n          completer(urlListSanitizer(imageList).map(items => flatten([\n            [{\n                text: 'None',\n                value: ''\n              }],\n            items\n          ])));\n        });\n      });\n      const classList = ListUtils.sanitize(getClassList(editor));\n      const hasAdvTab$1 = hasAdvTab(editor);\n      const hasUploadTab$1 = hasUploadTab(editor);\n      const hasUploadUrl$1 = hasUploadUrl(editor);\n      const hasUploadHandler$1 = hasUploadHandler(editor);\n      const image = readImageDataFromSelection(editor);\n      const hasDescription$1 = hasDescription(editor);\n      const hasImageTitle$1 = hasImageTitle(editor);\n      const hasDimensions$1 = hasDimensions(editor);\n      const hasImageCaption$1 = hasImageCaption(editor);\n      const hasAccessibilityOptions = showAccessibilityOptions(editor);\n      const automaticUploads = isAutomaticUploadsEnabled(editor);\n      const prependURL = Optional.some(getPrependUrl(editor)).filter(preUrl => isString(preUrl) && preUrl.length > 0);\n      return futureImageList.then(imageList => ({\n        image,\n        imageList,\n        classList,\n        hasAdvTab: hasAdvTab$1,\n        hasUploadTab: hasUploadTab$1,\n        hasUploadUrl: hasUploadUrl$1,\n        hasUploadHandler: hasUploadHandler$1,\n        hasDescription: hasDescription$1,\n        hasImageTitle: hasImageTitle$1,\n        hasDimensions: hasDimensions$1,\n        hasImageCaption: hasImageCaption$1,\n        prependURL,\n        hasAccessibilityOptions,\n        automaticUploads\n      }));\n    };\n\n    const makeItems = info => {\n      const imageUrl = {\n        name: 'src',\n        type: 'urlinput',\n        filetype: 'image',\n        label: 'Source'\n      };\n      const imageList = info.imageList.map(items => ({\n        name: 'images',\n        type: 'listbox',\n        label: 'Image list',\n        items\n      }));\n      const imageDescription = {\n        name: 'alt',\n        type: 'input',\n        label: 'Alternative description',\n        enabled: !(info.hasAccessibilityOptions && info.image.isDecorative)\n      };\n      const imageTitle = {\n        name: 'title',\n        type: 'input',\n        label: 'Image title'\n      };\n      const imageDimensions = {\n        name: 'dimensions',\n        type: 'sizeinput'\n      };\n      const isDecorative = {\n        type: 'label',\n        label: 'Accessibility',\n        items: [{\n            name: 'isDecorative',\n            type: 'checkbox',\n            label: 'Image is decorative'\n          }]\n      };\n      const classList = info.classList.map(items => ({\n        name: 'classes',\n        type: 'listbox',\n        label: 'Class',\n        items\n      }));\n      const caption = {\n        type: 'label',\n        label: 'Caption',\n        items: [{\n            type: 'checkbox',\n            name: 'caption',\n            label: 'Show caption'\n          }]\n      };\n      const getDialogContainerType = useColumns => useColumns ? {\n        type: 'grid',\n        columns: 2\n      } : { type: 'panel' };\n      return flatten([\n        [imageUrl],\n        imageList.toArray(),\n        info.hasAccessibilityOptions && info.hasDescription ? [isDecorative] : [],\n        info.hasDescription ? [imageDescription] : [],\n        info.hasImageTitle ? [imageTitle] : [],\n        info.hasDimensions ? [imageDimensions] : [],\n        [{\n            ...getDialogContainerType(info.classList.isSome() && info.hasImageCaption),\n            items: flatten([\n              classList.toArray(),\n              info.hasImageCaption ? [caption] : []\n            ])\n          }]\n      ]);\n    };\n    const makeTab$1 = info => ({\n      title: 'General',\n      name: 'general',\n      items: makeItems(info)\n    });\n    const MainTab = {\n      makeTab: makeTab$1,\n      makeItems\n    };\n\n    const makeTab = _info => {\n      const items = [{\n          type: 'dropzone',\n          name: 'fileinput'\n        }];\n      return {\n        title: 'Upload',\n        name: 'upload',\n        items\n      };\n    };\n    const UploadTab = { makeTab };\n\n    const createState = info => ({\n      prevImage: ListUtils.findEntry(info.imageList, info.image.src),\n      prevAlt: info.image.alt,\n      open: true\n    });\n    const fromImageData = image => ({\n      src: {\n        value: image.src,\n        meta: {}\n      },\n      images: image.src,\n      alt: image.alt,\n      title: image.title,\n      dimensions: {\n        width: image.width,\n        height: image.height\n      },\n      classes: image.class,\n      caption: image.caption,\n      style: image.style,\n      vspace: image.vspace,\n      border: image.border,\n      hspace: image.hspace,\n      borderstyle: image.borderStyle,\n      fileinput: [],\n      isDecorative: image.isDecorative\n    });\n    const toImageData = (data, removeEmptyAlt) => ({\n      src: data.src.value,\n      alt: data.alt.length === 0 && removeEmptyAlt ? null : data.alt,\n      title: data.title,\n      width: data.dimensions.width,\n      height: data.dimensions.height,\n      class: data.classes,\n      style: data.style,\n      caption: data.caption,\n      hspace: data.hspace,\n      vspace: data.vspace,\n      border: data.border,\n      borderStyle: data.borderstyle,\n      isDecorative: data.isDecorative\n    });\n    const addPrependUrl2 = (info, srcURL) => {\n      if (!/^(?:[a-zA-Z]+:)?\\/\\//.test(srcURL)) {\n        return info.prependURL.bind(prependUrl => {\n          if (srcURL.substring(0, prependUrl.length) !== prependUrl) {\n            return Optional.some(prependUrl + srcURL);\n          }\n          return Optional.none();\n        });\n      }\n      return Optional.none();\n    };\n    const addPrependUrl = (info, api) => {\n      const data = api.getData();\n      addPrependUrl2(info, data.src.value).each(srcURL => {\n        api.setData({\n          src: {\n            value: srcURL,\n            meta: data.src.meta\n          }\n        });\n      });\n    };\n    const formFillFromMeta2 = (info, data, meta) => {\n      if (info.hasDescription && isString(meta.alt)) {\n        data.alt = meta.alt;\n      }\n      if (info.hasAccessibilityOptions) {\n        data.isDecorative = meta.isDecorative || data.isDecorative || false;\n      }\n      if (info.hasImageTitle && isString(meta.title)) {\n        data.title = meta.title;\n      }\n      if (info.hasDimensions) {\n        if (isString(meta.width)) {\n          data.dimensions.width = meta.width;\n        }\n        if (isString(meta.height)) {\n          data.dimensions.height = meta.height;\n        }\n      }\n      if (isString(meta.class)) {\n        ListUtils.findEntry(info.classList, meta.class).each(entry => {\n          data.classes = entry.value;\n        });\n      }\n      if (info.hasImageCaption) {\n        if (isBoolean(meta.caption)) {\n          data.caption = meta.caption;\n        }\n      }\n      if (info.hasAdvTab) {\n        if (isString(meta.style)) {\n          data.style = meta.style;\n        }\n        if (isString(meta.vspace)) {\n          data.vspace = meta.vspace;\n        }\n        if (isString(meta.border)) {\n          data.border = meta.border;\n        }\n        if (isString(meta.hspace)) {\n          data.hspace = meta.hspace;\n        }\n        if (isString(meta.borderstyle)) {\n          data.borderstyle = meta.borderstyle;\n        }\n      }\n    };\n    const formFillFromMeta = (info, api) => {\n      const data = api.getData();\n      const meta = data.src.meta;\n      if (meta !== undefined) {\n        const newData = deepMerge({}, data);\n        formFillFromMeta2(info, newData, meta);\n        api.setData(newData);\n      }\n    };\n    const calculateImageSize = (helpers, info, state, api) => {\n      const data = api.getData();\n      const url = data.src.value;\n      const meta = data.src.meta || {};\n      if (!meta.width && !meta.height && info.hasDimensions) {\n        if (isNotEmpty(url)) {\n          helpers.imageSize(url).then(size => {\n            if (state.open) {\n              api.setData({ dimensions: size });\n            }\n          }).catch(e => console.error(e));\n        } else {\n          api.setData({\n            dimensions: {\n              width: '',\n              height: ''\n            }\n          });\n        }\n      }\n    };\n    const updateImagesDropdown = (info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.src.value);\n      state.prevImage = image;\n      api.setData({ images: image.map(entry => entry.value).getOr('') });\n    };\n    const changeSrc = (helpers, info, state, api) => {\n      addPrependUrl(info, api);\n      formFillFromMeta(info, api);\n      calculateImageSize(helpers, info, state, api);\n      updateImagesDropdown(info, state, api);\n    };\n    const changeImages = (helpers, info, state, api) => {\n      const data = api.getData();\n      const image = ListUtils.findEntry(info.imageList, data.images);\n      image.each(img => {\n        const updateAlt = data.alt === '' || state.prevImage.map(image => image.text === data.alt).getOr(false);\n        if (updateAlt) {\n          if (img.value === '') {\n            api.setData({\n              src: img,\n              alt: state.prevAlt\n            });\n          } else {\n            api.setData({\n              src: img,\n              alt: img.text\n            });\n          }\n        } else {\n          api.setData({ src: img });\n        }\n      });\n      state.prevImage = image;\n      changeSrc(helpers, info, state, api);\n    };\n    const changeFileInput = (helpers, info, state, api) => {\n      const data = api.getData();\n      api.block('Uploading image');\n      head(data.fileinput).fold(() => {\n        api.unblock();\n      }, file => {\n        const blobUri = URL.createObjectURL(file);\n        const finalize = () => {\n          api.unblock();\n          URL.revokeObjectURL(blobUri);\n        };\n        const updateSrcAndSwitchTab = url => {\n          api.setData({\n            src: {\n              value: url,\n              meta: {}\n            }\n          });\n          api.showTab('general');\n          changeSrc(helpers, info, state, api);\n        };\n        blobToDataUri(file).then(dataUrl => {\n          const blobInfo = helpers.createBlobCache(file, blobUri, dataUrl);\n          if (info.automaticUploads) {\n            helpers.uploadImage(blobInfo).then(result => {\n              updateSrcAndSwitchTab(result.url);\n              finalize();\n            }).catch(err => {\n              finalize();\n              helpers.alertErr(err);\n            });\n          } else {\n            helpers.addToBlobCache(blobInfo);\n            updateSrcAndSwitchTab(blobInfo.blobUri());\n            api.unblock();\n          }\n        });\n      });\n    };\n    const changeHandler = (helpers, info, state) => (api, evt) => {\n      if (evt.name === 'src') {\n        changeSrc(helpers, info, state, api);\n      } else if (evt.name === 'images') {\n        changeImages(helpers, info, state, api);\n      } else if (evt.name === 'alt') {\n        state.prevAlt = api.getData().alt;\n      } else if (evt.name === 'fileinput') {\n        changeFileInput(helpers, info, state, api);\n      } else if (evt.name === 'isDecorative') {\n        api.setEnabled('alt', !api.getData().isDecorative);\n      }\n    };\n    const closeHandler = state => () => {\n      state.open = false;\n    };\n    const makeDialogBody = info => {\n      if (info.hasAdvTab || info.hasUploadUrl || info.hasUploadHandler) {\n        const tabPanel = {\n          type: 'tabpanel',\n          tabs: flatten([\n            [MainTab.makeTab(info)],\n            info.hasAdvTab ? [AdvTab.makeTab(info)] : [],\n            info.hasUploadTab && (info.hasUploadUrl || info.hasUploadHandler) ? [UploadTab.makeTab(info)] : []\n          ])\n        };\n        return tabPanel;\n      } else {\n        const panel = {\n          type: 'panel',\n          items: MainTab.makeItems(info)\n        };\n        return panel;\n      }\n    };\n    const submitHandler = (editor, info, helpers) => api => {\n      const data = deepMerge(fromImageData(info.image), api.getData());\n      const finalData = {\n        ...data,\n        style: getStyleValue(helpers.normalizeCss, toImageData(data, false))\n      };\n      editor.execCommand('mceUpdateImage', false, toImageData(finalData, info.hasAccessibilityOptions));\n      editor.editorUpload.uploadImagesAuto();\n      api.close();\n    };\n    const imageSize = editor => url => {\n      if (!isSafeImageUrl(editor, url)) {\n        return Promise.resolve({\n          width: '',\n          height: ''\n        });\n      } else {\n        return getImageSize(editor.documentBaseURI.toAbsolute(url)).then(dimensions => ({\n          width: String(dimensions.width),\n          height: String(dimensions.height)\n        }));\n      }\n    };\n    const createBlobCache = editor => (file, blobUri, dataUrl) => editor.editorUpload.blobCache.create({\n      blob: file,\n      blobUri,\n      name: file.name ? file.name.replace(/\\.[^\\.]+$/, '') : null,\n      filename: file.name,\n      base64: dataUrl.split(',')[1]\n    });\n    const addToBlobCache = editor => blobInfo => {\n      editor.editorUpload.blobCache.add(blobInfo);\n    };\n    const alertErr = editor => message => {\n      editor.windowManager.alert(message);\n    };\n    const normalizeCss = editor => cssText => normalizeCss$1(editor, cssText);\n    const parseStyle = editor => cssText => editor.dom.parseStyle(cssText);\n    const serializeStyle = editor => (stylesArg, name) => editor.dom.serializeStyle(stylesArg, name);\n    const uploadImage = editor => blobInfo => global$1(editor).upload([blobInfo], false).then(results => {\n      if (results.length === 0) {\n        return Promise.reject('Failed to upload image');\n      } else if (results[0].status === false) {\n        return Promise.reject(results[0].error.message);\n      } else {\n        return results[0];\n      }\n    });\n    const Dialog = editor => {\n      const helpers = {\n        imageSize: imageSize(editor),\n        addToBlobCache: addToBlobCache(editor),\n        createBlobCache: createBlobCache(editor),\n        alertErr: alertErr(editor),\n        normalizeCss: normalizeCss(editor),\n        parseStyle: parseStyle(editor),\n        serializeStyle: serializeStyle(editor),\n        uploadImage: uploadImage(editor)\n      };\n      const open = () => {\n        collect(editor).then(info => {\n          const state = createState(info);\n          return {\n            title: 'Insert/Edit Image',\n            size: 'normal',\n            body: makeDialogBody(info),\n            buttons: [\n              {\n                type: 'cancel',\n                name: 'cancel',\n                text: 'Cancel'\n              },\n              {\n                type: 'submit',\n                name: 'save',\n                text: 'Save',\n                primary: true\n              }\n            ],\n            initialData: fromImageData(info.image),\n            onSubmit: submitHandler(editor, info, helpers),\n            onChange: changeHandler(helpers, info, state),\n            onClose: closeHandler(state)\n          };\n        }).then(editor.windowManager.open);\n      };\n      return { open };\n    };\n\n    const register$1 = editor => {\n      editor.addCommand('mceImage', Dialog(editor).open);\n      editor.addCommand('mceUpdateImage', (_ui, data) => {\n        editor.undoManager.transact(() => insertOrUpdateImage(editor, data));\n      });\n    };\n\n    const hasImageClass = node => {\n      const className = node.attr('class');\n      return className && /\\bimage\\b/.test(className);\n    };\n    const toggleContentEditableState = state => nodes => {\n      let i = nodes.length;\n      const toggleContentEditable = node => {\n        node.attr('contenteditable', state ? 'true' : null);\n      };\n      while (i--) {\n        const node = nodes[i];\n        if (hasImageClass(node)) {\n          node.attr('contenteditable', state ? 'false' : null);\n          global.each(node.getAll('figcaption'), toggleContentEditable);\n        }\n      }\n    };\n    const setup = editor => {\n      editor.on('PreInit', () => {\n        editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n        editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n      });\n    };\n\n    const register = editor => {\n      editor.ui.registry.addToggleButton('image', {\n        icon: 'image',\n        tooltip: 'Insert/edit image',\n        onAction: Dialog(editor).open,\n        onSetup: buttonApi => {\n          buttonApi.setActive(isNonNullable(getSelectedImage(editor)));\n          return editor.selection.selectorChangedWithUnbind('img:not([data-mce-object]):not([data-mce-placeholder]),figure.image', buttonApi.setActive).unbind;\n        }\n      });\n      editor.ui.registry.addMenuItem('image', {\n        icon: 'image',\n        text: 'Image...',\n        onAction: Dialog(editor).open\n      });\n      editor.ui.registry.addContextMenu('image', { update: element => isFigure(element) || isImage(element) && !isPlaceholderImage(element) ? ['image'] : [] });\n    };\n\n    var Plugin = () => {\n      global$4.add('image', editor => {\n        register$2(editor);\n        setup(editor);\n        register(editor);\n        register$1(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"link\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/link')\n//   ES2015:\n//     import 'tinymce/plugins/link'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.0.3 (2022-05-25)\n */\n\n(function () {\n    'use strict';\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq = t => a => t === a;\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isArrayOf = (value, pred) => {\n      if (isArray(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const option = name => editor => editor.options.get(name);\n    const register$1 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('link_assume_external_targets', {\n        processor: value => {\n          const valid = isString(value) || isBoolean(value);\n          if (valid) {\n            if (value === true) {\n              return {\n                value: 1,\n                valid\n              };\n            } else if (value === 'http' || value === 'https') {\n              return {\n                value,\n                valid\n              };\n            } else {\n              return {\n                value: 0,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or a boolean.'\n            };\n          }\n        },\n        default: false\n      });\n      registerOption('link_context_toolbar', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_list', { processor: value => isString(value) || isFunction(value) || isArrayOf(value, isObject) });\n      registerOption('link_default_target', { processor: 'string' });\n      registerOption('link_default_protocol', {\n        processor: 'string',\n        default: 'https'\n      });\n      registerOption('link_target_list', {\n        processor: value => isBoolean(value) || isArrayOf(value, isObject),\n        default: true\n      });\n      registerOption('link_rel_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('link_title', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('link_quicklink', {\n        processor: 'boolean',\n        default: false\n      });\n    };\n    const assumeExternalTargets = option('link_assume_external_targets');\n    const hasContextToolbar = option('link_context_toolbar');\n    const getLinkList = option('link_list');\n    const getDefaultLinkTarget = option('link_default_target');\n    const getDefaultLinkProtocol = option('link_default_protocol');\n    const getTargetList = option('link_target_list');\n    const getRelList = option('link_rel_list');\n    const getLinkClassList = option('link_class_list');\n    const shouldShowLinkTitle = option('link_title');\n    const allowUnsafeLinkTarget = option('allow_unsafe_link_target');\n    const useQuickLink = option('link_quicklink');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = item => isString(item.value) ? item.value : '';\n    const getText = item => {\n      if (isString(item.text)) {\n        return item.text;\n      } else if (isString(item.title)) {\n        return item.title;\n      } else {\n        return '';\n      }\n    };\n    const sanitizeList = (list, extractValue) => {\n      const out = [];\n      global$3.each(list, item => {\n        const text = getText(item);\n        if (item.menu !== undefined) {\n          const items = sanitizeList(item.menu, extractValue);\n          out.push({\n            text,\n            items\n          });\n        } else {\n          const value = extractValue(item);\n          out.push({\n            text,\n            value\n          });\n        }\n      });\n      return out;\n    };\n    const sanitizeWith = (extracter = getValue) => list => Optional.from(list).map(list => sanitizeList(list, extracter));\n    const sanitize = list => sanitizeWith(getValue)(list);\n    const createUi = (name, label) => items => ({\n      name,\n      type: 'listbox',\n      label,\n      items\n    });\n    const ListOptions = {\n      sanitize,\n      sanitizeWith,\n      createUi,\n      getValue\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const isAnchor = elm => elm && elm.nodeName.toLowerCase() === 'a';\n    const isLink = elm => isAnchor(elm) && !!getHref(elm);\n    const collectNodesInRange = (rng, predicate) => {\n      if (rng.collapsed) {\n        return [];\n      } else {\n        const contents = rng.cloneContents();\n        const walker = new global$2(contents.firstChild, contents);\n        const elements = [];\n        let current = contents.firstChild;\n        do {\n          if (predicate(current)) {\n            elements.push(current);\n          }\n        } while (current = walker.next());\n        return elements;\n      }\n    };\n    const hasProtocol = url => /^\\w+:/i.test(url);\n    const getHref = elm => {\n      const href = elm.getAttribute('data-mce-href');\n      return href ? href : elm.getAttribute('href');\n    };\n    const applyRelTargetRules = (rel, isUnsafe) => {\n      const rules = ['noopener'];\n      const rels = rel ? rel.split(/\\s+/) : [];\n      const toString = rels => global$3.trim(rels.sort().join(' '));\n      const addTargetRules = rels => {\n        rels = removeTargetRules(rels);\n        return rels.length > 0 ? rels.concat(rules) : rules;\n      };\n      const removeTargetRules = rels => rels.filter(val => global$3.inArray(rules, val) === -1);\n      const newRels = isUnsafe ? addTargetRules(rels) : removeTargetRules(rels);\n      return newRels.length > 0 ? toString(newRels) : '';\n    };\n    const trimCaretContainers = text => text.replace(/\\uFEFF/g, '');\n    const getAnchorElement = (editor, selectedElm) => {\n      selectedElm = selectedElm || editor.selection.getNode();\n      if (isImageFigure(selectedElm)) {\n        return editor.dom.select('a[href]', selectedElm)[0];\n      } else {\n        return editor.dom.getParent(selectedElm, 'a[href]');\n      }\n    };\n    const getAnchorText = (selection, anchorElm) => {\n      const text = anchorElm ? anchorElm.innerText || anchorElm.textContent : selection.getContent({ format: 'text' });\n      return trimCaretContainers(text);\n    };\n    const hasLinks = elements => global$3.grep(elements, isLink).length > 0;\n    const hasLinksInSelection = rng => collectNodesInRange(rng, isLink).length > 0;\n    const isOnlyTextSelected = editor => {\n      const inlineTextElements = editor.schema.getTextInlineElements();\n      const isElement = elm => elm.nodeType === 1 && !isAnchor(elm) && !has(inlineTextElements, elm.nodeName.toLowerCase());\n      const elements = collectNodesInRange(editor.selection.getRng(), isElement);\n      return elements.length === 0;\n    };\n    const isImageFigure = elm => elm && elm.nodeName === 'FIGURE' && /\\bimage\\b/i.test(elm.className);\n    const getLinkAttrs = data => {\n      const attrs = [\n        'title',\n        'rel',\n        'class',\n        'target'\n      ];\n      return foldl(attrs, (acc, key) => {\n        data[key].each(value => {\n          acc[key] = value.length > 0 ? value : null;\n        });\n        return acc;\n      }, { href: data.href });\n    };\n    const handleExternalTargets = (href, assumeExternalTargets) => {\n      if ((assumeExternalTargets === 'http' || assumeExternalTargets === 'https') && !hasProtocol(href)) {\n        return assumeExternalTargets + '://' + href;\n      }\n      return href;\n    };\n    const applyLinkOverrides = (editor, linkAttrs) => {\n      const newLinkAttrs = { ...linkAttrs };\n      if (getRelList(editor).length === 0 && !allowUnsafeLinkTarget(editor)) {\n        const newRel = applyRelTargetRules(newLinkAttrs.rel, newLinkAttrs.target === '_blank');\n        newLinkAttrs.rel = newRel ? newRel : null;\n      }\n      if (Optional.from(newLinkAttrs.target).isNone() && getTargetList(editor) === false) {\n        newLinkAttrs.target = getDefaultLinkTarget(editor);\n      }\n      newLinkAttrs.href = handleExternalTargets(newLinkAttrs.href, assumeExternalTargets(editor));\n      return newLinkAttrs;\n    };\n    const updateLink = (editor, anchorElm, text, linkAttrs) => {\n      text.each(text => {\n        if (has(anchorElm, 'innerText')) {\n          anchorElm.innerText = text;\n        } else {\n          anchorElm.textContent = text;\n        }\n      });\n      editor.dom.setAttribs(anchorElm, linkAttrs);\n      editor.selection.select(anchorElm);\n    };\n    const createLink = (editor, selectedElm, text, linkAttrs) => {\n      if (isImageFigure(selectedElm)) {\n        linkImageFigure(editor, selectedElm, linkAttrs);\n      } else {\n        text.fold(() => {\n          editor.execCommand('mceInsertLink', false, linkAttrs);\n        }, text => {\n          editor.insertContent(editor.dom.createHTML('a', linkAttrs, editor.dom.encode(text)));\n        });\n      }\n    };\n    const linkDomMutation = (editor, attachState, data) => {\n      const selectedElm = editor.selection.getNode();\n      const anchorElm = getAnchorElement(editor, selectedElm);\n      const linkAttrs = applyLinkOverrides(editor, getLinkAttrs(data));\n      editor.undoManager.transact(() => {\n        if (data.href === attachState.href) {\n          attachState.attach();\n        }\n        if (anchorElm) {\n          editor.focus();\n          updateLink(editor, anchorElm, data.text, linkAttrs);\n        } else {\n          createLink(editor, selectedElm, data.text, linkAttrs);\n        }\n      });\n    };\n    const unlinkSelection = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const bookmark = selection.getBookmark();\n      const rng = selection.getRng().cloneRange();\n      const startAnchorElm = dom.getParent(rng.startContainer, 'a[href]', editor.getBody());\n      const endAnchorElm = dom.getParent(rng.endContainer, 'a[href]', editor.getBody());\n      if (startAnchorElm) {\n        rng.setStartBefore(startAnchorElm);\n      }\n      if (endAnchorElm) {\n        rng.setEndAfter(endAnchorElm);\n      }\n      selection.setRng(rng);\n      editor.execCommand('unlink');\n      selection.moveToBookmark(bookmark);\n    };\n    const unlinkDomMutation = editor => {\n      editor.undoManager.transact(() => {\n        const node = editor.selection.getNode();\n        if (isImageFigure(node)) {\n          unlinkImageFigure(editor, node);\n        } else {\n          unlinkSelection(editor);\n        }\n        editor.focus();\n      });\n    };\n    const unwrapOptions = data => {\n      const {\n        class: cls,\n        href,\n        rel,\n        target,\n        text,\n        title\n      } = data;\n      return filter({\n        class: cls.getOrNull(),\n        href,\n        rel: rel.getOrNull(),\n        target: target.getOrNull(),\n        text: text.getOrNull(),\n        title: title.getOrNull()\n      }, (v, _k) => isNull(v) === false);\n    };\n    const sanitizeData = (editor, data) => {\n      const getOption = editor.options.get;\n      const uriOptions = {\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls')\n      };\n      const href = data.href;\n      return {\n        ...data,\n        href: global$1.isDomSafe(href, 'a', uriOptions) ? href : ''\n      };\n    };\n    const link = (editor, attachState, data) => {\n      const sanitizedData = sanitizeData(editor, data);\n      editor.hasPlugin('rtc', true) ? editor.execCommand('createlink', false, unwrapOptions(sanitizedData)) : linkDomMutation(editor, attachState, sanitizedData);\n    };\n    const unlink = editor => {\n      editor.hasPlugin('rtc', true) ? editor.execCommand('unlink') : unlinkDomMutation(editor);\n    };\n    const unlinkImageFigure = (editor, fig) => {\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.getParents(img, 'a[href]', fig)[0];\n        if (a) {\n          a.parentNode.insertBefore(img, a);\n          editor.dom.remove(a);\n        }\n      }\n    };\n    const linkImageFigure = (editor, fig, attrs) => {\n      const img = editor.dom.select('img', fig)[0];\n      if (img) {\n        const a = editor.dom.create('a', attrs);\n        img.parentNode.insertBefore(a, img);\n        a.appendChild(img);\n      }\n    };\n\n    const isListGroup = item => hasNonNullableKey(item, 'items');\n    const findTextByValue = (value, catalog) => findMap(catalog, item => {\n      if (isListGroup(item)) {\n        return findTextByValue(value, item.items);\n      } else {\n        return someIf(item.value === value, item);\n      }\n    });\n    const getDelta = (persistentText, fieldName, catalog, data) => {\n      const value = data[fieldName];\n      const hasPersistentText = persistentText.length > 0;\n      return value !== undefined ? findTextByValue(value, catalog).map(i => ({\n        url: {\n          value: i.value,\n          meta: {\n            text: hasPersistentText ? persistentText : i.text,\n            attach: noop\n          }\n        },\n        text: hasPersistentText ? persistentText : i.text\n      })) : Optional.none();\n    };\n    const findCatalog = (catalogs, fieldName) => {\n      if (fieldName === 'link') {\n        return catalogs.link;\n      } else if (fieldName === 'anchor') {\n        return catalogs.anchor;\n      } else {\n        return Optional.none();\n      }\n    };\n    const init = (initialData, linkCatalog) => {\n      const persistentData = {\n        text: initialData.text,\n        title: initialData.title\n      };\n      const getTitleFromUrlChange = url => someIf(persistentData.title.length <= 0, Optional.from(url.meta.title).getOr(''));\n      const getTextFromUrlChange = url => someIf(persistentData.text.length <= 0, Optional.from(url.meta.text).getOr(url.value));\n      const onUrlChange = data => {\n        const text = getTextFromUrlChange(data.url);\n        const title = getTitleFromUrlChange(data.url);\n        if (text.isSome() || title.isSome()) {\n          return Optional.some({\n            ...text.map(text => ({ text })).getOr({}),\n            ...title.map(title => ({ title })).getOr({})\n          });\n        } else {\n          return Optional.none();\n        }\n      };\n      const onCatalogChange = (data, change) => {\n        const catalog = findCatalog(linkCatalog, change.name).getOr([]);\n        return getDelta(persistentData.text, change.name, catalog, data);\n      };\n      const onChange = (getData, change) => {\n        const name = change.name;\n        if (name === 'url') {\n          return onUrlChange(getData());\n        } else if (contains([\n            'anchor',\n            'link'\n          ], name)) {\n          return onCatalogChange(getData(), change);\n        } else if (name === 'text' || name === 'title') {\n          persistentData[name] = getData()[name];\n          return Optional.none();\n        } else {\n          return Optional.none();\n        }\n      };\n      return { onChange };\n    };\n    const DialogChanges = {\n      init,\n      getDelta\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    const delayedConfirm = (editor, message, callback) => {\n      const rng = editor.selection.getRng();\n      global.setEditorTimeout(editor, () => {\n        editor.windowManager.confirm(message, state => {\n          editor.selection.setRng(rng);\n          callback(state);\n        });\n      });\n    };\n    const tryEmailTransform = data => {\n      const url = data.href;\n      const suggestMailTo = url.indexOf('@') > 0 && url.indexOf('/') === -1 && url.indexOf('mailto:') === -1;\n      return suggestMailTo ? Optional.some({\n        message: 'The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?',\n        preprocess: oldData => ({\n          ...oldData,\n          href: 'mailto:' + url\n        })\n      }) : Optional.none();\n    };\n    const tryProtocolTransform = (assumeExternalTargets, defaultLinkProtocol) => data => {\n      const url = data.href;\n      const suggestProtocol = assumeExternalTargets === 1 && !hasProtocol(url) || assumeExternalTargets === 0 && /^\\s*www(\\.|\\d\\.)/i.test(url);\n      return suggestProtocol ? Optional.some({\n        message: `The URL you entered seems to be an external link. Do you want to add the required ${ defaultLinkProtocol }:// prefix?`,\n        preprocess: oldData => ({\n          ...oldData,\n          href: defaultLinkProtocol + '://' + url\n        })\n      }) : Optional.none();\n    };\n    const preprocess = (editor, data) => findMap([\n      tryEmailTransform,\n      tryProtocolTransform(assumeExternalTargets(editor), getDefaultLinkProtocol(editor))\n    ], f => f(data)).fold(() => Promise.resolve(data), transform => new Promise(callback => {\n      delayedConfirm(editor, transform.message, state => {\n        callback(state ? transform.preprocess(data) : data);\n      });\n    }));\n    const DialogConfirms = { preprocess };\n\n    const getAnchors = editor => {\n      const anchorNodes = editor.dom.select('a:not([href])');\n      const anchors = bind(anchorNodes, anchor => {\n        const id = anchor.name || anchor.id;\n        return id ? [{\n            text: id,\n            value: '#' + id\n          }] : [];\n      });\n      return anchors.length > 0 ? Optional.some([{\n          text: 'None',\n          value: ''\n        }].concat(anchors)) : Optional.none();\n    };\n    const AnchorListOptions = { getAnchors };\n\n    const getClasses = editor => {\n      const list = getLinkClassList(editor);\n      if (list.length > 0) {\n        return ListOptions.sanitize(list);\n      }\n      return Optional.none();\n    };\n    const ClassListOptions = { getClasses };\n\n    const parseJson = text => {\n      try {\n        return Optional.some(JSON.parse(text));\n      } catch (err) {\n        return Optional.none();\n      }\n    };\n    const getLinks = editor => {\n      const extractor = item => editor.convertURL(item.value || item.url, 'href');\n      const linkList = getLinkList(editor);\n      return new Promise(resolve => {\n        if (isString(linkList)) {\n          fetch(linkList).then(res => res.ok ? res.text().then(parseJson) : Promise.reject()).then(resolve, () => resolve(Optional.none()));\n        } else if (isFunction(linkList)) {\n          linkList(output => resolve(Optional.some(output)));\n        } else {\n          resolve(Optional.from(linkList));\n        }\n      }).then(optItems => optItems.bind(ListOptions.sanitizeWith(extractor)).map(items => {\n        if (items.length > 0) {\n          const noneItem = [{\n              text: 'None',\n              value: ''\n            }];\n          return noneItem.concat(items);\n        } else {\n          return items;\n        }\n      }));\n    };\n    const LinkListOptions = { getLinks };\n\n    const getRels = (editor, initialTarget) => {\n      const list = getRelList(editor);\n      if (list.length > 0) {\n        const isTargetBlank = is(initialTarget, '_blank');\n        const enforceSafe = allowUnsafeLinkTarget(editor) === false;\n        const safeRelExtractor = item => applyRelTargetRules(ListOptions.getValue(item), isTargetBlank);\n        const sanitizer = enforceSafe ? ListOptions.sanitizeWith(safeRelExtractor) : ListOptions.sanitize;\n        return sanitizer(list);\n      }\n      return Optional.none();\n    };\n    const RelOptions = { getRels };\n\n    const fallbacks = [\n      {\n        text: 'Current window',\n        value: ''\n      },\n      {\n        text: 'New window',\n        value: '_blank'\n      }\n    ];\n    const getTargets = editor => {\n      const list = getTargetList(editor);\n      if (isArray(list)) {\n        return ListOptions.sanitize(list).orThunk(() => Optional.some(fallbacks));\n      } else if (list === false) {\n        return Optional.none();\n      }\n      return Optional.some(fallbacks);\n    };\n    const TargetOptions = { getTargets };\n\n    const nonEmptyAttr = (dom, elem, name) => {\n      const val = dom.getAttrib(elem, name);\n      return val !== null && val.length > 0 ? Optional.some(val) : Optional.none();\n    };\n    const extractFromAnchor = (editor, anchor) => {\n      const dom = editor.dom;\n      const onlyText = isOnlyTextSelected(editor);\n      const text = onlyText ? Optional.some(getAnchorText(editor.selection, anchor)) : Optional.none();\n      const url = anchor ? Optional.some(dom.getAttrib(anchor, 'href')) : Optional.none();\n      const target = anchor ? Optional.from(dom.getAttrib(anchor, 'target')) : Optional.none();\n      const rel = nonEmptyAttr(dom, anchor, 'rel');\n      const linkClass = nonEmptyAttr(dom, anchor, 'class');\n      const title = nonEmptyAttr(dom, anchor, 'title');\n      return {\n        url,\n        text,\n        title,\n        target,\n        rel,\n        linkClass\n      };\n    };\n    const collect = (editor, linkNode) => LinkListOptions.getLinks(editor).then(links => {\n      const anchor = extractFromAnchor(editor, linkNode);\n      return {\n        anchor,\n        catalogs: {\n          targets: TargetOptions.getTargets(editor),\n          rels: RelOptions.getRels(editor, anchor.target),\n          classes: ClassListOptions.getClasses(editor),\n          anchor: AnchorListOptions.getAnchors(editor),\n          link: links\n        },\n        optNode: Optional.from(linkNode),\n        flags: { titleEnabled: shouldShowLinkTitle(editor) }\n      };\n    });\n    const DialogInfo = { collect };\n\n    const handleSubmit = (editor, info) => api => {\n      const data = api.getData();\n      if (!data.url.value) {\n        unlink(editor);\n        api.close();\n        return;\n      }\n      const getChangedValue = key => Optional.from(data[key]).filter(value => !is(info.anchor[key], value));\n      const changedData = {\n        href: data.url.value,\n        text: getChangedValue('text'),\n        target: getChangedValue('target'),\n        rel: getChangedValue('rel'),\n        class: getChangedValue('linkClass'),\n        title: getChangedValue('title')\n      };\n      const attachState = {\n        href: data.url.value,\n        attach: data.url.meta !== undefined && data.url.meta.attach ? data.url.meta.attach : noop\n      };\n      DialogConfirms.preprocess(editor, changedData).then(pData => {\n        link(editor, attachState, pData);\n      });\n      api.close();\n    };\n    const collectData = editor => {\n      const anchorNode = getAnchorElement(editor);\n      return DialogInfo.collect(editor, anchorNode);\n    };\n    const getInitialData = (info, defaultTarget) => {\n      const anchor = info.anchor;\n      const url = anchor.url.getOr('');\n      return {\n        url: {\n          value: url,\n          meta: { original: { value: url } }\n        },\n        text: anchor.text.getOr(''),\n        title: anchor.title.getOr(''),\n        anchor: url,\n        link: url,\n        rel: anchor.rel.getOr(''),\n        target: anchor.target.or(defaultTarget).getOr(''),\n        linkClass: anchor.linkClass.getOr('')\n      };\n    };\n    const makeDialog = (settings, onSubmit, editor) => {\n      const urlInput = [{\n          name: 'url',\n          type: 'urlinput',\n          filetype: 'file',\n          label: 'URL'\n        }];\n      const displayText = settings.anchor.text.map(() => ({\n        name: 'text',\n        type: 'input',\n        label: 'Text to display'\n      })).toArray();\n      const titleText = settings.flags.titleEnabled ? [{\n          name: 'title',\n          type: 'input',\n          label: 'Title'\n        }] : [];\n      const defaultTarget = Optional.from(getDefaultLinkTarget(editor));\n      const initialData = getInitialData(settings, defaultTarget);\n      const catalogs = settings.catalogs;\n      const dialogDelta = DialogChanges.init(initialData, catalogs);\n      const body = {\n        type: 'panel',\n        items: flatten([\n          urlInput,\n          displayText,\n          titleText,\n          cat([\n            catalogs.anchor.map(ListOptions.createUi('anchor', 'Anchors')),\n            catalogs.rels.map(ListOptions.createUi('rel', 'Rel')),\n            catalogs.targets.map(ListOptions.createUi('target', 'Open link in...')),\n            catalogs.link.map(ListOptions.createUi('link', 'Link list')),\n            catalogs.classes.map(ListOptions.createUi('linkClass', 'Class'))\n          ])\n        ])\n      };\n      return {\n        title: 'Insert/Edit Link',\n        size: 'normal',\n        body,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData,\n        onChange: (api, {name}) => {\n          dialogDelta.onChange(api.getData, { name }).each(newData => {\n            api.setData(newData);\n          });\n        },\n        onSubmit\n      };\n    };\n    const open$1 = editor => {\n      const data = collectData(editor);\n      data.then(info => {\n        const onSubmit = handleSubmit(editor, info);\n        return makeDialog(info, onSubmit, editor);\n      }).then(spec => {\n        editor.windowManager.open(spec);\n      });\n    };\n\n    const appendClickRemove = (link, evt) => {\n      document.body.appendChild(link);\n      link.dispatchEvent(evt);\n      document.body.removeChild(link);\n    };\n    const open = url => {\n      const link = document.createElement('a');\n      link.target = '_blank';\n      link.href = url;\n      link.rel = 'noreferrer noopener';\n      const evt = document.createEvent('MouseEvents');\n      evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      appendClickRemove(link, evt);\n    };\n\n    const getLink = (editor, elm) => editor.dom.getParent(elm, 'a[href]');\n    const getSelectedLink = editor => getLink(editor, editor.selection.getStart());\n    const hasOnlyAltModifier = e => {\n      return e.altKey === true && e.shiftKey === false && e.ctrlKey === false && e.metaKey === false;\n    };\n    const gotoLink = (editor, a) => {\n      if (a) {\n        const href = getHref(a);\n        if (/^#/.test(href)) {\n          const targetEl = editor.dom.select(href);\n          if (targetEl.length) {\n            editor.selection.scrollIntoView(targetEl[0], true);\n          }\n        } else {\n          open(a.href);\n        }\n      }\n    };\n    const openDialog = editor => () => {\n      open$1(editor);\n    };\n    const gotoSelectedLink = editor => () => {\n      gotoLink(editor, getSelectedLink(editor));\n    };\n    const setupGotoLinks = editor => {\n      editor.on('click', e => {\n        const link = getLink(editor, e.target);\n        if (link && global$4.metaKeyPressed(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n      editor.on('keydown', e => {\n        const link = getSelectedLink(editor);\n        if (link && e.keyCode === 13 && hasOnlyAltModifier(e)) {\n          e.preventDefault();\n          gotoLink(editor, link);\n        }\n      });\n    };\n    const toggleState = (editor, toggler) => {\n      editor.on('NodeChange', toggler);\n      return () => editor.off('NodeChange', toggler);\n    };\n    const toggleActiveState = editor => api => {\n      const updateState = () => api.setActive(!editor.mode.isReadOnly() && getAnchorElement(editor, editor.selection.getNode()) !== null);\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleEnabledState = editor => api => {\n      const updateState = () => api.setEnabled(getAnchorElement(editor, editor.selection.getNode()) !== null);\n      updateState();\n      return toggleState(editor, updateState);\n    };\n    const toggleUnlinkState = editor => api => {\n      const hasLinks$1 = parents => hasLinks(parents) || hasLinksInSelection(editor.selection.getRng());\n      const parents = editor.dom.getParents(editor.selection.getStart());\n      api.setEnabled(hasLinks$1(parents));\n      return toggleState(editor, e => api.setEnabled(hasLinks$1(e.parents)));\n    };\n\n    const register = editor => {\n      editor.addCommand('mceLink', () => {\n        if (useQuickLink(editor)) {\n          editor.dispatch('contexttoolbar-show', { toolbarKey: 'quicklink' });\n        } else {\n          openDialog(editor)();\n        }\n      });\n    };\n\n    const setup = editor => {\n      editor.addShortcut('Meta+K', '', () => {\n        editor.execCommand('mceLink');\n      });\n    };\n\n    const setupButtons = editor => {\n      editor.ui.registry.addToggleButton('link', {\n        icon: 'link',\n        tooltip: 'Insert/edit link',\n        onAction: openDialog(editor),\n        onSetup: toggleActiveState(editor)\n      });\n      editor.ui.registry.addButton('openlink', {\n        icon: 'new-tab',\n        tooltip: 'Open link',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addButton('unlink', {\n        icon: 'unlink',\n        tooltip: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupMenuItems = editor => {\n      editor.ui.registry.addMenuItem('openlink', {\n        text: 'Open link',\n        icon: 'new-tab',\n        onAction: gotoSelectedLink(editor),\n        onSetup: toggleEnabledState(editor)\n      });\n      editor.ui.registry.addMenuItem('link', {\n        icon: 'link',\n        text: 'Link...',\n        shortcut: 'Meta+K',\n        onAction: openDialog(editor)\n      });\n      editor.ui.registry.addMenuItem('unlink', {\n        icon: 'unlink',\n        text: 'Remove link',\n        onAction: () => unlink(editor),\n        onSetup: toggleUnlinkState(editor)\n      });\n    };\n    const setupContextMenu = editor => {\n      const inLink = 'link unlink openlink';\n      const noLink = 'link';\n      editor.ui.registry.addContextMenu('link', { update: element => hasLinks(editor.dom.getParents(element, 'a')) ? inLink : noLink });\n    };\n    const setupContextToolbars = editor => {\n      const collapseSelectionToEnd = editor => {\n        editor.selection.collapse(false);\n      };\n      const onSetupLink = buttonApi => {\n        const node = editor.selection.getNode();\n        buttonApi.setEnabled(getAnchorElement(editor, node) !== null);\n        return noop;\n      };\n      const getLinkText = value => {\n        const anchor = getAnchorElement(editor);\n        const onlyText = isOnlyTextSelected(editor);\n        if (!anchor && onlyText) {\n          const text = getAnchorText(editor.selection, anchor);\n          return Optional.some(text.length > 0 ? text : value);\n        } else {\n          return Optional.none();\n        }\n      };\n      editor.ui.registry.addContextForm('quicklink', {\n        launch: {\n          type: 'contextformtogglebutton',\n          icon: 'link',\n          tooltip: 'Link',\n          onSetup: toggleActiveState(editor)\n        },\n        label: 'Link',\n        predicate: node => !!getAnchorElement(editor, node) && hasContextToolbar(editor),\n        initValue: () => {\n          const elm = getAnchorElement(editor);\n          return !!elm ? getHref(elm) : '';\n        },\n        commands: [\n          {\n            type: 'contextformtogglebutton',\n            icon: 'link',\n            tooltip: 'Link',\n            primary: true,\n            onSetup: buttonApi => {\n              const node = editor.selection.getNode();\n              buttonApi.setActive(!!getAnchorElement(editor, node));\n              return toggleActiveState(editor)(buttonApi);\n            },\n            onAction: formApi => {\n              const value = formApi.getValue();\n              const text = getLinkText(value);\n              const attachState = {\n                href: value,\n                attach: noop\n              };\n              link(editor, attachState, {\n                href: value,\n                text,\n                title: Optional.none(),\n                rel: Optional.none(),\n                target: Optional.none(),\n                class: Optional.none()\n              });\n              collapseSelectionToEnd(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'unlink',\n            tooltip: 'Remove link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              unlink(editor);\n              formApi.hide();\n            }\n          },\n          {\n            type: 'contextformbutton',\n            icon: 'new-tab',\n            tooltip: 'Open link',\n            onSetup: onSetupLink,\n            onAction: formApi => {\n              gotoSelectedLink(editor)();\n              formApi.hide();\n            }\n          }\n        ]\n      });\n    };\n\n    var Plugin = () => {\n      global$5.add('link', editor => {\n        register$1(editor);\n        setupButtons(editor);\n        setupMenuItems(editor);\n        setupContextMenu(editor);\n        setupContextToolbars(editor);\n        setupGotoLinks(editor);\n        register(editor);\n        setup(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"lists\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/lists')\n//   ES2015:\n//     import 'tinymce/plugins/lists'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.0.3 (2022-05-25)\n */\n\n(function () {\n    'use strict';\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    const not = f => t => !f(t);\n    const never = constant(false);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains$1 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$1 = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const filter$1 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const groupBy = (xs, f) => {\n      if (xs.length === 0) {\n        return [];\n      } else {\n        let wasType = f(xs[0]);\n        const r = [];\n        let group = [];\n        for (let i = 0, len = xs.length; i < len; i++) {\n          const x = xs[i];\n          const type = f(x);\n          if (type !== wasType) {\n            r.push(group);\n            group = [];\n          }\n          wasType = type;\n          group.push(x);\n        }\n        if (group.length !== 0) {\n          r.push(group);\n        }\n        return r;\n      }\n    };\n    const foldl = (xs, f, acc) => {\n      each$1(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten(map(xs, f));\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const get$1 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$1(xs, 0);\n    const last = xs => get$1(xs, xs.length - 1);\n    const unique = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$1(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const ELEMENT = 1;\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    const fromDom = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom,\n      fromPoint\n    };\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    const is$1 = is$2;\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isElement = isType(ELEMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child(element, 0);\n    const lastChild = element => child(element, element.dom.childNodes.length - 1);\n\n    const before$1 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$1(v, element);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n\n    const before = (marker, elements) => {\n      each$1(elements, x => {\n        before$1(marker, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$1(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$1(children(element), rogue => {\n        remove(rogue);\n      });\n    };\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    const keys = Object.keys;\n    const each = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const clone$1 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const clone = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const deep = original => clone(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$1(original);\n      setAll(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after(original, nu);\n      const children$1 = children(original);\n      append(nu, children$1);\n      remove(original);\n      return nu;\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const matchNodeName = name => node => node && node.nodeName.toLowerCase() === name;\n    const matchNodeNames = regex => node => node && regex.test(node.nodeName);\n    const isTextNode = node => node && node.nodeType === 3;\n    const isListNode = matchNodeNames(/^(OL|UL|DL)$/);\n    const isOlUlNode = matchNodeNames(/^(OL|UL)$/);\n    const isOlNode = matchNodeName('ol');\n    const isListItemNode = matchNodeNames(/^(LI|DT|DD)$/);\n    const isDlItemNode = matchNodeNames(/^(DT|DD)$/);\n    const isTableCellNode = matchNodeNames(/^(TH|TD)$/);\n    const isBr = matchNodeName('br');\n    const isFirstChild = node => node.parentNode.firstChild === node;\n    const isTextBlock = (editor, node) => node && !!editor.schema.getTextBlockElements()[node.nodeName];\n    const isBlock = (node, blockElements) => node && node.nodeName in blockElements;\n    const isBogusBr = (dom, node) => {\n      if (!isBr(node)) {\n        return false;\n      }\n      return dom.isBlock(node.nextSibling) && !isBr(node.previousSibling);\n    };\n    const isEmpty$1 = (dom, elm, keepBookmarks) => {\n      const empty = dom.isEmpty(elm);\n      if (keepBookmarks && dom.select('span[data-mce-type=bookmark]', elm).length > 0) {\n        return false;\n      }\n      return empty;\n    };\n    const isChildOfBody = (dom, elm) => dom.isChildOf(elm, dom.getRoot());\n\n    const option = name => editor => editor.options.get(name);\n    const register$3 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('lists_indent_on_tab', {\n        processor: 'boolean',\n        default: true\n      });\n    };\n    const shouldIndentOnTab = option('lists_indent_on_tab');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n\n    const createTextBlock = (editor, contentNode) => {\n      const dom = editor.dom;\n      const blockElements = editor.schema.getBlockElements();\n      const fragment = dom.createFragment();\n      const blockName = getForcedRootBlock(editor);\n      const blockAttrs = getForcedRootBlockAttrs(editor);\n      let node, textBlock, hasContentNode;\n      textBlock = dom.create(blockName, blockAttrs);\n      if (!isBlock(contentNode.firstChild, blockElements)) {\n        fragment.appendChild(textBlock);\n      }\n      while (node = contentNode.firstChild) {\n        const nodeName = node.nodeName;\n        if (!hasContentNode && (nodeName !== 'SPAN' || node.getAttribute('data-mce-type') !== 'bookmark')) {\n          hasContentNode = true;\n        }\n        if (isBlock(node, blockElements)) {\n          fragment.appendChild(node);\n          textBlock = null;\n        } else {\n          if (!textBlock) {\n            textBlock = dom.create(blockName, blockAttrs);\n            fragment.appendChild(textBlock);\n          }\n          textBlock.appendChild(node);\n        }\n      }\n      if (!hasContentNode) {\n        textBlock.appendChild(dom.create('br', { 'data-mce-bogus': '1' }));\n      }\n      return fragment;\n    };\n\n    const DOM$2 = global$2.DOM;\n    const splitList = (editor, list, li) => {\n      const removeAndKeepBookmarks = targetNode => {\n        global$1.each(bookmarks, node => {\n          targetNode.parentNode.insertBefore(node, li.parentNode);\n        });\n        DOM$2.remove(targetNode);\n      };\n      const bookmarks = DOM$2.select('span[data-mce-type=\"bookmark\"]', list);\n      const newBlock = createTextBlock(editor, li);\n      const tmpRng = DOM$2.createRng();\n      tmpRng.setStartAfter(li);\n      tmpRng.setEndAfter(list);\n      const fragment = tmpRng.extractContents();\n      for (let node = fragment.firstChild; node; node = node.firstChild) {\n        if (node.nodeName === 'LI' && editor.dom.isEmpty(node)) {\n          DOM$2.remove(node);\n          break;\n        }\n      }\n      if (!editor.dom.isEmpty(fragment)) {\n        DOM$2.insertAfter(fragment, list);\n      }\n      DOM$2.insertAfter(newBlock, list);\n      if (isEmpty$1(editor.dom, li.parentNode)) {\n        removeAndKeepBookmarks(li.parentNode);\n      }\n      DOM$2.remove(li);\n      if (isEmpty$1(editor.dom, list)) {\n        DOM$2.remove(list);\n      }\n    };\n\n    const isDescriptionDetail = isTag('dd');\n    const isDescriptionTerm = isTag('dt');\n    const outdentDlItem = (editor, item) => {\n      if (isDescriptionDetail(item)) {\n        mutate(item, 'dt');\n      } else if (isDescriptionTerm(item)) {\n        parent(item).each(dl => splitList(editor, dl.dom, item.dom));\n      }\n    };\n    const indentDlItem = item => {\n      if (isDescriptionTerm(item)) {\n        mutate(item, 'dd');\n      }\n    };\n    const dlIndentation = (editor, indentation, dlItems) => {\n      if (indentation === 'Indent') {\n        each$1(dlItems, indentDlItem);\n      } else {\n        each$1(dlItems, item => outdentDlItem(editor, item));\n      }\n    };\n\n    const getNormalizedPoint = (container, offset) => {\n      if (isTextNode(container)) {\n        return {\n          container,\n          offset\n        };\n      }\n      const node = global$5.getNode(container, offset);\n      if (isTextNode(node)) {\n        return {\n          container: node,\n          offset: offset >= container.childNodes.length ? node.data.length : 0\n        };\n      } else if (node.previousSibling && isTextNode(node.previousSibling)) {\n        return {\n          container: node.previousSibling,\n          offset: node.previousSibling.data.length\n        };\n      } else if (node.nextSibling && isTextNode(node.nextSibling)) {\n        return {\n          container: node.nextSibling,\n          offset: 0\n        };\n      }\n      return {\n        container,\n        offset\n      };\n    };\n    const normalizeRange = rng => {\n      const outRng = rng.cloneRange();\n      const rangeStart = getNormalizedPoint(rng.startContainer, rng.startOffset);\n      outRng.setStart(rangeStart.container, rangeStart.offset);\n      const rangeEnd = getNormalizedPoint(rng.endContainer, rng.endOffset);\n      outRng.setEnd(rangeEnd.container, rangeEnd.offset);\n      return outRng;\n    };\n\n    const getParentList = (editor, node) => {\n      const selectionStart = node || editor.selection.getStart(true);\n      return editor.dom.getParent(selectionStart, 'OL,UL,DL', getClosestListRootElm(editor, selectionStart));\n    };\n    const isParentListSelected = (parentList, selectedBlocks) => parentList && selectedBlocks.length === 1 && selectedBlocks[0] === parentList;\n    const findSubLists = parentList => filter$1(parentList.querySelectorAll('ol,ul,dl'), isListNode);\n    const getSelectedSubLists = editor => {\n      const parentList = getParentList(editor);\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      if (isParentListSelected(parentList, selectedBlocks)) {\n        return findSubLists(parentList);\n      } else {\n        return filter$1(selectedBlocks, elm => {\n          return isListNode(elm) && parentList !== elm;\n        });\n      }\n    };\n    const findParentListItemsNodes = (editor, elms) => {\n      const listItemsElms = global$1.map(elms, elm => {\n        const parentLi = editor.dom.getParent(elm, 'li,dd,dt', getClosestListRootElm(editor, elm));\n        return parentLi ? parentLi : elm;\n      });\n      return unique(listItemsElms);\n    };\n    const getSelectedListItems = editor => {\n      const selectedBlocks = editor.selection.getSelectedBlocks();\n      return filter$1(findParentListItemsNodes(editor, selectedBlocks), isListItemNode);\n    };\n    const getSelectedDlItems = editor => filter$1(getSelectedListItems(editor), isDlItemNode);\n    const getClosestListRootElm = (editor, elm) => {\n      const parentTableCell = editor.dom.getParents(elm, 'TD,TH');\n      return parentTableCell.length > 0 ? parentTableCell[0] : editor.getBody();\n    };\n    const findLastParentListNode = (editor, elm) => {\n      const parentLists = editor.dom.getParents(elm, 'ol,ul', getClosestListRootElm(editor, elm));\n      return last(parentLists);\n    };\n    const getSelectedLists = editor => {\n      const firstList = findLastParentListNode(editor, editor.selection.getStart());\n      const subsequentLists = filter$1(editor.selection.getSelectedBlocks(), isOlUlNode);\n      return firstList.toArray().concat(subsequentLists);\n    };\n    const getSelectedListRoots = editor => {\n      const selectedLists = getSelectedLists(editor);\n      return getUniqueListRoots(editor, selectedLists);\n    };\n    const getUniqueListRoots = (editor, lists) => {\n      const listRoots = map(lists, list => findLastParentListNode(editor, list).getOr(list));\n      return unique(listRoots);\n    };\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$1(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const fireListEvent = (editor, action, element) => editor.dispatch('ListMutation', {\n      action,\n      element\n    });\n\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const set = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n\n    const joinSegment = (parent, child) => {\n      append$1(parent.item, child.list);\n    };\n    const joinSegments = segments => {\n      for (let i = 1; i < segments.length; i++) {\n        joinSegment(segments[i - 1], segments[i]);\n      }\n    };\n    const appendSegments = (head$1, tail) => {\n      lift2(last(head$1), head(tail), joinSegment);\n    };\n    const createSegment = (scope, listType) => {\n      const segment = {\n        list: SugarElement.fromTag(listType, scope),\n        item: SugarElement.fromTag('li', scope)\n      };\n      append$1(segment.list, segment.item);\n      return segment;\n    };\n    const createSegments = (scope, entry, size) => {\n      const segments = [];\n      for (let i = 0; i < size; i++) {\n        segments.push(createSegment(scope, entry.listType));\n      }\n      return segments;\n    };\n    const populateSegments = (segments, entry) => {\n      for (let i = 0; i < segments.length - 1; i++) {\n        set(segments[i].item, 'list-style-type', 'none');\n      }\n      last(segments).each(segment => {\n        setAll(segment.list, entry.listAttributes);\n        setAll(segment.item, entry.itemAttributes);\n        append(segment.item, entry.content);\n      });\n    };\n    const normalizeSegment = (segment, entry) => {\n      if (name(segment.list) !== entry.listType) {\n        segment.list = mutate(segment.list, entry.listType);\n      }\n      setAll(segment.list, entry.listAttributes);\n    };\n    const createItem = (scope, attr, content) => {\n      const item = SugarElement.fromTag('li', scope);\n      setAll(item, attr);\n      append(item, content);\n      return item;\n    };\n    const appendItem = (segment, item) => {\n      append$1(segment.list, item);\n      segment.item = item;\n    };\n    const writeShallow = (scope, cast, entry) => {\n      const newCast = cast.slice(0, entry.depth);\n      last(newCast).each(segment => {\n        const item = createItem(scope, entry.itemAttributes, entry.content);\n        appendItem(segment, item);\n        normalizeSegment(segment, entry);\n      });\n      return newCast;\n    };\n    const writeDeep = (scope, cast, entry) => {\n      const segments = createSegments(scope, entry, entry.depth - cast.length);\n      joinSegments(segments);\n      populateSegments(segments, entry);\n      appendSegments(cast, segments);\n      return cast.concat(segments);\n    };\n    const composeList = (scope, entries) => {\n      const cast = foldl(entries, (cast, entry) => {\n        return entry.depth > cast.length ? writeDeep(scope, cast, entry) : writeShallow(scope, cast, entry);\n      }, []);\n      return head(cast).map(segment => segment.list);\n    };\n\n    const isList = el => is$1(el, 'OL,UL');\n    const hasFirstChildList = el => firstChild(el).exists(isList);\n    const hasLastChildList = el => lastChild(el).exists(isList);\n\n    const isIndented = entry => entry.depth > 0;\n    const isSelected = entry => entry.isSelected;\n    const cloneItemContent = li => {\n      const children$1 = children(li);\n      const content = hasLastChildList(li) ? children$1.slice(0, -1) : children$1;\n      return map(content, deep);\n    };\n    const createEntry = (li, depth, isSelected) => parent(li).filter(isElement).map(list => ({\n      depth,\n      dirty: false,\n      isSelected,\n      content: cloneItemContent(li),\n      itemAttributes: clone$1(li),\n      listAttributes: clone$1(list),\n      listType: name(list)\n    }));\n\n    const indentEntry = (indentation, entry) => {\n      switch (indentation) {\n      case 'Indent':\n        entry.depth++;\n        break;\n      case 'Outdent':\n        entry.depth--;\n        break;\n      case 'Flatten':\n        entry.depth = 0;\n      }\n      entry.dirty = true;\n    };\n\n    const cloneListProperties = (target, source) => {\n      target.listType = source.listType;\n      target.listAttributes = { ...source.listAttributes };\n    };\n    const cleanListProperties = entry => {\n      entry.listAttributes = filter(entry.listAttributes, (_value, key) => key !== 'start');\n    };\n    const closestSiblingEntry = (entries, start) => {\n      const depth = entries[start].depth;\n      const matches = entry => entry.depth === depth && !entry.dirty;\n      const until = entry => entry.depth < depth;\n      return findUntil(reverse(entries.slice(0, start)), matches, until).orThunk(() => findUntil(entries.slice(start + 1), matches, until));\n    };\n    const normalizeEntries = entries => {\n      each$1(entries, (entry, i) => {\n        closestSiblingEntry(entries, i).fold(() => {\n          if (entry.dirty) {\n            cleanListProperties(entry);\n          }\n        }, matchingEntry => cloneListProperties(entry, matchingEntry));\n      });\n      return entries;\n    };\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const parseItem = (depth, itemSelection, selectionState, item) => firstChild(item).filter(isList).fold(() => {\n      itemSelection.each(selection => {\n        if (eq(selection.start, item)) {\n          selectionState.set(true);\n        }\n      });\n      const currentItemEntry = createEntry(item, depth, selectionState.get());\n      itemSelection.each(selection => {\n        if (eq(selection.end, item)) {\n          selectionState.set(false);\n        }\n      });\n      const childListEntries = lastChild(item).filter(isList).map(list => parseList(depth, itemSelection, selectionState, list)).getOr([]);\n      return currentItemEntry.toArray().concat(childListEntries);\n    }, list => parseList(depth, itemSelection, selectionState, list));\n    const parseList = (depth, itemSelection, selectionState, list) => bind(children(list), element => {\n      const parser = isList(element) ? parseList : parseItem;\n      const newDepth = depth + 1;\n      return parser(newDepth, itemSelection, selectionState, element);\n    });\n    const parseLists = (lists, itemSelection) => {\n      const selectionState = Cell(false);\n      const initialDepth = 0;\n      return map(lists, list => ({\n        sourceList: list,\n        entries: parseList(initialDepth, itemSelection, selectionState, list)\n      }));\n    };\n\n    const outdentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return map(normalizedEntries, entry => {\n        const content = fromElements(entry.content);\n        return SugarElement.fromDom(createTextBlock(editor, content.dom));\n      });\n    };\n    const indentedComposer = (editor, entries) => {\n      const normalizedEntries = normalizeEntries(entries);\n      return composeList(editor.contentDocument, normalizedEntries).toArray();\n    };\n    const composeEntries = (editor, entries) => bind(groupBy(entries, isIndented), entries => {\n      const groupIsIndented = head(entries).exists(isIndented);\n      return groupIsIndented ? indentedComposer(editor, entries) : outdentedComposer(editor, entries);\n    });\n    const indentSelectedEntries = (entries, indentation) => {\n      each$1(filter$1(entries, isSelected), entry => indentEntry(indentation, entry));\n    };\n    const getItemSelection = editor => {\n      const selectedListItems = map(getSelectedListItems(editor), SugarElement.fromDom);\n      return lift2(find(selectedListItems, not(hasFirstChildList)), find(reverse(selectedListItems), not(hasFirstChildList)), (start, end) => ({\n        start,\n        end\n      }));\n    };\n    const listIndentation = (editor, lists, indentation) => {\n      const entrySets = parseLists(lists, getItemSelection(editor));\n      each$1(entrySets, entrySet => {\n        indentSelectedEntries(entrySet.entries, indentation);\n        const composedLists = composeEntries(editor, entrySet.entries);\n        each$1(composedLists, composedList => {\n          fireListEvent(editor, indentation === 'Indent' ? 'IndentList' : 'OutdentList', composedList.dom);\n        });\n        before(entrySet.sourceList, composedLists);\n        remove(entrySet.sourceList);\n      });\n    };\n\n    const selectionIndentation = (editor, indentation) => {\n      const lists = map(getSelectedListRoots(editor), SugarElement.fromDom);\n      const dlItems = map(getSelectedDlItems(editor), SugarElement.fromDom);\n      let isHandled = false;\n      if (lists.length || dlItems.length) {\n        const bookmark = editor.selection.getBookmark();\n        listIndentation(editor, lists, indentation);\n        dlIndentation(editor, indentation, dlItems);\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.setRng(normalizeRange(editor.selection.getRng()));\n        editor.nodeChanged();\n        isHandled = true;\n      }\n      return isHandled;\n    };\n    const indentListSelection = editor => selectionIndentation(editor, 'Indent');\n    const outdentListSelection = editor => selectionIndentation(editor, 'Outdent');\n    const flattenListSelection = editor => selectionIndentation(editor, 'Flatten');\n\n    var global = tinymce.util.Tools.resolve('tinymce.dom.BookmarkManager');\n\n    const DOM$1 = global$2.DOM;\n    const createBookmark = rng => {\n      const bookmark = {};\n      const setupEndPoint = start => {\n        let container = rng[start ? 'startContainer' : 'endContainer'];\n        let offset = rng[start ? 'startOffset' : 'endOffset'];\n        if (container.nodeType === 1) {\n          const offsetNode = DOM$1.create('span', { 'data-mce-type': 'bookmark' });\n          if (container.hasChildNodes()) {\n            offset = Math.min(offset, container.childNodes.length - 1);\n            if (start) {\n              container.insertBefore(offsetNode, container.childNodes[offset]);\n            } else {\n              DOM$1.insertAfter(offsetNode, container.childNodes[offset]);\n            }\n          } else {\n            container.appendChild(offsetNode);\n          }\n          container = offsetNode;\n          offset = 0;\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      setupEndPoint(true);\n      if (!rng.collapsed) {\n        setupEndPoint();\n      }\n      return bookmark;\n    };\n    const resolveBookmark = bookmark => {\n      const restoreEndPoint = start => {\n        let node;\n        const nodeIndex = container => {\n          let node = container.parentNode.firstChild, idx = 0;\n          while (node) {\n            if (node === container) {\n              return idx;\n            }\n            if (node.nodeType !== 1 || node.getAttribute('data-mce-type') !== 'bookmark') {\n              idx++;\n            }\n            node = node.nextSibling;\n          }\n          return -1;\n        };\n        let container = node = bookmark[start ? 'startContainer' : 'endContainer'];\n        let offset = bookmark[start ? 'startOffset' : 'endOffset'];\n        if (!container) {\n          return;\n        }\n        if (container.nodeType === 1) {\n          offset = nodeIndex(container);\n          container = container.parentNode;\n          DOM$1.remove(node);\n          if (!container.hasChildNodes() && DOM$1.isBlock(container)) {\n            container.appendChild(DOM$1.create('br'));\n          }\n        }\n        bookmark[start ? 'startContainer' : 'endContainer'] = container;\n        bookmark[start ? 'startOffset' : 'endOffset'] = offset;\n      };\n      restoreEndPoint(true);\n      restoreEndPoint();\n      const rng = DOM$1.createRng();\n      rng.setStart(bookmark.startContainer, bookmark.startOffset);\n      if (bookmark.endContainer) {\n        rng.setEnd(bookmark.endContainer, bookmark.endOffset);\n      }\n      return normalizeRange(rng);\n    };\n\n    const listToggleActionFromListName = listName => {\n      switch (listName) {\n      case 'UL':\n        return 'ToggleUlList';\n      case 'OL':\n        return 'ToggleOlList';\n      case 'DL':\n        return 'ToggleDLList';\n      }\n    };\n\n    const isCustomList = list => /\\btox\\-/.test(list.className);\n    const listState = (editor, listName, activate) => {\n      const nodeChangeHandler = e => {\n        const inList = findUntil(e.parents, isListNode, isTableCellNode).filter(list => list.nodeName === listName && !isCustomList(list)).isSome();\n        activate(inList);\n      };\n      const parents = editor.dom.getParents(editor.selection.getNode());\n      nodeChangeHandler({ parents });\n      editor.on('NodeChange', nodeChangeHandler);\n      return () => editor.off('NodeChange', nodeChangeHandler);\n    };\n\n    const updateListStyle = (dom, el, detail) => {\n      const type = detail['list-style-type'] ? detail['list-style-type'] : null;\n      dom.setStyle(el, 'list-style-type', type);\n    };\n    const setAttribs = (elm, attrs) => {\n      global$1.each(attrs, (value, key) => {\n        elm.setAttribute(key, value);\n      });\n    };\n    const updateListAttrs = (dom, el, detail) => {\n      setAttribs(el, detail['list-attributes']);\n      global$1.each(dom.select('li', el), li => {\n        setAttribs(li, detail['list-item-attributes']);\n      });\n    };\n    const updateListWithDetails = (dom, el, detail) => {\n      updateListStyle(dom, el, detail);\n      updateListAttrs(dom, el, detail);\n    };\n    const removeStyles = (dom, element, styles) => {\n      global$1.each(styles, style => dom.setStyle(element, style, ''));\n    };\n    const getEndPointNode = (editor, rng, start, root) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      const offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (container.nodeType === 1) {\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      }\n      if (!start && isBr(container.nextSibling)) {\n        container = container.nextSibling;\n      }\n      while (container.parentNode !== root) {\n        if (isTextBlock(editor, container)) {\n          return container;\n        }\n        if (/^(TD|TH)$/.test(container.parentNode.nodeName)) {\n          return container;\n        }\n        container = container.parentNode;\n      }\n      return container;\n    };\n    const getSelectedTextBlocks = (editor, rng, root) => {\n      const textBlocks = [];\n      const dom = editor.dom;\n      const startNode = getEndPointNode(editor, rng, true, root);\n      const endNode = getEndPointNode(editor, rng, false, root);\n      let block;\n      const siblings = [];\n      for (let node = startNode; node; node = node.nextSibling) {\n        siblings.push(node);\n        if (node === endNode) {\n          break;\n        }\n      }\n      global$1.each(siblings, node => {\n        if (isTextBlock(editor, node)) {\n          textBlocks.push(node);\n          block = null;\n          return;\n        }\n        if (dom.isBlock(node) || isBr(node)) {\n          if (isBr(node)) {\n            dom.remove(node);\n          }\n          block = null;\n          return;\n        }\n        const nextSibling = node.nextSibling;\n        if (global.isBookmarkNode(node)) {\n          if (isListNode(nextSibling) || isTextBlock(editor, nextSibling) || !nextSibling && node.parentNode === root) {\n            block = null;\n            return;\n          }\n        }\n        if (!block) {\n          block = dom.create('p');\n          node.parentNode.insertBefore(block, node);\n          textBlocks.push(block);\n        }\n        block.appendChild(node);\n      });\n      return textBlocks;\n    };\n    const hasCompatibleStyle = (dom, sib, detail) => {\n      const sibStyle = dom.getStyle(sib, 'list-style-type');\n      let detailStyle = detail ? detail['list-style-type'] : '';\n      detailStyle = detailStyle === null ? '' : detailStyle;\n      return sibStyle === detailStyle;\n    };\n    const applyList = (editor, listName, detail) => {\n      const rng = editor.selection.getRng();\n      let listItemName = 'LI';\n      const root = getClosestListRootElm(editor, editor.selection.getStart(true));\n      const dom = editor.dom;\n      if (dom.getContentEditable(editor.selection.getNode()) === 'false') {\n        return;\n      }\n      listName = listName.toUpperCase();\n      if (listName === 'DL') {\n        listItemName = 'DT';\n      }\n      const bookmark = createBookmark(rng);\n      const selectedTextBlocks = getSelectedTextBlocks(editor, rng, root);\n      global$1.each(selectedTextBlocks, block => {\n        let listBlock;\n        const sibling = block.previousSibling;\n        const parent = block.parentNode;\n        if (!isListItemNode(parent)) {\n          if (sibling && isListNode(sibling) && sibling.nodeName === listName && hasCompatibleStyle(dom, sibling, detail)) {\n            listBlock = sibling;\n            block = dom.rename(block, listItemName);\n            sibling.appendChild(block);\n          } else {\n            listBlock = dom.create(listName);\n            block.parentNode.insertBefore(listBlock, block);\n            listBlock.appendChild(block);\n            block = dom.rename(block, listItemName);\n          }\n          removeStyles(dom, block, [\n            'margin',\n            'margin-right',\n            'margin-bottom',\n            'margin-left',\n            'margin-top',\n            'padding',\n            'padding-right',\n            'padding-bottom',\n            'padding-left',\n            'padding-top'\n          ]);\n          updateListWithDetails(dom, listBlock, detail);\n          mergeWithAdjacentLists(editor.dom, listBlock);\n        }\n      });\n      editor.selection.setRng(resolveBookmark(bookmark));\n    };\n    const isValidLists = (list1, list2) => {\n      return list1 && list2 && isListNode(list1) && list1.nodeName === list2.nodeName;\n    };\n    const hasSameListStyle = (dom, list1, list2) => {\n      const targetStyle = dom.getStyle(list1, 'list-style-type', true);\n      const style = dom.getStyle(list2, 'list-style-type', true);\n      return targetStyle === style;\n    };\n    const hasSameClasses = (elm1, elm2) => {\n      return elm1.className === elm2.className;\n    };\n    const shouldMerge = (dom, list1, list2) => {\n      return isValidLists(list1, list2) && hasSameListStyle(dom, list1, list2) && hasSameClasses(list1, list2);\n    };\n    const mergeWithAdjacentLists = (dom, listBlock) => {\n      let sibling, node;\n      sibling = listBlock.nextSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.firstChild) {\n          listBlock.appendChild(node);\n        }\n        dom.remove(sibling);\n      }\n      sibling = listBlock.previousSibling;\n      if (shouldMerge(dom, listBlock, sibling)) {\n        while (node = sibling.lastChild) {\n          listBlock.insertBefore(node, listBlock.firstChild);\n        }\n        dom.remove(sibling);\n      }\n    };\n    const updateList$1 = (editor, list, listName, detail) => {\n      if (list.nodeName !== listName) {\n        const newList = editor.dom.rename(list, listName);\n        updateListWithDetails(editor.dom, newList, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), newList);\n      } else {\n        updateListWithDetails(editor.dom, list, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), list);\n      }\n    };\n    const toggleMultipleLists = (editor, parentList, lists, listName, detail) => {\n      const parentIsList = isListNode(parentList);\n      if (parentIsList && parentList.nodeName === listName && !hasListStyleDetail(detail)) {\n        flattenListSelection(editor);\n      } else {\n        applyList(editor, listName, detail);\n        const bookmark = createBookmark(editor.selection.getRng());\n        const allLists = parentIsList ? [\n          parentList,\n          ...lists\n        ] : lists;\n        global$1.each(allLists, elm => {\n          updateList$1(editor, elm, listName, detail);\n        });\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const hasListStyleDetail = detail => {\n      return 'list-style-type' in detail;\n    };\n    const toggleSingleList = (editor, parentList, listName, detail) => {\n      if (parentList === editor.getBody()) {\n        return;\n      }\n      if (parentList) {\n        if (parentList.nodeName === listName && !hasListStyleDetail(detail) && !isCustomList(parentList)) {\n          flattenListSelection(editor);\n        } else {\n          const bookmark = createBookmark(editor.selection.getRng());\n          updateListWithDetails(editor.dom, parentList, detail);\n          const newList = editor.dom.rename(parentList, listName);\n          mergeWithAdjacentLists(editor.dom, newList);\n          editor.selection.setRng(resolveBookmark(bookmark));\n          applyList(editor, listName, detail);\n          fireListEvent(editor, listToggleActionFromListName(listName), newList);\n        }\n      } else {\n        applyList(editor, listName, detail);\n        fireListEvent(editor, listToggleActionFromListName(listName), parentList);\n      }\n    };\n    const toggleList = (editor, listName, _detail) => {\n      const parentList = getParentList(editor);\n      const selectedSubLists = getSelectedSubLists(editor);\n      const detail = isObject(_detail) ? _detail : {};\n      if (selectedSubLists.length > 0) {\n        toggleMultipleLists(editor, parentList, selectedSubLists, listName, detail);\n      } else {\n        toggleSingleList(editor, parentList, listName, detail);\n      }\n    };\n\n    const DOM = global$2.DOM;\n    const normalizeList = (dom, list) => {\n      const parentNode = list.parentNode;\n      if (parentNode.nodeName === 'LI' && parentNode.firstChild === list) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n          if (isEmpty$1(dom, parentNode)) {\n            DOM.remove(parentNode);\n          }\n        } else {\n          DOM.setStyle(parentNode, 'listStyleType', 'none');\n        }\n      }\n      if (isListNode(parentNode)) {\n        const sibling = parentNode.previousSibling;\n        if (sibling && sibling.nodeName === 'LI') {\n          sibling.appendChild(list);\n        }\n      }\n    };\n    const normalizeLists = (dom, element) => {\n      const lists = global$1.grep(dom.select('ol,ul', element));\n      global$1.each(lists, list => {\n        normalizeList(dom, list);\n      });\n    };\n\n    const findNextCaretContainer = (editor, rng, isForward, root) => {\n      let node = rng.startContainer;\n      const offset = rng.startOffset;\n      if (isTextNode(node) && (isForward ? offset < node.data.length : offset > 0)) {\n        return node;\n      }\n      const nonEmptyBlocks = editor.schema.getNonEmptyElements();\n      if (node.nodeType === 1) {\n        node = global$5.getNode(node, offset);\n      }\n      const walker = new global$4(node, root);\n      if (isForward) {\n        if (isBogusBr(editor.dom, node)) {\n          walker.next();\n        }\n      }\n      while (node = walker[isForward ? 'next' : 'prev2']()) {\n        if (node.nodeName === 'LI' && !node.hasChildNodes()) {\n          return node;\n        }\n        if (nonEmptyBlocks[node.nodeName]) {\n          return node;\n        }\n        if (isTextNode(node) && node.data.length > 0) {\n          return node;\n        }\n      }\n    };\n    const hasOnlyOneBlockChild = (dom, elm) => {\n      const childNodes = elm.childNodes;\n      return childNodes.length === 1 && !isListNode(childNodes[0]) && dom.isBlock(childNodes[0]);\n    };\n    const unwrapSingleBlockChild = (dom, elm) => {\n      if (hasOnlyOneBlockChild(dom, elm)) {\n        dom.remove(elm.firstChild, true);\n      }\n    };\n    const moveChildren = (dom, fromElm, toElm) => {\n      let node;\n      const targetElm = hasOnlyOneBlockChild(dom, toElm) ? toElm.firstChild : toElm;\n      unwrapSingleBlockChild(dom, fromElm);\n      if (!isEmpty$1(dom, fromElm, true)) {\n        while (node = fromElm.firstChild) {\n          targetElm.appendChild(node);\n        }\n      }\n    };\n    const mergeLiElements = (dom, fromElm, toElm) => {\n      let listNode;\n      const ul = fromElm.parentNode;\n      if (!isChildOfBody(dom, fromElm) || !isChildOfBody(dom, toElm)) {\n        return;\n      }\n      if (isListNode(toElm.lastChild)) {\n        listNode = toElm.lastChild;\n      }\n      if (ul === toElm.lastChild) {\n        if (isBr(ul.previousSibling)) {\n          dom.remove(ul.previousSibling);\n        }\n      }\n      const node = toElm.lastChild;\n      if (node && isBr(node) && fromElm.hasChildNodes()) {\n        dom.remove(node);\n      }\n      if (isEmpty$1(dom, toElm, true)) {\n        empty(SugarElement.fromDom(toElm));\n      }\n      moveChildren(dom, fromElm, toElm);\n      if (listNode) {\n        toElm.appendChild(listNode);\n      }\n      const contains$1 = contains(SugarElement.fromDom(toElm), SugarElement.fromDom(fromElm));\n      const nestedLists = contains$1 ? dom.getParents(fromElm, isListNode, toElm) : [];\n      dom.remove(fromElm);\n      each$1(nestedLists, list => {\n        if (isEmpty$1(dom, list) && list !== dom.getRoot()) {\n          dom.remove(list);\n        }\n      });\n    };\n    const mergeIntoEmptyLi = (editor, fromLi, toLi) => {\n      empty(SugarElement.fromDom(toLi));\n      mergeLiElements(editor.dom, fromLi, toLi);\n      editor.selection.setCursorLocation(toLi, 0);\n    };\n    const mergeForward = (editor, rng, fromLi, toLi) => {\n      const dom = editor.dom;\n      if (dom.isEmpty(toLi)) {\n        mergeIntoEmptyLi(editor, fromLi, toLi);\n      } else {\n        const bookmark = createBookmark(rng);\n        mergeLiElements(dom, fromLi, toLi);\n        editor.selection.setRng(resolveBookmark(bookmark));\n      }\n    };\n    const mergeBackward = (editor, rng, fromLi, toLi) => {\n      const bookmark = createBookmark(rng);\n      mergeLiElements(editor.dom, fromLi, toLi);\n      const resolvedBookmark = resolveBookmark(bookmark);\n      editor.selection.setRng(resolvedBookmark);\n    };\n    const backspaceDeleteFromListToListCaret = (editor, isForward) => {\n      const dom = editor.dom, selection = editor.selection;\n      const selectionStartElm = selection.getStart();\n      const root = getClosestListRootElm(editor, selectionStartElm);\n      const li = dom.getParent(selection.getStart(), 'LI', root);\n      if (li) {\n        const ul = li.parentNode;\n        if (ul === editor.getBody() && isEmpty$1(dom, ul)) {\n          return true;\n        }\n        const rng = normalizeRange(selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi && otherLi !== li) {\n          editor.undoManager.transact(() => {\n            if (isForward) {\n              mergeForward(editor, rng, otherLi, li);\n            } else {\n              if (isFirstChild(li)) {\n                outdentListSelection(editor);\n              } else {\n                mergeBackward(editor, rng, li, otherLi);\n              }\n            }\n          });\n          return true;\n        } else if (!otherLi) {\n          if (!isForward && rng.startOffset === 0 && rng.endOffset === 0) {\n            editor.undoManager.transact(() => {\n              flattenListSelection(editor);\n            });\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const removeBlock = (dom, block, root) => {\n      const parentBlock = dom.getParent(block.parentNode, dom.isBlock, root);\n      dom.remove(block);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        dom.remove(parentBlock);\n      }\n    };\n    const backspaceDeleteIntoListCaret = (editor, isForward) => {\n      const dom = editor.dom;\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestListRootElm(editor, selectionStartElm);\n      const block = dom.getParent(selectionStartElm, dom.isBlock, root);\n      if (block && dom.isEmpty(block)) {\n        const rng = normalizeRange(editor.selection.getRng());\n        const otherLi = dom.getParent(findNextCaretContainer(editor, rng, isForward, root), 'LI', root);\n        if (otherLi) {\n          editor.undoManager.transact(() => {\n            removeBlock(dom, block, root);\n            mergeWithAdjacentLists(dom, otherLi.parentNode);\n            editor.selection.select(otherLi, true);\n            editor.selection.collapse(isForward);\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const backspaceDeleteCaret = (editor, isForward) => {\n      return backspaceDeleteFromListToListCaret(editor, isForward) || backspaceDeleteIntoListCaret(editor, isForward);\n    };\n    const backspaceDeleteRange = editor => {\n      const selectionStartElm = editor.selection.getStart();\n      const root = getClosestListRootElm(editor, selectionStartElm);\n      const startListParent = editor.dom.getParent(selectionStartElm, 'LI,DT,DD', root);\n      if (startListParent || getSelectedListItems(editor).length > 0) {\n        editor.undoManager.transact(() => {\n          editor.execCommand('Delete');\n          normalizeLists(editor.dom, editor.getBody());\n        });\n        return true;\n      }\n      return false;\n    };\n    const backspaceDelete = (editor, isForward) => {\n      return editor.selection.isCollapsed() ? backspaceDeleteCaret(editor, isForward) : backspaceDeleteRange(editor);\n    };\n    const setup$1 = editor => {\n      editor.on('keydown', e => {\n        if (e.keyCode === global$3.BACKSPACE) {\n          if (backspaceDelete(editor, false)) {\n            e.preventDefault();\n          }\n        } else if (e.keyCode === global$3.DELETE) {\n          if (backspaceDelete(editor, true)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    const get = editor => ({\n      backspaceDelete: isForward => {\n        backspaceDelete(editor, isForward);\n      }\n    });\n\n    const updateList = (editor, update) => {\n      const parentList = getParentList(editor);\n      editor.undoManager.transact(() => {\n        if (isObject(update.styles)) {\n          editor.dom.setStyles(parentList, update.styles);\n        }\n        if (isObject(update.attrs)) {\n          each(update.attrs, (v, k) => editor.dom.setAttrib(parentList, k, v));\n        }\n      });\n    };\n\n    const parseAlphabeticBase26 = str => {\n      const chars = reverse(trim(str).split(''));\n      const values = map(chars, (char, i) => {\n        const charValue = char.toUpperCase().charCodeAt(0) - 'A'.charCodeAt(0) + 1;\n        return Math.pow(26, i) * charValue;\n      });\n      return foldl(values, (sum, v) => sum + v, 0);\n    };\n    const composeAlphabeticBase26 = value => {\n      value--;\n      if (value < 0) {\n        return '';\n      } else {\n        const remainder = value % 26;\n        const quotient = Math.floor(value / 26);\n        const rest = composeAlphabeticBase26(quotient);\n        const char = String.fromCharCode('A'.charCodeAt(0) + remainder);\n        return rest + char;\n      }\n    };\n    const isUppercase = str => /^[A-Z]+$/.test(str);\n    const isLowercase = str => /^[a-z]+$/.test(str);\n    const isNumeric = str => /^[0-9]+$/.test(str);\n    const deduceListType = start => {\n      if (isNumeric(start)) {\n        return 2;\n      } else if (isUppercase(start)) {\n        return 0;\n      } else if (isLowercase(start)) {\n        return 1;\n      } else if (isEmpty(start)) {\n        return 3;\n      } else {\n        return 4;\n      }\n    };\n    const parseStartValue = start => {\n      switch (deduceListType(start)) {\n      case 2:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start\n        });\n      case 0:\n        return Optional.some({\n          listStyleType: Optional.some('upper-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 1:\n        return Optional.some({\n          listStyleType: Optional.some('lower-alpha'),\n          start: parseAlphabeticBase26(start).toString()\n        });\n      case 3:\n        return Optional.some({\n          listStyleType: Optional.none(),\n          start: ''\n        });\n      case 4:\n        return Optional.none();\n      }\n    };\n    const parseDetail = detail => {\n      const start = parseInt(detail.start, 10);\n      if (is(detail.listStyleType, 'upper-alpha')) {\n        return composeAlphabeticBase26(start);\n      } else if (is(detail.listStyleType, 'lower-alpha')) {\n        return composeAlphabeticBase26(start).toLowerCase();\n      } else {\n        return detail.start;\n      }\n    };\n\n    const open = editor => {\n      const currentList = getParentList(editor);\n      if (!isOlNode(currentList)) {\n        return;\n      }\n      editor.windowManager.open({\n        title: 'List Properties',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'input',\n              name: 'start',\n              label: 'Start list at number',\n              inputMode: 'numeric'\n            }]\n        },\n        initialData: {\n          start: parseDetail({\n            start: editor.dom.getAttrib(currentList, 'start', '1'),\n            listStyleType: Optional.some(editor.dom.getStyle(currentList, 'list-style-type'))\n          })\n        },\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        onSubmit: api => {\n          const data = api.getData();\n          parseStartValue(data.start).each(detail => {\n            editor.execCommand('mceListUpdate', false, {\n              attrs: { start: detail.start === '1' ? '' : detail.start },\n              styles: { 'list-style-type': detail.listStyleType.getOr('') }\n            });\n          });\n          api.close();\n        }\n      });\n    };\n\n    const queryListCommandState = (editor, listName) => () => {\n      const parentList = getParentList(editor);\n      return parentList && parentList.nodeName === listName;\n    };\n    const registerDialog = editor => {\n      editor.addCommand('mceListProps', () => {\n        open(editor);\n      });\n    };\n    const register$2 = editor => {\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command.toLowerCase();\n        if (cmd === 'indent') {\n          indentListSelection(editor);\n        } else if (cmd === 'outdent') {\n          outdentListSelection(editor);\n        }\n      });\n      editor.addCommand('InsertUnorderedList', (ui, detail) => {\n        toggleList(editor, 'UL', detail);\n      });\n      editor.addCommand('InsertOrderedList', (ui, detail) => {\n        toggleList(editor, 'OL', detail);\n      });\n      editor.addCommand('InsertDefinitionList', (ui, detail) => {\n        toggleList(editor, 'DL', detail);\n      });\n      editor.addCommand('RemoveList', () => {\n        flattenListSelection(editor);\n      });\n      registerDialog(editor);\n      editor.addCommand('mceListUpdate', (ui, detail) => {\n        if (isObject(detail)) {\n          updateList(editor, detail);\n        }\n      });\n      editor.addQueryStateHandler('InsertUnorderedList', queryListCommandState(editor, 'UL'));\n      editor.addQueryStateHandler('InsertOrderedList', queryListCommandState(editor, 'OL'));\n      editor.addQueryStateHandler('InsertDefinitionList', queryListCommandState(editor, 'DL'));\n    };\n\n    const setupTabKey = editor => {\n      editor.on('keydown', e => {\n        if (e.keyCode !== global$3.TAB || global$3.metaKeyPressed(e)) {\n          return;\n        }\n        editor.undoManager.transact(() => {\n          if (e.shiftKey ? outdentListSelection(editor) : indentListSelection(editor)) {\n            e.preventDefault();\n          }\n        });\n      });\n    };\n    const setup = editor => {\n      if (shouldIndentOnTab(editor)) {\n        setupTabKey(editor);\n      }\n      setup$1(editor);\n    };\n\n    const register$1 = editor => {\n      const exec = command => () => editor.execCommand(command);\n      if (!editor.hasPlugin('advlist')) {\n        editor.ui.registry.addToggleButton('numlist', {\n          icon: 'ordered-list',\n          active: false,\n          tooltip: 'Numbered list',\n          onAction: exec('InsertOrderedList'),\n          onSetup: api => listState(editor, 'OL', api.setActive)\n        });\n        editor.ui.registry.addToggleButton('bullist', {\n          icon: 'unordered-list',\n          active: false,\n          tooltip: 'Bullet list',\n          onAction: exec('InsertUnorderedList'),\n          onSetup: api => listState(editor, 'UL', api.setActive)\n        });\n      }\n    };\n\n    const register = editor => {\n      const listProperties = {\n        text: 'List properties...',\n        icon: 'ordered-list',\n        onAction: () => editor.execCommand('mceListProps'),\n        onSetup: api => listState(editor, 'OL', api.setEnabled)\n      };\n      editor.ui.registry.addMenuItem('listprops', listProperties);\n      editor.ui.registry.addContextMenu('lists', {\n        update: node => {\n          const parentList = getParentList(editor, node);\n          return isOlNode(parentList) ? ['listprops'] : [];\n        }\n      });\n    };\n\n    var Plugin = () => {\n      global$6.add('lists', editor => {\n        register$3(editor);\n        if (editor.hasPlugin('rtc', true) === false) {\n          setup(editor);\n          register$2(editor);\n        } else {\n          registerDialog(editor);\n        }\n        register$1(editor);\n        register(editor);\n        return get(editor);\n      });\n    };\n\n    Plugin();\n\n})();\n","// Exports the \"table\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/table')\n//   ES2015:\n//     import 'tinymce/plugins/table'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.0.3 (2022-05-25)\n */\n\n(function () {\n    'use strict';\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const isString = isType$1('string');\n    const isArray = isType$1('array');\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n\n    const noop = () => {\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each$1 = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      const r = {};\n      each$1(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n      return r;\n    };\n    const filter$1 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$1(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const size = obj => {\n      return keys(obj).length;\n    };\n    const get$4 = (obj, key) => {\n      return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const contains = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const range = (num, f) => {\n      const r = [];\n      for (let i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    const map = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find = (xs, pred) => {\n      return findUntil(xs, pred, never);\n    };\n    const flatten$1 = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind = (xs, f) => flatten$1(map(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const get$3 = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$3(xs, 0);\n    const last = xs => get$3(xs, xs.length - 1);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$1(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$1(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$1(node);\n    };\n    const fromDom$1 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$1);\n    const SugarElement = {\n      fromHtml,\n      fromTag,\n      fromText,\n      fromDom: fromDom$1,\n      fromPoint\n    };\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type = element => element.dom.nodeType;\n    const isType = t => element => type(element) === t;\n    const isComment = element => type(element) === COMMENT || name(element) === '#comment';\n    const isElement = isType(ELEMENT);\n    const isText = isType(TEXT);\n    const isDocument = isType(DOCUMENT);\n    const isDocumentFragment = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement(e) && name(e) === tag;\n\n    const is$2 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all$1 = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const is$1 = is$2;\n\n    const owner = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument(dos) ? dos : owner(dos);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parents = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const children$3 = element => map(element.dom.childNodes, SugarElement.fromDom);\n    const child$3 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$3(element, 0);\n\n    const isShadowRoot = dos => isDocumentFragment(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n\n    const inBody = element => {\n      const dom = isText(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    const children$2 = (scope, predicate) => filter(children$3(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each(children$3(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    const children$1 = (scope, selector) => children$2(scope, e => is$2(e, selector));\n    const descendants = (scope, selector) => all$1(selector, scope);\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$1 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const child$2 = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n\n    const ancestor = (scope, selector, isRoot) => ancestor$1(scope, e => is$2(e, selector), isRoot);\n    const child$1 = (scope, selector) => child$2(scope, e => is$2(e, selector));\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$2(element, selector);\n      return ClosestOrAncestor(is, ancestor, scope, selector, isRoot);\n    };\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll = (element, attrs) => {\n      const dom = element.dom;\n      each$1(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$2 = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$2(element, key));\n    const remove$2 = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const clone = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const is = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const flatten = oot => oot.bind(identity);\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim = blank(/^\\s+|\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty = s => !isNotEmpty(s);\n    const toFloat = value => {\n      const num = parseFloat(value);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const isSupported = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const get$1 = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const remove$1 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is(getOpt(element, 'style').map(trim), '')) {\n        remove$2(element, 'style');\n      }\n    };\n\n    const getAttrValue = (cell, name, fallback = 0) => getOpt(cell, name).map(value => parseInt(value, 10)).getOr(fallback);\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind(children$3(scope), x => {\n        if (is$2(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const validSectionList = [\n      'tfoot',\n      'thead',\n      'tbody',\n      'colgroup'\n    ];\n    const isValidSection = parentName => contains(validSectionList, parentName);\n    const grid = (rows, columns) => ({\n      rows,\n      columns\n    });\n    const detail = (element, rowspan, colspan) => ({\n      element,\n      rowspan,\n      colspan\n    });\n    const extended = (element, rowspan, colspan, row, column, isLocked) => ({\n      element,\n      rowspan,\n      colspan,\n      row,\n      column,\n      isLocked\n    });\n    const rowdetail = (element, cells, section) => ({\n      element,\n      cells,\n      section\n    });\n    const bounds = (startRow, startCol, finishRow, finishCol) => ({\n      startRow,\n      startCol,\n      finishRow,\n      finishCol\n    });\n    const columnext = (element, colspan, column) => ({\n      element,\n      colspan,\n      column\n    });\n    const colgroup = (element, columns) => ({\n      element,\n      columns\n    });\n\n    const lookup = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$2(elm, 'table') || isRoot(elm);\n      return ancestor(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells = ancestor => firstLayer(ancestor, 'th,td');\n    const columns = ancestor => {\n      if (is$2(ancestor, 'colgroup')) {\n        return children$1(ancestor, 'col');\n      } else {\n        return bind(columnGroups(ancestor), columnGroup => children$1(columnGroup, 'col'));\n      }\n    };\n    const table = (element, isRoot) => closest(element, 'table', isRoot);\n    const rows = ancestor => firstLayer(ancestor, 'tr');\n    const columnGroups = ancestor => table(ancestor).fold(constant([]), table => children$1(table, 'colgroup'));\n\n    const fromRowsOrColGroups = (elems, getSection) => map(elems, row => {\n      if (name(row) === 'colgroup') {\n        const cells = map(columns(row), column => {\n          const colspan = getAttrValue(column, 'span', 1);\n          return detail(column, 1, colspan);\n        });\n        return rowdetail(row, cells, 'colgroup');\n      } else {\n        const cells$1 = map(cells(row), cell => {\n          const rowspan = getAttrValue(cell, 'rowspan', 1);\n          const colspan = getAttrValue(cell, 'colspan', 1);\n          return detail(cell, rowspan, colspan);\n        });\n        return rowdetail(row, cells$1, getSection(row));\n      }\n    });\n    const getParentSection = group => parent(group).map(parent => {\n      const parentName = name(parent);\n      return isValidSection(parentName) ? parentName : 'tbody';\n    }).getOr('tbody');\n    const fromTable$1 = table => {\n      const rows$1 = rows(table);\n      const columnGroups$1 = columnGroups(table);\n      const elems = [\n        ...columnGroups$1,\n        ...rows$1\n      ];\n      return fromRowsOrColGroups(elems, getParentSection);\n    };\n\n    const LOCKED_COL_ATTR = 'data-snooker-locked-cols';\n    const getLockedColumnsFromTable = table => getOpt(table, LOCKED_COL_ATTR).bind(lockedColStr => Optional.from(lockedColStr.match(/\\d+/g))).map(lockedCols => mapToObject(lockedCols, always));\n\n    const key = (row, column) => {\n      return row + ',' + column;\n    };\n    const getAt = (warehouse, row, column) => Optional.from(warehouse.access[key(row, column)]);\n    const findItem = (warehouse, item, comparator) => {\n      const filtered = filterItems(warehouse, detail => {\n        return comparator(item, detail.element);\n      });\n      return filtered.length > 0 ? Optional.some(filtered[0]) : Optional.none();\n    };\n    const filterItems = (warehouse, predicate) => {\n      const all = bind(warehouse.all, r => {\n        return r.cells;\n      });\n      return filter(all, predicate);\n    };\n    const generateColumns = rowData => {\n      const columnsGroup = {};\n      let index = 0;\n      each(rowData.cells, column => {\n        const colspan = column.colspan;\n        range(colspan, columnIndex => {\n          const colIndex = index + columnIndex;\n          columnsGroup[colIndex] = columnext(column.element, colspan, colIndex);\n        });\n        index += colspan;\n      });\n      return columnsGroup;\n    };\n    const generate$1 = list => {\n      const access = {};\n      const cells = [];\n      const tableOpt = head(list).map(rowData => rowData.element).bind(table);\n      const lockedColumns = tableOpt.bind(getLockedColumnsFromTable).getOr({});\n      let maxRows = 0;\n      let maxColumns = 0;\n      let rowCount = 0;\n      const {\n        pass: colgroupRows,\n        fail: rows\n      } = partition(list, rowData => rowData.section === 'colgroup');\n      each(rows, rowData => {\n        const currentRow = [];\n        each(rowData.cells, rowCell => {\n          let start = 0;\n          while (access[key(rowCount, start)] !== undefined) {\n            start++;\n          }\n          const isLocked = hasNonNullableKey(lockedColumns, start.toString());\n          const current = extended(rowCell.element, rowCell.rowspan, rowCell.colspan, rowCount, start, isLocked);\n          for (let occupiedColumnPosition = 0; occupiedColumnPosition < rowCell.colspan; occupiedColumnPosition++) {\n            for (let occupiedRowPosition = 0; occupiedRowPosition < rowCell.rowspan; occupiedRowPosition++) {\n              const rowPosition = rowCount + occupiedRowPosition;\n              const columnPosition = start + occupiedColumnPosition;\n              const newpos = key(rowPosition, columnPosition);\n              access[newpos] = current;\n              maxColumns = Math.max(maxColumns, columnPosition + 1);\n            }\n          }\n          currentRow.push(current);\n        });\n        maxRows++;\n        cells.push(rowdetail(rowData.element, currentRow, rowData.section));\n        rowCount++;\n      });\n      const {columns, colgroups} = last(colgroupRows).map(rowData => {\n        const columns = generateColumns(rowData);\n        const colgroup$1 = colgroup(rowData.element, values(columns));\n        return {\n          colgroups: [colgroup$1],\n          columns\n        };\n      }).getOrThunk(() => ({\n        colgroups: [],\n        columns: {}\n      }));\n      const grid$1 = grid(maxRows, maxColumns);\n      return {\n        grid: grid$1,\n        access,\n        all: cells,\n        columns,\n        colgroups\n      };\n    };\n    const fromTable = table => {\n      const list = fromTable$1(table);\n      return generate$1(list);\n    };\n    const justCells = warehouse => bind(warehouse.all, w => w.cells);\n    const justColumns = warehouse => values(warehouse.columns);\n    const hasColumns = warehouse => keys(warehouse.columns).length > 0;\n    const getColumnAt = (warehouse, columnIndex) => Optional.from(warehouse.columns[columnIndex]);\n    const Warehouse = {\n      fromTable,\n      generate: generate$1,\n      getAt,\n      findItem,\n      filterItems,\n      justCells,\n      justColumns,\n      hasColumns,\n      getColumnAt\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getTDTHOverallStyle = (dom, elm, name) => {\n      const cells = dom.select('td,th', elm);\n      let firstChildStyle;\n      const checkChildren = (firstChildStyle, elms) => {\n        for (let i = 0; i < elms.length; i++) {\n          const currentStyle = dom.getStyle(elms[i], name);\n          if (typeof firstChildStyle === 'undefined') {\n            firstChildStyle = currentStyle;\n          }\n          if (firstChildStyle !== currentStyle) {\n            return '';\n          }\n        }\n        return firstChildStyle;\n      };\n      return checkChildren(firstChildStyle, cells);\n    };\n    const setAlign = (editor, elm, name) => {\n      global$2.each('left center right'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('align' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('align' + name, {}, elm);\n      }\n    };\n    const setVAlign = (editor, elm, name) => {\n      global$2.each('top middle bottom'.split(' '), align => {\n        if (align !== name) {\n          editor.formatter.remove('valign' + align, {}, elm);\n        }\n      });\n      if (name) {\n        editor.formatter.apply('valign' + name, {}, elm);\n      }\n    };\n\n    const fireTableModified = (editor, table, data) => {\n      editor.dispatch('TableModified', {\n        ...data,\n        table\n      });\n    };\n\n    const toNumber = (px, fallback) => toFloat(px).getOr(fallback);\n    const getProp = (element, name, fallback) => toNumber(get$1(element, name), fallback);\n    const calcContentBoxSize = (element, size, upper, lower) => {\n      const paddingUpper = getProp(element, `padding-${ upper }`, 0);\n      const paddingLower = getProp(element, `padding-${ lower }`, 0);\n      const borderUpper = getProp(element, `border-${ upper }-width`, 0);\n      const borderLower = getProp(element, `border-${ lower }-width`, 0);\n      return size - paddingUpper - paddingLower - borderUpper - borderLower;\n    };\n    const getCalculatedWidth = (element, boxSizing) => {\n      const dom = element.dom;\n      const width = dom.getBoundingClientRect().width || dom.offsetWidth;\n      return boxSizing === 'border-box' ? width : calcContentBoxSize(element, width, 'left', 'right');\n    };\n    const getInnerWidth = element => getCalculatedWidth(element, 'content-box');\n\n    const getInner = getInnerWidth;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    const defaultTableToolbar = 'tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol';\n    const defaultCellBorderWidths = range(5, i => {\n      const size = `${ i + 1 }px`;\n      return {\n        title: size,\n        value: size\n      };\n    });\n    const defaultCellBorderStyles = map([\n      'Solid',\n      'Dotted',\n      'Dashed',\n      'Double',\n      'Groove',\n      'Ridge',\n      'Inset',\n      'Outset',\n      'None',\n      'Hidden'\n    ], type => {\n      return {\n        title: type,\n        value: type.toLowerCase()\n      };\n    });\n    const determineDefaultStyles = (editor, defaultStyles) => {\n      var _a;\n      if (isPixelsForced(editor)) {\n        const dom = editor.dom;\n        const parentBlock = (_a = dom.getParent(editor.selection.getStart(), dom.isBlock)) !== null && _a !== void 0 ? _a : editor.getBody();\n        const contentWidth = getInner(SugarElement.fromDom(parentBlock));\n        return {\n          ...defaultStyles,\n          width: contentWidth + 'px'\n        };\n      } else if (isResponsiveForced(editor)) {\n        return filter$1(defaultStyles, (_value, key) => key !== 'width');\n      } else {\n        return defaultStyles;\n      }\n    };\n    const option = name => editor => editor.options.get(name);\n    const register = editor => {\n      const registerOption = editor.options.register;\n      registerOption('table_border_widths', {\n        processor: 'object[]',\n        default: defaultCellBorderWidths\n      });\n      registerOption('table_border_styles', {\n        processor: 'object[]',\n        default: defaultCellBorderStyles\n      });\n      registerOption('table_cell_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_row_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_advtab', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_appearance_options', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_grid', {\n        processor: 'boolean',\n        default: !global$1.deviceType.isTouch()\n      });\n      registerOption('table_style_by_css', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('table_cell_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_row_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_class_list', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_toolbar', {\n        processor: 'string',\n        default: defaultTableToolbar\n      });\n      registerOption('table_background_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n      registerOption('table_border_color_map', {\n        processor: 'object[]',\n        default: []\n      });\n    };\n    const getTableSizingMode = option('table_sizing_mode');\n    const getTableBorderWidths = option('table_border_widths');\n    const getTableBorderStyles = option('table_border_styles');\n    const getDefaultAttributes = option('table_default_attributes');\n    const hasAdvancedCellTab = option('table_cell_advtab');\n    const hasAdvancedRowTab = option('table_row_advtab');\n    const hasAdvancedTableTab = option('table_advtab');\n    const hasAppearanceOptions = option('table_appearance_options');\n    const hasTableGrid = option('table_grid');\n    const shouldStyleWithCss = option('table_style_by_css');\n    const getCellClassList = option('table_cell_class_list');\n    const getRowClassList = option('table_row_class_list');\n    const getTableClassList = option('table_class_list');\n    const getToolbar = option('table_toolbar');\n    const getTableBackgroundColorMap = option('table_background_color_map');\n    const getTableBorderColorMap = option('table_border_color_map');\n    const isPixelsForced = editor => getTableSizingMode(editor) === 'fixed';\n    const isResponsiveForced = editor => getTableSizingMode(editor) === 'responsive';\n    const getDefaultStyles = editor => {\n      const options = editor.options;\n      const defaultStyles = options.get('table_default_styles');\n      return options.isSet('table_default_styles') ? defaultStyles : determineDefaultStyles(editor, defaultStyles);\n    };\n\n    const getNodeName = elm => elm.nodeName.toLowerCase();\n    const getBody = editor => SugarElement.fromDom(editor.getBody());\n    const getIsRoot = editor => element => eq(element, getBody(editor));\n    const removePxSuffix = size => size ? size.replace(/px$/, '') : '';\n    const addPxSuffix = size => /^\\d+(\\.\\d+)?$/.test(size) ? size + 'px' : size;\n    const getSelectionStart = editor => SugarElement.fromDom(editor.selection.getStart());\n    const getSelectionEnd = editor => SugarElement.fromDom(editor.selection.getEnd());\n\n    const isWithin = (bounds, detail) => {\n      return detail.column >= bounds.startCol && detail.column + detail.colspan - 1 <= bounds.finishCol && detail.row >= bounds.startRow && detail.row + detail.rowspan - 1 <= bounds.finishRow;\n    };\n    const isRectangular = (warehouse, bounds) => {\n      let isRect = true;\n      const detailIsWithin = curry(isWithin, bounds);\n      for (let i = bounds.startRow; i <= bounds.finishRow; i++) {\n        for (let j = bounds.startCol; j <= bounds.finishCol; j++) {\n          isRect = isRect && Warehouse.getAt(warehouse, i, j).exists(detailIsWithin);\n        }\n      }\n      return isRect ? Optional.some(bounds) : Optional.none();\n    };\n\n    const getBounds = (detailA, detailB) => {\n      return bounds(Math.min(detailA.row, detailB.row), Math.min(detailA.column, detailB.column), Math.max(detailA.row + detailA.rowspan - 1, detailB.row + detailB.rowspan - 1), Math.max(detailA.column + detailA.colspan - 1, detailB.column + detailB.colspan - 1));\n    };\n    const getAnyBox = (warehouse, startCell, finishCell) => {\n      const startCoords = Warehouse.findItem(warehouse, startCell, eq);\n      const finishCoords = Warehouse.findItem(warehouse, finishCell, eq);\n      return startCoords.bind(sc => {\n        return finishCoords.map(fc => {\n          return getBounds(sc, fc);\n        });\n      });\n    };\n    const getBox$1 = (warehouse, startCell, finishCell) => {\n      return getAnyBox(warehouse, startCell, finishCell).bind(bounds => {\n        return isRectangular(warehouse, bounds);\n      });\n    };\n\n    const getBox = (table, first, last) => {\n      const warehouse = getWarehouse(table);\n      return getBox$1(warehouse, first, last);\n    };\n    const getWarehouse = Warehouse.fromTable;\n\n    const before = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$1 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const wrap = (element, wrapper) => {\n      before(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after = (marker, elements) => {\n      each(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$1(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const remove = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$3(wrapper);\n      if (children.length > 0) {\n        after(wrapper, children);\n      }\n      remove(wrapper);\n    };\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api = NodeValue(isText, 'text');\n    const get = element => api.get(element);\n    const set = (element, value) => api.set(element, value);\n\n    var TagBoundaries = [\n      'body',\n      'p',\n      'div',\n      'article',\n      'aside',\n      'figcaption',\n      'figure',\n      'footer',\n      'header',\n      'nav',\n      'section',\n      'ol',\n      'ul',\n      'li',\n      'table',\n      'thead',\n      'tbody',\n      'tfoot',\n      'caption',\n      'tr',\n      'td',\n      'th',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'blockquote',\n      'pre',\n      'address'\n    ];\n\n    var DomUniverse = () => {\n      const clone$1 = element => {\n        return SugarElement.fromDom(element.dom.cloneNode(false));\n      };\n      const document = element => documentOrOwner(element).dom;\n      const isBoundary = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        if (name(element) === 'body') {\n          return true;\n        }\n        return contains(TagBoundaries, name(element));\n      };\n      const isEmptyTag = element => {\n        if (!isElement(element)) {\n          return false;\n        }\n        return contains([\n          'br',\n          'img',\n          'hr',\n          'input'\n        ], name(element));\n      };\n      const isNonEditable = element => isElement(element) && get$2(element, 'contenteditable') === 'false';\n      const comparePosition = (element, other) => {\n        return element.dom.compareDocumentPosition(other.dom);\n      };\n      const copyAttributesTo = (source, destination) => {\n        const as = clone(source);\n        setAll(destination, as);\n      };\n      const isSpecial = element => {\n        const tag = name(element);\n        return contains([\n          'script',\n          'noscript',\n          'iframe',\n          'noframes',\n          'noembed',\n          'title',\n          'style',\n          'textarea',\n          'xmp'\n        ], tag);\n      };\n      const getLanguage = element => isElement(element) ? getOpt(element, 'lang') : Optional.none();\n      return {\n        up: constant({\n          selector: ancestor,\n          closest: closest,\n          predicate: ancestor$1,\n          all: parents\n        }),\n        down: constant({\n          selector: descendants,\n          predicate: descendants$1\n        }),\n        styles: constant({\n          get: get$1,\n          getRaw: getRaw,\n          set: set$1,\n          remove: remove$1\n        }),\n        attrs: constant({\n          get: get$2,\n          set: set$2,\n          remove: remove$2,\n          copyTo: copyAttributesTo\n        }),\n        insert: constant({\n          before: before,\n          after: after$1,\n          afterAll: after,\n          append: append$1,\n          appendAll: append,\n          prepend: prepend,\n          wrap: wrap\n        }),\n        remove: constant({\n          unwrap: unwrap,\n          remove: remove\n        }),\n        create: constant({\n          nu: SugarElement.fromTag,\n          clone: clone$1,\n          text: SugarElement.fromText\n        }),\n        query: constant({\n          comparePosition,\n          prevSibling: prevSibling,\n          nextSibling: nextSibling\n        }),\n        property: constant({\n          children: children$3,\n          name: name,\n          parent: parent,\n          document,\n          isText: isText,\n          isComment: isComment,\n          isElement: isElement,\n          isSpecial,\n          getLanguage,\n          getText: get,\n          setText: set,\n          isBoundary,\n          isEmptyTag,\n          isNonEditable\n        }),\n        eq: eq,\n        is: is$1\n      };\n    };\n\n    const all = (universe, look, elements, f) => {\n      const head = elements[0];\n      const tail = elements.slice(1);\n      return f(universe, look, head, tail);\n    };\n    const oneAll = (universe, look, elements) => {\n      return elements.length > 0 ? all(universe, look, elements, unsafeOne) : Optional.none();\n    };\n    const unsafeOne = (universe, look, head, tail) => {\n      const start = look(universe, head);\n      return foldr(tail, (b, a) => {\n        const current = look(universe, a);\n        return commonElement(universe, b, current);\n      }, start);\n    };\n    const commonElement = (universe, start, end) => {\n      return start.bind(s => {\n        return end.filter(curry(universe.eq, s));\n      });\n    };\n\n    const sharedOne$1 = oneAll;\n\n    const universe = DomUniverse();\n    const sharedOne = (look, elements) => {\n      return sharedOne$1(universe, (_universe, element) => {\n        return look(element);\n      }, elements);\n    };\n\n    const lookupTable = container => {\n      return ancestor(container, 'table');\n    };\n    const retrieve$1 = (container, selector) => {\n      const sels = descendants(container, selector);\n      return sels.length > 0 ? Optional.some(sels) : Optional.none();\n    };\n    const getEdges = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return descendant(container, firstSelectedSelector).bind(first => {\n        return descendant(container, lastSelectedSelector).bind(last => {\n          return sharedOne(lookupTable, [\n            first,\n            last\n          ]).map(table => {\n            return {\n              first,\n              last,\n              table\n            };\n          });\n        });\n      });\n    };\n\n    const retrieve = (container, selector) => {\n      return retrieve$1(container, selector);\n    };\n    const retrieveBox = (container, firstSelectedSelector, lastSelectedSelector) => {\n      return getEdges(container, firstSelectedSelector, lastSelectedSelector).bind(edges => {\n        const isRoot = ancestor => {\n          return eq(container, ancestor);\n        };\n        const sectionSelector = 'thead,tfoot,tbody,table';\n        const firstAncestor = ancestor(edges.first, sectionSelector, isRoot);\n        const lastAncestor = ancestor(edges.last, sectionSelector, isRoot);\n        return firstAncestor.bind(fA => {\n          return lastAncestor.bind(lA => {\n            return eq(fA, lA) ? getBox(edges.table, edges.first, edges.last) : Optional.none();\n          });\n        });\n      });\n    };\n\n    const fromDom = nodes => map(nodes, SugarElement.fromDom);\n\n    const strSelected = 'data-mce-selected';\n    const strSelectedSelector = 'td[' + strSelected + '],th[' + strSelected + ']';\n    const strFirstSelected = 'data-mce-first-selected';\n    const strFirstSelectedSelector = 'td[' + strFirstSelected + '],th[' + strFirstSelected + ']';\n    const strLastSelected = 'data-mce-last-selected';\n    const strLastSelectedSelector = 'td[' + strLastSelected + '],th[' + strLastSelected + ']';\n    const ephemera = {\n      selected: strSelected,\n      selectedSelector: strSelectedSelector,\n      firstSelected: strFirstSelected,\n      firstSelectedSelector: strFirstSelectedSelector,\n      lastSelected: strLastSelected,\n      lastSelectedSelector: strLastSelectedSelector\n    };\n\n    const getSelectionCellFallback = element => table(element).bind(table => retrieve(table, ephemera.firstSelectedSelector)).fold(constant(element), cells => cells[0]);\n    const getSelectionFromSelector = selector => (initCell, isRoot) => {\n      const cellName = name(initCell);\n      const cell = cellName === 'col' || cellName === 'colgroup' ? getSelectionCellFallback(initCell) : initCell;\n      return closest(cell, selector, isRoot);\n    };\n    const getSelectionCellOrCaption = getSelectionFromSelector('th,td,caption');\n    const getSelectionCell = getSelectionFromSelector('th,td');\n    const getCellsFromSelection = editor => fromDom(editor.model.table.getSelectedCells());\n    const getRowsFromSelection = (selected, selector) => {\n      const cellOpt = getSelectionCell(selected);\n      const rowsOpt = cellOpt.bind(cell => table(cell)).map(table => rows(table));\n      return lift2(cellOpt, rowsOpt, (cell, rows) => filter(rows, row => exists(fromDom(row.dom.cells), rowCell => get$2(rowCell, selector) === '1' || eq(rowCell, cell)))).getOr([]);\n    };\n\n    const verticalAlignValues = [\n      {\n        text: 'None',\n        value: ''\n      },\n      {\n        text: 'Top',\n        value: 'top'\n      },\n      {\n        text: 'Middle',\n        value: 'middle'\n      },\n      {\n        text: 'Bottom',\n        value: 'bottom'\n      }\n    ];\n\n    const hexColour = value => ({ value });\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    const isHexString = hex => shorthandRegex.test(hex) || longformRegex.test(hex);\n    const normalizeHex = hex => removeLeading(hex, '#').toUpperCase();\n    const fromString$1 = hex => isHexString(hex) ? Optional.some({ value: normalizeHex(hex) }) : Optional.none();\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n\n    const anyToHex = color => fromString$1(color).orThunk(() => fromString(color).map(fromRgba)).getOrThunk(() => {\n      const canvas = document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      const canvasContext = canvas.getContext('2d');\n      canvasContext.clearRect(0, 0, canvas.width, canvas.height);\n      canvasContext.fillStyle = '#FFFFFF';\n      canvasContext.fillStyle = color;\n      canvasContext.fillRect(0, 0, 1, 1);\n      const rgba = canvasContext.getImageData(0, 0, 1, 1).data;\n      const r = rgba[0];\n      const g = rgba[1];\n      const b = rgba[2];\n      const a = rgba[3];\n      return fromRgba(rgbaColour(r, g, b, a));\n    });\n    const rgbaToHexString = color => fromString(color).map(fromRgba).map(h => '#' + h.value).getOr(color);\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const unbindable = () => singleton(s => s.unbind());\n\n    const onSetupToggle = (editor, formatName, formatValue) => {\n      return api => {\n        const boundCallback = unbindable();\n        const isNone = isEmpty(formatValue);\n        const init = () => {\n          const selectedCells = getCellsFromSelection(editor);\n          const checkNode = cell => editor.formatter.match(formatName, { value: formatValue }, cell.dom, isNone);\n          if (isNone) {\n            api.setActive(!exists(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, match => api.setActive(!match), true));\n          } else {\n            api.setActive(forall(selectedCells, checkNode));\n            boundCallback.set(editor.formatter.formatChanged(formatName, api.setActive, false, { value: formatValue }));\n          }\n        };\n        editor.initialized ? init() : editor.on('init', init);\n        return boundCallback.clear;\n      };\n    };\n    const isListGroup = item => hasNonNullableKey(item, 'menu');\n    const buildListItems = items => map(items, item => {\n      const text = item.text || item.title;\n      if (isListGroup(item)) {\n        return {\n          text,\n          items: buildListItems(item.menu)\n        };\n      } else {\n        return {\n          text,\n          value: item.value\n        };\n      }\n    });\n    const buildMenuItems = (editor, items, format, onAction) => map(items, item => {\n      const text = item.text || item.title;\n      if (isListGroup(item)) {\n        return {\n          type: 'nestedmenuitem',\n          text,\n          getSubmenuItems: () => buildMenuItems(editor, item.menu, format, onAction)\n        };\n      } else {\n        return {\n          text,\n          type: 'togglemenuitem',\n          onAction: () => onAction(item.value),\n          onSetup: onSetupToggle(editor, format, item.value)\n        };\n      }\n    });\n    const applyTableCellStyle = (editor, style) => value => {\n      editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n    };\n    const filterNoneItem = list => bind(list, item => {\n      if (isListGroup(item)) {\n        return [{\n            ...item,\n            menu: filterNoneItem(item.menu)\n          }];\n      } else {\n        return isNotEmpty(item.value) ? [item] : [];\n      }\n    });\n    const generateMenuItemsCallback = (editor, items, format, onAction) => callback => callback(buildMenuItems(editor, items, format, onAction));\n    const buildColorMenu = (editor, colorList, style) => {\n      const colorMap = map(colorList, entry => ({\n        text: entry.title,\n        value: '#' + anyToHex(entry.value).value,\n        type: 'choiceitem'\n      }));\n      return [{\n          type: 'fancymenuitem',\n          fancytype: 'colorswatch',\n          initData: {\n            colors: colorMap.length > 0 ? colorMap : undefined,\n            allowCustomColors: false\n          },\n          onAction: data => {\n            const value = data.value === 'remove' ? '' : data.value;\n            editor.execCommand('mceTableApplyCellStyle', false, { [style]: value });\n          }\n        }];\n    };\n    const changeRowHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableRowType');\n      const newType = currentType === 'header' ? 'body' : 'header';\n      editor.execCommand('mceTableRowType', false, { type: newType });\n    };\n    const changeColumnHeader = editor => () => {\n      const currentType = editor.queryCommandValue('mceTableColType');\n      const newType = currentType === 'th' ? 'td' : 'th';\n      editor.execCommand('mceTableColType', false, { type: newType });\n    };\n\n    const getClassList$1 = editor => {\n      const classes = buildListItems(getCellClassList(editor));\n      if (classes.length > 0) {\n        return Optional.some({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        });\n      }\n      return Optional.none();\n    };\n    const children = [\n      {\n        name: 'width',\n        type: 'input',\n        label: 'Width'\n      },\n      {\n        name: 'height',\n        type: 'input',\n        label: 'Height'\n      },\n      {\n        name: 'celltype',\n        type: 'listbox',\n        label: 'Cell type',\n        items: [\n          {\n            text: 'Cell',\n            value: 'td'\n          },\n          {\n            text: 'Header cell',\n            value: 'th'\n          }\n        ]\n      },\n      {\n        name: 'scope',\n        type: 'listbox',\n        label: 'Scope',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Row',\n            value: 'row'\n          },\n          {\n            text: 'Column',\n            value: 'col'\n          },\n          {\n            text: 'Row group',\n            value: 'rowgroup'\n          },\n          {\n            text: 'Column group',\n            value: 'colgroup'\n          }\n        ]\n      },\n      {\n        name: 'halign',\n        type: 'listbox',\n        label: 'Horizontal align',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        name: 'valign',\n        type: 'listbox',\n        label: 'Vertical align',\n        items: verticalAlignValues\n      }\n    ];\n    const getItems$2 = editor => children.concat(getClassList$1(editor).toArray());\n\n    const getAdvancedTab = (editor, dialogName) => {\n      const emptyBorderStyle = [{\n          text: 'Select...',\n          value: ''\n        }];\n      const advTabItems = [\n        {\n          name: 'borderstyle',\n          type: 'listbox',\n          label: 'Border style',\n          items: emptyBorderStyle.concat(buildListItems(getTableBorderStyles(editor)))\n        },\n        {\n          name: 'bordercolor',\n          type: 'colorinput',\n          label: 'Border color'\n        },\n        {\n          name: 'backgroundcolor',\n          type: 'colorinput',\n          label: 'Background color'\n        }\n      ];\n      const borderWidth = {\n        name: 'borderwidth',\n        type: 'input',\n        label: 'Border width'\n      };\n      const items = dialogName === 'cell' ? [borderWidth].concat(advTabItems) : advTabItems;\n      return {\n        title: 'Advanced',\n        name: 'advanced',\n        items\n      };\n    };\n\n    const normal = (editor, element) => {\n      const dom = editor.dom;\n      const setAttrib = (attr, value) => {\n        dom.setAttrib(element, attr, value);\n      };\n      const setStyle = (prop, value) => {\n        dom.setStyle(element, prop, value);\n      };\n      const setFormat = (formatName, value) => {\n        if (value === '') {\n          editor.formatter.remove(formatName, { value: null }, element, true);\n        } else {\n          editor.formatter.apply(formatName, { value }, element);\n        }\n      };\n      return {\n        setAttrib,\n        setStyle,\n        setFormat\n      };\n    };\n    const DomModifier = { normal };\n\n    const isHeaderCell = isTag('th');\n    const getRowHeaderType = (isHeaderRow, isHeaderCells) => {\n      if (isHeaderRow && isHeaderCells) {\n        return 'sectionCells';\n      } else if (isHeaderRow) {\n        return 'section';\n      } else {\n        return 'cells';\n      }\n    };\n    const getRowType$1 = row => {\n      const isHeaderRow = row.section === 'thead';\n      const isHeaderCells = is(findCommonCellType(row.cells), 'th');\n      if (row.section === 'tfoot') {\n        return { type: 'footer' };\n      } else if (isHeaderRow || isHeaderCells) {\n        return {\n          type: 'header',\n          subType: getRowHeaderType(isHeaderRow, isHeaderCells)\n        };\n      } else {\n        return { type: 'body' };\n      }\n    };\n    const findCommonCellType = cells => {\n      const headerCells = filter(cells, cell => isHeaderCell(cell.element));\n      if (headerCells.length === 0) {\n        return Optional.some('td');\n      } else if (headerCells.length === cells.length) {\n        return Optional.some('th');\n      } else {\n        return Optional.none();\n      }\n    };\n    const findCommonRowType = rows => {\n      const rowTypes = map(rows, row => getRowType$1(row).type);\n      const hasHeader = contains(rowTypes, 'header');\n      const hasFooter = contains(rowTypes, 'footer');\n      if (!hasHeader && !hasFooter) {\n        return Optional.some('body');\n      } else {\n        const hasBody = contains(rowTypes, 'body');\n        if (hasHeader && !hasBody && !hasFooter) {\n          return Optional.some('header');\n        } else if (!hasHeader && !hasBody && hasFooter) {\n          return Optional.some('footer');\n        } else {\n          return Optional.none();\n        }\n      }\n    };\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const findInWarehouse = (warehouse, element) => findMap(warehouse.all, r => find(r.cells, e => eq(element, e.element)));\n    const extractCells = (warehouse, target, predicate) => {\n      const details = map(target.selection, cell$1 => {\n        return cell(cell$1).bind(lc => findInWarehouse(warehouse, lc)).filter(predicate);\n      });\n      const cells = cat(details);\n      return someIf(cells.length > 0, cells);\n    };\n    const onMergable = (_warehouse, target) => target.mergable;\n    const onUnmergable = (_warehouse, target) => target.unmergable;\n    const onCells = (warehouse, target) => extractCells(warehouse, target, always);\n    const isUnlockedTableCell = (warehouse, cell) => findInWarehouse(warehouse, cell).exists(detail => !detail.isLocked);\n    const allUnlocked = (warehouse, cells) => forall(cells, cell => isUnlockedTableCell(warehouse, cell));\n    const onUnlockedMergable = (warehouse, target) => onMergable(warehouse, target).filter(mergeable => allUnlocked(warehouse, mergeable.cells));\n    const onUnlockedUnmergable = (warehouse, target) => onUnmergable(warehouse, target).filter(cells => allUnlocked(warehouse, cells));\n\n    const generate = cases => {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    const adt = Adt.generate([\n      { none: [] },\n      { only: ['index'] },\n      {\n        left: [\n          'index',\n          'next'\n        ]\n      },\n      {\n        middle: [\n          'prev',\n          'index',\n          'next'\n        ]\n      },\n      {\n        right: [\n          'prev',\n          'index'\n        ]\n      }\n    ]);\n    ({ ...adt });\n\n    const opGetRowsType = (table, target) => {\n      const house = Warehouse.fromTable(table);\n      const details = onCells(house, target);\n      return details.bind(selectedCells => {\n        const lastSelectedCell = selectedCells[selectedCells.length - 1];\n        const minRowRange = selectedCells[0].row;\n        const maxRowRange = lastSelectedCell.row + lastSelectedCell.rowspan;\n        const selectedRows = house.all.slice(minRowRange, maxRowRange);\n        return findCommonRowType(selectedRows);\n      }).getOr('');\n    };\n    const getRowsType = opGetRowsType;\n\n    const rgbToHex = value => startsWith(value, 'rgb') ? rgbaToHexString(value) : value;\n    const extractAdvancedStyles = elm => {\n      const element = SugarElement.fromDom(elm);\n      return {\n        borderwidth: getRaw(element, 'border-width').getOr(''),\n        borderstyle: getRaw(element, 'border-style').getOr(''),\n        bordercolor: getRaw(element, 'border-color').map(rgbToHex).getOr(''),\n        backgroundcolor: getRaw(element, 'background-color').map(rgbToHex).getOr('')\n      };\n    };\n    const getSharedValues = data => {\n      const baseData = data[0];\n      const comparisonData = data.slice(1);\n      each(comparisonData, items => {\n        each(keys(baseData), key => {\n          each$1(items, (itemValue, itemKey) => {\n            const comparisonValue = baseData[key];\n            if (comparisonValue !== '' && key === itemKey) {\n              if (comparisonValue !== itemValue) {\n                baseData[key] = '';\n              }\n            }\n          });\n        });\n      });\n      return baseData;\n    };\n    const getAlignment = (formats, formatName, editor, elm) => find(formats, name => !isUndefined(editor.formatter.matchNode(elm, formatName + name))).getOr('');\n    const getHAlignment = curry(getAlignment, [\n      'left',\n      'center',\n      'right'\n    ], 'align');\n    const getVAlignment = curry(getAlignment, [\n      'top',\n      'middle',\n      'bottom'\n    ], 'valign');\n    const extractDataFromSettings = (editor, hasAdvTableTab) => {\n      const style = getDefaultStyles(editor);\n      const attrs = getDefaultAttributes(editor);\n      const extractAdvancedStyleData = () => ({\n        borderstyle: get$4(style, 'border-style').getOr(''),\n        bordercolor: rgbToHex(get$4(style, 'border-color').getOr('')),\n        backgroundcolor: rgbToHex(get$4(style, 'background-color').getOr(''))\n      });\n      const defaultData = {\n        height: '',\n        width: '100%',\n        cellspacing: '',\n        cellpadding: '',\n        caption: false,\n        class: '',\n        align: '',\n        border: ''\n      };\n      const getBorder = () => {\n        const borderWidth = style['border-width'];\n        if (shouldStyleWithCss(editor) && borderWidth) {\n          return { border: borderWidth };\n        }\n        return get$4(attrs, 'border').fold(() => ({}), border => ({ border }));\n      };\n      const advStyle = hasAdvTableTab ? extractAdvancedStyleData() : {};\n      const getCellPaddingCellSpacing = () => {\n        const spacing = get$4(style, 'border-spacing').or(get$4(attrs, 'cellspacing')).fold(() => ({}), cellspacing => ({ cellspacing }));\n        const padding = get$4(style, 'border-padding').or(get$4(attrs, 'cellpadding')).fold(() => ({}), cellpadding => ({ cellpadding }));\n        return {\n          ...spacing,\n          ...padding\n        };\n      };\n      const data = {\n        ...defaultData,\n        ...style,\n        ...attrs,\n        ...advStyle,\n        ...getBorder(),\n        ...getCellPaddingCellSpacing()\n      };\n      return data;\n    };\n    const getRowType = elm => table(SugarElement.fromDom(elm)).map(table => {\n      const target = { selection: fromDom(elm.cells) };\n      return getRowsType(table, target);\n    }).getOr('');\n    const extractDataFromTableElement = (editor, elm, hasAdvTableTab) => {\n      const getBorder = (dom, elm) => {\n        const optBorderWidth = getRaw(SugarElement.fromDom(elm), 'border-width');\n        if (shouldStyleWithCss(editor) && optBorderWidth.isSome()) {\n          return optBorderWidth.getOr('');\n        }\n        return dom.getAttrib(elm, 'border') || getTDTHOverallStyle(editor.dom, elm, 'border-width') || getTDTHOverallStyle(editor.dom, elm, 'border');\n      };\n      const dom = editor.dom;\n      const cellspacing = shouldStyleWithCss(editor) ? dom.getStyle(elm, 'border-spacing') || dom.getAttrib(elm, 'cellspacing') : dom.getAttrib(elm, 'cellspacing') || dom.getStyle(elm, 'border-spacing');\n      const cellpadding = shouldStyleWithCss(editor) ? getTDTHOverallStyle(dom, elm, 'padding') || dom.getAttrib(elm, 'cellpadding') : dom.getAttrib(elm, 'cellpadding') || getTDTHOverallStyle(dom, elm, 'padding');\n      return {\n        width: dom.getStyle(elm, 'width') || dom.getAttrib(elm, 'width'),\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        cellspacing,\n        cellpadding,\n        border: getBorder(dom, elm),\n        caption: !!dom.select('caption', elm)[0],\n        class: dom.getAttrib(elm, 'class', ''),\n        align: getHAlignment(editor, elm),\n        ...hasAdvTableTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromRowElement = (editor, elm, hasAdvancedRowTab) => {\n      const dom = editor.dom;\n      return {\n        height: dom.getStyle(elm, 'height') || dom.getAttrib(elm, 'height'),\n        class: dom.getAttrib(elm, 'class', ''),\n        type: getRowType(elm),\n        align: getHAlignment(editor, elm),\n        ...hasAdvancedRowTab ? extractAdvancedStyles(elm) : {}\n      };\n    };\n    const extractDataFromCellElement = (editor, cell, hasAdvancedCellTab, column) => {\n      const dom = editor.dom;\n      const colElm = column.getOr(cell);\n      const getStyle = (element, style) => dom.getStyle(element, style) || dom.getAttrib(element, style);\n      return {\n        width: getStyle(colElm, 'width'),\n        height: getStyle(cell, 'height'),\n        scope: dom.getAttrib(cell, 'scope'),\n        celltype: getNodeName(cell),\n        class: dom.getAttrib(cell, 'class', ''),\n        halign: getHAlignment(editor, cell),\n        valign: getVAlignment(editor, cell),\n        ...hasAdvancedCellTab ? extractAdvancedStyles(cell) : {}\n      };\n    };\n\n    const getSelectedCells = (table, cells) => {\n      const warehouse = Warehouse.fromTable(table);\n      const allCells = Warehouse.justCells(warehouse);\n      const filtered = filter(allCells, cellA => exists(cells, cellB => eq(cellA.element, cellB)));\n      return map(filtered, cell => ({\n        element: cell.element.dom,\n        column: Warehouse.getColumnAt(warehouse, cell.column).map(col => col.element.dom)\n      }));\n    };\n    const updateSimpleProps$1 = (modifier, colModifier, data, shouldUpdate) => {\n      if (shouldUpdate('scope')) {\n        modifier.setAttrib('scope', data.scope);\n      }\n      if (shouldUpdate('class')) {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('height')) {\n        modifier.setStyle('height', addPxSuffix(data.height));\n      }\n      if (shouldUpdate('width')) {\n        colModifier.setStyle('width', addPxSuffix(data.width));\n      }\n    };\n    const updateAdvancedProps$1 = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setFormat('tablecellbackgroundcolor', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setFormat('tablecellbordercolor', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setFormat('tablecellborderstyle', data.borderstyle);\n      }\n      if (shouldUpdate('borderwidth')) {\n        modifier.setFormat('tablecellborderwidth', addPxSuffix(data.borderwidth));\n      }\n    };\n    const applyStyleData$1 = (editor, cells, data, wasChanged) => {\n      const isSingleCell = cells.length === 1;\n      each(cells, item => {\n        const cellElm = item.element;\n        const shouldOverrideCurrentValue = isSingleCell ? always : wasChanged;\n        const modifier = DomModifier.normal(editor, cellElm);\n        const colModifier = item.column.map(col => DomModifier.normal(editor, col)).getOr(modifier);\n        updateSimpleProps$1(modifier, colModifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedCellTab(editor)) {\n          updateAdvancedProps$1(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('halign')) {\n          setAlign(editor, cellElm, data.halign);\n        }\n        if (wasChanged('valign')) {\n          setVAlign(editor, cellElm, data.valign);\n        }\n      });\n    };\n    const applyStructureData$1 = (editor, data) => {\n      editor.execCommand('mceTableCellType', false, {\n        type: data.celltype,\n        no_events: true\n      });\n    };\n    const applyCellData = (editor, cells, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0 && cells.length >= 1) {\n        table(cells[0]).each(table => {\n          const selectedCells = getSelectedCells(table, cells);\n          const styleModified = size(filter$1(modifiedData, (_value, key) => key !== 'scope' && key !== 'celltype')) > 0;\n          const structureModified = has(modifiedData, 'celltype');\n          if (styleModified || has(modifiedData, 'scope')) {\n            applyStyleData$1(editor, selectedCells, data, curry(has, modifiedData));\n          }\n          if (structureModified) {\n            applyStructureData$1(editor, data);\n          }\n          fireTableModified(editor, table.dom, {\n            structure: structureModified,\n            style: styleModified\n          });\n        });\n      }\n    };\n    const onSubmitCellForm = (editor, cells, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyCellData(editor, cells, oldData, data);\n        editor.focus();\n      });\n    };\n    const getData$1 = (editor, cells) => {\n      const cellsData = table(cells[0]).map(table => map(getSelectedCells(table, cells), item => extractDataFromCellElement(editor, item.element, hasAdvancedCellTab(editor), item.column)));\n      return getSharedValues(cellsData.getOrDie());\n    };\n    const open$2 = editor => {\n      const cells = getCellsFromSelection(editor);\n      if (cells.length === 0) {\n        return;\n      }\n      const data = getData$1(editor, cells);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$2(editor)\n          },\n          getAdvancedTab(editor, 'cell')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$2(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Cell Properties',\n        size: 'normal',\n        body: hasAdvancedCellTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitCellForm, editor, cells, data)\n      });\n    };\n\n    const getClassList = editor => {\n      const classes = buildListItems(getRowClassList(editor));\n      if (classes.length > 0) {\n        return Optional.some({\n          name: 'class',\n          type: 'listbox',\n          label: 'Class',\n          items: classes\n        });\n      }\n      return Optional.none();\n    };\n    const formChildren = [\n      {\n        type: 'listbox',\n        name: 'type',\n        label: 'Row type',\n        items: [\n          {\n            text: 'Header',\n            value: 'header'\n          },\n          {\n            text: 'Body',\n            value: 'body'\n          },\n          {\n            text: 'Footer',\n            value: 'footer'\n          }\n        ]\n      },\n      {\n        type: 'listbox',\n        name: 'align',\n        label: 'Alignment',\n        items: [\n          {\n            text: 'None',\n            value: ''\n          },\n          {\n            text: 'Left',\n            value: 'left'\n          },\n          {\n            text: 'Center',\n            value: 'center'\n          },\n          {\n            text: 'Right',\n            value: 'right'\n          }\n        ]\n      },\n      {\n        label: 'Height',\n        name: 'height',\n        type: 'input'\n      }\n    ];\n    const getItems$1 = editor => formChildren.concat(getClassList(editor).toArray());\n\n    const updateSimpleProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('class')) {\n        modifier.setAttrib('class', data.class);\n      }\n      if (shouldUpdate('height')) {\n        modifier.setStyle('height', addPxSuffix(data.height));\n      }\n    };\n    const updateAdvancedProps = (modifier, data, shouldUpdate) => {\n      if (shouldUpdate('backgroundcolor')) {\n        modifier.setStyle('background-color', data.backgroundcolor);\n      }\n      if (shouldUpdate('bordercolor')) {\n        modifier.setStyle('border-color', data.bordercolor);\n      }\n      if (shouldUpdate('borderstyle')) {\n        modifier.setStyle('border-style', data.borderstyle);\n      }\n    };\n    const applyStyleData = (editor, rows, data, wasChanged) => {\n      const isSingleRow = rows.length === 1;\n      const shouldOverrideCurrentValue = isSingleRow ? always : wasChanged;\n      each(rows, rowElm => {\n        const modifier = DomModifier.normal(editor, rowElm);\n        updateSimpleProps(modifier, data, shouldOverrideCurrentValue);\n        if (hasAdvancedRowTab(editor)) {\n          updateAdvancedProps(modifier, data, shouldOverrideCurrentValue);\n        }\n        if (wasChanged('align')) {\n          setAlign(editor, rowElm, data.align);\n        }\n      });\n    };\n    const applyStructureData = (editor, data) => {\n      editor.execCommand('mceTableRowType', false, {\n        type: data.type,\n        no_events: true\n      });\n    };\n    const applyRowData = (editor, rows, oldData, data) => {\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      if (size(modifiedData) > 0) {\n        const typeModified = has(modifiedData, 'type');\n        const styleModified = typeModified ? size(modifiedData) > 1 : true;\n        if (styleModified) {\n          applyStyleData(editor, rows, data, curry(has, modifiedData));\n        }\n        if (typeModified) {\n          applyStructureData(editor, data);\n        }\n        table(SugarElement.fromDom(rows[0])).each(table => fireTableModified(editor, table.dom, {\n          structure: typeModified,\n          style: styleModified\n        }));\n      }\n    };\n    const onSubmitRowForm = (editor, rows, oldData, api) => {\n      const data = api.getData();\n      api.close();\n      editor.undoManager.transact(() => {\n        applyRowData(editor, rows, oldData, data);\n        editor.focus();\n      });\n    };\n    const open$1 = editor => {\n      const rows = getRowsFromSelection(getSelectionStart(editor), ephemera.selected);\n      if (rows.length === 0) {\n        return;\n      }\n      const rowsData = map(rows, rowElm => extractDataFromRowElement(editor, rowElm.dom, hasAdvancedRowTab(editor)));\n      const data = getSharedValues(rowsData);\n      const dialogTabPanel = {\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: getItems$1(editor)\n          },\n          getAdvancedTab(editor, 'row')\n        ]\n      };\n      const dialogPanel = {\n        type: 'panel',\n        items: [{\n            type: 'grid',\n            columns: 2,\n            items: getItems$1(editor)\n          }]\n      };\n      editor.windowManager.open({\n        title: 'Row Properties',\n        size: 'normal',\n        body: hasAdvancedRowTab(editor) ? dialogTabPanel : dialogPanel,\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data,\n        onSubmit: curry(onSubmitRowForm, editor, map(rows, r => r.dom), data)\n      });\n    };\n\n    const getItems = (editor, classes, insertNewTable) => {\n      const rowColCountItems = !insertNewTable ? [] : [\n        {\n          type: 'input',\n          name: 'cols',\n          label: 'Cols',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'rows',\n          label: 'Rows',\n          inputMode: 'numeric'\n        }\n      ];\n      const alwaysItems = [\n        {\n          type: 'input',\n          name: 'width',\n          label: 'Width'\n        },\n        {\n          type: 'input',\n          name: 'height',\n          label: 'Height'\n        }\n      ];\n      const appearanceItems = hasAppearanceOptions(editor) ? [\n        {\n          type: 'input',\n          name: 'cellspacing',\n          label: 'Cell spacing',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'cellpadding',\n          label: 'Cell padding',\n          inputMode: 'numeric'\n        },\n        {\n          type: 'input',\n          name: 'border',\n          label: 'Border width'\n        },\n        {\n          type: 'label',\n          label: 'Caption',\n          items: [{\n              type: 'checkbox',\n              name: 'caption',\n              label: 'Show caption'\n            }]\n        }\n      ] : [];\n      const alignmentItem = [{\n          type: 'listbox',\n          name: 'align',\n          label: 'Alignment',\n          items: [\n            {\n              text: 'None',\n              value: ''\n            },\n            {\n              text: 'Left',\n              value: 'left'\n            },\n            {\n              text: 'Center',\n              value: 'center'\n            },\n            {\n              text: 'Right',\n              value: 'right'\n            }\n          ]\n        }];\n      const classListItem = classes.length > 0 ? [{\n          type: 'listbox',\n          name: 'class',\n          label: 'Class',\n          items: classes\n        }] : [];\n      return rowColCountItems.concat(alwaysItems).concat(appearanceItems).concat(alignmentItem).concat(classListItem);\n    };\n\n    const styleTDTH = (dom, elm, name, value) => {\n      if (elm.tagName === 'TD' || elm.tagName === 'TH') {\n        if (isString(name)) {\n          dom.setStyle(elm, name, value);\n        } else {\n          dom.setStyles(elm, name);\n        }\n      } else {\n        if (elm.children) {\n          for (let i = 0; i < elm.children.length; i++) {\n            styleTDTH(dom, elm.children[i], name, value);\n          }\n        }\n      }\n    };\n    const applyDataToElement = (editor, tableElm, data) => {\n      const dom = editor.dom;\n      const attrs = {};\n      const styles = {};\n      attrs.class = data.class;\n      styles.height = addPxSuffix(data.height);\n      if (dom.getAttrib(tableElm, 'width') && !shouldStyleWithCss(editor)) {\n        attrs.width = removePxSuffix(data.width);\n      } else {\n        styles.width = addPxSuffix(data.width);\n      }\n      if (shouldStyleWithCss(editor)) {\n        styles['border-width'] = addPxSuffix(data.border);\n        styles['border-spacing'] = addPxSuffix(data.cellspacing);\n      } else {\n        attrs.border = data.border;\n        attrs.cellpadding = data.cellpadding;\n        attrs.cellspacing = data.cellspacing;\n      }\n      if (shouldStyleWithCss(editor) && tableElm.children) {\n        for (let i = 0; i < tableElm.children.length; i++) {\n          styleTDTH(dom, tableElm.children[i], {\n            'border-width': addPxSuffix(data.border),\n            'padding': addPxSuffix(data.cellpadding)\n          });\n          if (hasAdvancedTableTab(editor)) {\n            styleTDTH(dom, tableElm.children[i], { 'border-color': data.bordercolor });\n          }\n        }\n      }\n      if (hasAdvancedTableTab(editor)) {\n        styles['background-color'] = data.backgroundcolor;\n        styles['border-color'] = data.bordercolor;\n        styles['border-style'] = data.borderstyle;\n      }\n      attrs.style = dom.serializeStyle({\n        ...getDefaultStyles(editor),\n        ...styles\n      });\n      dom.setAttribs(tableElm, {\n        ...getDefaultAttributes(editor),\n        ...attrs\n      });\n    };\n    const onSubmitTableForm = (editor, tableElm, oldData, api) => {\n      const dom = editor.dom;\n      const data = api.getData();\n      const modifiedData = filter$1(data, (value, key) => oldData[key] !== value);\n      api.close();\n      if (data.class === '') {\n        delete data.class;\n      }\n      editor.undoManager.transact(() => {\n        if (!tableElm) {\n          const cols = parseInt(data.cols, 10) || 1;\n          const rows = parseInt(data.rows, 10) || 1;\n          editor.execCommand('mceInsertTable', false, {\n            rows,\n            columns: cols\n          });\n          tableElm = getSelectionCell(getSelectionStart(editor), getIsRoot(editor)).bind(cell => table(cell, getIsRoot(editor))).map(table => table.dom).getOrUndefined();\n        }\n        if (size(modifiedData) > 0) {\n          applyDataToElement(editor, tableElm, data);\n          const captionElm = dom.select('caption', tableElm)[0];\n          if (captionElm && !data.caption || !captionElm && data.caption) {\n            editor.execCommand('mceTableToggleCaption');\n          }\n          setAlign(editor, tableElm, data.align);\n        }\n        editor.focus();\n        editor.addVisual();\n        if (size(modifiedData) > 0) {\n          const captionModified = has(modifiedData, 'caption');\n          const styleModified = captionModified ? size(modifiedData) > 1 : true;\n          fireTableModified(editor, tableElm, {\n            structure: captionModified,\n            style: styleModified\n          });\n        }\n      });\n    };\n    const open = (editor, insertNewTable) => {\n      const dom = editor.dom;\n      let tableElm;\n      let data = extractDataFromSettings(editor, hasAdvancedTableTab(editor));\n      if (insertNewTable === false) {\n        tableElm = dom.getParent(editor.selection.getStart(), 'table', editor.getBody());\n        if (tableElm) {\n          data = extractDataFromTableElement(editor, tableElm, hasAdvancedTableTab(editor));\n        } else {\n          if (hasAdvancedTableTab(editor)) {\n            data.borderstyle = '';\n            data.bordercolor = '';\n            data.backgroundcolor = '';\n          }\n        }\n      } else {\n        data.cols = '1';\n        data.rows = '1';\n        if (hasAdvancedTableTab(editor)) {\n          data.borderstyle = '';\n          data.bordercolor = '';\n          data.backgroundcolor = '';\n        }\n      }\n      const classes = buildListItems(getTableClassList(editor));\n      if (classes.length > 0) {\n        if (data.class) {\n          data.class = data.class.replace(/\\s*mce\\-item\\-table\\s*/g, '');\n        }\n      }\n      const generalPanel = {\n        type: 'grid',\n        columns: 2,\n        items: getItems(editor, classes, insertNewTable)\n      };\n      const nonAdvancedForm = () => ({\n        type: 'panel',\n        items: [generalPanel]\n      });\n      const advancedForm = () => ({\n        type: 'tabpanel',\n        tabs: [\n          {\n            title: 'General',\n            name: 'general',\n            items: [generalPanel]\n          },\n          getAdvancedTab(editor, 'table')\n        ]\n      });\n      const dialogBody = hasAdvancedTableTab(editor) ? advancedForm() : nonAdvancedForm();\n      editor.windowManager.open({\n        title: 'Table Properties',\n        size: 'normal',\n        body: dialogBody,\n        onSubmit: curry(onSubmitTableForm, editor, tableElm, data),\n        buttons: [\n          {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n          },\n          {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n          }\n        ],\n        initialData: data\n      });\n    };\n\n    const registerCommands = editor => {\n      each$1({\n        mceTableProps: curry(open, editor, false),\n        mceTableRowProps: curry(open$1, editor),\n        mceTableCellProps: curry(open$2, editor)\n      }, (func, name) => editor.addCommand(name, () => func()));\n      editor.addCommand('mceInsertTableDialog', _ui => {\n        open(editor, true);\n      });\n    };\n\n    const child = (scope, selector) => child$1(scope, selector).isSome();\n\n    const selection = identity;\n    const unmergable = selectedCells => {\n      const hasSpan = (elem, type) => getOpt(elem, type).exists(span => parseInt(span, 10) > 1);\n      const hasRowOrColSpan = elem => hasSpan(elem, 'rowspan') || hasSpan(elem, 'colspan');\n      return selectedCells.length > 0 && forall(selectedCells, hasRowOrColSpan) ? Optional.some(selectedCells) : Optional.none();\n    };\n    const mergable = (table, selectedCells, ephemera) => {\n      if (selectedCells.length <= 1) {\n        return Optional.none();\n      } else {\n        return retrieveBox(table, ephemera.firstSelectedSelector, ephemera.lastSelectedSelector).map(bounds => ({\n          bounds,\n          cells: selectedCells\n        }));\n      }\n    };\n\n    const noMenu = cell => ({\n      element: cell,\n      mergable: Optional.none(),\n      unmergable: Optional.none(),\n      selection: [cell]\n    });\n    const forMenu = (selectedCells, table, cell) => ({\n      element: cell,\n      mergable: mergable(table, selectedCells, ephemera),\n      unmergable: unmergable(selectedCells),\n      selection: selection(selectedCells)\n    });\n\n    const getSelectionTargets = editor => {\n      const targets = Cell(Optional.none());\n      const changeHandlers = Cell([]);\n      let selectionDetails = Optional.none();\n      const isCaption = isTag('caption');\n      const isDisabledForSelection = key => selectionDetails.forall(details => !details[key]);\n      const getStart = () => getSelectionCellOrCaption(getSelectionStart(editor), getIsRoot(editor));\n      const getEnd = () => getSelectionCellOrCaption(getSelectionEnd(editor), getIsRoot(editor));\n      const findTargets = () => getStart().bind(startCellOrCaption => flatten(lift2(table(startCellOrCaption), getEnd().bind(table), (startTable, endTable) => {\n        if (eq(startTable, endTable)) {\n          if (isCaption(startCellOrCaption)) {\n            return Optional.some(noMenu(startCellOrCaption));\n          } else {\n            return Optional.some(forMenu(getCellsFromSelection(editor), startTable, startCellOrCaption));\n          }\n        }\n        return Optional.none();\n      })));\n      const getExtractedDetails = targets => {\n        const tableOpt = table(targets.element);\n        return tableOpt.map(table => {\n          const warehouse = Warehouse.fromTable(table);\n          const selectedCells = onCells(warehouse, targets).getOr([]);\n          const locked = foldl(selectedCells, (acc, cell) => {\n            if (cell.isLocked) {\n              acc.onAny = true;\n              if (cell.column === 0) {\n                acc.onFirst = true;\n              } else if (cell.column + cell.colspan >= warehouse.grid.columns) {\n                acc.onLast = true;\n              }\n            }\n            return acc;\n          }, {\n            onAny: false,\n            onFirst: false,\n            onLast: false\n          });\n          return {\n            mergeable: onUnlockedMergable(warehouse, targets).isSome(),\n            unmergeable: onUnlockedUnmergable(warehouse, targets).isSome(),\n            locked\n          };\n        });\n      };\n      const resetTargets = () => {\n        targets.set(cached(findTargets)());\n        selectionDetails = targets.get().bind(getExtractedDetails);\n        each(changeHandlers.get(), handler => handler());\n      };\n      const setupHandler = handler => {\n        handler();\n        changeHandlers.set(changeHandlers.get().concat([handler]));\n        return () => {\n          changeHandlers.set(filter(changeHandlers.get(), h => h !== handler));\n        };\n      };\n      const onSetup = (api, isDisabled) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets));\n      }));\n      const onSetupWithToggle = (api, isDisabled, isActive) => setupHandler(() => targets.get().fold(() => {\n        api.setEnabled(false);\n        api.setActive(false);\n      }, targets => {\n        api.setEnabled(!isDisabled(targets));\n        api.setActive(isActive(targets));\n      }));\n      const isDisabledFromLocked = lockedDisable => selectionDetails.exists(details => details.locked[lockedDisable]);\n      const onSetupTable = api => onSetup(api, _ => false);\n      const onSetupCellOrRow = api => onSetup(api, targets => isCaption(targets.element));\n      const onSetupColumn = lockedDisable => api => onSetup(api, targets => isCaption(targets.element) || isDisabledFromLocked(lockedDisable));\n      const onSetupPasteable = getClipboardData => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone());\n      const onSetupPasteableColumn = (getClipboardData, lockedDisable) => api => onSetup(api, targets => isCaption(targets.element) || getClipboardData().isNone() || isDisabledFromLocked(lockedDisable));\n      const onSetupMergeable = api => onSetup(api, _targets => isDisabledForSelection('mergeable'));\n      const onSetupUnmergeable = api => onSetup(api, _targets => isDisabledForSelection('unmergeable'));\n      const onSetupTableWithCaption = api => {\n        return onSetupWithToggle(api, never, targets => {\n          const tableOpt = table(targets.element, getIsRoot(editor));\n          return tableOpt.exists(table => child(table, 'caption'));\n        });\n      };\n      const onSetupTableHeaders = (command, headerType) => api => {\n        return onSetupWithToggle(api, targets => isCaption(targets.element), () => editor.queryCommandValue(command) === headerType);\n      };\n      const onSetupTableRowHeaders = onSetupTableHeaders('mceTableRowType', 'header');\n      const onSetupTableColumnHeaders = onSetupTableHeaders('mceTableColType', 'th');\n      editor.on('NodeChange ExecCommand TableSelectorChange', resetTargets);\n      return {\n        onSetupTable,\n        onSetupCellOrRow,\n        onSetupColumn,\n        onSetupPasteable,\n        onSetupPasteableColumn,\n        onSetupMergeable,\n        onSetupUnmergeable,\n        resetTargets,\n        onSetupTableWithCaption,\n        onSetupTableRowHeaders,\n        onSetupTableColumnHeaders,\n        targets: targets.get\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.FakeClipboard');\n\n    const tableTypeBase = 'x-tinymce/dom-table-';\n    const tableTypeRow = tableTypeBase + 'rows';\n    const tableTypeColumn = tableTypeBase + 'columns';\n    const getData = type => {\n      var _a;\n      const items = (_a = global.read()) !== null && _a !== void 0 ? _a : [];\n      return findMap(items, item => Optional.from(item.getType(type)));\n    };\n    const getRows = () => getData(tableTypeRow);\n    const getColumns = () => getData(tableTypeColumn);\n\n    const addButtons = (editor, selectionTargets) => {\n      editor.ui.registry.addMenuButton('table', {\n        tooltip: 'Table',\n        icon: 'table',\n        fetch: callback => callback('inserttable | cell row column | advtablesort | tableprops deletetable')\n      });\n      const cmd = command => () => editor.execCommand(command);\n      const addButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const addToggleButtonIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleButton(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      addButtonIfRegistered('tableprops', {\n        tooltip: 'Table properties',\n        command: 'mceTableProps',\n        icon: 'table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tabledelete', {\n        tooltip: 'Delete table',\n        command: 'mceTableDelete',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable\n      });\n      addButtonIfRegistered('tablecellprops', {\n        tooltip: 'Cell properties',\n        command: 'mceTableCellProps',\n        icon: 'table-cell-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablemergecells', {\n        tooltip: 'Merge cells',\n        command: 'mceTableMergeCells',\n        icon: 'table-merge-cells',\n        onSetup: selectionTargets.onSetupMergeable\n      });\n      addButtonIfRegistered('tablesplitcells', {\n        tooltip: 'Split cell',\n        command: 'mceTableSplitCells',\n        icon: 'table-split-cells',\n        onSetup: selectionTargets.onSetupUnmergeable\n      });\n      addButtonIfRegistered('tableinsertrowbefore', {\n        tooltip: 'Insert row before',\n        command: 'mceTableInsertRowBefore',\n        icon: 'table-insert-row-above',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertrowafter', {\n        tooltip: 'Insert row after',\n        command: 'mceTableInsertRowAfter',\n        icon: 'table-insert-row-after',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tabledeleterow', {\n        tooltip: 'Delete row',\n        command: 'mceTableDeleteRow',\n        icon: 'table-delete-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablerowprops', {\n        tooltip: 'Row properties',\n        command: 'mceTableRowProps',\n        icon: 'table-row-properties',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tableinsertcolbefore', {\n        tooltip: 'Insert column before',\n        command: 'mceTableInsertColBefore',\n        icon: 'table-insert-column-before',\n        onSetup: selectionTargets.onSetupColumn('onFirst')\n      });\n      addButtonIfRegistered('tableinsertcolafter', {\n        tooltip: 'Insert column after',\n        command: 'mceTableInsertColAfter',\n        icon: 'table-insert-column-after',\n        onSetup: selectionTargets.onSetupColumn('onLast')\n      });\n      addButtonIfRegistered('tabledeletecol', {\n        tooltip: 'Delete column',\n        command: 'mceTableDeleteCol',\n        icon: 'table-delete-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecutrow', {\n        tooltip: 'Cut row',\n        command: 'mceTableCutRow',\n        icon: 'cut-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablecopyrow', {\n        tooltip: 'Copy row',\n        command: 'mceTableCopyRow',\n        icon: 'duplicate-row',\n        onSetup: selectionTargets.onSetupCellOrRow\n      });\n      addButtonIfRegistered('tablepasterowbefore', {\n        tooltip: 'Paste row before',\n        command: 'mceTablePasteRowBefore',\n        icon: 'paste-row-before',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablepasterowafter', {\n        tooltip: 'Paste row after',\n        command: 'mceTablePasteRowAfter',\n        icon: 'paste-row-after',\n        onSetup: selectionTargets.onSetupPasteable(getRows)\n      });\n      addButtonIfRegistered('tablecutcol', {\n        tooltip: 'Cut column',\n        command: 'mceTableCutCol',\n        icon: 'cut-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablecopycol', {\n        tooltip: 'Copy column',\n        command: 'mceTableCopyCol',\n        icon: 'duplicate-column',\n        onSetup: selectionTargets.onSetupColumn('onAny')\n      });\n      addButtonIfRegistered('tablepastecolbefore', {\n        tooltip: 'Paste column before',\n        command: 'mceTablePasteColBefore',\n        icon: 'paste-column-before',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n      });\n      addButtonIfRegistered('tablepastecolafter', {\n        tooltip: 'Paste column after',\n        command: 'mceTablePasteColAfter',\n        icon: 'paste-column-after',\n        onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n      });\n      addButtonIfRegistered('tableinsertdialog', {\n        tooltip: 'Insert table',\n        command: 'mceInsertTableDialog',\n        icon: 'table'\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addMenuButton('tableclass', {\n          icon: 'table-classes',\n          tooltip: 'Table styles',\n          fetch: generateMenuItemsCallback(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addMenuButton('tablecellclass', {\n          icon: 'table-cell-classes',\n          tooltip: 'Cell styles',\n          fetch: generateMenuItemsCallback(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addMenuButton('tablecellvalign', {\n          icon: 'vertical-align',\n          tooltip: 'Vertical align',\n          fetch: generateMenuItemsCallback(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderwidth', {\n          icon: 'border-width',\n          tooltip: 'Border width',\n          fetch: generateMenuItemsCallback(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellborderstyle', {\n          icon: 'border-style',\n          tooltip: 'Border style',\n          fetch: generateMenuItemsCallback(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          tooltip: 'Background color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addMenuButton('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          tooltip: 'Border color',\n          fetch: callback => callback(buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleButtonIfRegistered('tablecaption', {\n        tooltip: 'Table caption',\n        icon: 'table-caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleButtonIfRegistered('tablerowheader', {\n        tooltip: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleButtonIfRegistered('tablecolheader', {\n        tooltip: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableColumnHeaders\n      });\n    };\n    const addToolbars = editor => {\n      const isTable = table => editor.dom.is(table, 'table') && editor.getBody().contains(table);\n      const toolbar = getToolbar(editor);\n      if (toolbar.length > 0) {\n        editor.ui.registry.addContextToolbar('table', {\n          predicate: isTable,\n          items: toolbar,\n          scope: 'node',\n          position: 'node'\n        });\n      }\n    };\n\n    const addMenuItems = (editor, selectionTargets) => {\n      const cmd = command => () => editor.execCommand(command);\n      const addMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n          return true;\n        } else {\n          return false;\n        }\n      };\n      const addToggleMenuIfRegistered = (name, spec) => {\n        if (editor.queryCommandSupported(spec.command)) {\n          editor.ui.registry.addToggleMenuItem(name, {\n            ...spec,\n            onAction: isFunction(spec.onAction) ? spec.onAction : cmd(spec.command)\n          });\n        }\n      };\n      const insertTableAction = data => {\n        editor.execCommand('mceInsertTable', false, {\n          rows: data.numRows,\n          columns: data.numColumns\n        });\n      };\n      const hasRowMenuItems = [\n        addMenuIfRegistered('tableinsertrowbefore', {\n          text: 'Insert row before',\n          icon: 'table-insert-row-above',\n          command: 'mceTableInsertRowBefore',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tableinsertrowafter', {\n          text: 'Insert row after',\n          icon: 'table-insert-row-after',\n          command: 'mceTableInsertRowAfter',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tabledeleterow', {\n          text: 'Delete row',\n          icon: 'table-delete-row',\n          command: 'mceTableDeleteRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablerowprops', {\n          text: 'Row properties',\n          icon: 'table-row-properties',\n          command: 'mceTableRowProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecutrow', {\n          text: 'Cut row',\n          icon: 'cut-row',\n          command: 'mceTableCutRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablecopyrow', {\n          text: 'Copy row',\n          icon: 'duplicate-row',\n          command: 'mceTableCopyRow',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablepasterowbefore', {\n          text: 'Paste row before',\n          icon: 'paste-row-before',\n          command: 'mceTablePasteRowBefore',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        }),\n        addMenuIfRegistered('tablepasterowafter', {\n          text: 'Paste row after',\n          icon: 'paste-row-after',\n          command: 'mceTablePasteRowAfter',\n          onSetup: selectionTargets.onSetupPasteable(getRows)\n        })\n      ];\n      const hasColumnMenuItems = [\n        addMenuIfRegistered('tableinsertcolumnbefore', {\n          text: 'Insert column before',\n          icon: 'table-insert-column-before',\n          command: 'mceTableInsertColBefore',\n          onSetup: selectionTargets.onSetupColumn('onFirst')\n        }),\n        addMenuIfRegistered('tableinsertcolumnafter', {\n          text: 'Insert column after',\n          icon: 'table-insert-column-after',\n          command: 'mceTableInsertColAfter',\n          onSetup: selectionTargets.onSetupColumn('onLast')\n        }),\n        addMenuIfRegistered('tabledeletecolumn', {\n          text: 'Delete column',\n          icon: 'table-delete-column',\n          command: 'mceTableDeleteCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecutcolumn', {\n          text: 'Cut column',\n          icon: 'cut-column',\n          command: 'mceTableCutCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablecopycolumn', {\n          text: 'Copy column',\n          icon: 'duplicate-column',\n          command: 'mceTableCopyCol',\n          onSetup: selectionTargets.onSetupColumn('onAny')\n        }),\n        addMenuIfRegistered('tablepastecolumnbefore', {\n          text: 'Paste column before',\n          icon: 'paste-column-before',\n          command: 'mceTablePasteColBefore',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onFirst')\n        }),\n        addMenuIfRegistered('tablepastecolumnafter', {\n          text: 'Paste column after',\n          icon: 'paste-column-after',\n          command: 'mceTablePasteColAfter',\n          onSetup: selectionTargets.onSetupPasteableColumn(getColumns, 'onLast')\n        })\n      ];\n      const hasCellMenuItems = [\n        addMenuIfRegistered('tablecellprops', {\n          text: 'Cell properties',\n          icon: 'table-cell-properties',\n          command: 'mceTableCellProps',\n          onSetup: selectionTargets.onSetupCellOrRow\n        }),\n        addMenuIfRegistered('tablemergecells', {\n          text: 'Merge cells',\n          icon: 'table-merge-cells',\n          command: 'mceTableMergeCells',\n          onSetup: selectionTargets.onSetupMergeable\n        }),\n        addMenuIfRegistered('tablesplitcells', {\n          text: 'Split cell',\n          icon: 'table-split-cells',\n          command: 'mceTableSplitCells',\n          onSetup: selectionTargets.onSetupUnmergeable\n        })\n      ];\n      if (!hasTableGrid(editor)) {\n        editor.ui.registry.addMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          onAction: cmd('mceInsertTableDialog')\n        });\n      } else {\n        editor.ui.registry.addNestedMenuItem('inserttable', {\n          text: 'Table',\n          icon: 'table',\n          getSubmenuItems: () => [{\n              type: 'fancymenuitem',\n              fancytype: 'inserttable',\n              onAction: insertTableAction\n            }]\n        });\n      }\n      editor.ui.registry.addMenuItem('inserttabledialog', {\n        text: 'Insert table',\n        icon: 'table',\n        onAction: cmd('mceInsertTableDialog')\n      });\n      addMenuIfRegistered('tableprops', {\n        text: 'Table properties',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableProps'\n      });\n      addMenuIfRegistered('deletetable', {\n        text: 'Delete table',\n        icon: 'table-delete-table',\n        onSetup: selectionTargets.onSetupTable,\n        command: 'mceTableDelete'\n      });\n      if (contains(hasRowMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('row', {\n          type: 'nestedmenuitem',\n          text: 'Row',\n          getSubmenuItems: constant('tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter')\n        });\n      }\n      if (contains(hasColumnMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('column', {\n          type: 'nestedmenuitem',\n          text: 'Column',\n          getSubmenuItems: constant('tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter')\n        });\n      }\n      if (contains(hasCellMenuItems, true)) {\n        editor.ui.registry.addNestedMenuItem('cell', {\n          type: 'nestedmenuitem',\n          text: 'Cell',\n          getSubmenuItems: constant('tablecellprops tablemergecells tablesplitcells')\n        });\n      }\n      editor.ui.registry.addContextMenu('table', {\n        update: () => {\n          selectionTargets.resetTargets();\n          return selectionTargets.targets().fold(constant(''), targets => {\n            if (name(targets.element) === 'caption') {\n              return 'tableprops deletetable';\n            } else {\n              return 'cell row column | advtablesort | tableprops deletetable';\n            }\n          });\n        }\n      });\n      const tableClassList = filterNoneItem(getTableClassList(editor));\n      if (tableClassList.length !== 0 && editor.queryCommandSupported('mceTableToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tableclass', {\n          icon: 'table-classes',\n          text: 'Table styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableClassList, 'tableclass', value => editor.execCommand('mceTableToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupTable\n        });\n      }\n      const tableCellClassList = filterNoneItem(getCellClassList(editor));\n      if (tableCellClassList.length !== 0 && editor.queryCommandSupported('mceTableCellToggleClass')) {\n        editor.ui.registry.addNestedMenuItem('tablecellclass', {\n          icon: 'table-cell-classes',\n          text: 'Cell styles',\n          getSubmenuItems: () => buildMenuItems(editor, tableCellClassList, 'tablecellclass', value => editor.execCommand('mceTableCellToggleClass', false, value)),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      if (editor.queryCommandSupported('mceTableApplyCellStyle')) {\n        editor.ui.registry.addNestedMenuItem('tablecellvalign', {\n          icon: 'vertical-align',\n          text: 'Vertical align',\n          getSubmenuItems: () => buildMenuItems(editor, verticalAlignValues, 'tablecellverticalalign', applyTableCellStyle(editor, 'vertical-align')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderwidth', {\n          icon: 'border-width',\n          text: 'Border width',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderWidths(editor), 'tablecellborderwidth', applyTableCellStyle(editor, 'border-width')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellborderstyle', {\n          icon: 'border-style',\n          text: 'Border style',\n          getSubmenuItems: () => buildMenuItems(editor, getTableBorderStyles(editor), 'tablecellborderstyle', applyTableCellStyle(editor, 'border-style')),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbackgroundcolor', {\n          icon: 'cell-background-color',\n          text: 'Background color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBackgroundColorMap(editor), 'background-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n        editor.ui.registry.addNestedMenuItem('tablecellbordercolor', {\n          icon: 'cell-border-color',\n          text: 'Border color',\n          getSubmenuItems: () => buildColorMenu(editor, getTableBorderColorMap(editor), 'border-color'),\n          onSetup: selectionTargets.onSetupCellOrRow\n        });\n      }\n      addToggleMenuIfRegistered('tablecaption', {\n        icon: 'table-caption',\n        text: 'Table caption',\n        command: 'mceTableToggleCaption',\n        onSetup: selectionTargets.onSetupTableWithCaption\n      });\n      addToggleMenuIfRegistered('tablerowheader', {\n        text: 'Row header',\n        icon: 'table-top-header',\n        command: 'mceTableRowType',\n        onAction: changeRowHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n      addToggleMenuIfRegistered('tablecolheader', {\n        text: 'Column header',\n        icon: 'table-left-header',\n        command: 'mceTableColType',\n        onAction: changeColumnHeader(editor),\n        onSetup: selectionTargets.onSetupTableRowHeaders\n      });\n    };\n\n    const Plugin = editor => {\n      const selectionTargets = getSelectionTargets(editor);\n      register(editor);\n      registerCommands(editor);\n      addMenuItems(editor, selectionTargets);\n      addButtons(editor, selectionTargets);\n      addToolbars(editor);\n    };\n    var Plugin$1 = () => {\n      global$3.add('table', Plugin);\n    };\n\n    Plugin$1();\n\n})();\n","// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');","/**\n * TinyMCE version 6.0.3 (2022-05-25)\n */\n\n(function () {\n  'use strict';\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  const link = () => /(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)[A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*(?::\\d+)?(?:\\/(?:[-+~=.,%()\\/\\w]*[-+~=%()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?/g;\n\n  const option = name => editor => editor.options.get(name);\n  const register = editor => {\n    const registerOption = editor.options.register;\n    registerOption('autolink_pattern', {\n      processor: 'regexp',\n      default: new RegExp('^' + link().source + '$', 'i')\n    });\n    registerOption('link_default_target', { processor: 'string' });\n    registerOption('link_default_protocol', {\n      processor: 'string',\n      default: 'https'\n    });\n  };\n  const getAutoLinkPattern = option('autolink_pattern');\n  const getDefaultLinkTarget = option('link_default_target');\n  const getDefaultLinkProtocol = option('link_default_protocol');\n\n  const hasProto = (v, constructor, predicate) => {\n    var _a;\n    if (predicate(v, constructor.prototype)) {\n      return true;\n    } else {\n      return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n    }\n  };\n  const typeOf = x => {\n    const t = typeof x;\n    if (x === null) {\n      return 'null';\n    } else if (t === 'object' && Array.isArray(x)) {\n      return 'array';\n    } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n      return 'string';\n    } else {\n      return t;\n    }\n  };\n  const isType = type => value => typeOf(value) === type;\n  const isString = isType('string');\n\n  const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n  const contains = (str, substr) => {\n    return str.indexOf(substr) !== -1;\n  };\n  const startsWith = (str, prefix) => {\n    return checkRange(str, prefix, 0);\n  };\n\n  const rangeEqualsBracketOrSpace = rangeString => /^[(\\[{ \\u00a0]$/.test(rangeString);\n  const isTextNode = node => node.nodeType === 3;\n  const isElement = node => node.nodeType === 1;\n  const handleBracket = editor => parseCurrentLine(editor, -1);\n  const handleSpacebar = editor => parseCurrentLine(editor, 0);\n  const handleEnter = editor => parseCurrentLine(editor, -1);\n  const scopeIndex = (container, index) => {\n    if (index < 0) {\n      index = 0;\n    }\n    if (isTextNode(container)) {\n      const len = container.data.length;\n      if (index > len) {\n        index = len;\n      }\n    }\n    return index;\n  };\n  const setStart = (rng, container, offset) => {\n    if (!isElement(container) || container.hasChildNodes()) {\n      rng.setStart(container, scopeIndex(container, offset));\n    } else {\n      rng.setStartBefore(container);\n    }\n  };\n  const setEnd = (rng, container, offset) => {\n    if (!isElement(container) || container.hasChildNodes()) {\n      rng.setEnd(container, scopeIndex(container, offset));\n    } else {\n      rng.setEndAfter(container);\n    }\n  };\n  const hasProtocol = url => /^([A-Za-z][A-Za-z\\d.+-]*:\\/\\/)|mailto:/.test(url);\n  const isPunctuation = char => /[?!,.;:]/.test(char);\n  const parseCurrentLine = (editor, endOffset) => {\n    let end, endContainer, bookmark, text, prev, len, rngText;\n    const autoLinkPattern = getAutoLinkPattern(editor);\n    const defaultLinkTarget = getDefaultLinkTarget(editor);\n    if (editor.dom.getParent(editor.selection.getNode(), 'a[href]') !== null) {\n      return;\n    }\n    const rng = editor.selection.getRng().cloneRange();\n    if (rng.startOffset < 5) {\n      prev = rng.endContainer.previousSibling;\n      if (!prev) {\n        if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n          return;\n        }\n        prev = rng.endContainer.firstChild.nextSibling;\n      }\n      len = prev.length;\n      setStart(rng, prev, len);\n      setEnd(rng, prev, len);\n      if (rng.endOffset < 5) {\n        return;\n      }\n      end = rng.endOffset;\n      endContainer = prev;\n    } else {\n      endContainer = rng.endContainer;\n      if (!isTextNode(endContainer) && endContainer.firstChild) {\n        while (!isTextNode(endContainer) && endContainer.firstChild) {\n          endContainer = endContainer.firstChild;\n        }\n        if (isTextNode(endContainer)) {\n          setStart(rng, endContainer, 0);\n          setEnd(rng, endContainer, endContainer.nodeValue.length);\n        }\n      }\n      if (rng.endOffset === 1) {\n        end = 2;\n      } else {\n        end = rng.endOffset - 1 - endOffset;\n      }\n    }\n    const start = end;\n    do {\n      setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n      setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n      end -= 1;\n      rngText = rng.toString();\n    } while (!rangeEqualsBracketOrSpace(rngText) && end - 2 >= 0);\n    if (rangeEqualsBracketOrSpace(rng.toString())) {\n      setStart(rng, endContainer, end);\n      setEnd(rng, endContainer, start);\n      end += 1;\n    } else if (rng.startOffset === 0) {\n      setStart(rng, endContainer, 0);\n      setEnd(rng, endContainer, start);\n    } else {\n      setStart(rng, endContainer, end);\n      setEnd(rng, endContainer, start);\n    }\n    text = rng.toString();\n    if (isPunctuation(text.charAt(text.length - 1))) {\n      setEnd(rng, endContainer, start - 1);\n    }\n    text = rng.toString().trim();\n    const matches = text.match(autoLinkPattern);\n    const protocol = getDefaultLinkProtocol(editor);\n    if (matches) {\n      let url = matches[0];\n      if (startsWith(url, 'www.')) {\n        url = protocol + '://' + url;\n      } else if (contains(url, '@') && !hasProtocol(url)) {\n        url = 'mailto:' + url;\n      }\n      bookmark = editor.selection.getBookmark();\n      editor.selection.setRng(rng);\n      editor.getDoc().execCommand('createlink', false, url);\n      if (isString(defaultLinkTarget)) {\n        editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n      }\n      editor.selection.moveToBookmark(bookmark);\n      editor.nodeChanged();\n    }\n  };\n  const setup = editor => {\n    editor.on('keydown', e => {\n      if (e.keyCode === 13) {\n        return handleEnter(editor);\n      }\n    });\n    editor.on('keypress', e => {\n      if (e.keyCode === 41 || e.keyCode === 93 || e.keyCode === 125) {\n        return handleBracket(editor);\n      }\n    });\n    editor.on('keyup', e => {\n      if (e.keyCode === 32) {\n        return handleSpacebar(editor);\n      }\n    });\n  };\n\n  var Plugin = () => {\n    global.add('autolink', editor => {\n      register(editor);\n      setup(editor);\n    });\n  };\n\n  Plugin();\n\n})();\n","module.exports = \"body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.4;margin:1rem}table{border-collapse:collapse}table:not([cellpadding]) td,table:not([cellpadding]) th{padding:.4rem}table[border]:not([border=\\\"0\\\"]):not([style*=border-width]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-width]) th{border-width:1px}table[border]:not([border=\\\"0\\\"]):not([style*=border-style]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-style]) th{border-style:solid}table[border]:not([border=\\\"0\\\"]):not([style*=border-color]) td,table[border]:not([border=\\\"0\\\"]):not([style*=border-color]) th{border-color:#ccc}figure{display:table;margin:1rem auto}figure figcaption{color:#999;display:block;margin-top:.25rem;text-align:center}hr{border-color:#ccc;border-style:solid;border-width:1px 0 0 0}code{background-color:#e8e8e8;border-radius:3px;padding:.1rem .2rem}.mce-content-body:not([dir=rtl]) blockquote{border-left:2px solid #ccc;margin-left:1.5rem;padding-left:1rem}.mce-content-body[dir=rtl] blockquote{border-right:2px solid #ccc;margin-right:1.5rem;padding-right:1rem}\\n\"","module.exports = \".mce-content-body .mce-item-anchor{background:transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'8'%20height%3D'12'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M0%200L8%200%208%2012%204.09117821%209%200%2012z'%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center}.mce-content-body .mce-item-anchor:empty{cursor:default;display:inline-block;height:12px!important;padding:0 2px;-webkit-user-modify:read-only;-moz-user-modify:read-only;-webkit-user-select:all;-moz-user-select:all;user-select:all;width:8px!important}.mce-content-body .mce-item-anchor:not(:empty){background-position-x:2px;display:inline-block;padding-left:12px}.mce-content-body .mce-item-anchor[data-mce-selected]{outline-offset:1px}.tox-comments-visible .tox-comment{background-color:#fff0b7}.tox-comments-visible .tox-comment[data-mce-annotation-active=true]:not([data-mce-selected=inline-boundary]){background-color:#ffe168}.tox-checklist>li:not(.tox-checklist--hidden){list-style:none;margin:.25em 0}.tox-checklist>li:not(.tox-checklist--hidden)::before{content:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-unchecked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2215%22%20height%3D%2215%22%20x%3D%22.5%22%20y%3D%22.5%22%20fill-rule%3D%22nonzero%22%20stroke%3D%22%234C4C4C%22%20rx%3D%222%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\");cursor:pointer;height:1em;margin-left:-1.5em;margin-top:.125em;position:absolute;width:1em}.tox-checklist li:not(.tox-checklist--hidden).tox-checklist--checked::before{content:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cg%20id%3D%22checklist-checked%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Crect%20id%3D%22Rectangle%22%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%234099FF%22%20fill-rule%3D%22nonzero%22%20rx%3D%222%22%2F%3E%3Cpath%20id%3D%22Path%22%20fill%3D%22%23FFF%22%20fill-rule%3D%22nonzero%22%20d%3D%22M11.5703186%2C3.14417309%20C11.8516238%2C2.73724603%2012.4164781%2C2.62829933%2012.83558%2C2.89774797%20C13.260121%2C3.17069355%2013.3759736%2C3.72932262%2013.0909105%2C4.14168582%20L7.7580587%2C11.8560195%20C7.43776896%2C12.3193404%206.76483983%2C12.3852142%206.35607322%2C11.9948725%20L3.02491697%2C8.8138662%20C2.66090143%2C8.46625845%202.65798871%2C7.89594698%203.01850234%2C7.54483354%20C3.373942%2C7.19866177%203.94940006%2C7.19592841%204.30829608%2C7.5386474%20L6.85276923%2C9.9684299%20L11.5703186%2C3.14417309%20Z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%0A\\\")}[dir=rtl] .tox-checklist>li:not(.tox-checklist--hidden)::before{margin-left:0;margin-right:-1.5em}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.mce-content-body{overflow-wrap:break-word;word-wrap:break-word}.mce-content-body .mce-visual-caret{background-color:#000;background-color:currentColor;position:absolute}.mce-content-body .mce-visual-caret-hidden{display:none}.mce-content-body [data-mce-caret]{left:-1000px;margin:0;padding:0;position:absolute;right:auto;top:0}.mce-content-body .mce-offscreen-selection{left:-2000000px;max-width:1000000px;position:absolute}.mce-content-body [contentEditable=false]{cursor:default}.mce-content-body [contentEditable=true]{cursor:text}.tox-cursor-format-painter{cursor:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M15%2C6%20C15%2C5.45%2014.55%2C5%2014%2C5%20L6%2C5%20C5.45%2C5%205%2C5.45%205%2C6%20L5%2C10%20C5%2C10.55%205.45%2C11%206%2C11%20L14%2C11%20C14.55%2C11%2015%2C10.55%2015%2C10%20L15%2C9%20L16%2C9%20L16%2C12%20L9%2C12%20L9%2C19%20C9%2C19.55%209.45%2C20%2010%2C20%20L11%2C20%20C11.55%2C20%2012%2C19.55%2012%2C19%20L12%2C14%20L18%2C14%20L18%2C7%20L15%2C7%20L15%2C6%20Z%22%2F%3E%0A%20%20%20%20%3Cpath%20fill%3D%22%23000%22%20fill-rule%3D%22nonzero%22%20d%3D%22M1%2C1%20L8.25%2C1%20C8.66421356%2C1%209%2C1.33578644%209%2C1.75%20L9%2C1.75%20C9%2C2.16421356%208.66421356%2C2.5%208.25%2C2.5%20L2.5%2C2.5%20L2.5%2C8.25%20C2.5%2C8.66421356%202.16421356%2C9%201.75%2C9%20L1.75%2C9%20C1.33578644%2C9%201%2C8.66421356%201%2C8.25%20L1%2C1%20Z%22%2F%3E%0A%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E%0A\\\"),default}.mce-content-body figure.align-left{float:left}.mce-content-body figure.align-right{float:right}.mce-content-body figure.image.align-center{display:table;margin-left:auto;margin-right:auto}.mce-preview-object{border:1px solid gray;display:inline-block;line-height:0;margin:0 2px 0 2px;position:relative}.mce-preview-object .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.mce-preview-object[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.mce-object{background:transparent url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%3E%3Cpath%20d%3D%22M4%203h16a1%201%200%200%201%201%201v16a1%201%200%200%201-1%201H4a1%201%200%200%201-1-1V4a1%201%200%200%201%201-1zm1%202v14h14V5H5zm4.79%202.565l5.64%204.028a.5.5%200%200%201%200%20.814l-5.64%204.028a.5.5%200%200%201-.79-.407V7.972a.5.5%200%200%201%20.79-.407z%22%2F%3E%3C%2Fsvg%3E%0A\\\") no-repeat center;border:1px dashed #aaa}.mce-pagebreak{border:1px dashed #aaa;cursor:default;display:block;height:5px;margin-top:15px;page-break-before:always;width:100%}@media print{.mce-pagebreak{border:0}}.tiny-pageembed .mce-shim{background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7);height:100%;left:0;position:absolute;top:0;width:100%}.tiny-pageembed[data-mce-selected=\\\"2\\\"] .mce-shim{display:none}.tiny-pageembed{display:inline-block;position:relative}.tiny-pageembed--16by9,.tiny-pageembed--1by1,.tiny-pageembed--21by9,.tiny-pageembed--4by3{display:block;overflow:hidden;padding:0;position:relative;width:100%}.tiny-pageembed--21by9{padding-top:42.857143%}.tiny-pageembed--16by9{padding-top:56.25%}.tiny-pageembed--4by3{padding-top:75%}.tiny-pageembed--1by1{padding-top:100%}.tiny-pageembed--16by9 iframe,.tiny-pageembed--1by1 iframe,.tiny-pageembed--21by9 iframe,.tiny-pageembed--4by3 iframe{border:0;height:100%;left:0;position:absolute;top:0;width:100%}.mce-content-body[data-mce-placeholder]{position:relative}.mce-content-body[data-mce-placeholder]:not(.mce-visualblocks)::before{color:rgba(34,47,62,.7);content:attr(data-mce-placeholder);position:absolute}.mce-content-body:not([dir=rtl])[data-mce-placeholder]:not(.mce-visualblocks)::before{left:1px}.mce-content-body[dir=rtl][data-mce-placeholder]:not(.mce-visualblocks)::before{right:1px}.mce-content-body div.mce-resizehandle{background-color:#4099ff;border-color:#4099ff;border-style:solid;border-width:1px;box-sizing:border-box;height:10px;position:absolute;width:10px;z-index:1298}.mce-content-body div.mce-resizehandle:hover{background-color:#4099ff}.mce-content-body div.mce-resizehandle:nth-of-type(1){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(2){cursor:nesw-resize}.mce-content-body div.mce-resizehandle:nth-of-type(3){cursor:nwse-resize}.mce-content-body div.mce-resizehandle:nth-of-type(4){cursor:nesw-resize}.mce-content-body .mce-resize-backdrop{z-index:10000}.mce-content-body .mce-clonedresizable{cursor:default;opacity:.5;outline:1px dashed #000;position:absolute;z-index:10001}.mce-content-body .mce-clonedresizable.mce-resizetable-columns td,.mce-content-body .mce-clonedresizable.mce-resizetable-columns th{border:0}.mce-content-body .mce-resize-helper{background:#555;background:rgba(0,0,0,.75);border:1px;border-radius:3px;color:#fff;display:none;font-family:sans-serif;font-size:12px;line-height:14px;margin:5px 10px;padding:5px;position:absolute;white-space:nowrap;z-index:10002}.tox-rtc-user-selection{position:relative}.tox-rtc-user-cursor{bottom:0;cursor:default;position:absolute;top:0;width:2px}.tox-rtc-user-cursor::before{background-color:inherit;border-radius:50%;content:'';display:block;height:8px;position:absolute;right:-3px;top:-3px;width:8px}.tox-rtc-user-cursor:hover::after{background-color:inherit;border-radius:100px;box-sizing:border-box;color:#fff;content:attr(data-user);display:block;font-size:12px;font-weight:700;left:-5px;min-height:8px;min-width:8px;padding:0 12px;position:absolute;top:-11px;white-space:nowrap;z-index:1000}.tox-rtc-user-selection--1 .tox-rtc-user-cursor{background-color:#2dc26b}.tox-rtc-user-selection--2 .tox-rtc-user-cursor{background-color:#e03e2d}.tox-rtc-user-selection--3 .tox-rtc-user-cursor{background-color:#f1c40f}.tox-rtc-user-selection--4 .tox-rtc-user-cursor{background-color:#3598db}.tox-rtc-user-selection--5 .tox-rtc-user-cursor{background-color:#b96ad9}.tox-rtc-user-selection--6 .tox-rtc-user-cursor{background-color:#e67e23}.tox-rtc-user-selection--7 .tox-rtc-user-cursor{background-color:#aaa69d}.tox-rtc-user-selection--8 .tox-rtc-user-cursor{background-color:#f368e0}.tox-rtc-remote-image{background:#eaeaea url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2236%22%20height%3D%2212%22%20viewBox%3D%220%200%2036%2012%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Ccircle%20cx%3D%226%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2218%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.33s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%20%20%3Ccircle%20cx%3D%2230%22%20cy%3D%226%22%20r%3D%223%22%20fill%3D%22rgba(0%2C%200%2C%200%2C%20.2)%22%3E%0A%20%20%20%20%3Canimate%20attributeName%3D%22r%22%20values%3D%223%3B5%3B3%22%20calcMode%3D%22linear%22%20begin%3D%22.66s%22%20dur%3D%221s%22%20repeatCount%3D%22indefinite%22%20%2F%3E%0A%20%20%3C%2Fcircle%3E%0A%3C%2Fsvg%3E%0A\\\") no-repeat center center;border:1px solid #ccc;min-height:240px;min-width:320px}.mce-match-marker{background:#aaa;color:#fff}.mce-match-marker-selected{background:#39f;color:#fff}.mce-match-marker-selected::-moz-selection{background:#39f;color:#fff}.mce-match-marker-selected::selection{background:#39f;color:#fff}.mce-content-body audio[data-mce-selected],.mce-content-body embed[data-mce-selected],.mce-content-body img[data-mce-selected],.mce-content-body object[data-mce-selected],.mce-content-body table[data-mce-selected],.mce-content-body video[data-mce-selected]{outline:3px solid #b4d7ff}.mce-content-body hr[data-mce-selected]{outline:3px solid #b4d7ff;outline-offset:1px}.mce-content-body [contentEditable=false] [contentEditable=true]:focus{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false] [contentEditable=true]:hover{outline:3px solid #b4d7ff}.mce-content-body [contentEditable=false][data-mce-selected]{cursor:not-allowed;outline:3px solid #b4d7ff}.mce-content-body.mce-content-readonly [contentEditable=true]:focus,.mce-content-body.mce-content-readonly [contentEditable=true]:hover{outline:0}.mce-content-body [data-mce-selected=inline-boundary]{background-color:#b4d7ff}.mce-content-body .mce-edit-focus{outline:3px solid #b4d7ff}.mce-content-body td[data-mce-selected],.mce-content-body th[data-mce-selected]{position:relative}.mce-content-body td[data-mce-selected]::-moz-selection,.mce-content-body th[data-mce-selected]::-moz-selection{background:0 0}.mce-content-body td[data-mce-selected]::selection,.mce-content-body th[data-mce-selected]::selection{background:0 0}.mce-content-body td[data-mce-selected] *,.mce-content-body th[data-mce-selected] *{outline:0;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{background-color:rgba(180,215,255,.7);border:1px solid rgba(180,215,255,.7);bottom:-1px;content:'';left:-1px;mix-blend-mode:multiply;position:absolute;right:-1px;top:-1px}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.mce-content-body td[data-mce-selected]::after,.mce-content-body th[data-mce-selected]::after{border-color:rgba(0,84,180,.7)}}.mce-content-body img::-moz-selection{background:0 0}.mce-content-body img::selection{background:0 0}.ephox-snooker-resizer-bar{background-color:#b4d7ff;opacity:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ephox-snooker-resizer-cols{cursor:col-resize}.ephox-snooker-resizer-rows{cursor:row-resize}.ephox-snooker-resizer-bar.ephox-snooker-resizer-bar-dragging{opacity:1}.mce-spellchecker-word{background-image:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%23ff0000'%20fill%3D'none'%20stroke-linecap%3D'round'%20stroke-opacity%3D'.75'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default;height:2rem}.mce-spellchecker-grammar{background-image:url(\\\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D'4'%20height%3D'4'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20stroke%3D'%2300A835'%20fill%3D'none'%20stroke-linecap%3D'round'%20d%3D'M0%203L2%201%204%203'%2F%3E%3C%2Fsvg%3E%0A\\\");background-position:0 calc(100% + 1px);background-repeat:repeat-x;background-size:auto 6px;cursor:default}.mce-toc{border:1px solid gray}.mce-toc h2{margin:4px}.mce-toc li{list-style-type:none}.mce-item-table:not([border]),.mce-item-table:not([border]) caption,.mce-item-table:not([border]) td,.mce-item-table:not([border]) th,.mce-item-table[border=\\\"0\\\"],.mce-item-table[border=\\\"0\\\"] caption,.mce-item-table[border=\\\"0\\\"] td,.mce-item-table[border=\\\"0\\\"] th,table[style*=\\\"border-width: 0px\\\"],table[style*=\\\"border-width: 0px\\\"] caption,table[style*=\\\"border-width: 0px\\\"] td,table[style*=\\\"border-width: 0px\\\"] th{border:1px dashed #bbb}.mce-visualblocks address,.mce-visualblocks article,.mce-visualblocks aside,.mce-visualblocks blockquote,.mce-visualblocks div:not([data-mce-bogus]),.mce-visualblocks dl,.mce-visualblocks figcaption,.mce-visualblocks figure,.mce-visualblocks h1,.mce-visualblocks h2,.mce-visualblocks h3,.mce-visualblocks h4,.mce-visualblocks h5,.mce-visualblocks h6,.mce-visualblocks hgroup,.mce-visualblocks ol,.mce-visualblocks p,.mce-visualblocks pre,.mce-visualblocks section,.mce-visualblocks ul{background-repeat:no-repeat;border:1px dashed #bbb;margin-left:3px;padding-top:10px}.mce-visualblocks p{background-image:url(data:image/gif;base64,R0lGODlhCQAJAJEAAAAAAP///7u7u////yH5BAEAAAMALAAAAAAJAAkAAAIQnG+CqCN/mlyvsRUpThG6AgA7)}.mce-visualblocks h1{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGu1JuxHoAfRNRW3TWXyF2YiRUAOw==)}.mce-visualblocks h2{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8Hybbx4oOuqgTynJd6bGlWg3DkJzoaUAAAOw==)}.mce-visualblocks h3{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIZjI8Hybbx4oOuqgTynJf2Ln2NOHpQpmhAAQA7)}.mce-visualblocks h4{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxInR0zqeAdhtJlXwV1oCll2HaWgAAOw==)}.mce-visualblocks h5{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjane4iq5GlW05GgIkIZUAAAOw==)}.mce-visualblocks h6{background-image:url(data:image/gif;base64,R0lGODlhDgAKAIABALu7u////yH5BAEAAAEALAAAAAAOAAoAAAIajI8HybbxIoiuwjan04jep1iZ1XRlAo5bVgAAOw==)}.mce-visualblocks div:not([data-mce-bogus]){background-image:url(data:image/gif;base64,R0lGODlhEgAKAIABALu7u////yH5BAEAAAEALAAAAAASAAoAAAIfjI9poI0cgDywrhuxfbrzDEbQM2Ei5aRjmoySW4pAAQA7)}.mce-visualblocks section{background-image:url(data:image/gif;base64,R0lGODlhKAAKAIABALu7u////yH5BAEAAAEALAAAAAAoAAoAAAI5jI+pywcNY3sBWHdNrplytD2ellDeSVbp+GmWqaDqDMepc8t17Y4vBsK5hDyJMcI6KkuYU+jpjLoKADs=)}.mce-visualblocks article{background-image:url(data:image/gif;base64,R0lGODlhKgAKAIABALu7u////yH5BAEAAAEALAAAAAAqAAoAAAI6jI+pywkNY3wG0GBvrsd2tXGYSGnfiF7ikpXemTpOiJScasYoDJJrjsG9gkCJ0ag6KhmaIe3pjDYBBQA7)}.mce-visualblocks blockquote{background-image:url(data:image/gif;base64,R0lGODlhPgAKAIABALu7u////yH5BAEAAAEALAAAAAA+AAoAAAJPjI+py+0Knpz0xQDyuUhvfoGgIX5iSKZYgq5uNL5q69asZ8s5rrf0yZmpNkJZzFesBTu8TOlDVAabUyatguVhWduud3EyiUk45xhTTgMBBQA7)}.mce-visualblocks address{background-image:url(data:image/gif;base64,R0lGODlhLQAKAIABALu7u////yH5BAEAAAEALAAAAAAtAAoAAAI/jI+pywwNozSP1gDyyZcjb3UaRpXkWaXmZW4OqKLhBmLs+K263DkJK7OJeifh7FicKD9A1/IpGdKkyFpNmCkAADs=)}.mce-visualblocks pre{background-image:url(data:image/gif;base64,R0lGODlhFQAKAIABALu7uwAAACH5BAEAAAEALAAAAAAVAAoAAAIjjI+ZoN0cgDwSmnpz1NCueYERhnibZVKLNnbOq8IvKpJtVQAAOw==)}.mce-visualblocks figure{background-image:url(data:image/gif;base64,R0lGODlhJAAKAIAAALu7u////yH5BAEAAAEALAAAAAAkAAoAAAI0jI+py+2fwAHUSFvD3RlvG4HIp4nX5JFSpnZUJ6LlrM52OE7uSWosBHScgkSZj7dDKnWAAgA7)}.mce-visualblocks figcaption{border:1px dashed #bbb}.mce-visualblocks hgroup{background-image:url(data:image/gif;base64,R0lGODlhJwAKAIABALu7uwAAACH5BAEAAAEALAAAAAAnAAoAAAI3jI+pywYNI3uB0gpsRtt5fFnfNZaVSYJil4Wo03Hv6Z62uOCgiXH1kZIIJ8NiIxRrAZNMZAtQAAA7)}.mce-visualblocks aside{background-image:url(data:image/gif;base64,R0lGODlhHgAKAIABAKqqqv///yH5BAEAAAEALAAAAAAeAAoAAAItjI+pG8APjZOTzgtqy7I3f1yehmQcFY4WKZbqByutmW4aHUd6vfcVbgudgpYCADs=)}.mce-visualblocks ul{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIAAALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybGuYnqUVSjvw26DzzXiqIDlVwAAOw==)}.mce-visualblocks ol{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybH6HHt0qourxC6CvzXieHyeWQAAOw==)}.mce-visualblocks dl{background-image:url(data:image/gif;base64,R0lGODlhDQAKAIABALu7u////yH5BAEAAAEALAAAAAANAAoAAAIXjI8GybEOnmOvUoWznTqeuEjNSCqeGRUAOw==)}.mce-visualblocks:not([dir=rtl]) address,.mce-visualblocks:not([dir=rtl]) article,.mce-visualblocks:not([dir=rtl]) aside,.mce-visualblocks:not([dir=rtl]) blockquote,.mce-visualblocks:not([dir=rtl]) div:not([data-mce-bogus]),.mce-visualblocks:not([dir=rtl]) dl,.mce-visualblocks:not([dir=rtl]) figcaption,.mce-visualblocks:not([dir=rtl]) figure,.mce-visualblocks:not([dir=rtl]) h1,.mce-visualblocks:not([dir=rtl]) h2,.mce-visualblocks:not([dir=rtl]) h3,.mce-visualblocks:not([dir=rtl]) h4,.mce-visualblocks:not([dir=rtl]) h5,.mce-visualblocks:not([dir=rtl]) h6,.mce-visualblocks:not([dir=rtl]) hgroup,.mce-visualblocks:not([dir=rtl]) ol,.mce-visualblocks:not([dir=rtl]) p,.mce-visualblocks:not([dir=rtl]) pre,.mce-visualblocks:not([dir=rtl]) section,.mce-visualblocks:not([dir=rtl]) ul{margin-left:3px}.mce-visualblocks[dir=rtl] address,.mce-visualblocks[dir=rtl] article,.mce-visualblocks[dir=rtl] aside,.mce-visualblocks[dir=rtl] blockquote,.mce-visualblocks[dir=rtl] div:not([data-mce-bogus]),.mce-visualblocks[dir=rtl] dl,.mce-visualblocks[dir=rtl] figcaption,.mce-visualblocks[dir=rtl] figure,.mce-visualblocks[dir=rtl] h1,.mce-visualblocks[dir=rtl] h2,.mce-visualblocks[dir=rtl] h3,.mce-visualblocks[dir=rtl] h4,.mce-visualblocks[dir=rtl] h5,.mce-visualblocks[dir=rtl] h6,.mce-visualblocks[dir=rtl] hgroup,.mce-visualblocks[dir=rtl] ol,.mce-visualblocks[dir=rtl] p,.mce-visualblocks[dir=rtl] pre,.mce-visualblocks[dir=rtl] section,.mce-visualblocks[dir=rtl] ul{background-position-x:right;margin-right:3px}.mce-nbsp,.mce-shy{background:#aaa}.mce-shy::after{content:'-'}body{font-family:sans-serif}table{border-collapse:collapse}\\n\"","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { uuid } from './Utils';\nvar createState = function () { return ({\n    listeners: [],\n    scriptId: uuid('tiny-script'),\n    scriptLoading: false,\n    scriptLoaded: false\n}); };\nvar CreateScriptLoader = function () {\n    var state = createState();\n    var injectScriptTag = function (scriptId, doc, url, async, defer, callback) {\n        var scriptTag = doc.createElement('script');\n        scriptTag.referrerPolicy = 'origin';\n        scriptTag.type = 'application/javascript';\n        scriptTag.id = scriptId;\n        scriptTag.src = url;\n        scriptTag.async = async;\n        scriptTag.defer = defer;\n        var handler = function () {\n            scriptTag.removeEventListener('load', handler);\n            callback();\n        };\n        scriptTag.addEventListener('load', handler);\n        if (doc.head) {\n            doc.head.appendChild(scriptTag);\n        }\n    };\n    var load = function (doc, url, async, defer, delay, callback) {\n        var scriptTagInjection = function () { return injectScriptTag(state.scriptId, doc, url, async, defer, function () {\n            state.listeners.forEach(function (fn) { return fn(); });\n            state.scriptLoaded = true;\n        }); };\n        if (state.scriptLoaded) {\n            callback();\n        }\n        else {\n            state.listeners.push(callback);\n            if (!state.scriptLoading) {\n                state.scriptLoading = true;\n                if (delay > 0) {\n                    setTimeout(scriptTagInjection, delay);\n                }\n                else {\n                    scriptTagInjection();\n                }\n            }\n        }\n    };\n    // Only to be used by tests.\n    var reinitialize = function () {\n        state = createState();\n    };\n    return {\n        load: load,\n        reinitialize: reinitialize\n    };\n};\nvar ScriptLoader = CreateScriptLoader();\nexport { ScriptLoader };\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { ScriptLoader } from '../ScriptLoader';\nimport { getTinymce } from '../TinyMCE';\nimport { isFunction, isTextareaOrInput, mergePlugins, uuid, configHandlers, isBeforeInputEventAvailable, isInDoc, setMode } from '../Utils';\nimport { EditorPropTypes } from './EditorPropTypes';\nvar changeEvents = function () { var _a, _b, _c; return ((_c = (_b = (_a = getTinymce()) === null || _a === void 0 ? void 0 : _a.Env) === null || _b === void 0 ? void 0 : _b.browser) === null || _c === void 0 ? void 0 : _c.isIE()) ? 'change keyup compositionend setcontent' : 'change input compositionend setcontent'; };\nvar beforeInputEvent = function () { return isBeforeInputEventAvailable() ? 'beforeinput SelectionChange' : 'SelectionChange'; };\nvar Editor = /** @class */ (function (_super) {\n    __extends(Editor, _super);\n    function Editor(props) {\n        var _this = this;\n        var _a, _b, _c;\n        _this = _super.call(this, props) || this;\n        _this.rollbackTimer = undefined;\n        _this.valueCursor = undefined;\n        _this.rollbackChange = function () {\n            var editor = _this.editor;\n            var value = _this.props.value;\n            if (editor && value && value !== _this.currentContent) {\n                editor.undoManager.ignore(function () {\n                    editor.setContent(value);\n                    // only restore cursor on inline editors when they are focused\n                    // as otherwise it will cause a focus grab\n                    if (_this.valueCursor && (!_this.inline || editor.hasFocus())) {\n                        try {\n                            editor.selection.moveToBookmark(_this.valueCursor);\n                        }\n                        catch (e) { /* ignore */ }\n                    }\n                });\n            }\n            _this.rollbackTimer = undefined;\n        };\n        _this.handleBeforeInput = function (_evt) {\n            if (_this.props.value !== undefined && _this.props.value === _this.currentContent && _this.editor) {\n                if (!_this.inline || _this.editor.hasFocus) {\n                    try {\n                        // getBookmark throws exceptions when the editor has not been focused\n                        // possibly only in inline mode but I'm not taking chances\n                        _this.valueCursor = _this.editor.selection.getBookmark(3);\n                    }\n                    catch (e) { /* ignore */ }\n                }\n            }\n        };\n        _this.handleBeforeInputSpecial = function (evt) {\n            if (evt.key === 'Enter' || evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleBeforeInput(evt);\n            }\n        };\n        _this.handleEditorChange = function (_evt) {\n            var editor = _this.editor;\n            if (editor && editor.initialized) {\n                var newContent = editor.getContent();\n                if (_this.props.value !== undefined && _this.props.value !== newContent && _this.props.rollback !== false) {\n                    // start a timer and revert to the value if not applied in time\n                    if (!_this.rollbackTimer) {\n                        _this.rollbackTimer = window.setTimeout(_this.rollbackChange, typeof _this.props.rollback === 'number' ? _this.props.rollback : 200);\n                    }\n                }\n                if (newContent !== _this.currentContent) {\n                    _this.currentContent = newContent;\n                    if (isFunction(_this.props.onEditorChange)) {\n                        _this.props.onEditorChange(newContent, editor);\n                    }\n                }\n            }\n        };\n        _this.handleEditorChangeSpecial = function (evt) {\n            if (evt.key === 'Backspace' || evt.key === 'Delete') {\n                _this.handleEditorChange(evt);\n            }\n        };\n        _this.initialise = function (attempts) {\n            var _a, _b, _c;\n            if (attempts === void 0) { attempts = 0; }\n            var target = _this.elementRef.current;\n            if (!target) {\n                return; // Editor has been unmounted\n            }\n            if (!isInDoc(target)) {\n                // this is probably someone trying to help by rendering us offscreen\n                // but we can't do that because the editor iframe must be in the document\n                // in order to have state\n                if (attempts === 0) {\n                    // we probably just need to wait for the current events to be processed\n                    setTimeout(function () { return _this.initialise(1); }, 1);\n                }\n                else if (attempts < 100) {\n                    // wait for ten seconds, polling every tenth of a second\n                    setTimeout(function () { return _this.initialise(attempts + 1); }, 100);\n                }\n                else {\n                    // give up, at this point it seems that more polling is unlikely to help\n                    throw new Error('tinymce can only be initialised when in a document');\n                }\n                return;\n            }\n            var tinymce = getTinymce();\n            if (!tinymce) {\n                throw new Error('tinymce should have been loaded into global scope');\n            }\n            var finalInit = __assign(__assign({}, _this.props.init), { selector: undefined, target: target, readonly: _this.props.disabled, inline: _this.inline, plugins: mergePlugins((_a = _this.props.init) === null || _a === void 0 ? void 0 : _a.plugins, _this.props.plugins), toolbar: (_b = _this.props.toolbar) !== null && _b !== void 0 ? _b : (_c = _this.props.init) === null || _c === void 0 ? void 0 : _c.toolbar, setup: function (editor) {\n                    _this.editor = editor;\n                    _this.bindHandlers({});\n                    // When running in inline mode the editor gets the initial value\n                    // from the innerHTML of the element it is initialized on.\n                    // However we don't want to take on the responsibility of sanitizing\n                    // to remove XSS in the react integration so we have a chicken and egg\n                    // problem... We avoid it by sneaking in a set content before the first\n                    // \"official\" setContent and using TinyMCE to do the sanitization.\n                    if (_this.inline && !isTextareaOrInput(target)) {\n                        editor.once('PostRender', function (_evt) {\n                            editor.setContent(_this.getInitialValue(), { no_events: true });\n                        });\n                    }\n                    if (_this.props.init && isFunction(_this.props.init.setup)) {\n                        _this.props.init.setup(editor);\n                    }\n                }, init_instance_callback: function (editor) {\n                    var _a, _b;\n                    // check for changes that happened since tinymce.init() was called\n                    var initialValue = _this.getInitialValue();\n                    _this.currentContent = (_a = _this.currentContent) !== null && _a !== void 0 ? _a : editor.getContent();\n                    if (_this.currentContent !== initialValue) {\n                        _this.currentContent = initialValue;\n                        // same as resetContent in TinyMCE 5\n                        editor.setContent(initialValue);\n                        editor.undoManager.clear();\n                        editor.undoManager.add();\n                        editor.setDirty(false);\n                    }\n                    var disabled = (_b = _this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(_this.editor, disabled ? 'readonly' : 'design');\n                    // ensure existing init_instance_callback is called\n                    if (_this.props.init && isFunction(_this.props.init.init_instance_callback)) {\n                        _this.props.init.init_instance_callback(editor);\n                    }\n                } });\n            if (!_this.inline) {\n                target.style.visibility = '';\n            }\n            if (isTextareaOrInput(target)) {\n                target.value = _this.getInitialValue();\n            }\n            tinymce.init(finalInit);\n        };\n        _this.id = _this.props.id || uuid('tiny-react');\n        _this.elementRef = React.createRef();\n        _this.inline = (_c = (_a = _this.props.inline) !== null && _a !== void 0 ? _a : (_b = _this.props.init) === null || _b === void 0 ? void 0 : _b.inline) !== null && _c !== void 0 ? _c : false;\n        _this.boundHandlers = {};\n        return _this;\n    }\n    Editor.prototype.componentDidUpdate = function (prevProps) {\n        var _this = this;\n        var _a, _b;\n        if (this.rollbackTimer) {\n            clearTimeout(this.rollbackTimer);\n            this.rollbackTimer = undefined;\n        }\n        if (this.editor) {\n            this.bindHandlers(prevProps);\n            if (this.editor.initialized) {\n                this.currentContent = (_a = this.currentContent) !== null && _a !== void 0 ? _a : this.editor.getContent();\n                if (typeof this.props.initialValue === 'string' && this.props.initialValue !== prevProps.initialValue) {\n                    // same as resetContent in TinyMCE 5\n                    this.editor.setContent(this.props.initialValue);\n                    this.editor.undoManager.clear();\n                    this.editor.undoManager.add();\n                    this.editor.setDirty(false);\n                }\n                else if (typeof this.props.value === 'string' && this.props.value !== this.currentContent) {\n                    var localEditor_1 = this.editor;\n                    localEditor_1.undoManager.transact(function () {\n                        // inline editors grab focus when restoring selection\n                        // so we don't try to keep their selection unless they are currently focused\n                        var cursor;\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            try {\n                                // getBookmark throws exceptions when the editor has not been focused\n                                // possibly only in inline mode but I'm not taking chances\n                                cursor = localEditor_1.selection.getBookmark(3);\n                            }\n                            catch (e) { /* ignore */ }\n                        }\n                        var valueCursor = _this.valueCursor;\n                        localEditor_1.setContent(_this.props.value);\n                        if (!_this.inline || localEditor_1.hasFocus()) {\n                            for (var _i = 0, _a = [cursor, valueCursor]; _i < _a.length; _i++) {\n                                var bookmark = _a[_i];\n                                if (bookmark) {\n                                    try {\n                                        localEditor_1.selection.moveToBookmark(bookmark);\n                                        _this.valueCursor = bookmark;\n                                        break;\n                                    }\n                                    catch (e) { /* ignore */ }\n                                }\n                            }\n                        }\n                    });\n                }\n                if (this.props.disabled !== prevProps.disabled) {\n                    var disabled = (_b = this.props.disabled) !== null && _b !== void 0 ? _b : false;\n                    setMode(this.editor, disabled ? 'readonly' : 'design');\n                }\n            }\n        }\n    };\n    Editor.prototype.componentDidMount = function () {\n        var _a, _b, _c, _d, _e, _f;\n        if (getTinymce() !== null) {\n            this.initialise();\n        }\n        else if (this.elementRef.current && this.elementRef.current.ownerDocument) {\n            ScriptLoader.load(this.elementRef.current.ownerDocument, this.getScriptSrc(), (_b = (_a = this.props.scriptLoading) === null || _a === void 0 ? void 0 : _a.async) !== null && _b !== void 0 ? _b : false, (_d = (_c = this.props.scriptLoading) === null || _c === void 0 ? void 0 : _c.defer) !== null && _d !== void 0 ? _d : false, (_f = (_e = this.props.scriptLoading) === null || _e === void 0 ? void 0 : _e.delay) !== null && _f !== void 0 ? _f : 0, this.initialise);\n        }\n    };\n    Editor.prototype.componentWillUnmount = function () {\n        var _this = this;\n        var editor = this.editor;\n        if (editor) {\n            editor.off(changeEvents(), this.handleEditorChange);\n            editor.off(beforeInputEvent(), this.handleBeforeInput);\n            editor.off('keypress', this.handleEditorChangeSpecial);\n            editor.off('keydown', this.handleBeforeInputSpecial);\n            editor.off('NewBlock', this.handleEditorChange);\n            Object.keys(this.boundHandlers).forEach(function (eventName) {\n                editor.off(eventName, _this.boundHandlers[eventName]);\n            });\n            this.boundHandlers = {};\n            editor.remove();\n            this.editor = undefined;\n        }\n    };\n    Editor.prototype.render = function () {\n        return this.inline ? this.renderInline() : this.renderIframe();\n    };\n    Editor.prototype.renderInline = function () {\n        var _a = this.props.tagName, tagName = _a === void 0 ? 'div' : _a;\n        return React.createElement(tagName, {\n            ref: this.elementRef,\n            id: this.id\n        });\n    };\n    Editor.prototype.renderIframe = function () {\n        return React.createElement('textarea', {\n            ref: this.elementRef,\n            style: { visibility: 'hidden' },\n            name: this.props.textareaName,\n            id: this.id\n        });\n    };\n    Editor.prototype.getScriptSrc = function () {\n        if (typeof this.props.tinymceScriptSrc === 'string') {\n            return this.props.tinymceScriptSrc;\n        }\n        else {\n            var channel = this.props.cloudChannel;\n            var apiKey = this.props.apiKey ? this.props.apiKey : 'no-api-key';\n            return \"https://cdn.tiny.cloud/1/\".concat(apiKey, \"/tinymce/\").concat(channel, \"/tinymce.min.js\");\n        }\n    };\n    Editor.prototype.getInitialValue = function () {\n        if (typeof this.props.initialValue === 'string') {\n            return this.props.initialValue;\n        }\n        else if (typeof this.props.value === 'string') {\n            return this.props.value;\n        }\n        else {\n            return '';\n        }\n    };\n    Editor.prototype.bindHandlers = function (prevProps) {\n        var _this = this;\n        if (this.editor !== undefined) {\n            // typescript chokes trying to understand the type of the lookup function\n            configHandlers(this.editor, prevProps, this.props, this.boundHandlers, function (key) { return _this.props[key]; });\n            // check if we should monitor editor changes\n            var isValueControlled = function (p) { return p.onEditorChange !== undefined || p.value !== undefined; };\n            var wasControlled = isValueControlled(prevProps);\n            var nowControlled = isValueControlled(this.props);\n            if (!wasControlled && nowControlled) {\n                this.editor.on(changeEvents(), this.handleEditorChange);\n                this.editor.on(beforeInputEvent(), this.handleBeforeInput);\n                this.editor.on('keydown', this.handleBeforeInputSpecial);\n                this.editor.on('keyup', this.handleEditorChangeSpecial);\n                this.editor.on('NewBlock', this.handleEditorChange);\n            }\n            else if (wasControlled && !nowControlled) {\n                this.editor.off(changeEvents(), this.handleEditorChange);\n                this.editor.off(beforeInputEvent(), this.handleBeforeInput);\n                this.editor.off('keydown', this.handleBeforeInputSpecial);\n                this.editor.off('keyup', this.handleEditorChangeSpecial);\n                this.editor.off('NewBlock', this.handleEditorChange);\n            }\n        }\n    };\n    Editor.propTypes = EditorPropTypes;\n    Editor.defaultProps = {\n        cloudChannel: '6'\n    };\n    return Editor;\n}(React.Component));\nexport { Editor };\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as PropTypes from 'prop-types';\nexport var eventPropTypes = {\n    onActivate: PropTypes.func,\n    onAddUndo: PropTypes.func,\n    onBeforeAddUndo: PropTypes.func,\n    onBeforeExecCommand: PropTypes.func,\n    onBeforeGetContent: PropTypes.func,\n    onBeforeRenderUI: PropTypes.func,\n    onBeforeSetContent: PropTypes.func,\n    onBeforePaste: PropTypes.func,\n    onBlur: PropTypes.func,\n    onChange: PropTypes.func,\n    onClearUndos: PropTypes.func,\n    onClick: PropTypes.func,\n    onContextMenu: PropTypes.func,\n    onCopy: PropTypes.func,\n    onCut: PropTypes.func,\n    onDblclick: PropTypes.func,\n    onDeactivate: PropTypes.func,\n    onDirty: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragDrop: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onDragGesture: PropTypes.func,\n    onDragOver: PropTypes.func,\n    onDrop: PropTypes.func,\n    onExecCommand: PropTypes.func,\n    onFocus: PropTypes.func,\n    onFocusIn: PropTypes.func,\n    onFocusOut: PropTypes.func,\n    onGetContent: PropTypes.func,\n    onHide: PropTypes.func,\n    onInit: PropTypes.func,\n    onKeyDown: PropTypes.func,\n    onKeyPress: PropTypes.func,\n    onKeyUp: PropTypes.func,\n    onLoadContent: PropTypes.func,\n    onMouseDown: PropTypes.func,\n    onMouseEnter: PropTypes.func,\n    onMouseLeave: PropTypes.func,\n    onMouseMove: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseUp: PropTypes.func,\n    onNodeChange: PropTypes.func,\n    onObjectResizeStart: PropTypes.func,\n    onObjectResized: PropTypes.func,\n    onObjectSelected: PropTypes.func,\n    onPaste: PropTypes.func,\n    onPostProcess: PropTypes.func,\n    onPostRender: PropTypes.func,\n    onPreProcess: PropTypes.func,\n    onProgressState: PropTypes.func,\n    onRedo: PropTypes.func,\n    onRemove: PropTypes.func,\n    onReset: PropTypes.func,\n    onSaveContent: PropTypes.func,\n    onSelectionChange: PropTypes.func,\n    onSetAttrib: PropTypes.func,\n    onSetContent: PropTypes.func,\n    onShow: PropTypes.func,\n    onSubmit: PropTypes.func,\n    onUndo: PropTypes.func,\n    onVisualAid: PropTypes.func,\n    onSkinLoadError: PropTypes.func,\n    onThemeLoadError: PropTypes.func,\n    onModelLoadError: PropTypes.func,\n    onPluginLoadError: PropTypes.func,\n    onIconsLoadError: PropTypes.func,\n    onLanguageLoadError: PropTypes.func,\n};\nexport var EditorPropTypes = __assign({ apiKey: PropTypes.string, id: PropTypes.string, inline: PropTypes.bool, init: PropTypes.object, initialValue: PropTypes.string, onEditorChange: PropTypes.func, value: PropTypes.string, tagName: PropTypes.string, cloudChannel: PropTypes.string, plugins: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), toolbar: PropTypes.oneOfType([PropTypes.string, PropTypes.array]), disabled: PropTypes.bool, textareaName: PropTypes.string, tinymceScriptSrc: PropTypes.string, rollback: PropTypes.oneOfType([PropTypes.number, PropTypes.oneOf([false])]), scriptLoading: PropTypes.shape({\n        async: PropTypes.bool,\n        defer: PropTypes.bool,\n        delay: PropTypes.number\n    }) }, eventPropTypes);\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { eventPropTypes } from './components/EditorPropTypes';\nexport var isFunction = function (x) { return typeof x === 'function'; };\nvar isEventProp = function (name) { return name in eventPropTypes; };\nvar eventAttrToEventName = function (attrName) { return attrName.substr(2); };\nexport var configHandlers2 = function (handlerLookup, on, off, adapter, prevProps, props, boundHandlers) {\n    var prevEventKeys = Object.keys(prevProps).filter(isEventProp);\n    var currEventKeys = Object.keys(props).filter(isEventProp);\n    var removedKeys = prevEventKeys.filter(function (key) { return props[key] === undefined; });\n    var addedKeys = currEventKeys.filter(function (key) { return prevProps[key] === undefined; });\n    removedKeys.forEach(function (key) {\n        // remove event handler\n        var eventName = eventAttrToEventName(key);\n        var wrappedHandler = boundHandlers[eventName];\n        off(eventName, wrappedHandler);\n        delete boundHandlers[eventName];\n    });\n    addedKeys.forEach(function (key) {\n        var wrappedHandler = adapter(handlerLookup, key);\n        var eventName = eventAttrToEventName(key);\n        boundHandlers[eventName] = wrappedHandler;\n        on(eventName, wrappedHandler);\n    });\n};\nexport var configHandlers = function (editor, prevProps, props, boundHandlers, lookup) {\n    return configHandlers2(lookup, editor.on.bind(editor), editor.off.bind(editor), \n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n    function (handlerLookup, key) { return function (e) { var _a; return (_a = handlerLookup(key)) === null || _a === void 0 ? void 0 : _a(e, editor); }; }, prevProps, props, boundHandlers);\n};\nvar unique = 0;\nexport var uuid = function (prefix) {\n    var time = Date.now();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n};\nexport var isTextareaOrInput = function (element) {\n    return element !== null && (element.tagName.toLowerCase() === 'textarea' || element.tagName.toLowerCase() === 'input');\n};\nvar normalizePluginArray = function (plugins) {\n    if (typeof plugins === 'undefined' || plugins === '') {\n        return [];\n    }\n    return Array.isArray(plugins) ? plugins : plugins.split(' ');\n};\n// eslint-disable-next-line max-len\nexport var mergePlugins = function (initPlugins, inputPlugins) { return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins)); };\nexport var isBeforeInputEventAvailable = function () { return window.InputEvent && typeof InputEvent.prototype.getTargetRanges === 'function'; };\nexport var isInDoc = function (elem) {\n    if (!('isConnected' in Node.prototype)) {\n        // Fallback for IE and old Edge\n        var current = elem;\n        var parent_1 = elem.parentNode;\n        while (parent_1 != null) {\n            current = parent_1;\n            parent_1 = current.parentNode;\n        }\n        return current === elem.ownerDocument;\n    }\n    return elem.isConnected;\n};\nexport var setMode = function (editor, mode) {\n    if (editor !== undefined) {\n        if (editor.mode != null && typeof editor.mode === 'object' && typeof editor.mode.set === 'function') {\n            editor.mode.set(mode);\n        }\n        else { // support TinyMCE 4\n            editor.setMode(mode);\n        }\n    }\n};\n","/**\n * Copyright (c) 2017-present, Ephox, Inc.\n *\n * This source code is licensed under the Apache 2 license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport { Editor } from './components/Editor';\nexport { Editor };\n"],"sourceRoot":""}